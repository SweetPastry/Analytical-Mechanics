'use strict';

var vscode = require('vscode');
var path = require('path');
var Qc = require('fs');
var net = require('net');
var os = require('os');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var Qc__default = /*#__PURE__*/_interopDefault(Qc);

var HE=Object.create;var Cv=Object.defineProperty;var KE=Object.getOwnPropertyDescriptor;var WE=Object.getOwnPropertyNames;var VE=Object.getPrototypeOf,BE=Object.prototype.hasOwnProperty;var Y=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var zE=(n,e)=>()=>(n&&(e=n(n=0)),e);var E=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var td=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of WE(e))!BE.call(n,i)&&i!==t&&Cv(n,i,{get:()=>e[i],enumerable:!(r=KE(e,i))||r.enumerable});return n},nd=(n,e,t)=>(td(n,e,"default"),t),oo=(n,e,t)=>(t=n!=null?HE(VE(n)):{},td(e||!n||!n.__esModule?Cv(t,"default",{value:n,enumerable:!0}):t,n));var d=zE(()=>{Y("url").pathToFileURL(__filename);});var Ie=E(Lt=>{d();var kd=Symbol.for("yaml.alias"),dw=Symbol.for("yaml.document"),ic=Symbol.for("yaml.map"),fw=Symbol.for("yaml.pair"),qd=Symbol.for("yaml.scalar"),sc=Symbol.for("yaml.seq"),kr=Symbol.for("yaml.node.type"),Vk=n=>!!n&&typeof n=="object"&&n[kr]===kd,Bk=n=>!!n&&typeof n=="object"&&n[kr]===dw,zk=n=>!!n&&typeof n=="object"&&n[kr]===ic,Gk=n=>!!n&&typeof n=="object"&&n[kr]===fw,hw=n=>!!n&&typeof n=="object"&&n[kr]===qd,Yk=n=>!!n&&typeof n=="object"&&n[kr]===sc;function pw(n){if(n&&typeof n=="object")switch(n[kr]){case ic:case sc:return !0}return !1}function Jk(n){if(n&&typeof n=="object")switch(n[kr]){case kd:case ic:case qd:case sc:return !0}return !1}var Xk=n=>(hw(n)||pw(n))&&!!n.anchor;Lt.ALIAS=kd;Lt.DOC=dw;Lt.MAP=ic;Lt.NODE_TYPE=kr;Lt.PAIR=fw;Lt.SCALAR=qd;Lt.SEQ=sc;Lt.hasAnchor=Xk;Lt.isAlias=Vk;Lt.isCollection=pw;Lt.isDocument=Bk;Lt.isMap=zk;Lt.isNode=Jk;Lt.isPair=Gk;Lt.isScalar=hw;Lt.isSeq=Yk;});var ho=E(Id=>{d();var _t=Ie(),rn=Symbol("break visit"),gw=Symbol("skip children"),pr=Symbol("remove node");function oc(n,e){let t=mw(e);_t.isDocument(n)?cs(null,n.contents,t,Object.freeze([n]))===pr&&(n.contents=null):cs(null,n,t,Object.freeze([]));}oc.BREAK=rn;oc.SKIP=gw;oc.REMOVE=pr;function cs(n,e,t,r){let i=yw(n,e,t,r);if(_t.isNode(i)||_t.isPair(i))return vw(n,r,i),cs(n,i,t,r);if(typeof i!="symbol"){if(_t.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=cs(s,e.items[s],t,r);if(typeof o=="number")s=o-1;else {if(o===rn)return rn;o===pr&&(e.items.splice(s,1),s-=1);}}}else if(_t.isPair(e)){r=Object.freeze(r.concat(e));let s=cs("key",e.key,t,r);if(s===rn)return rn;s===pr&&(e.key=null);let o=cs("value",e.value,t,r);if(o===rn)return rn;o===pr&&(e.value=null);}}return i}async function ac(n,e){let t=mw(e);_t.isDocument(n)?await us(null,n.contents,t,Object.freeze([n]))===pr&&(n.contents=null):await us(null,n,t,Object.freeze([]));}ac.BREAK=rn;ac.SKIP=gw;ac.REMOVE=pr;async function us(n,e,t,r){let i=await yw(n,e,t,r);if(_t.isNode(i)||_t.isPair(i))return vw(n,r,i),us(n,i,t,r);if(typeof i!="symbol"){if(_t.isCollection(e)){r=Object.freeze(r.concat(e));for(let s=0;s<e.items.length;++s){let o=await us(s,e.items[s],t,r);if(typeof o=="number")s=o-1;else {if(o===rn)return rn;o===pr&&(e.items.splice(s,1),s-=1);}}}else if(_t.isPair(e)){r=Object.freeze(r.concat(e));let s=await us("key",e.key,t,r);if(s===rn)return rn;s===pr&&(e.key=null);let o=await us("value",e.value,t,r);if(o===rn)return rn;o===pr&&(e.value=null);}}return i}function mw(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function yw(n,e,t,r){if(typeof t=="function")return t(n,e,r);if(_t.isMap(e))return t.Map?.(n,e,r);if(_t.isSeq(e))return t.Seq?.(n,e,r);if(_t.isPair(e))return t.Pair?.(n,e,r);if(_t.isScalar(e))return t.Scalar?.(n,e,r);if(_t.isAlias(e))return t.Alias?.(n,e,r)}function vw(n,e,t){let r=e[e.length-1];if(_t.isCollection(r))r.items[n]=t;else if(_t.isPair(r))n==="key"?r.key=t:r.value=t;else if(_t.isDocument(r))r.contents=t;else {let i=_t.isAlias(r)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}Id.visit=oc;Id.visitAsync=ac;});var Od=E(bw=>{d();var ww=Ie(),Qk=ho(),Zk={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},eq=n=>n.replace(/[!,[\]{}]/g,e=>Zk[e]),po=class n{constructor(e,t){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},n.defaultYaml,e),this.tags=Object.assign({},n.defaultTags,t);}clone(){let e=new n(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){let e=new n(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:n.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},n.defaultTags);break}return e}add(e,t){this.atNextDocument&&(this.yaml={explicit:n.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},n.defaultTags),this.atNextDocument=!1);let r=e.trim().split(/[ \t]+/),i=r.shift();switch(i){case"%TAG":{if(r.length!==2&&(t(0,"%TAG directive should contain exactly two parts"),r.length<2))return !1;let[s,o]=r;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,r.length!==1)return t(0,"%YAML directive should contain exactly one part"),!1;let[s]=r;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return t(6,`Unsupported YAML version ${s}`,o),!1}}default:return t(0,`Unknown directive ${i}`,!0),!1}}tagName(e,t){if(e==="!")return "!";if(e[0]!=="!")return t(`Not a valid tag: ${e}`),null;if(e[1]==="<"){let o=e.slice(2,-1);return o==="!"||o==="!!"?(t(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&t("Verbatim tags must end with a >"),o)}let[,r,i]=e.match(/^(.*!)([^!]*)$/s);i||t(`The ${e} tag has no suffix`);let s=this.tags[r];if(s)try{return s+decodeURIComponent(i)}catch(o){return t(String(o)),null}return r==="!"?e:(t(`Could not resolve tag: ${e}`),null)}tagString(e){for(let[t,r]of Object.entries(this.tags))if(e.startsWith(r))return t+eq(e.substring(r.length));return e[0]==="!"?e:`!<${e}>`}toString(e){let t=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],r=Object.entries(this.tags),i;if(e&&r.length>0&&ww.isNode(e.contents)){let s={};Qk.visit(e.contents,(o,a)=>{ww.isNode(a)&&a.tag&&(s[a.tag]=!0);}),i=Object.keys(s);}else i=[];for(let[s,o]of r)s==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(a=>a.startsWith(o)))&&t.push(`%TAG ${s} ${o}`);return t.join(`
`)}};po.defaultYaml={explicit:!1,version:"1.2"};po.defaultTags={"!!":"tag:yaml.org,2002:"};bw.Directives=po;});var cc=E(go=>{d();var Sw=Ie(),tq=ho();function nq(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){let t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return !0}function Cw(n){let e=new Set;return tq.visit(n,{Value(t,r){r.anchor&&e.add(r.anchor);}}),e}function _w(n,e){for(let t=1;;++t){let r=`${n}${t}`;if(!e.has(r))return r}}function rq(n,e){let t=[],r=new Map,i=null;return {onAnchor:s=>{t.push(s),i||(i=Cw(n));let o=_w(e,i);return i.add(o),o},setAnchors:()=>{for(let s of t){let o=r.get(s);if(typeof o=="object"&&o.anchor&&(Sw.isScalar(o.node)||Sw.isCollection(o.node)))o.node.anchor=o.anchor;else {let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:r}}go.anchorIsValid=nq;go.anchorNames=Cw;go.createNodeAnchors=rq;go.findNewAnchor=_w;});var Nd=E(Dw=>{d();function mo(n,e,t,r){if(r&&typeof r=="object")if(Array.isArray(r))for(let i=0,s=r.length;i<s;++i){let o=r[i],a=mo(n,r,String(i),o);a===void 0?delete r[i]:a!==o&&(r[i]=a);}else if(r instanceof Map)for(let i of Array.from(r.keys())){let s=r.get(i),o=mo(n,r,i,s);o===void 0?r.delete(i):o!==s&&r.set(i,o);}else if(r instanceof Set)for(let i of Array.from(r)){let s=mo(n,r,i,i);s===void 0?r.delete(i):s!==i&&(r.delete(i),r.add(s));}else for(let[i,s]of Object.entries(r)){let o=mo(n,r,i,s);o===void 0?delete r[i]:o!==s&&(r[i]=o);}return n.call(e,t,r)}Dw.applyReviver=mo;});var ei=E(Rw=>{d();var iq=Ie();function Tw(n,e,t){if(Array.isArray(n))return n.map((r,i)=>Tw(r,String(i),t));if(n&&typeof n.toJSON=="function"){if(!t||!iq.hasAnchor(n))return n.toJSON(e,t);let r={aliasCount:0,count:1,res:void 0};t.anchors.set(n,r),t.onCreate=s=>{r.res=s,delete t.onCreate;};let i=n.toJSON(e,t);return t.onCreate&&t.onCreate(i),i}return typeof n=="bigint"&&!t?.keep?Number(n):n}Rw.toJS=Tw;});var uc=E(Ew=>{d();var sq=Nd(),Pw=Ie(),oq=ei(),xd=class{constructor(e){Object.defineProperty(this,Pw.NODE_TYPE,{value:e});}clone(){let e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:r,onAnchor:i,reviver:s}={}){if(!Pw.isDocument(e))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof r=="number"?r:100},a=oq.toJS(this,"",o);if(typeof i=="function")for(let{count:c,res:u}of o.anchors.values())i(u,c);return typeof s=="function"?sq.applyReviver(s,{"":a},"",a):a}};Ew.NodeBase=xd;});var yo=E(qw=>{d();var aq=cc(),kw=ho(),lc=Ie(),cq=uc(),uq=ei(),Ad=class extends cq.NodeBase{constructor(e){super(lc.ALIAS),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}});}resolve(e){let t;return kw.visit(e,{Node:(r,i)=>{if(i===this)return kw.visit.BREAK;i.anchor===this.source&&(t=i);}}),t}toJSON(e,t){if(!t)return {source:this.source};let{anchors:r,doc:i,maxAliasCount:s}=t,o=this.resolve(i);if(!o){let c=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(c)}let a=r.get(o);if(a||(uq.toJS(o,null,t),a=r.get(o)),!a||a.res===void 0){let c="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(c)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=dc(i,o,r)),a.count*a.aliasCount>s)){let c="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(c)}return a.res}toString(e,t,r){let i=`*${this.source}`;if(e){if(aq.anchorIsValid(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){let s=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(s)}if(e.implicitKey)return `${i} `}return i}};function dc(n,e,t){if(lc.isAlias(e)){let r=e.resolve(n),i=t&&r&&t.get(r);return i?i.count*i.aliasCount:0}else if(lc.isCollection(e)){let r=0;for(let i of e.items){let s=dc(n,i,t);s>r&&(r=s);}return r}else if(lc.isPair(e)){let r=dc(n,e.key,t),i=dc(n,e.value,t);return Math.max(r,i)}return 1}qw.Alias=Ad;});var vt=E(Ld=>{d();var lq=Ie(),dq=uc(),fq=ei(),hq=n=>!n||typeof n!="function"&&typeof n!="object",ti=class extends dq.NodeBase{constructor(e){super(lq.SCALAR),this.value=e;}toJSON(e,t){return t?.keep?this.value:fq.toJS(this.value,e,t)}toString(){return String(this.value)}};ti.BLOCK_FOLDED="BLOCK_FOLDED";ti.BLOCK_LITERAL="BLOCK_LITERAL";ti.PLAIN="PLAIN";ti.QUOTE_DOUBLE="QUOTE_DOUBLE";ti.QUOTE_SINGLE="QUOTE_SINGLE";Ld.Scalar=ti;Ld.isScalarValue=hq;});var vo=E(Ow=>{d();var pq=yo(),Ai=Ie(),Iw=vt(),gq="tag:yaml.org,2002:";function mq(n,e,t){if(e){let r=t.filter(s=>s.tag===e),i=r.find(s=>!s.format)??r[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return t.find(r=>r.identify?.(n)&&!r.format)}function yq(n,e,t){if(Ai.isDocument(n)&&(n=n.contents),Ai.isNode(n))return n;if(Ai.isPair(n)){let h=t.schema[Ai.MAP].createNode?.(t.schema,null,t);return h.items.push(n),h}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());let{aliasDuplicateObjects:r,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=t,c;if(r&&n&&typeof n=="object"){if(c=a.get(n),c)return c.anchor||(c.anchor=i(n)),new pq.Alias(c.anchor);c={anchor:null,node:null},a.set(n,c);}e?.startsWith("!!")&&(e=gq+e.slice(2));let u=mq(n,e,o.tags);if(!u){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){let h=new Iw.Scalar(n);return c&&(c.node=h),h}u=n instanceof Map?o[Ai.MAP]:Symbol.iterator in Object(n)?o[Ai.SEQ]:o[Ai.MAP];}s&&(s(u),delete t.onTagObj);let f=u?.createNode?u.createNode(t.schema,n,t):typeof u?.nodeClass?.from=="function"?u.nodeClass.from(t.schema,n,t):new Iw.Scalar(n);return e?f.tag=e:u.default||(f.tag=u.tag),c&&(c.node=f),f}Ow.createNode=yq;});var hc=E(fc=>{d();var vq=vo(),gr=Ie(),wq=uc();function Fd(n,e,t){let r=t;for(let i=e.length-1;i>=0;--i){let s=e[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=r,r=o;}else r=new Map([[s,r]]);}return vq.createNode(r,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}var Nw=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done,Md=class extends wq.NodeBase{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0});}clone(e){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(r=>gr.isNode(r)||gr.isPair(r)?r.clone(e):r),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Nw(e))this.add(t);else {let[r,...i]=e,s=this.get(r,!0);if(gr.isCollection(s))s.addIn(i,t);else if(s===void 0&&this.schema)this.set(r,Fd(this.schema,i,t));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}deleteIn(e){let[t,...r]=e;if(r.length===0)return this.delete(t);let i=this.get(t,!0);if(gr.isCollection(i))return i.deleteIn(r);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${r}`)}getIn(e,t){let[r,...i]=e,s=this.get(r,!0);return i.length===0?!t&&gr.isScalar(s)?s.value:s:gr.isCollection(s)?s.getIn(i,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!gr.isPair(t))return !1;let r=t.value;return r==null||e&&gr.isScalar(r)&&r.value==null&&!r.commentBefore&&!r.comment&&!r.tag})}hasIn(e){let[t,...r]=e;if(r.length===0)return this.has(t);let i=this.get(t,!0);return gr.isCollection(i)?i.hasIn(r):!1}setIn(e,t){let[r,...i]=e;if(i.length===0)this.set(r,t);else {let s=this.get(r,!0);if(gr.isCollection(s))s.setIn(i,t);else if(s===void 0&&this.schema)this.set(r,Fd(this.schema,i,t));else throw new Error(`Expected YAML collection at ${r}. Remaining path: ${i}`)}}};fc.Collection=Md;fc.collectionFromPath=Fd;fc.isEmptyPath=Nw;});var wo=E(pc=>{d();var bq=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function jd(n,e){return /^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}var Sq=(n,e,t)=>n.endsWith(`
`)?jd(t,e):t.includes(`
`)?`
`+jd(t,e):(n.endsWith(" ")?"":" ")+t;pc.indentComment=jd;pc.lineComment=Sq;pc.stringifyComment=bq;});var Aw=E(bo=>{d();var Cq="flow",$d="block",gc="quoted";function _q(n,e,t="flow",{indentAtStart:r,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return n;i<s&&(s=0);let c=Math.max(1+s,1+i-e.length);if(n.length<=c)return n;let u=[],f={},h=i-e.length;typeof r=="number"&&(r>i-Math.max(2,s)?u.push(0):h=i-r);let p,w,y=!1,b=-1,C=-1,k=-1;t===$d&&(b=xw(n,b,e.length),b!==-1&&(h=b+c));for(let N;N=n[b+=1];){if(t===gc&&N==="\\"){switch(C=b,n[b+1]){case"x":b+=3;break;case"u":b+=5;break;case"U":b+=9;break;default:b+=1;}k=b;}if(N===`
`)t===$d&&(b=xw(n,b,e.length)),h=b+e.length+c,p=void 0;else {if(N===" "&&w&&w!==" "&&w!==`
`&&w!=="	"){let A=n[b+1];A&&A!==" "&&A!==`
`&&A!=="	"&&(p=b);}if(b>=h)if(p)u.push(p),h=p+c,p=void 0;else if(t===gc){for(;w===" "||w==="	";)w=N,N=n[b+=1],y=!0;let A=b>k+1?b-2:C-1;if(f[A])return n;u.push(A),f[A]=!0,h=A+c,p=void 0;}else y=!0;}w=N;}if(y&&a&&a(),u.length===0)return n;o&&o();let O=n.slice(0,u[0]);for(let N=0;N<u.length;++N){let A=u[N],H=u[N+1]||n.length;A===0?O=`
${e}${n.slice(0,H)}`:(t===gc&&f[A]&&(O+=`${n[A]}\\`),O+=`
${e}${n.slice(A+1,H)}`);}return O}function xw(n,e,t){let r=e,i=e+1,s=n[i];for(;s===" "||s==="	";)if(e<i+t)s=n[++e];else {do s=n[++e];while(s&&s!==`
`);r=e,i=e+1,s=n[i];}return r}bo.FOLD_BLOCK=$d;bo.FOLD_FLOW=Cq;bo.FOLD_QUOTED=gc;bo.foldFlowLines=_q;});var Co=E(Lw=>{d();var mr=vt(),ni=Aw(),yc=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),vc=n=>/^(%|---|\.\.\.)/m.test(n);function Dq(n,e,t){if(!e||e<0)return !1;let r=e-t,i=n.length;if(i<=r)return !1;for(let s=0,o=0;s<i;++s)if(n[s]===`
`){if(s-o>r)return !0;if(o=s+1,i-o<=r)return !1}return !0}function So(n,e){let t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;let{implicitKey:r}=e,i=e.options.doubleQuotedMinMultiLineLength,s=e.indent||(vc(n)?"  ":""),o="",a=0;for(let c=0,u=t[c];u;u=t[++c])if(u===" "&&t[c+1]==="\\"&&t[c+2]==="n"&&(o+=t.slice(a,c)+"\\ ",c+=1,a=c,u="\\"),u==="\\")switch(t[c+1]){case"u":{o+=t.slice(a,c);let f=t.substr(c+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=t.substr(c,6);}c+=5,a=c+1;}break;case"n":if(r||t[c+2]==='"'||t.length<i)c+=1;else {for(o+=t.slice(a,c)+`

`;t[c+2]==="\\"&&t[c+3]==="n"&&t[c+4]!=='"';)o+=`
`,c+=2;o+=s,t[c+2]===" "&&(o+="\\"),c+=1,a=c+1;}break;default:c+=1;}return o=a?o+t.slice(a):t,r?o:ni.foldFlowLines(o,s,ni.FOLD_QUOTED,yc(e,!1))}function Ud(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return So(n,e);let t=e.indent||(vc(n)?"  ":""),r="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?r:ni.foldFlowLines(r,t,ni.FOLD_FLOW,yc(e,!1))}function ls(n,e){let{singleQuote:t}=e.options,r;if(t===!1)r=So;else {let i=n.includes('"'),s=n.includes("'");i&&!s?r=Ud:s&&!i?r=So:r=t?Ud:So;}return r(n,e)}var Hd;try{Hd=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g");}catch{Hd=/\n+(?!\n|$)/g;}function mc({comment:n,type:e,value:t},r,i,s){let{blockQuote:o,commentString:a,lineWidth:c}=r.options;if(!o||/\n[\t ]+$/.test(t)||/^\s*$/.test(t))return ls(t,r);let u=r.indent||(r.forceBlockIndent||vc(t)?"  ":""),f=o==="literal"?!0:o==="folded"||e===mr.Scalar.BLOCK_FOLDED?!1:e===mr.Scalar.BLOCK_LITERAL?!0:!Dq(t,c,u.length);if(!t)return f?`|
`:`>
`;let h,p;for(p=t.length;p>0;--p){let $=t[p-1];if($!==`
`&&$!=="	"&&$!==" ")break}let w=t.substring(p),y=w.indexOf(`
`);y===-1?h="-":t===w||y!==w.length-1?(h="+",s&&s()):h="",w&&(t=t.slice(0,-w.length),w[w.length-1]===`
`&&(w=w.slice(0,-1)),w=w.replace(Hd,`$&${u}`));let b=!1,C,k=-1;for(C=0;C<t.length;++C){let $=t[C];if($===" ")b=!0;else if($===`
`)k=C;else break}let O=t.substring(0,k<C?k+1:C);O&&(t=t.substring(O.length),O=O.replace(/\n+/g,`$&${u}`));let A=(f?"|":">")+(b?u?"2":"1":"")+h;if(n&&(A+=" "+a(n.replace(/ ?[\r\n]+/g," ")),i&&i()),f)return t=t.replace(/\n+/g,`$&${u}`),`${A}
${u}${O}${t}${w}`;t=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${u}`);let H=ni.foldFlowLines(`${O}${t}${w}`,u,ni.FOLD_BLOCK,yc(r,!0));return `${A}
${u}${H}`}function Tq(n,e,t,r){let{type:i,value:s}=n,{actualString:o,implicitKey:a,indent:c,indentStep:u,inFlow:f}=e;if(a&&s.includes(`
`)||f&&/[[\]{},]/.test(s))return ls(s,e);if(!s||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes(`
`)?ls(s,e):mc(n,e,t,r);if(!a&&!f&&i!==mr.Scalar.PLAIN&&s.includes(`
`))return mc(n,e,t,r);if(vc(s)){if(c==="")return e.forceBlockIndent=!0,mc(n,e,t,r);if(a&&c===u)return ls(s,e)}let h=s.replace(/\n+/g,`$&
${c}`);if(o){let p=b=>b.default&&b.tag!=="tag:yaml.org,2002:str"&&b.test?.test(h),{compat:w,tags:y}=e.doc.schema;if(y.some(p)||w?.some(p))return ls(s,e)}return a?h:ni.foldFlowLines(h,c,ni.FOLD_FLOW,yc(e,!1))}function Rq(n,e,t,r){let{implicitKey:i,inFlow:s}=e,o=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)}),{type:a}=n;a!==mr.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=mr.Scalar.QUOTE_DOUBLE);let c=f=>{switch(f){case mr.Scalar.BLOCK_FOLDED:case mr.Scalar.BLOCK_LITERAL:return i||s?ls(o.value,e):mc(o,e,t,r);case mr.Scalar.QUOTE_DOUBLE:return So(o.value,e);case mr.Scalar.QUOTE_SINGLE:return Ud(o.value,e);case mr.Scalar.PLAIN:return Tq(o,e,t,r);default:return null}},u=c(a);if(u===null){let{defaultKeyType:f,defaultStringType:h}=e.options,p=i&&f||h;if(u=c(p),u===null)throw new Error(`Unsupported default string type ${p}`)}return u}Lw.stringifyString=Rq;});var _o=E(Kd=>{d();var Pq=cc(),ri=Ie(),Eq=wo(),kq=Co();function qq(n,e){let t=Object.assign({blockQuote:!0,commentString:Eq.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e),r;switch(t.collectionStyle){case"block":r=!1;break;case"flow":r=!0;break;default:r=null;}return {anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:r,options:t}}function Iq(n,e){if(e.tag){let i=n.filter(s=>s.tag===e.tag);if(i.length>0)return i.find(s=>s.format===e.format)??i[0]}let t,r;if(ri.isScalar(e)){r=e.value;let i=n.filter(s=>s.identify?.(r));t=i.find(s=>s.format===e.format)??i.find(s=>!s.format);}else r=e,t=n.find(i=>i.nodeClass&&r instanceof i.nodeClass);if(!t){let i=r?.constructor?.name??typeof r;throw new Error(`Tag not resolved for ${i} value`)}return t}function Oq(n,e,{anchors:t,doc:r}){if(!r.directives)return "";let i=[],s=(ri.isScalar(n)||ri.isCollection(n))&&n.anchor;s&&Pq.anchorIsValid(s)&&(t.add(s),i.push(`&${s}`));let o=n.tag?n.tag:e.default?null:e.tag;return o&&i.push(r.directives.tagString(o)),i.join(" ")}function Nq(n,e,t,r){if(ri.isPair(n))return n.toString(e,t,r);if(ri.isAlias(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc);}let i,s=ri.isNode(n)?n:e.doc.createNode(n,{onTagObj:c=>i=c});i||(i=Iq(e.doc.schema.tags,s));let o=Oq(s,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,e,t,r):ri.isScalar(s)?kq.stringifyString(s,e,t,r):s.toString(e,t,r);return o?ri.isScalar(s)||a[0]==="{"||a[0]==="["?`${o} ${a}`:`${o}
${e.indent}${a}`:a}Kd.createStringifyContext=qq;Kd.stringify=Nq;});var $w=E(jw=>{d();var qr=Ie(),Fw=vt(),Mw=_o(),Do=wo();function xq({key:n,value:e},t,r,i){let{allNullValues:s,doc:o,indent:a,indentStep:c,options:{commentString:u,indentSeq:f,simpleKeys:h}}=t,p=qr.isNode(n)&&n.comment||null;if(h){if(p)throw new Error("With simple keys, key nodes cannot have comments");if(qr.isCollection(n)||!qr.isNode(n)&&typeof n=="object"){let W="With simple keys, collection cannot be used as a key value";throw new Error(W)}}let w=!h&&(!n||p&&e==null&&!t.inFlow||qr.isCollection(n)||(qr.isScalar(n)?n.type===Fw.Scalar.BLOCK_FOLDED||n.type===Fw.Scalar.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!w&&(h||!s),indent:a+c});let y=!1,b=!1,C=Mw.stringify(n,t,()=>y=!0,()=>b=!0);if(!w&&!t.inFlow&&C.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");w=!0;}if(t.inFlow){if(s||e==null)return y&&r&&r(),C===""?"?":w?`? ${C}`:C}else if(s&&!h||e==null&&w)return C=`? ${C}`,p&&!y?C+=Do.lineComment(C,t.indent,u(p)):b&&i&&i(),C;y&&(p=null),w?(p&&(C+=Do.lineComment(C,t.indent,u(p))),C=`? ${C}
${a}:`):(C=`${C}:`,p&&(C+=Do.lineComment(C,t.indent,u(p))));let k,O,N;qr.isNode(e)?(k=!!e.spaceBefore,O=e.commentBefore,N=e.comment):(k=!1,O=null,N=null,e&&typeof e=="object"&&(e=o.createNode(e))),t.implicitKey=!1,!w&&!p&&qr.isScalar(e)&&(t.indentAtStart=C.length+1),b=!1,!f&&c.length>=2&&!t.inFlow&&!w&&qr.isSeq(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let A=!1,H=Mw.stringify(e,t,()=>A=!0,()=>b=!0),$=" ";if(p||k||O){if($=k?`
`:"",O){let W=u(O);$+=`
${Do.indentComment(W,t.indent)}`;}H===""&&!t.inFlow?$===`
`&&($=`

`):$+=`
${t.indent}`;}else if(!w&&qr.isCollection(e)){let W=H[0],K=H.indexOf(`
`),te=K!==-1,Ce=t.inFlow??e.flow??e.items.length===0;if(te||!Ce){let _e=!1;if(te&&(W==="&"||W==="!")){let he=H.indexOf(" ");W==="&"&&he!==-1&&he<K&&H[he+1]==="!"&&(he=H.indexOf(" ",he+1)),(he===-1||K<he)&&(_e=!0);}_e||($=`
${t.indent}`);}}else (H===""||H[0]===`
`)&&($="");return C+=$+H,t.inFlow?A&&r&&r():N&&!A?C+=Do.lineComment(C,t.indent,u(N)):b&&i&&i(),C}jw.stringifyPair=xq;});var Vd=E(Wd=>{d();function Aq(n,...e){n==="debug"&&console.log(...e);}function Lq(n,e){(n==="debug"||n==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e));}Wd.debug=Aq;Wd.warn=Lq;});var Gd=E(Hw=>{d();var Fq=Vd(),Mq=_o(),ds=Ie(),jq=vt(),Bd=ei(),Uw="<<";function $q(n,e,{key:t,value:r}){if(n?.doc.schema.merge&&Uq(t))if(r=ds.isAlias(r)?r.resolve(n.doc):r,ds.isSeq(r))for(let i of r.items)zd(n,e,i);else if(Array.isArray(r))for(let i of r)zd(n,e,i);else zd(n,e,r);else {let i=Bd.toJS(t,"",n);if(e instanceof Map)e.set(i,Bd.toJS(r,i,n));else if(e instanceof Set)e.add(i);else {let s=Hq(t,i,n),o=Bd.toJS(r,s,n);s in e?Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[s]=o;}}return e}var Uq=n=>n===Uw||ds.isScalar(n)&&n.value===Uw&&(!n.type||n.type===jq.Scalar.PLAIN);function zd(n,e,t){let r=n&&ds.isAlias(t)?t.resolve(n.doc):t;if(!ds.isMap(r))throw new Error("Merge sources must be maps or map aliases");let i=r.toJSON(null,n,Map);for(let[s,o]of i)e instanceof Map?e.has(s)||e.set(s,o):e instanceof Set?e.add(s):Object.prototype.hasOwnProperty.call(e,s)||Object.defineProperty(e,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function Hq(n,e,t){if(e===null)return "";if(typeof e!="object")return String(e);if(ds.isNode(n)&&t?.doc){let r=Mq.createStringifyContext(t.doc,{});r.anchors=new Set;for(let s of t.anchors.keys())r.anchors.add(s.anchor);r.inFlow=!0,r.inStringifyKey=!0;let i=n.toString(r);if(!t.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),Fq.warn(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${s}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0;}return i}return JSON.stringify(e)}Hw.addPairToJSMap=$q;});var ii=E(Yd=>{d();var Kw=vo(),Kq=$w(),Wq=Gd(),wc=Ie();function Vq(n,e,t){let r=Kw.createNode(n,void 0,t),i=Kw.createNode(e,void 0,t);return new bc(r,i)}var bc=class n{constructor(e,t=null){Object.defineProperty(this,wc.NODE_TYPE,{value:wc.PAIR}),this.key=e,this.value=t;}clone(e){let{key:t,value:r}=this;return wc.isNode(t)&&(t=t.clone(e)),wc.isNode(r)&&(r=r.clone(e)),new n(t,r)}toJSON(e,t){let r=t?.mapAsMap?new Map:{};return Wq.addPairToJSMap(t,r,this)}toString(e,t,r){return e?.doc?Kq.stringifyPair(this,e,t,r):JSON.stringify(this)}};Yd.Pair=bc;Yd.createPair=Vq;});var Jd=E(Vw=>{d();var Li=Ie(),Ww=_o(),Sc=wo();function Bq(n,e,t){return (e.inFlow??n.flow?Gq:zq)(n,e,t)}function zq({comment:n,items:e},t,{blockItemPrefix:r,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:c,options:{commentString:u}}=t,f=Object.assign({},t,{indent:s,type:null}),h=!1,p=[];for(let y=0;y<e.length;++y){let b=e[y],C=null;if(Li.isNode(b))!h&&b.spaceBefore&&p.push(""),Cc(t,p,b.commentBefore,h),b.comment&&(C=b.comment);else if(Li.isPair(b)){let O=Li.isNode(b.key)?b.key:null;O&&(!h&&O.spaceBefore&&p.push(""),Cc(t,p,O.commentBefore,h));}h=!1;let k=Ww.stringify(b,f,()=>C=null,()=>h=!0);C&&(k+=Sc.lineComment(k,s,u(C))),h&&C&&(h=!1),p.push(r+k);}let w;if(p.length===0)w=i.start+i.end;else {w=p[0];for(let y=1;y<p.length;++y){let b=p[y];w+=b?`
${c}${b}`:`
`;}}return n?(w+=`
`+Sc.indentComment(u(n),c),a&&a()):h&&o&&o(),w}function Gq({items:n},e,{flowChars:t,itemIndent:r}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=e;r+=s;let c=Object.assign({},e,{indent:r,inFlow:!0,type:null}),u=!1,f=0,h=[];for(let y=0;y<n.length;++y){let b=n[y],C=null;if(Li.isNode(b))b.spaceBefore&&h.push(""),Cc(e,h,b.commentBefore,!1),b.comment&&(C=b.comment);else if(Li.isPair(b)){let O=Li.isNode(b.key)?b.key:null;O&&(O.spaceBefore&&h.push(""),Cc(e,h,O.commentBefore,!1),O.comment&&(u=!0));let N=Li.isNode(b.value)?b.value:null;N?(N.comment&&(C=N.comment),N.commentBefore&&(u=!0)):b.value==null&&O?.comment&&(C=O.comment);}C&&(u=!0);let k=Ww.stringify(b,c,()=>C=null);y<n.length-1&&(k+=","),C&&(k+=Sc.lineComment(k,r,a(C))),!u&&(h.length>f||k.includes(`
`))&&(u=!0),h.push(k),f=h.length;}let{start:p,end:w}=t;if(h.length===0)return p+w;if(!u){let y=h.reduce((b,C)=>b+C.length+2,2);u=e.options.lineWidth>0&&y>e.options.lineWidth;}if(u){let y=p;for(let b of h)y+=b?`
${s}${i}${b}`:`
`;return `${y}
${i}${w}`}else return `${p}${o}${h.join(" ")}${o}${w}`}function Cc({indent:n,options:{commentString:e}},t,r,i){if(r&&i&&(r=r.replace(/^\n+/,"")),r){let s=Sc.indentComment(e(r),n);t.push(s.trimStart());}}Vw.stringifyCollection=Bq;});var oi=E(Qd=>{d();var Yq=Jd(),Jq=Gd(),Xq=hc(),si=Ie(),_c=ii(),Qq=vt();function To(n,e){let t=si.isScalar(e)?e.value:e;for(let r of n)if(si.isPair(r)&&(r.key===e||r.key===t||si.isScalar(r.key)&&r.key.value===t))return r}var Xd=class extends Xq.Collection{static get tagName(){return "tag:yaml.org,2002:map"}constructor(e){super(si.MAP,e),this.items=[];}static from(e,t,r){let{keepUndefined:i,replacer:s}=r,o=new this(e),a=(c,u)=>{if(typeof s=="function")u=s.call(t,c,u);else if(Array.isArray(s)&&!s.includes(c))return;(u!==void 0||i)&&o.items.push(_c.createPair(c,u,r));};if(t instanceof Map)for(let[c,u]of t)a(c,u);else if(t&&typeof t=="object")for(let c of Object.keys(t))a(c,t[c]);return typeof e.sortMapEntries=="function"&&o.items.sort(e.sortMapEntries),o}add(e,t){let r;si.isPair(e)?r=e:!e||typeof e!="object"||!("key"in e)?r=new _c.Pair(e,e?.value):r=new _c.Pair(e.key,e.value);let i=To(this.items,r.key),s=this.schema?.sortMapEntries;if(i){if(!t)throw new Error(`Key ${r.key} already set`);si.isScalar(i.value)&&Qq.isScalarValue(r.value)?i.value.value=r.value:i.value=r.value;}else if(s){let o=this.items.findIndex(a=>s(r,a)<0);o===-1?this.items.push(r):this.items.splice(o,0,r);}else this.items.push(r);}delete(e){let t=To(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){let i=To(this.items,e)?.value;return (!t&&si.isScalar(i)?i.value:i)??void 0}has(e){return !!To(this.items,e)}set(e,t){this.add(new _c.Pair(e,t),!0);}toJSON(e,t,r){let i=r?new r:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(i);for(let s of this.items)Jq.addPairToJSMap(t,i,s);return i}toString(e,t,r){if(!e)return JSON.stringify(this);for(let i of this.items)if(!si.isPair(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return !e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),Yq.stringifyCollection(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:r,onComment:t})}};Qd.YAMLMap=Xd;Qd.findPair=To;});var fs=E(zw=>{d();var Zq=Ie(),Bw=oi(),eI={collection:"map",default:!0,nodeClass:Bw.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(n,e){return Zq.isMap(n)||e("Expected a mapping for this tag"),n},createNode:(n,e,t)=>Bw.YAMLMap.from(n,e,t)};zw.map=eI;});var ai=E(Gw=>{d();var tI=vo(),nI=Jd(),rI=hc(),Tc=Ie(),iI=vt(),sI=ei(),Zd=class extends rI.Collection{static get tagName(){return "tag:yaml.org,2002:seq"}constructor(e){super(Tc.SEQ,e),this.items=[];}add(e){this.items.push(e);}delete(e){let t=Dc(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){let r=Dc(e);if(typeof r!="number")return;let i=this.items[r];return !t&&Tc.isScalar(i)?i.value:i}has(e){let t=Dc(e);return typeof t=="number"&&t<this.items.length}set(e,t){let r=Dc(e);if(typeof r!="number")throw new Error(`Expected a valid index, not ${e}.`);let i=this.items[r];Tc.isScalar(i)&&iI.isScalarValue(t)?i.value=t:this.items[r]=t;}toJSON(e,t){let r=[];t?.onCreate&&t.onCreate(r);let i=0;for(let s of this.items)r.push(sI.toJS(s,String(i++),t));return r}toString(e,t,r){return e?nI.stringifyCollection(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:r,onComment:t}):JSON.stringify(this)}static from(e,t,r){let{replacer:i}=r,s=new this(e);if(t&&Symbol.iterator in Object(t)){let o=0;for(let a of t){if(typeof i=="function"){let c=t instanceof Set?a:String(o++);a=i.call(t,c,a);}s.items.push(tI.createNode(a,void 0,r));}}return s}};function Dc(n){let e=Tc.isScalar(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}Gw.YAMLSeq=Zd;});var hs=E(Jw=>{d();var oI=Ie(),Yw=ai(),aI={collection:"seq",default:!0,nodeClass:Yw.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(n,e){return oI.isSeq(n)||e("Expected a sequence for this tag"),n},createNode:(n,e,t)=>Yw.YAMLSeq.from(n,e,t)};Jw.seq=aI;});var Ro=E(Xw=>{d();var cI=Co(),uI={identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify(n,e,t,r){return e=Object.assign({actualString:!0},e),cI.stringifyString(n,e,t,r)}};Xw.string=uI;});var Rc=E(eb=>{d();var Qw=vt(),Zw={identify:n=>n==null,createNode:()=>new Qw.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Qw.Scalar(null),stringify:({source:n},e)=>typeof n=="string"&&Zw.test.test(n)?n:e.options.nullStr};eb.nullTag=Zw;});var ef=E(nb=>{d();var lI=vt(),tb={identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:n=>new lI.Scalar(n[0]==="t"||n[0]==="T"),stringify({source:n,value:e},t){if(n&&tb.test.test(n)){let r=n[0]==="t"||n[0]==="T";if(e===r)return n}return e?t.options.trueStr:t.options.falseStr}};nb.boolTag=tb;});var ps=E(rb=>{d();function dI({format:n,minFractionDigits:e,tag:t,value:r}){if(typeof r=="bigint")return String(r);let i=typeof r=="number"?r:Number(r);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(r);if(!n&&e&&(!t||t==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=e-(s.length-o-1);for(;a-- >0;)s+="0";}return s}rb.stringifyNumber=dI;});var nf=E(Pc=>{d();var fI=vt(),tf=ps(),hI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:tf.stringifyNumber},pI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n),stringify(n){let e=Number(n.value);return isFinite(e)?e.toExponential():tf.stringifyNumber(n)}},gI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(n){let e=new fI.Scalar(parseFloat(n)),t=n.indexOf(".");return t!==-1&&n[n.length-1]==="0"&&(e.minFractionDigits=n.length-t-1),e},stringify:tf.stringifyNumber};Pc.float=gI;Pc.floatExp=pI;Pc.floatNaN=hI;});var sf=E(kc=>{d();var ib=ps(),Ec=n=>typeof n=="bigint"||Number.isInteger(n),rf=(n,e,t,{intAsBigInt:r})=>r?BigInt(n):parseInt(n.substring(e),t);function sb(n,e,t){let{value:r}=n;return Ec(r)&&r>=0?t+r.toString(e):ib.stringifyNumber(n)}var mI={identify:n=>Ec(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(n,e,t)=>rf(n,2,8,t),stringify:n=>sb(n,8,"0o")},yI={identify:Ec,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(n,e,t)=>rf(n,0,10,t),stringify:ib.stringifyNumber},vI={identify:n=>Ec(n)&&n>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(n,e,t)=>rf(n,2,16,t),stringify:n=>sb(n,16,"0x")};kc.int=yI;kc.intHex=vI;kc.intOct=mI;});var ab=E(ob=>{d();var wI=fs(),bI=Rc(),SI=hs(),CI=Ro(),_I=ef(),of=nf(),af=sf(),DI=[wI.map,SI.seq,CI.string,bI.nullTag,_I.boolTag,af.intOct,af.int,af.intHex,of.floatNaN,of.floatExp,of.float];ob.schema=DI;});var lb=E(ub=>{d();var TI=vt(),RI=fs(),PI=hs();function cb(n){return typeof n=="bigint"||Number.isInteger(n)}var qc=({value:n})=>JSON.stringify(n),EI=[{identify:n=>typeof n=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:n=>n,stringify:qc},{identify:n=>n==null,createNode:()=>new TI.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:qc},{identify:n=>typeof n=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:n=>n==="true",stringify:qc},{identify:cb,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(n,e,{intAsBigInt:t})=>t?BigInt(n):parseInt(n,10),stringify:({value:n})=>cb(n)?n.toString():JSON.stringify(n)},{identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:n=>parseFloat(n),stringify:qc}],kI={default:!0,tag:"",test:/^/,resolve(n,e){return e(`Unresolved plain scalar ${JSON.stringify(n)}`),n}},qI=[RI.map,PI.seq].concat(EI,kI);ub.schema=qI;});var uf=E(db=>{d();var cf=vt(),II=Co(),OI={identify:n=>n instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(n,e){if(typeof Buffer=="function")return Buffer.from(n,"base64");if(typeof atob=="function"){let t=atob(n.replace(/[\n\r]/g,"")),r=new Uint8Array(t.length);for(let i=0;i<t.length;++i)r[i]=t.charCodeAt(i);return r}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),n},stringify({comment:n,type:e,value:t},r,i,s){let o=t,a;if(typeof Buffer=="function")a=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let c="";for(let u=0;u<o.length;++u)c+=String.fromCharCode(o[u]);a=btoa(c);}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=cf.Scalar.BLOCK_LITERAL),e!==cf.Scalar.QUOTE_DOUBLE){let c=Math.max(r.options.lineWidth-r.indent.length,r.options.minContentWidth),u=Math.ceil(a.length/c),f=new Array(u);for(let h=0,p=0;h<u;++h,p+=c)f[h]=a.substr(p,c);a=f.join(e===cf.Scalar.BLOCK_LITERAL?`
`:" ");}return II.stringifyString({comment:n,type:e,value:a},r,i,s)}};db.binary=OI;});var Nc=E(Oc=>{d();var Ic=Ie(),lf=ii(),NI=vt(),xI=ai();function fb(n,e){if(Ic.isSeq(n))for(let t=0;t<n.items.length;++t){let r=n.items[t];if(!Ic.isPair(r)){if(Ic.isMap(r)){r.items.length>1&&e("Each pair must have its own sequence indicator");let i=r.items[0]||new lf.Pair(new NI.Scalar(null));if(r.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${r.commentBefore}
${i.key.commentBefore}`:r.commentBefore),r.comment){let s=i.value??i.key;s.comment=s.comment?`${r.comment}
${s.comment}`:r.comment;}r=i;}n.items[t]=Ic.isPair(r)?r:new lf.Pair(r);}}else e("Expected a sequence for this tag");return n}function hb(n,e,t){let{replacer:r}=t,i=new xI.YAMLSeq(n);i.tag="tag:yaml.org,2002:pairs";let s=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof r=="function"&&(o=r.call(e,String(s++),o));let a,c;if(Array.isArray(o))if(o.length===2)a=o[0],c=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){let u=Object.keys(o);if(u.length===1)a=u[0],c=o[a];else throw new TypeError(`Expected tuple with one key, not ${u.length} keys`)}else a=o;i.items.push(lf.createPair(a,c,t));}return i}var AI={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:fb,createNode:hb};Oc.createPairs=hb;Oc.pairs=AI;Oc.resolvePairs=fb;});var hf=E(ff=>{d();var pb=Ie(),df=ei(),Po=oi(),LI=ai(),gb=Nc(),Fi=class n extends LI.YAMLSeq{constructor(){super(),this.add=Po.YAMLMap.prototype.add.bind(this),this.delete=Po.YAMLMap.prototype.delete.bind(this),this.get=Po.YAMLMap.prototype.get.bind(this),this.has=Po.YAMLMap.prototype.has.bind(this),this.set=Po.YAMLMap.prototype.set.bind(this),this.tag=n.tag;}toJSON(e,t){if(!t)return super.toJSON(e);let r=new Map;t?.onCreate&&t.onCreate(r);for(let i of this.items){let s,o;if(pb.isPair(i)?(s=df.toJS(i.key,"",t),o=df.toJS(i.value,s,t)):s=df.toJS(i,"",t),r.has(s))throw new Error("Ordered maps must not include duplicate keys");r.set(s,o);}return r}static from(e,t,r){let i=gb.createPairs(e,t,r),s=new this;return s.items=i.items,s}};Fi.tag="tag:yaml.org,2002:omap";var FI={collection:"seq",identify:n=>n instanceof Map,nodeClass:Fi,default:!1,tag:"tag:yaml.org,2002:omap",resolve(n,e){let t=gb.resolvePairs(n,e),r=[];for(let{key:i}of t.items)pb.isScalar(i)&&(r.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):r.push(i.value));return Object.assign(new Fi,t)},createNode:(n,e,t)=>Fi.from(n,e,t)};ff.YAMLOMap=Fi;ff.omap=FI;});var bb=E(pf=>{d();var mb=vt();function yb({value:n,source:e},t){return e&&(n?vb:wb).test.test(e)?e:n?t.options.trueStr:t.options.falseStr}var vb={identify:n=>n===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new mb.Scalar(!0),stringify:yb},wb={identify:n=>n===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new mb.Scalar(!1),stringify:yb};pf.falseTag=wb;pf.trueTag=vb;});var Sb=E(xc=>{d();var MI=vt(),gf=ps(),jI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:n=>n.slice(-3).toLowerCase()==="nan"?NaN:n[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:gf.stringifyNumber},$I={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:n=>parseFloat(n.replace(/_/g,"")),stringify(n){let e=Number(n.value);return isFinite(e)?e.toExponential():gf.stringifyNumber(n)}},UI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(n){let e=new MI.Scalar(parseFloat(n.replace(/_/g,""))),t=n.indexOf(".");if(t!==-1){let r=n.substring(t+1).replace(/_/g,"");r[r.length-1]==="0"&&(e.minFractionDigits=r.length);}return e},stringify:gf.stringifyNumber};xc.float=UI;xc.floatExp=$I;xc.floatNaN=jI;});var _b=E(ko=>{d();var Cb=ps(),Eo=n=>typeof n=="bigint"||Number.isInteger(n);function Ac(n,e,t,{intAsBigInt:r}){let i=n[0];if((i==="-"||i==="+")&&(e+=1),n=n.substring(e).replace(/_/g,""),r){switch(t){case 2:n=`0b${n}`;break;case 8:n=`0o${n}`;break;case 16:n=`0x${n}`;break}let o=BigInt(n);return i==="-"?BigInt(-1)*o:o}let s=parseInt(n,t);return i==="-"?-1*s:s}function mf(n,e,t){let{value:r}=n;if(Eo(r)){let i=r.toString(e);return r<0?"-"+t+i.substr(1):t+i}return Cb.stringifyNumber(n)}var HI={identify:Eo,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(n,e,t)=>Ac(n,2,2,t),stringify:n=>mf(n,2,"0b")},KI={identify:Eo,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(n,e,t)=>Ac(n,1,8,t),stringify:n=>mf(n,8,"0")},WI={identify:Eo,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(n,e,t)=>Ac(n,0,10,t),stringify:Cb.stringifyNumber},VI={identify:Eo,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(n,e,t)=>Ac(n,2,16,t),stringify:n=>mf(n,16,"0x")};ko.int=WI;ko.intBin=HI;ko.intHex=VI;ko.intOct=KI;});var vf=E(yf=>{d();var Mc=Ie(),Lc=ii(),Fc=oi(),Mi=class n extends Fc.YAMLMap{constructor(e){super(e),this.tag=n.tag;}add(e){let t;Mc.isPair(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new Lc.Pair(e.key,null):t=new Lc.Pair(e,null),Fc.findPair(this.items,t.key)||this.items.push(t);}get(e,t){let r=Fc.findPair(this.items,e);return !t&&Mc.isPair(r)?Mc.isScalar(r.key)?r.key.value:r.key:r}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);let r=Fc.findPair(this.items,e);r&&!t?this.items.splice(this.items.indexOf(r),1):!r&&t&&this.items.push(new Lc.Pair(e));}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,r){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,r);throw new Error("Set items must all have null values")}static from(e,t,r){let{replacer:i}=r,s=new this(e);if(t&&Symbol.iterator in Object(t))for(let o of t)typeof i=="function"&&(o=i.call(t,o,o)),s.items.push(Lc.createPair(o,null,r));return s}};Mi.tag="tag:yaml.org,2002:set";var BI={collection:"map",identify:n=>n instanceof Set,nodeClass:Mi,default:!1,tag:"tag:yaml.org,2002:set",createNode:(n,e,t)=>Mi.from(n,e,t),resolve(n,e){if(Mc.isMap(n)){if(n.hasAllNullValues(!0))return Object.assign(new Mi,n);e("Set items must all have null values");}else e("Expected a mapping for this tag");return n}};yf.YAMLSet=Mi;yf.set=BI;});var bf=E(jc=>{d();var zI=ps();function wf(n,e){let t=n[0],r=t==="-"||t==="+"?n.substring(1):n,i=o=>e?BigInt(o):Number(o),s=r.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return t==="-"?i(-1)*s:s}function Db(n){let{value:e}=n,t=o=>o;if(typeof e=="bigint")t=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return zI.stringifyNumber(n);let r="";e<0&&(r="-",e*=t(-1));let i=t(60),s=[e%i];return e<60?s.unshift(0):(e=(e-s[0])/i,s.unshift(e%i),e>=60&&(e=(e-s[0])/i,s.unshift(e))),r+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var GI={identify:n=>typeof n=="bigint"||Number.isInteger(n),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(n,e,{intAsBigInt:t})=>wf(n,t),stringify:Db},YI={identify:n=>typeof n=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:n=>wf(n,!1),stringify:Db},Tb={identify:n=>n instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(n){let e=n.match(Tb.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,t,r,i,s,o,a]=e.map(Number),c=e[7]?Number((e[7]+"00").substr(1,3)):0,u=Date.UTC(t,r-1,i,s||0,o||0,a||0,c),f=e[8];if(f&&f!=="Z"){let h=wf(f,!1);Math.abs(h)<30&&(h*=60),u-=6e4*h;}return new Date(u)},stringify:({value:n})=>n.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")};jc.floatTime=YI;jc.intTime=GI;jc.timestamp=Tb;});var Eb=E(Pb=>{d();var JI=fs(),XI=Rc(),QI=hs(),ZI=Ro(),eO=uf(),Rb=bb(),Sf=Sb(),$c=_b(),tO=hf(),nO=Nc(),rO=vf(),Cf=bf(),iO=[JI.map,QI.seq,ZI.string,XI.nullTag,Rb.trueTag,Rb.falseTag,$c.intBin,$c.intOct,$c.int,$c.intHex,Sf.floatNaN,Sf.floatExp,Sf.float,eO.binary,tO.omap,nO.pairs,rO.set,Cf.intTime,Cf.floatTime,Cf.timestamp];Pb.schema=iO;});var Mb=E(Tf=>{d();var Ob=fs(),sO=Rc(),Nb=hs(),oO=Ro(),aO=ef(),_f=nf(),Df=sf(),cO=ab(),uO=lb(),xb=uf(),Ab=hf(),Lb=Nc(),kb=Eb(),Fb=vf(),Uc=bf(),qb=new Map([["core",cO.schema],["failsafe",[Ob.map,Nb.seq,oO.string]],["json",uO.schema],["yaml11",kb.schema],["yaml-1.1",kb.schema]]),Ib={binary:xb.binary,bool:aO.boolTag,float:_f.float,floatExp:_f.floatExp,floatNaN:_f.floatNaN,floatTime:Uc.floatTime,int:Df.int,intHex:Df.intHex,intOct:Df.intOct,intTime:Uc.intTime,map:Ob.map,null:sO.nullTag,omap:Ab.omap,pairs:Lb.pairs,seq:Nb.seq,set:Fb.set,timestamp:Uc.timestamp},lO={"tag:yaml.org,2002:binary":xb.binary,"tag:yaml.org,2002:omap":Ab.omap,"tag:yaml.org,2002:pairs":Lb.pairs,"tag:yaml.org,2002:set":Fb.set,"tag:yaml.org,2002:timestamp":Uc.timestamp};function dO(n,e){let t=qb.get(e);if(!t)if(Array.isArray(n))t=[];else {let r=Array.from(qb.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${r} or define customTags array`)}if(Array.isArray(n))for(let r of n)t=t.concat(r);else typeof n=="function"&&(t=n(t.slice()));return t.map(r=>{if(typeof r!="string")return r;let i=Ib[r];if(i)return i;let s=Object.keys(Ib).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${r}"; use one of ${s}`)})}Tf.coreKnownTags=lO;Tf.getTags=dO;});var Ef=E(jb=>{d();var Rf=Ie(),fO=fs(),hO=hs(),pO=Ro(),Hc=Mb(),gO=(n,e)=>n.key<e.key?-1:n.key>e.key?1:0,Pf=class n{constructor({compat:e,customTags:t,merge:r,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(e)?Hc.getTags(e,"compat"):e?Hc.getTags(null,e):null,this.merge=!!r,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Hc.coreKnownTags:{},this.tags=Hc.getTags(t,this.name),this.toStringOptions=a??null,Object.defineProperty(this,Rf.MAP,{value:fO.map}),Object.defineProperty(this,Rf.SCALAR,{value:pO.string}),Object.defineProperty(this,Rf.SEQ,{value:hO.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?gO:null;}clone(){let e=Object.create(n.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}};jb.Schema=Pf;});var Ub=E($b=>{d();var mO=Ie(),kf=_o(),qo=wo();function yO(n,e){let t=[],r=e.directives===!0;if(e.directives!==!1&&n.directives){let c=n.directives.toString(n);c?(t.push(c),r=!0):n.directives.docStart&&(r=!0);}r&&t.push("---");let i=kf.createStringifyContext(n,e),{commentString:s}=i.options;if(n.commentBefore){t.length!==1&&t.unshift("");let c=s(n.commentBefore);t.unshift(qo.indentComment(c,""));}let o=!1,a=null;if(n.contents){if(mO.isNode(n.contents)){if(n.contents.spaceBefore&&r&&t.push(""),n.contents.commentBefore){let f=s(n.contents.commentBefore);t.push(qo.indentComment(f,""));}i.forceBlockIndent=!!n.comment,a=n.contents.comment;}let c=a?void 0:()=>o=!0,u=kf.stringify(n.contents,i,()=>a=null,c);a&&(u+=qo.lineComment(u,"",s(a))),(u[0]==="|"||u[0]===">")&&t[t.length-1]==="---"?t[t.length-1]=`--- ${u}`:t.push(u);}else t.push(kf.stringify(n.contents,i));if(n.directives?.docEnd)if(n.comment){let c=s(n.comment);c.includes(`
`)?(t.push("..."),t.push(qo.indentComment(c,""))):t.push(`... ${c}`);}else t.push("...");else {let c=n.comment;c&&o&&(c=c.replace(/^\n+/,"")),c&&((!o||a)&&t[t.length-1]!==""&&t.push(""),t.push(qo.indentComment(s(c),"")));}return t.join(`
`)+`
`}$b.stringifyDocument=yO;});var Io=E(Hb=>{d();var vO=yo(),gs=hc(),In=Ie(),wO=ii(),bO=ei(),SO=Ef(),CO=Ub(),qf=cc(),_O=Nd(),DO=vo(),If=Od(),Of=class n{constructor(e,t,r){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,In.NODE_TYPE,{value:In.DOC});let i=null;typeof t=="function"||Array.isArray(t)?i=t:r===void 0&&t&&(r=t,t=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},r);this.options=s;let{version:o}=s;r?._directives?(this.directives=r._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new If.Directives({version:o}),this.setSchema(o,r),this.contents=e===void 0?null:this.createNode(e,i,r);}clone(){let e=Object.create(n.prototype,{[In.NODE_TYPE]:{value:In.DOC}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=In.isNode(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){ms(this.contents)&&this.contents.add(e);}addIn(e,t){ms(this.contents)&&this.contents.addIn(e,t);}createAlias(e,t){if(!e.anchor){let r=qf.anchorNames(this);e.anchor=!t||r.has(t)?qf.findNewAnchor(t||"a",r):t;}return new vO.Alias(e.anchor)}createNode(e,t,r){let i;if(typeof t=="function")e=t.call({"":e},"",e),i=t;else if(Array.isArray(t)){let C=O=>typeof O=="number"||O instanceof String||O instanceof Number,k=t.filter(C).map(String);k.length>0&&(t=t.concat(k)),i=t;}else r===void 0&&t&&(r=t,t=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:c,onTagObj:u,tag:f}=r??{},{onAnchor:h,setAnchors:p,sourceObjects:w}=qf.createNodeAnchors(this,o||"a"),y={aliasDuplicateObjects:s??!0,keepUndefined:c??!1,onAnchor:h,onTagObj:u,replacer:i,schema:this.schema,sourceObjects:w},b=DO.createNode(e,f,y);return a&&In.isCollection(b)&&(b.flow=!0),p(),b}createPair(e,t,r={}){let i=this.createNode(e,null,r),s=this.createNode(t,null,r);return new wO.Pair(i,s)}delete(e){return ms(this.contents)?this.contents.delete(e):!1}deleteIn(e){return gs.isEmptyPath(e)?this.contents==null?!1:(this.contents=null,!0):ms(this.contents)?this.contents.deleteIn(e):!1}get(e,t){return In.isCollection(this.contents)?this.contents.get(e,t):void 0}getIn(e,t){return gs.isEmptyPath(e)?!t&&In.isScalar(this.contents)?this.contents.value:this.contents:In.isCollection(this.contents)?this.contents.getIn(e,t):void 0}has(e){return In.isCollection(this.contents)?this.contents.has(e):!1}hasIn(e){return gs.isEmptyPath(e)?this.contents!==void 0:In.isCollection(this.contents)?this.contents.hasIn(e):!1}set(e,t){this.contents==null?this.contents=gs.collectionFromPath(this.schema,[e],t):ms(this.contents)&&this.contents.set(e,t);}setIn(e,t){gs.isEmptyPath(e)?this.contents=t:this.contents==null?this.contents=gs.collectionFromPath(this.schema,Array.from(e),t):ms(this.contents)&&this.contents.setIn(e,t);}setSchema(e,t={}){typeof e=="number"&&(e=String(e));let r;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new If.Directives({version:"1.1"}),r={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new If.Directives({version:e}),r={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,r=null;break;default:{let i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(t.schema instanceof Object)this.schema=t.schema;else if(r)this.schema=new SO.Schema(Object.assign(r,t));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:t,mapAsMap:r,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!e,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},c=bO.toJS(this.contents,t??"",a);if(typeof s=="function")for(let{count:u,res:f}of a.anchors.values())s(f,u);return typeof o=="function"?_O.applyReviver(o,{"":c},"",c):c}toJSON(e,t){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:t})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){let t=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${t}`)}return CO.stringifyDocument(this,e)}};function ms(n){if(In.isCollection(n))return !0;throw new Error("Expected a YAML collection as document contents")}Hb.Document=Of;});var xo=E(No=>{d();var Oo=class extends Error{constructor(e,t,r,i){super(),this.name=e,this.code=r,this.message=i,this.pos=t;}},Nf=class extends Oo{constructor(e,t,r){super("YAMLParseError",e,t,r);}},xf=class extends Oo{constructor(e,t,r){super("YAMLWarning",e,t,r);}},TO=(n,e)=>t=>{if(t.pos[0]===-1)return;t.linePos=t.pos.map(a=>e.linePos(a));let{line:r,col:i}=t.linePos[0];t.message+=` at line ${r}, column ${i}`;let s=i-1,o=n.substring(e.lineStarts[r-1],e.lineStarts[r]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1;}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),r>1&&/^ *$/.test(o.substring(0,s))){let a=n.substring(e.lineStarts[r-2],e.lineStarts[r-1]);a.length>80&&(a=a.substring(0,79)+`\u2026
`),o=a+o;}if(/[^ ]/.test(o)){let a=1,c=t.linePos[1];c&&c.line===r&&c.col>i&&(a=Math.max(1,Math.min(c.col-i,80-s)));let u=" ".repeat(s)+"^".repeat(a);t.message+=`:

${o}
${u}
`;}};No.YAMLError=Oo;No.YAMLParseError=Nf;No.YAMLWarning=xf;No.prettifyError=TO;});var Ao=E(Kb=>{d();function RO(n,{flow:e,indicator:t,next:r,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let c=!1,u=a,f=a,h="",p="",w=!1,y=!1,b=null,C=null,k=null,O=null,N=null,A=null,H=null;for(let K of n)switch(y&&(K.type!=="space"&&K.type!=="newline"&&K.type!=="comma"&&s(K.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),y=!1),b&&(u&&K.type!=="comment"&&K.type!=="newline"&&s(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),b=null),K.type){case"space":!e&&(t!=="doc-start"||r?.type!=="flow-collection")&&K.source.includes("	")&&(b=K),f=!0;break;case"comment":{f||s(K,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let te=K.source.substring(1)||" ";h?h+=p+te:h=te,p="",u=!1;break}case"newline":u?h?h+=K.source:c=!0:p+=K.source,u=!0,w=!0,(C||k)&&(O=K),f=!0;break;case"anchor":C&&s(K,"MULTIPLE_ANCHORS","A node can have at most one anchor"),K.source.endsWith(":")&&s(K.offset+K.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),C=K,H===null&&(H=K.offset),u=!1,f=!1,y=!0;break;case"tag":{k&&s(K,"MULTIPLE_TAGS","A node can have at most one tag"),k=K,H===null&&(H=K.offset),u=!1,f=!1,y=!0;break}case t:(C||k)&&s(K,"BAD_PROP_ORDER",`Anchors and tags must be after the ${K.source} indicator`),A&&s(K,"UNEXPECTED_TOKEN",`Unexpected ${K.source} in ${e??"collection"}`),A=K,u=t==="seq-item-ind"||t==="explicit-key-ind",f=!1;break;case"comma":if(e){N&&s(K,"UNEXPECTED_TOKEN",`Unexpected , in ${e}`),N=K,u=!1,f=!1;break}default:s(K,"UNEXPECTED_TOKEN",`Unexpected ${K.type} token`),u=!1,f=!1;}let $=n[n.length-1],W=$?$.offset+$.source.length:i;return y&&r&&r.type!=="space"&&r.type!=="newline"&&r.type!=="comma"&&(r.type!=="scalar"||r.source!=="")&&s(r.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),b&&(u&&b.indent<=o||r?.type==="block-map"||r?.type==="block-seq")&&s(b,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:N,found:A,spaceBefore:c,comment:h,hasNewline:w,anchor:C,tag:k,newlineAfterProp:O,end:W,start:H??W}}Kb.resolveProps=RO;});var Kc=E(Wb=>{d();function Af(n){if(!n)return null;switch(n.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(n.source.includes(`
`))return !0;if(n.end){for(let e of n.end)if(e.type==="newline")return !0}return !1;case"flow-collection":for(let e of n.items){for(let t of e.start)if(t.type==="newline")return !0;if(e.sep){for(let t of e.sep)if(t.type==="newline")return !0}if(Af(e.key)||Af(e.value))return !0}return !1;default:return !0}}Wb.containsNewline=Af;});var Lf=E(Vb=>{d();var PO=Kc();function EO(n,e,t){if(e?.type==="flow-collection"){let r=e.end[0];r.indent===n&&(r.source==="]"||r.source==="}")&&PO.containsNewline(e)&&t(r,"BAD_INDENT","Flow end indicator should be more indented than parent",!0);}}Vb.flowIndentCheck=EO;});var Ff=E(zb=>{d();var Bb=Ie();function kO(n,e,t){let{uniqueKeys:r}=n.options;if(r===!1)return !1;let i=typeof r=="function"?r:(s,o)=>s===o||Bb.isScalar(s)&&Bb.isScalar(o)&&s.value===o.value&&!(s.value==="<<"&&n.schema.merge);return e.some(s=>i(s.key,t))}zb.mapIncludes=kO;});var Zb=E(Qb=>{d();var Gb=ii(),qO=oi(),Yb=Ao(),IO=Kc(),Jb=Lf(),OO=Ff(),Xb="All mapping items must start at the same column";function NO({composeNode:n,composeEmptyNode:e},t,r,i,s){let o=s?.nodeClass??qO.YAMLMap,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let c=r.offset,u=null;for(let f of r.items){let{start:h,key:p,sep:w,value:y}=f,b=Yb.resolveProps(h,{indicator:"explicit-key-ind",next:p??w?.[0],offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0}),C=!b.found;if(C){if(p&&(p.type==="block-seq"?i(c,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in p&&p.indent!==r.indent&&i(c,"BAD_INDENT",Xb)),!b.anchor&&!b.tag&&!w){u=b.end,b.comment&&(a.comment?a.comment+=`
`+b.comment:a.comment=b.comment);continue}(b.newlineAfterProp||IO.containsNewline(p))&&i(p??h[h.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line");}else b.found?.indent!==r.indent&&i(c,"BAD_INDENT",Xb);let k=b.end,O=p?n(t,p,b,i):e(t,k,h,null,b,i);t.schema.compat&&Jb.flowIndentCheck(r.indent,p,i),OO.mapIncludes(t,a.items,O)&&i(k,"DUPLICATE_KEY","Map keys must be unique");let N=Yb.resolveProps(w??[],{indicator:"map-value-ind",next:y,offset:O.range[2],onError:i,parentIndent:r.indent,startOnNewline:!p||p.type==="block-scalar"});if(c=N.end,N.found){C&&(y?.type==="block-map"&&!N.hasNewline&&i(c,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),t.options.strict&&b.start<N.found.offset-1024&&i(O.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let A=y?n(t,y,N,i):e(t,c,w,null,N,i);t.schema.compat&&Jb.flowIndentCheck(r.indent,y,i),c=A.range[2];let H=new Gb.Pair(O,A);t.options.keepSourceTokens&&(H.srcToken=f),a.items.push(H);}else {C&&i(O.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),N.comment&&(O.comment?O.comment+=`
`+N.comment:O.comment=N.comment);let A=new Gb.Pair(O);t.options.keepSourceTokens&&(A.srcToken=f),a.items.push(A);}}return u&&u<c&&i(u,"IMPOSSIBLE","Map comment with trailing content"),a.range=[r.offset,c,u??c],a}Qb.resolveBlockMap=NO;});var tS=E(eS=>{d();var xO=ai(),AO=Ao(),LO=Lf();function FO({composeNode:n,composeEmptyNode:e},t,r,i,s){let o=s?.nodeClass??xO.YAMLSeq,a=new o(t.schema);t.atRoot&&(t.atRoot=!1);let c=r.offset,u=null;for(let{start:f,value:h}of r.items){let p=AO.resolveProps(f,{indicator:"seq-item-ind",next:h,offset:c,onError:i,parentIndent:r.indent,startOnNewline:!0});if(!p.found)if(p.anchor||p.tag||h)h&&h.type==="block-seq"?i(p.end,"BAD_INDENT","All sequence items must start at the same column"):i(c,"MISSING_CHAR","Sequence item without - indicator");else {u=p.end,p.comment&&(a.comment=p.comment);continue}let w=h?n(t,h,p,i):e(t,p.end,f,null,p,i);t.schema.compat&&LO.flowIndentCheck(r.indent,h,i),c=w.range[2],a.items.push(w);}return a.range=[r.offset,c,u??c],a}eS.resolveBlockSeq=FO;});var ys=E(nS=>{d();function MO(n,e,t,r){let i="";if(n){let s=!1,o="";for(let a of n){let{source:c,type:u}=a;switch(u){case"space":s=!0;break;case"comment":{t&&!s&&r(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=c.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=c),s=!0;break;default:r(a,"UNEXPECTED_TOKEN",`Unexpected ${u} at node end`);}e+=c.length;}}return {comment:i,offset:e}}nS.resolveEnd=MO;});var oS=E(sS=>{d();var jO=Ie(),$O=ii(),rS=oi(),UO=ai(),HO=ys(),iS=Ao(),KO=Kc(),WO=Ff(),Mf="Block collections are not allowed within flow collections",jf=n=>n&&(n.type==="block-map"||n.type==="block-seq");function VO({composeNode:n,composeEmptyNode:e},t,r,i,s){let o=r.start.source==="{",a=o?"flow map":"flow sequence",c=s?.nodeClass??(o?rS.YAMLMap:UO.YAMLSeq),u=new c(t.schema);u.flow=!0;let f=t.atRoot;f&&(t.atRoot=!1);let h=r.offset+r.start.source.length;for(let C=0;C<r.items.length;++C){let k=r.items[C],{start:O,key:N,sep:A,value:H}=k,$=iS.resolveProps(O,{flow:a,indicator:"explicit-key-ind",next:N??A?.[0],offset:h,onError:i,parentIndent:r.indent,startOnNewline:!1});if(!$.found){if(!$.anchor&&!$.tag&&!A&&!H){C===0&&$.comma?i($.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`):C<r.items.length-1&&i($.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${a}`),$.comment&&(u.comment?u.comment+=`
`+$.comment:u.comment=$.comment),h=$.end;continue}!o&&t.options.strict&&KO.containsNewline(N)&&i(N,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");}if(C===0)$.comma&&i($.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${a}`);else if($.comma||i($.start,"MISSING_CHAR",`Missing , between ${a} items`),$.comment){let W="";e:for(let K of O)switch(K.type){case"comma":case"space":break;case"comment":W=K.source.substring(1);break e;default:break e}if(W){let K=u.items[u.items.length-1];jO.isPair(K)&&(K=K.value??K.key),K.comment?K.comment+=`
`+W:K.comment=W,$.comment=$.comment.substring(W.length+1);}}if(!o&&!A&&!$.found){let W=H?n(t,H,$,i):e(t,$.end,A,null,$,i);u.items.push(W),h=W.range[2],jf(H)&&i(W.range,"BLOCK_IN_FLOW",Mf);}else {let W=$.end,K=N?n(t,N,$,i):e(t,W,O,null,$,i);jf(N)&&i(K.range,"BLOCK_IN_FLOW",Mf);let te=iS.resolveProps(A??[],{flow:a,indicator:"map-value-ind",next:H,offset:K.range[2],onError:i,parentIndent:r.indent,startOnNewline:!1});if(te.found){if(!o&&!$.found&&t.options.strict){if(A)for(let he of A){if(he===te.found)break;if(he.type==="newline"){i(he,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}$.start<te.found.offset-1024&&i(te.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key");}}else H&&("source"in H&&H.source&&H.source[0]===":"?i(H,"MISSING_CHAR",`Missing space after : in ${a}`):i(te.start,"MISSING_CHAR",`Missing , or : between ${a} items`));let Ce=H?n(t,H,te,i):te.found?e(t,te.end,A,null,te,i):null;Ce?jf(H)&&i(Ce.range,"BLOCK_IN_FLOW",Mf):te.comment&&(K.comment?K.comment+=`
`+te.comment:K.comment=te.comment);let _e=new $O.Pair(K,Ce);if(t.options.keepSourceTokens&&(_e.srcToken=k),o){let he=u;WO.mapIncludes(t,he.items,K)&&i(W,"DUPLICATE_KEY","Map keys must be unique"),he.items.push(_e);}else {let he=new rS.YAMLMap(t.schema);he.flow=!0,he.items.push(_e),u.items.push(he);}h=Ce?Ce.range[2]:te.end;}}let p=o?"}":"]",[w,...y]=r.end,b=h;if(w&&w.source===p)b=w.offset+w.source.length;else {let C=a[0].toUpperCase()+a.substring(1),k=f?`${C} must end with a ${p}`:`${C} in block collection must be sufficiently indented and end with a ${p}`;i(h,f?"MISSING_CHAR":"BAD_INDENT",k),w&&w.source.length!==1&&y.unshift(w);}if(y.length>0){let C=HO.resolveEnd(y,b,t.options.strict,i);C.comment&&(u.comment?u.comment+=`
`+C.comment:u.comment=C.comment),u.range=[r.offset,b,C.offset];}else u.range=[r.offset,b,b];return u}sS.resolveFlowCollection=VO;});var cS=E(aS=>{d();var BO=Ie(),zO=vt(),GO=oi(),YO=ai(),JO=Zb(),XO=tS(),QO=oS();function $f(n,e,t,r,i,s){let o=t.type==="block-map"?JO.resolveBlockMap(n,e,t,r,s):t.type==="block-seq"?XO.resolveBlockSeq(n,e,t,r,s):QO.resolveFlowCollection(n,e,t,r,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function ZO(n,e,t,r,i){let s=r.tag,o=s?e.directives.tagName(s.source,p=>i(s,"TAG_RESOLVE_FAILED",p)):null;if(t.type==="block-seq"){let{anchor:p,newlineAfterProp:w}=r,y=p&&s?p.offset>s.offset?p:s:p??s;y&&(!w||w.offset<y.offset)&&i(y,"MISSING_CHAR","Missing newline after block sequence props");}let a=t.type==="block-map"?"map":t.type==="block-seq"?"seq":t.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===GO.YAMLMap.tagName&&a==="map"||o===YO.YAMLSeq.tagName&&a==="seq")return $f(n,e,t,i,o);let c=e.schema.tags.find(p=>p.tag===o&&p.collection===a);if(!c){let p=e.schema.knownTags[o];if(p&&p.collection===a)e.schema.tags.push(Object.assign({},p,{default:!1})),c=p;else return p?.collection?i(s,"BAD_COLLECTION_TYPE",`${p.tag} used for ${a} collection, but expects ${p.collection}`,!0):i(s,"TAG_RESOLVE_FAILED",`Unresolved tag: ${o}`,!0),$f(n,e,t,i,o)}let u=$f(n,e,t,i,o,c),f=c.resolve?.(u,p=>i(s,"TAG_RESOLVE_FAILED",p),e.options)??u,h=BO.isNode(f)?f:new zO.Scalar(f);return h.range=u.range,h.tag=o,c?.format&&(h.format=c.format),h}aS.composeCollection=ZO;});var Hf=E(uS=>{d();var Uf=vt();function eN(n,e,t){let r=e.offset,i=tN(e,n.options.strict,t);if(!i)return {value:"",type:null,comment:"",range:[r,r,r]};let s=i.mode===">"?Uf.Scalar.BLOCK_FOLDED:Uf.Scalar.BLOCK_LITERAL,o=e.source?nN(e.source):[],a=o.length;for(let b=o.length-1;b>=0;--b){let C=o[b][1];if(C===""||C==="\r")a=b;else break}if(a===0){let b=i.chomp==="+"&&o.length>0?`
`.repeat(Math.max(1,o.length-1)):"",C=r+i.length;return e.source&&(C+=e.source.length),{value:b,type:s,comment:i.comment,range:[r,C,C]}}let c=e.indent+i.indent,u=e.offset+i.length,f=0;for(let b=0;b<a;++b){let[C,k]=o[b];if(k===""||k==="\r")i.indent===0&&C.length>c&&(c=C.length);else {C.length<c&&t(u+C.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(c=C.length),f=b,c===0&&!n.atRoot&&t(u,"BAD_INDENT","Block scalar values in collections must be indented");break}u+=C.length+k.length+1;}for(let b=o.length-1;b>=a;--b)o[b][0].length>c&&(a=b+1);let h="",p="",w=!1;for(let b=0;b<f;++b)h+=o[b][0].slice(c)+`
`;for(let b=f;b<a;++b){let[C,k]=o[b];u+=C.length+k.length+1;let O=k[k.length-1]==="\r";if(O&&(k=k.slice(0,-1)),k&&C.length<c){let A=`Block scalar lines must not be less indented than their ${i.indent?"explicit indentation indicator":"first line"}`;t(u-k.length-(O?2:1),"BAD_INDENT",A),C="";}s===Uf.Scalar.BLOCK_LITERAL?(h+=p+C.slice(c)+k,p=`
`):C.length>c||k[0]==="	"?(p===" "?p=`
`:!w&&p===`
`&&(p=`

`),h+=p+C.slice(c)+k,p=`
`,w=!0):k===""?p===`
`?h+=`
`:p=`
`:(h+=p+k,p=" ",w=!1);}switch(i.chomp){case"-":break;case"+":for(let b=a;b<o.length;++b)h+=`
`+o[b][0].slice(c);h[h.length-1]!==`
`&&(h+=`
`);break;default:h+=`
`;}let y=r+i.length+e.source.length;return {value:h,type:s,comment:i.comment,range:[r,y,y]}}function tN({offset:n,props:e},t,r){if(e[0].type!=="block-scalar-header")return r(e[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=e[0],s=i[0],o=0,a="",c=-1;for(let p=1;p<i.length;++p){let w=i[p];if(!a&&(w==="-"||w==="+"))a=w;else {let y=Number(w);!o&&y?o=y:c===-1&&(c=n+p);}}c!==-1&&r(c,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${i}`);let u=!1,f="",h=i.length;for(let p=1;p<e.length;++p){let w=e[p];switch(w.type){case"space":u=!0;case"newline":h+=w.source.length;break;case"comment":t&&!u&&r(w,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),h+=w.source.length,f=w.source.substring(1);break;case"error":r(w,"UNEXPECTED_TOKEN",w.message),h+=w.source.length;break;default:{let y=`Unexpected token in block scalar header: ${w.type}`;r(w,"UNEXPECTED_TOKEN",y);let b=w.source;b&&typeof b=="string"&&(h+=b.length);}}}return {mode:s,indent:o,chomp:a,comment:f,length:h}}function nN(n){let e=n.split(/\n( *)/),t=e[0],r=t.match(/^( *)/),s=[r?.[1]?[r[1],t.slice(r[1].length)]:["",t]];for(let o=1;o<e.length;o+=2)s.push([e[o],e[o+1]]);return s}uS.resolveBlockScalar=eN;});var Wf=E(dS=>{d();var Kf=vt(),rN=ys();function iN(n,e,t){let{offset:r,type:i,source:s,end:o}=n,a,c,u=(p,w,y)=>t(r+p,w,y);switch(i){case"scalar":a=Kf.Scalar.PLAIN,c=sN(s,u);break;case"single-quoted-scalar":a=Kf.Scalar.QUOTE_SINGLE,c=oN(s,u);break;case"double-quoted-scalar":a=Kf.Scalar.QUOTE_DOUBLE,c=aN(s,u);break;default:return t(n,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${i}`),{value:"",type:null,comment:"",range:[r,r+s.length,r+s.length]}}let f=r+s.length,h=rN.resolveEnd(o,f,e,t);return {value:c,type:a,comment:h.comment,range:[r,f,h.offset]}}function sN(n,e){let t="";switch(n[0]){case"	":t="a tab character";break;case",":t="flow indicator character ,";break;case"%":t="directive indicator character %";break;case"|":case">":{t=`block scalar indicator ${n[0]}`;break}case"@":case"`":{t=`reserved character ${n[0]}`;break}}return t&&e(0,"BAD_SCALAR_START",`Plain value cannot start with ${t}`),lS(n)}function oN(n,e){return (n[n.length-1]!=="'"||n.length===1)&&e(n.length,"MISSING_CHAR","Missing closing 'quote"),lS(n.slice(1,-1)).replace(/''/g,"'")}function lS(n){let e,t;try{e=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),t=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy");}catch{e=/(.*?)[ \t]*\r?\n/sy,t=/[ \t]*(.*?)[ \t]*\r?\n/sy;}let r=e.exec(n);if(!r)return n;let i=r[1],s=" ",o=e.lastIndex;for(t.lastIndex=o;r=t.exec(n);)r[1]===""?s===`
`?i+=s:s=`
`:(i+=s+r[1],s=" "),o=t.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,r=a.exec(n),i+s+(r?.[1]??"")}function aN(n,e){let t="";for(let r=1;r<n.length-1;++r){let i=n[r];if(!(i==="\r"&&n[r+1]===`
`))if(i===`
`){let{fold:s,offset:o}=cN(n,r);t+=s,r=o;}else if(i==="\\"){let s=n[++r],o=uN[s];if(o)t+=o;else if(s===`
`)for(s=n[r+1];s===" "||s==="	";)s=n[++r+1];else if(s==="\r"&&n[r+1]===`
`)for(s=n[++r+1];s===" "||s==="	";)s=n[++r+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];t+=lN(n,r+1,a,e),r+=a;}else {let a=n.substr(r-1,2);e(r-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),t+=a;}}else if(i===" "||i==="	"){let s=r,o=n[r+1];for(;o===" "||o==="	";)o=n[++r+1];o!==`
`&&!(o==="\r"&&n[r+2]===`
`)&&(t+=r>s?n.slice(s,r+1):i);}else t+=i;}return (n[n.length-1]!=='"'||n.length===1)&&e(n.length,"MISSING_CHAR",'Missing closing "quote'),t}function cN(n,e){let t="",r=n[e+1];for(;(r===" "||r==="	"||r===`
`||r==="\r")&&!(r==="\r"&&n[e+2]!==`
`);)r===`
`&&(t+=`
`),e+=1,r=n[e+1];return t||(t=" "),{fold:t,offset:e}}var uN={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function lN(n,e,t,r){let i=n.substr(e,t),o=i.length===t&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=n.substr(e-2,t+2);return r(e-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${a}`),a}return String.fromCodePoint(o)}dS.resolveFlowScalar=iN;});var pS=E(hS=>{d();var vs=Ie(),fS=vt(),dN=Hf(),fN=Wf();function hN(n,e,t,r){let{value:i,type:s,comment:o,range:a}=e.type==="block-scalar"?dN.resolveBlockScalar(n,e,r):fN.resolveFlowScalar(e,n.options.strict,r),c=t?n.directives.tagName(t.source,h=>r(t,"TAG_RESOLVE_FAILED",h)):null,u=t&&c?pN(n.schema,i,c,t,r):e.type==="scalar"?gN(n,i,e,r):n.schema[vs.SCALAR],f;try{let h=u.resolve(i,p=>r(t??e,"TAG_RESOLVE_FAILED",p),n.options);f=vs.isScalar(h)?h:new fS.Scalar(h);}catch(h){let p=h instanceof Error?h.message:String(h);r(t??e,"TAG_RESOLVE_FAILED",p),f=new fS.Scalar(i);}return f.range=a,f.source=i,s&&(f.type=s),c&&(f.tag=c),u.format&&(f.format=u.format),o&&(f.comment=o),f}function pN(n,e,t,r,i){if(t==="!")return n[vs.SCALAR];let s=[];for(let a of n.tags)if(!a.collection&&a.tag===t)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(e))return a;let o=n.knownTags[t];return o&&!o.collection?(n.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(r,"TAG_RESOLVE_FAILED",`Unresolved tag: ${t}`,t!=="tag:yaml.org,2002:str"),n[vs.SCALAR])}function gN({directives:n,schema:e},t,r,i){let s=e.tags.find(o=>o.default&&o.test?.test(t))||e[vs.SCALAR];if(e.compat){let o=e.compat.find(a=>a.default&&a.test?.test(t))??e[vs.SCALAR];if(s.tag!==o.tag){let a=n.tagString(s.tag),c=n.tagString(o.tag),u=`Value may be parsed as either ${a} or ${c}`;i(r,"TAG_RESOLVE_FAILED",u,!0);}}return s}hS.composeScalar=hN;});var mS=E(gS=>{d();function mN(n,e,t){if(e){t===null&&(t=e.length);for(let r=t-1;r>=0;--r){let i=e[r];switch(i.type){case"space":case"comment":case"newline":n-=i.source.length;continue}for(i=e[++r];i?.type==="space";)n+=i.source.length,i=e[++r];break}}return n}gS.emptyScalarPosition=mN;});var wS=E(Bf=>{d();var yN=yo(),vN=cS(),yS=pS(),wN=ys(),bN=mS(),SN={composeNode:vS,composeEmptyNode:Vf};function vS(n,e,t,r){let{spaceBefore:i,comment:s,anchor:o,tag:a}=t,c,u=!0;switch(e.type){case"alias":c=CN(n,e,r),(o||a)&&r(e,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=yS.composeScalar(n,e,a,r),o&&(c.anchor=o.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=vN.composeCollection(SN,n,e,t,r),o&&(c.anchor=o.source.substring(1));break;default:{let f=e.type==="error"?e.message:`Unsupported token (type: ${e.type})`;r(e,"UNEXPECTED_TOKEN",f),c=Vf(n,e.offset,void 0,null,t,r),u=!1;}}return o&&c.anchor===""&&r(o,"BAD_ALIAS","Anchor cannot be an empty string"),i&&(c.spaceBefore=!0),s&&(e.type==="scalar"&&e.source===""?c.comment=s:c.commentBefore=s),n.options.keepSourceTokens&&u&&(c.srcToken=e),c}function Vf(n,e,t,r,{spaceBefore:i,comment:s,anchor:o,tag:a,end:c},u){let f={type:"scalar",offset:bN.emptyScalarPosition(e,t,r),indent:-1,source:""},h=yS.composeScalar(n,f,a,u);return o&&(h.anchor=o.source.substring(1),h.anchor===""&&u(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(h.spaceBefore=!0),s&&(h.comment=s,h.range[2]=c),h}function CN({options:n},{offset:e,source:t,end:r},i){let s=new yN.Alias(t.substring(1));s.source===""&&i(e,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(e+t.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=e+t.length,a=wN.resolveEnd(r,o,n.strict,i);return s.range=[e,o,a.offset],a.comment&&(s.comment=a.comment),s}Bf.composeEmptyNode=Vf;Bf.composeNode=vS;});var CS=E(SS=>{d();var _N=Io(),bS=wS(),DN=ys(),TN=Ao();function RN(n,e,{offset:t,start:r,value:i,end:s},o){let a=Object.assign({_directives:e},n),c=new _N.Document(void 0,a),u={atRoot:!0,directives:c.directives,options:c.options,schema:c.schema},f=TN.resolveProps(r,{indicator:"doc-start",next:i??s?.[0],offset:t,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(c.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),c.contents=i?bS.composeNode(u,i,f,o):bS.composeEmptyNode(u,f.end,r,null,f,o);let h=c.contents.range[2],p=DN.resolveEnd(s,h,!1,o);return p.comment&&(c.comment=p.comment),c.range=[t,h,p.offset],c}SS.composeDoc=RN;});var Gf=E(TS=>{d();var PN=Od(),EN=Io(),Lo=xo(),_S=Ie(),kN=CS(),qN=ys();function Fo(n){if(typeof n=="number")return [n,n+1];if(Array.isArray(n))return n.length===2?n:[n[0],n[1]];let{offset:e,source:t}=n;return [e,e+(typeof t=="string"?t.length:1)]}function DS(n){let e="",t=!1,r=!1;for(let i=0;i<n.length;++i){let s=n[i];switch(s[0]){case"#":e+=(e===""?"":r?`

`:`
`)+(s.substring(1)||" "),t=!0,r=!1;break;case"%":n[i+1]?.[0]!=="#"&&(i+=1),t=!1;break;default:t||(r=!0),t=!1;}}return {comment:e,afterEmptyLine:r}}var zf=class{constructor(e={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(t,r,i,s)=>{let o=Fo(t);s?this.warnings.push(new Lo.YAMLWarning(o,r,i)):this.errors.push(new Lo.YAMLParseError(o,r,i));},this.directives=new PN.Directives({version:e.version||"1.2"}),this.options=e;}decorate(e,t){let{comment:r,afterEmptyLine:i}=DS(this.prelude);if(r){let s=e.contents;if(t)e.comment=e.comment?`${e.comment}
${r}`:r;else if(i||e.directives.docStart||!s)e.commentBefore=r;else if(_S.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];_S.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?`${r}
${a}`:r;}else {let o=s.commentBefore;s.commentBefore=o?`${r}
${o}`:r;}}t?(Array.prototype.push.apply(e.errors,this.errors),Array.prototype.push.apply(e.warnings,this.warnings)):(e.errors=this.errors,e.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[];}streamInfo(){return {comment:DS(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(e,t=!1,r=-1){for(let i of e)yield*this.next(i);yield*this.end(t,r);}*next(e){switch(process.env.LOG_STREAM&&console.dir(e,{depth:null}),e.type){case"directive":this.directives.add(e.source,(t,r,i)=>{let s=Fo(e);s[0]+=t,this.onError(s,"BAD_DIRECTIVE",r,i);}),this.prelude.push(e.source),this.atDirectives=!0;break;case"document":{let t=kN.composeDoc(this.options,this.directives,e,this.onError);this.atDirectives&&!t.directives.docStart&&this.onError(e,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(t,!1),this.doc&&(yield this.doc),this.doc=t,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(e.source);break;case"error":{let t=e.source?`${e.message}: ${JSON.stringify(e.source)}`:e.message,r=new Lo.YAMLParseError(Fo(e),"UNEXPECTED_TOKEN",t);this.atDirectives||!this.doc?this.errors.push(r):this.doc.errors.push(r);break}case"doc-end":{if(!this.doc){let r="Unexpected doc-end without preceding document";this.errors.push(new Lo.YAMLParseError(Fo(e),"UNEXPECTED_TOKEN",r));break}this.doc.directives.docEnd=!0;let t=qN.resolveEnd(e.end,e.offset+e.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),t.comment){let r=this.doc.comment;this.doc.comment=r?`${r}
${t.comment}`:t.comment;}this.doc.range[2]=t.offset;break}default:this.errors.push(new Lo.YAMLParseError(Fo(e),"UNEXPECTED_TOKEN",`Unsupported token ${e.type}`));}}*end(e=!1,t=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(e){let r=Object.assign({_directives:this.directives},this.options),i=new EN.Document(void 0,r);this.atDirectives&&this.onError(t,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,t,t],this.decorate(i,!1),yield i;}}};TS.Composer=zf;});var ES=E(Wc=>{d();var IN=Hf(),ON=Wf(),NN=xo(),RS=Co();function xN(n,e=!0,t){if(n){let r=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(t)t(a,s,o);else throw new NN.YAMLParseError([a,a+1],s,o)};switch(n.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return ON.resolveFlowScalar(n,e,r);case"block-scalar":return IN.resolveBlockScalar({options:{strict:e}},n,r)}}return null}function AN(n,e){let{implicitKey:t=!1,indent:r,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=e,a=RS.stringifyString({type:o,value:n},{implicitKey:t,indent:r>0?" ".repeat(r):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),c=e.end??[{type:"newline",offset:-1,indent:r,source:`
`}];switch(a[0]){case"|":case">":{let u=a.indexOf(`
`),f=a.substring(0,u),h=a.substring(u+1)+`
`,p=[{type:"block-scalar-header",offset:s,indent:r,source:f}];return PS(p,c)||p.push({type:"newline",offset:-1,indent:r,source:`
`}),{type:"block-scalar",offset:s,indent:r,props:p,source:h}}case'"':return {type:"double-quoted-scalar",offset:s,indent:r,source:a,end:c};case"'":return {type:"single-quoted-scalar",offset:s,indent:r,source:a,end:c};default:return {type:"scalar",offset:s,indent:r,source:a,end:c}}}function LN(n,e,t={}){let{afterKey:r=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=t,a="indent"in n?n.indent:null;if(r&&typeof a=="number"&&(a+=2),!o)switch(n.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let u=n.props[0];if(u.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=u.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN";}let c=RS.stringifyString({type:o,value:e},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(c[0]){case"|":case">":FN(n,c);break;case'"':Yf(n,c,"double-quoted-scalar");break;case"'":Yf(n,c,"single-quoted-scalar");break;default:Yf(n,c,"scalar");}}function FN(n,e){let t=e.indexOf(`
`),r=e.substring(0,t),i=e.substring(t+1)+`
`;if(n.type==="block-scalar"){let s=n.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=r,n.source=i;}else {let{offset:s}=n,o="indent"in n?n.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:r}];PS(a,"end"in n?n.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:`
`});for(let c of Object.keys(n))c!=="type"&&c!=="offset"&&delete n[c];Object.assign(n,{type:"block-scalar",indent:o,props:a,source:i});}}function PS(n,e){if(e)for(let t of e)switch(t.type){case"space":case"comment":n.push(t);break;case"newline":return n.push(t),!0}return !1}function Yf(n,e,t){switch(n.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":n.type=t,n.source=e;break;case"block-scalar":{let r=n.props.slice(1),i=e.length;n.props[0].type==="block-scalar-header"&&(i-=n.props[0].source.length);for(let s of r)s.offset+=i;delete n.props,Object.assign(n,{type:t,source:e,end:r});break}case"block-map":case"block-seq":{let i={type:"newline",offset:n.offset+e.length,indent:n.indent,source:`
`};delete n.items,Object.assign(n,{type:t,source:e,end:[i]});break}default:{let r="indent"in n?n.indent:-1,i="end"in n&&Array.isArray(n.end)?n.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(n))s!=="type"&&s!=="offset"&&delete n[s];Object.assign(n,{type:t,indent:r,source:e,end:i});}}}Wc.createScalarToken=AN;Wc.resolveAsScalar=xN;Wc.setScalarValue=LN;});var qS=E(kS=>{d();var MN=n=>"type"in n?Bc(n):Vc(n);function Bc(n){switch(n.type){case"block-scalar":{let e="";for(let t of n.props)e+=Bc(t);return e+n.source}case"block-map":case"block-seq":{let e="";for(let t of n.items)e+=Vc(t);return e}case"flow-collection":{let e=n.start.source;for(let t of n.items)e+=Vc(t);for(let t of n.end)e+=t.source;return e}case"document":{let e=Vc(n);if(n.end)for(let t of n.end)e+=t.source;return e}default:{let e=n.source;if("end"in n&&n.end)for(let t of n.end)e+=t.source;return e}}}function Vc({start:n,key:e,sep:t,value:r}){let i="";for(let s of n)i+=s.source;if(e&&(i+=Bc(e)),t)for(let s of t)i+=s.source;return r&&(i+=Bc(r)),i}kS.stringify=MN;});var xS=E(NS=>{d();var Jf=Symbol("break visit"),jN=Symbol("skip children"),IS=Symbol("remove item");function ji(n,e){"type"in n&&n.type==="document"&&(n={start:n.start,value:n.value}),OS(Object.freeze([]),n,e);}ji.BREAK=Jf;ji.SKIP=jN;ji.REMOVE=IS;ji.itemAtPath=(n,e)=>{let t=n;for(let[r,i]of e){let s=t?.[r];if(s&&"items"in s)t=s.items[i];else return}return t};ji.parentCollection=(n,e)=>{let t=ji.itemAtPath(n,e.slice(0,-1)),r=e[e.length-1][0],i=t?.[r];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function OS(n,e,t){let r=t(e,n);if(typeof r=="symbol")return r;for(let i of ["key","value"]){let s=e[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=OS(Object.freeze(n.concat([[i,o]])),s.items[o],t);if(typeof a=="number")o=a-1;else {if(a===Jf)return Jf;a===IS&&(s.items.splice(o,1),o-=1);}}typeof r=="function"&&i==="key"&&(r=r(e,n));}}return typeof r=="function"?r(e,n):r}NS.visit=ji;});var zc=E(sn=>{d();var Xf=ES(),$N=qS(),UN=xS(),Qf="\uFEFF",Zf="",eh="",th="",HN=n=>!!n&&"items"in n,KN=n=>!!n&&(n.type==="scalar"||n.type==="single-quoted-scalar"||n.type==="double-quoted-scalar"||n.type==="block-scalar");function WN(n){switch(n){case Qf:return "<BOM>";case Zf:return "<DOC>";case eh:return "<FLOW_END>";case th:return "<SCALAR>";default:return JSON.stringify(n)}}function VN(n){switch(n){case Qf:return "byte-order-mark";case Zf:return "doc-mode";case eh:return "flow-error-end";case th:return "scalar";case"---":return "doc-start";case"...":return "doc-end";case"":case`
`:case`\r
`:return "newline";case"-":return "seq-item-ind";case"?":return "explicit-key-ind";case":":return "map-value-ind";case"{":return "flow-map-start";case"}":return "flow-map-end";case"[":return "flow-seq-start";case"]":return "flow-seq-end";case",":return "comma"}switch(n[0]){case" ":case"	":return "space";case"#":return "comment";case"%":return "directive-line";case"*":return "alias";case"&":return "anchor";case"!":return "tag";case"'":return "single-quoted-scalar";case'"':return "double-quoted-scalar";case"|":case">":return "block-scalar-header"}return null}sn.createScalarToken=Xf.createScalarToken;sn.resolveAsScalar=Xf.resolveAsScalar;sn.setScalarValue=Xf.setScalarValue;sn.stringify=$N.stringify;sn.visit=UN.visit;sn.BOM=Qf;sn.DOCUMENT=Zf;sn.FLOW_END=eh;sn.SCALAR=th;sn.isCollection=HN;sn.isScalar=KN;sn.prettyToken=WN;sn.tokenType=VN;});var ih=E(LS=>{d();var Mo=zc();function Yn(n){switch(n){case void 0:case" ":case`
`:case"\r":case"	":return !0;default:return !1}}var AS=new Set("0123456789ABCDEFabcdef"),BN=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Gc=new Set(",[]{}"),zN=new Set(` ,[]{}
\r	`),nh=n=>!n||zN.has(n),rh=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0;}*lex(e,t=!1){if(e){if(typeof e!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+e:e,this.lineEndPos=null;}this.atEnd=!t;let r=this.next??"stream";for(;r&&(t||this.hasChars(1));)r=yield*this.parseNext(r);}atLineEnd(){let e=this.pos,t=this.buffer[e];for(;t===" "||t==="	";)t=this.buffer[++e];return !t||t==="#"||t===`
`?!0:t==="\r"?this.buffer[e+1]===`
`:!1}charAt(e){return this.buffer[this.pos+e]}continueScalar(e){let t=this.buffer[e];if(this.indentNext>0){let r=0;for(;t===" ";)t=this.buffer[++r+e];if(t==="\r"){let i=this.buffer[r+e+1];if(i===`
`||!i&&!this.atEnd)return e+r+1}return t===`
`||r>=this.indentNext||!t&&!this.atEnd?e+r:-1}if(t==="-"||t==="."){let r=this.buffer.substr(e,3);if((r==="---"||r==="...")&&Yn(this.buffer[e+3]))return -1}return e}getLine(){let e=this.lineEndPos;return (typeof e!="number"||e!==-1&&e<this.pos)&&(e=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=e),e===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[e-1]==="\r"&&(e-=1),this.buffer.substring(this.pos,e))}hasChars(e){return this.pos+e<=this.buffer.length}setNext(e){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=e,null}peek(e){return this.buffer.substr(this.pos,e)}*parseNext(e){switch(e){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let e=this.getLine();if(e===null)return this.setNext("stream");if(e[0]===Mo.BOM&&(yield*this.pushCount(1),e=e.substring(1)),e[0]==="%"){let t=e.length,r=e.indexOf("#");for(;r!==-1;){let s=e[r-1];if(s===" "||s==="	"){t=r-1;break}else r=e.indexOf("#",r+1);}for(;;){let s=e[t-1];if(s===" "||s==="	")t-=1;else break}let i=(yield*this.pushCount(t))+(yield*this.pushSpaces(!0));return yield*this.pushCount(e.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let t=yield*this.pushSpaces(!0);return yield*this.pushCount(e.length-t),yield*this.pushNewline(),"stream"}return yield Mo.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let e=this.charAt(0);if(!e&&!this.atEnd)return this.setNext("line-start");if(e==="-"||e==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let t=this.peek(3);if((t==="---"||t==="...")&&Yn(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,t==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!Yn(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[e,t]=this.peek(2);if(!t&&!this.atEnd)return this.setNext("block-start");if((e==="-"||e==="?"||e===":")&&Yn(t)){let r=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=r,yield*this.parseBlockStart()}return "doc"}*parseDocument(){yield*this.pushSpaces(!0);let e=this.getLine();if(e===null)return this.setNext("doc");let t=yield*this.pushIndicators();switch(e[t]){case"#":yield*this.pushCount(e.length-t);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(nh),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return t+=yield*this.parseBlockScalarHeader(),t+=yield*this.pushSpaces(!0),yield*this.pushCount(e.length-t),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let e,t,r=-1;do e=yield*this.pushNewline(),e>0?(t=yield*this.pushSpaces(!1),this.indentValue=r=t):t=0,t+=yield*this.pushSpaces(!0);while(e+t>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((r!==-1&&r<this.indentNext&&i[0]!=="#"||r===0&&(i.startsWith("---")||i.startsWith("..."))&&Yn(i[3]))&&!(r===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield Mo.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return "flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(nh),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||Yn(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let e=this.charAt(0),t=this.buffer.indexOf(e,this.pos+1);if(e==="'")for(;t!==-1&&this.buffer[t+1]==="'";)t=this.buffer.indexOf("'",t+2);else for(;t!==-1;){let s=0;for(;this.buffer[t-1-s]==="\\";)s+=1;if(s%2===0)break;t=this.buffer.indexOf('"',t+1);}let r=this.buffer.substring(0,t),i=r.indexOf(`
`,this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=r.indexOf(`
`,s);}i!==-1&&(t=i-(r[i-1]==="\r"?2:1));}if(t===-1){if(!this.atEnd)return this.setNext("quoted-scalar");t=this.buffer.length;}return yield*this.pushToIndex(t+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let e=this.pos;for(;;){let t=this.buffer[++e];if(t==="+")this.blockScalarKeep=!0;else if(t>"0"&&t<="9")this.blockScalarIndent=Number(t)-1;else if(t!=="-")break}return yield*this.pushUntil(t=>Yn(t)||t==="#")}*parseBlockScalar(){let e=this.pos-1,t=0,r;e:for(let s=this.pos;r=this.buffer[s];++s)switch(r){case" ":t+=1;break;case`
`:e=s,t=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o===`
`)break}default:break e}if(!r&&!this.atEnd)return this.setNext("block-scalar");if(t>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=t:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(e+1);if(s===-1)break;e=this.buffer.indexOf(`
`,s);}while(e!==-1);if(e===-1){if(!this.atEnd)return this.setNext("block-scalar");e=this.buffer.length;}}let i=e+1;for(r=this.buffer[i];r===" ";)r=this.buffer[++i];if(r==="	"){for(;r==="	"||r===" "||r==="\r"||r===`
`;)r=this.buffer[++i];e=i-1;}else if(!this.blockScalarKeep)do{let s=e-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o===`
`&&s>=this.pos&&s+1+t>a)e=s;else break}while(!0);return yield Mo.SCALAR,yield*this.pushToIndex(e+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let e=this.flowLevel>0,t=this.pos-1,r=this.pos-1,i;for(;i=this.buffer[++r];)if(i===":"){let s=this.buffer[r+1];if(Yn(s)||e&&Gc.has(s))break;t=r;}else if(Yn(i)){let s=this.buffer[r+1];if(i==="\r"&&(s===`
`?(r+=1,i=`
`,s=this.buffer[r+1]):t=r),s==="#"||e&&Gc.has(s))break;if(i===`
`){let o=this.continueScalar(r+1);if(o===-1)break;r=Math.max(r,o-2);}}else {if(e&&Gc.has(i))break;t=r;}return !i&&!this.atEnd?this.setNext("plain-scalar"):(yield Mo.SCALAR,yield*this.pushToIndex(t+1,!0),e?"flow":"doc")}*pushCount(e){return e>0?(yield this.buffer.substr(this.pos,e),this.pos+=e,e):0}*pushToIndex(e,t){let r=this.buffer.slice(this.pos,e);return r?(yield r,this.pos+=r.length,r.length):(t&&(yield ""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return (yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return (yield*this.pushUntil(nh))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let e=this.flowLevel>0,t=this.charAt(1);if(Yn(t)||e&&Gc.has(t))return e?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let e=this.pos+2,t=this.buffer[e];for(;!Yn(t)&&t!==">";)t=this.buffer[++e];return yield*this.pushToIndex(t===">"?e+1:e,!1)}else {let e=this.pos+1,t=this.buffer[e];for(;t;)if(BN.has(t))t=this.buffer[++e];else if(t==="%"&&AS.has(this.buffer[e+1])&&AS.has(this.buffer[e+2]))t=this.buffer[e+=3];else break;return yield*this.pushToIndex(e,!1)}}*pushNewline(){let e=this.buffer[this.pos];return e===`
`?yield*this.pushCount(1):e==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(e){let t=this.pos-1,r;do r=this.buffer[++t];while(r===" "||e&&r==="	");let i=t-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=t),i}*pushUntil(e){let t=this.pos,r=this.buffer[t];for(;!e(r);)r=this.buffer[++t];return yield*this.pushToIndex(t,!1)}};LS.Lexer=rh;});var oh=E(FS=>{d();var sh=class{constructor(){this.lineStarts=[],this.addNewLine=e=>this.lineStarts.push(e),this.linePos=e=>{let t=0,r=this.lineStarts.length;for(;t<r;){let s=t+r>>1;this.lineStarts[s]<e?t=s+1:r=s;}if(this.lineStarts[t]===e)return {line:t+1,col:1};if(t===0)return {line:0,col:e};let i=this.lineStarts[t-1];return {line:t,col:e-i+1}};}};FS.LineCounter=sh;});var ch=E(HS=>{d();var MS=zc(),GN=ih();function $i(n,e){for(let t=0;t<n.length;++t)if(n[t].type===e)return !0;return !1}function jS(n){for(let e=0;e<n.length;++e)switch(n[e].type){case"space":case"comment":case"newline":break;default:return e}return -1}function US(n){switch(n?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return !0;default:return !1}}function Yc(n){switch(n.type){case"document":return n.start;case"block-map":{let e=n.items[n.items.length-1];return e.sep??e.start}case"block-seq":return n.items[n.items.length-1].start;default:return []}}function ws(n){if(n.length===0)return [];let e=n.length;e:for(;--e>=0;)switch(n[e].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;n[++e]?.type==="space";);return n.splice(e,n.length)}function $S(n){if(n.start.type==="flow-seq-start")for(let e of n.items)e.sep&&!e.value&&!$i(e.start,"explicit-key-ind")&&!$i(e.sep,"map-value-ind")&&(e.key&&(e.value=e.key),delete e.key,US(e.value)?e.value.end?Array.prototype.push.apply(e.value.end,e.sep):e.value.end=e.sep:Array.prototype.push.apply(e.start,e.sep),delete e.sep);}var ah=class{constructor(e){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new GN.Lexer,this.onNewLine=e;}*parse(e,t=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let r of this.lexer.lex(e,t))yield*this.next(r);t||(yield*this.end());}*next(e){if(this.source=e,process.env.LOG_TOKENS&&console.log("|",MS.prettyToken(e)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=e.length;return}let t=MS.tokenType(e);if(t)if(t==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else {switch(this.type=t,yield*this.step(),t){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+e.length);break;case"space":this.atNewLine&&e[0]===" "&&(this.indent+=e.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=e.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1;}this.offset+=e.length;}else {let r=`Not a YAML token: ${e}`;yield*this.pop({type:"error",offset:this.offset,message:r,source:e}),this.offset+=e.length;}}*end(){for(;this.stack.length>0;)yield*this.pop();}get sourceToken(){return {type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let e=this.peek(1);if(this.type==="doc-end"&&(!e||e.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!e)return yield*this.stream();switch(e.type){case"document":return yield*this.document(e);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(e);case"block-scalar":return yield*this.blockScalar(e);case"block-map":return yield*this.blockMap(e);case"block-seq":return yield*this.blockSequence(e);case"flow-collection":return yield*this.flowCollection(e);case"doc-end":return yield*this.documentEnd(e)}yield*this.pop();}peek(e){return this.stack[this.stack.length-e]}*pop(e){let t=e??this.stack.pop();if(!t)yield {type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield t;else {let r=this.peek(1);switch(t.type==="block-scalar"?t.indent="indent"in r?r.indent:0:t.type==="flow-collection"&&r.type==="document"&&(t.indent=0),t.type==="flow-collection"&&$S(t),r.type){case"document":r.value=t;break;case"block-scalar":r.props.push(t);break;case"block-map":{let i=r.items[r.items.length-1];if(i.value){r.items.push({start:[],key:t,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=t;else {Object.assign(i,{key:t,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=r.items[r.items.length-1];i.value?r.items.push({start:[],value:t}):i.value=t;break}case"flow-collection":{let i=r.items[r.items.length-1];!i||i.value?r.items.push({start:[],key:t,sep:[]}):i.sep?i.value=t:Object.assign(i,{key:t,sep:[]});return}default:yield*this.pop(),yield*this.pop(t);}if((r.type==="document"||r.type==="block-map"||r.type==="block-seq")&&(t.type==="block-map"||t.type==="block-seq")){let i=t.items[t.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&jS(i.start)===-1&&(t.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<t.indent))&&(r.type==="document"?r.end=i.start:r.items.push({start:i.start}),t.items.splice(-1,1));}}}*stream(){switch(this.type){case"directive-line":yield {type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let e={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&e.start.push(this.sourceToken),this.stack.push(e);return}}yield {type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source};}*document(e){if(e.value)return yield*this.lineEnd(e);switch(this.type){case"doc-start":{jS(e.start)!==-1?(yield*this.pop(),yield*this.step()):e.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":e.start.push(this.sourceToken);return}let t=this.startBlockValue(e);t?this.stack.push(t):yield {type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source};}*scalar(e){if(this.type==="map-value-ind"){let t=Yc(this.peek(2)),r=ws(t),i;e.end?(i=e.end,i.push(this.sourceToken),delete e.end):i=[this.sourceToken];let s={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:r,key:e,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s;}else yield*this.lineEnd(e);}*blockScalar(e){switch(this.type){case"space":case"comment":case"newline":e.props.push(this.sourceToken);return;case"scalar":if(e.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1;}yield*this.pop();break;default:yield*this.pop(),yield*this.step();}}*blockMap(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,t.value){let r="end"in t.value?t.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]});}else t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else if(t.sep)t.sep.push(this.sourceToken);else {if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken);}return}if(this.indent>=e.indent){let r=!this.onKeyLine&&this.indent===e.indent,i=r&&(t.sep||t.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&t.sep&&!t.value){let o=[];for(let a=0;a<t.sep.length;++a){let c=t.sep[a];switch(c.type){case"newline":o.push(a);break;case"space":break;case"comment":c.indent>e.indent&&(o.length=0);break;default:o.length=0;}}o.length>=2&&(s=t.sep.splice(o[1]));}switch(this.type){case"anchor":case"tag":i||t.value?(s.push(this.sourceToken),e.items.push({start:s}),this.onKeyLine=!0):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"explicit-key-ind":!t.sep&&!t.explicitKey?(t.start.push(this.sourceToken),t.explicitKey=!0):i||t.value?(s.push(this.sourceToken),e.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(t.explicitKey)if(t.sep)if(t.value)e.items.push({start:[],key:null,sep:[this.sourceToken]});else if($i(t.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(US(t.key)&&!$i(t.sep,"newline")){let o=ws(t.start),a=t.key,c=t.sep;c.push(this.sourceToken),delete t.key,delete t.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:c}]});}else s.length>0?t.sep=t.sep.concat(s,this.sourceToken):t.sep.push(this.sourceToken);else if($i(t.start,"newline"))Object.assign(t,{key:null,sep:[this.sourceToken]});else {let o=ws(t.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]});}else t.sep?t.value||i?e.items.push({start:s,key:null,sep:[this.sourceToken]}):$i(t.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||t.value?(e.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):t.sep?this.stack.push(o):(Object.assign(t,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(e);if(o){r&&o.type!=="block-seq"&&e.items.push({start:s}),this.stack.push(o);return}}}}yield*this.pop(),yield*this.step();}*blockSequence(e){let t=e.items[e.items.length-1];switch(this.type){case"newline":if(t.value){let r="end"in t.value?t.value.end:void 0;(Array.isArray(r)?r[r.length-1]:void 0)?.type==="comment"?r?.push(this.sourceToken):e.items.push({start:[this.sourceToken]});}else t.start.push(this.sourceToken);return;case"space":case"comment":if(t.value)e.items.push({start:[this.sourceToken]});else {if(this.atIndentedComment(t.start,e.indent)){let i=e.items[e.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,t.start),i.push(this.sourceToken),e.items.pop();return}}t.start.push(this.sourceToken);}return;case"anchor":case"tag":if(t.value||this.indent<=e.indent)break;t.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==e.indent)break;t.value||$i(t.start,"seq-item-ind")?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return}if(this.indent>e.indent){let r=this.startBlockValue(e);if(r){this.stack.push(r);return}}yield*this.pop(),yield*this.step();}*flowCollection(e){let t=e.items[e.items.length-1];if(this.type==="flow-error-end"){let r;do yield*this.pop(),r=this.peek(1);while(r&&r.type==="flow-collection")}else if(e.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!t||t.sep?e.items.push({start:[this.sourceToken]}):t.start.push(this.sourceToken);return;case"map-value-ind":!t||t.value?e.items.push({start:[],key:null,sep:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):Object.assign(t,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!t||t.value?e.items.push({start:[this.sourceToken]}):t.sep?t.sep.push(this.sourceToken):t.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!t||t.value?e.items.push({start:[],key:i,sep:[]}):t.sep?this.stack.push(i):Object.assign(t,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":e.end.push(this.sourceToken);return}let r=this.startBlockValue(e);r?this.stack.push(r):(yield*this.pop(),yield*this.step());}else {let r=this.peek(2);if(r.type==="block-map"&&(this.type==="map-value-ind"&&r.indent===e.indent||this.type==="newline"&&!r.items[r.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&r.type!=="flow-collection"){let i=Yc(r),s=ws(i);$S(e);let o=e.end.splice(1,e.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:e.offset,indent:e.indent,items:[{start:s,key:e,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a;}else yield*this.lineEnd(e);}}flowScalar(e){if(this.onNewLine){let t=this.source.indexOf(`
`)+1;for(;t!==0;)this.onNewLine(this.offset+t),t=this.source.indexOf(`
`,t)+1;}return {type:e,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(e){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return {type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return {type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return {type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let t=Yc(e),r=ws(t);return r.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let t=Yc(e),r=ws(t);return {type:"block-map",offset:this.offset,indent:this.indent,items:[{start:r,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(e,t){return this.type!=="comment"||this.indent<=t?!1:e.every(r=>r.type==="newline"||r.type==="space")}*documentEnd(e){this.type!=="doc-mode"&&(e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()));}*lineEnd(e){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:e.end?e.end.push(this.sourceToken):e.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop());}}};HS.Parser=ah;});var zS=E($o=>{d();var KS=Gf(),YN=Io(),jo=xo(),JN=Vd(),XN=oh(),WS=ch();function VS(n){let e=n.prettyErrors!==!1;return {lineCounter:n.lineCounter||e&&new XN.LineCounter||null,prettyErrors:e}}function QN(n,e={}){let{lineCounter:t,prettyErrors:r}=VS(e),i=new WS.Parser(t?.addNewLine),s=new KS.Composer(e),o=Array.from(s.compose(i.parse(n)));if(r&&t)for(let a of o)a.errors.forEach(jo.prettifyError(n,t)),a.warnings.forEach(jo.prettifyError(n,t));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function BS(n,e={}){let{lineCounter:t,prettyErrors:r}=VS(e),i=new WS.Parser(t?.addNewLine),s=new KS.Composer(e),o=null;for(let a of s.compose(i.parse(n),!0,n.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new jo.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return r&&t&&(o.errors.forEach(jo.prettifyError(n,t)),o.warnings.forEach(jo.prettifyError(n,t))),o}function ZN(n,e,t){let r;typeof e=="function"?r=e:t===void 0&&e&&typeof e=="object"&&(t=e);let i=BS(n,t);if(!i)return null;if(i.warnings.forEach(s=>JN.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[];}return i.toJS(Object.assign({reviver:r},t))}function ex(n,e,t){let r=null;if(typeof e=="function"||Array.isArray(e)?r=e:t===void 0&&e&&(t=e),typeof t=="string"&&(t=t.length),typeof t=="number"){let i=Math.round(t);t=i<1?void 0:i>8?{indent:8}:{indent:i};}if(n===void 0){let{keepUndefined:i}=t??e??{};if(!i)return}return new YN.Document(n,r,t).toString(t)}$o.parse=ZN;$o.parseAllDocuments=QN;$o.parseDocument=BS;$o.stringify=ex;});var lh=E(Le=>{d();var tx=Gf(),nx=Io(),rx=Ef(),uh=xo(),ix=yo(),ci=Ie(),sx=ii(),ox=vt(),ax=oi(),cx=ai(),ux=zc(),lx=ih(),dx=oh(),fx=ch(),Jc=zS(),GS=ho();Le.Composer=tx.Composer;Le.Document=nx.Document;Le.Schema=rx.Schema;Le.YAMLError=uh.YAMLError;Le.YAMLParseError=uh.YAMLParseError;Le.YAMLWarning=uh.YAMLWarning;Le.Alias=ix.Alias;Le.isAlias=ci.isAlias;Le.isCollection=ci.isCollection;Le.isDocument=ci.isDocument;Le.isMap=ci.isMap;Le.isNode=ci.isNode;Le.isPair=ci.isPair;Le.isScalar=ci.isScalar;Le.isSeq=ci.isSeq;Le.Pair=sx.Pair;Le.Scalar=ox.Scalar;Le.YAMLMap=ax.YAMLMap;Le.YAMLSeq=cx.YAMLSeq;Le.CST=ux;Le.Lexer=lx.Lexer;Le.LineCounter=dx.LineCounter;Le.Parser=fx.Parser;Le.parse=Jc.parse;Le.parseAllDocuments=Jc.parseAllDocuments;Le.parseDocument=Jc.parseDocument;Le.stringify=Jc.stringify;Le.visit=GS.visit;Le.visitAsync=GS.visitAsync;});var Ds=E($t=>{d();Object.defineProperty($t,"__esModule",{value:!0});$t.stringArray=$t.array=$t.func=$t.error=$t.number=$t.string=$t.boolean=void 0;function h1(n){return n===!0||n===!1}$t.boolean=h1;function FC(n){return typeof n=="string"||n instanceof String}$t.string=FC;function p1(n){return typeof n=="number"||n instanceof Number}$t.number=p1;function g1(n){return n instanceof Error}$t.error=g1;function m1(n){return typeof n=="function"}$t.func=m1;function MC(n){return Array.isArray(n)}$t.array=MC;function y1(n){return MC(n)&&n.every(e=>FC(e))}$t.stringArray=y1;});var Kh=E(ne=>{d();Object.defineProperty(ne,"__esModule",{value:!0});ne.Message=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType=ne.RequestType0=ne.AbstractMessageSignature=ne.ParameterStructures=ne.ResponseError=ne.ErrorCodes=void 0;var Hi=Ds(),wh;(function(n){n.ParseError=-32700,n.InvalidRequest=-32600,n.MethodNotFound=-32601,n.InvalidParams=-32602,n.InternalError=-32603,n.jsonrpcReservedErrorRangeStart=-32099,n.serverErrorStart=-32099,n.MessageWriteError=-32099,n.MessageReadError=-32098,n.PendingResponseRejected=-32097,n.ConnectionInactive=-32096,n.ServerNotInitialized=-32002,n.UnknownErrorCode=-32001,n.jsonrpcReservedErrorRangeEnd=-32e3,n.serverErrorEnd=-32e3;})(wh||(ne.ErrorCodes=wh={}));var bh=class n extends Error{constructor(e,t,r){super(t),this.code=Hi.number(e)?e:wh.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,n.prototype);}toJson(){let e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}};ne.ResponseError=bh;var on=class n{constructor(e){this.kind=e;}static is(e){return e===n.auto||e===n.byName||e===n.byPosition}toString(){return this.kind}};ne.ParameterStructures=on;on.auto=new on("auto");on.byPosition=new on("byPosition");on.byName=new on("byName");var Ye=class{constructor(e,t){this.method=e,this.numberOfParams=t;}get parameterStructures(){return on.auto}};ne.AbstractMessageSignature=Ye;var Sh=class extends Ye{constructor(e){super(e,0);}};ne.RequestType0=Sh;var Ch=class extends Ye{constructor(e,t=on.auto){super(e,1),this._parameterStructures=t;}get parameterStructures(){return this._parameterStructures}};ne.RequestType=Ch;var _h=class extends Ye{constructor(e,t=on.auto){super(e,1),this._parameterStructures=t;}get parameterStructures(){return this._parameterStructures}};ne.RequestType1=_h;var Dh=class extends Ye{constructor(e){super(e,2);}};ne.RequestType2=Dh;var Th=class extends Ye{constructor(e){super(e,3);}};ne.RequestType3=Th;var Rh=class extends Ye{constructor(e){super(e,4);}};ne.RequestType4=Rh;var Ph=class extends Ye{constructor(e){super(e,5);}};ne.RequestType5=Ph;var Eh=class extends Ye{constructor(e){super(e,6);}};ne.RequestType6=Eh;var kh=class extends Ye{constructor(e){super(e,7);}};ne.RequestType7=kh;var qh=class extends Ye{constructor(e){super(e,8);}};ne.RequestType8=qh;var Ih=class extends Ye{constructor(e){super(e,9);}};ne.RequestType9=Ih;var Oh=class extends Ye{constructor(e,t=on.auto){super(e,1),this._parameterStructures=t;}get parameterStructures(){return this._parameterStructures}};ne.NotificationType=Oh;var Nh=class extends Ye{constructor(e){super(e,0);}};ne.NotificationType0=Nh;var xh=class extends Ye{constructor(e,t=on.auto){super(e,1),this._parameterStructures=t;}get parameterStructures(){return this._parameterStructures}};ne.NotificationType1=xh;var Ah=class extends Ye{constructor(e){super(e,2);}};ne.NotificationType2=Ah;var Lh=class extends Ye{constructor(e){super(e,3);}};ne.NotificationType3=Lh;var Fh=class extends Ye{constructor(e){super(e,4);}};ne.NotificationType4=Fh;var Mh=class extends Ye{constructor(e){super(e,5);}};ne.NotificationType5=Mh;var jh=class extends Ye{constructor(e){super(e,6);}};ne.NotificationType6=jh;var $h=class extends Ye{constructor(e){super(e,7);}};ne.NotificationType7=$h;var Uh=class extends Ye{constructor(e){super(e,8);}};ne.NotificationType8=Uh;var Hh=class extends Ye{constructor(e){super(e,9);}};ne.NotificationType9=Hh;var jC;(function(n){function e(i){let s=i;return s&&Hi.string(s.method)&&(Hi.string(s.id)||Hi.number(s.id))}n.isRequest=e;function t(i){let s=i;return s&&Hi.string(s.method)&&i.id===void 0}n.isNotification=t;function r(i){let s=i;return s&&(s.result!==void 0||!!s.error)&&(Hi.string(s.id)||Hi.number(s.id)||s.id===null)}n.isResponse=r;})(jC||(ne.Message=jC={}));});var Vh=E(di=>{d();var $C;Object.defineProperty(di,"__esModule",{value:!0});di.LRUCache=di.LinkedMap=di.Touch=void 0;var Ut;(function(n){n.None=0,n.First=1,n.AsOld=n.First,n.Last=2,n.AsNew=n.Last;})(Ut||(di.Touch=Ut={}));var uu=class{constructor(){this[$C]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0;}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++;}isEmpty(){return !this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=Ut.None){let r=this._map.get(e);if(r)return t!==Ut.None&&this.touch(r,t),r.value}set(e,t,r=Ut.None){let i=this._map.get(e);if(i)i.value=t,r!==Ut.None&&this.touch(i,r);else {switch(i={key:e,value:t,next:void 0,previous:void 0},r){case Ut.None:this.addItemLast(i);break;case Ut.First:this.addItemFirst(i);break;case Ut.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++;}return this}delete(e){return !!this.remove(e)}remove(e){let t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){let r=this._state,i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next;}}keys(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.key,done:!1};return t=t.next,i}else return {value:void 0,done:!0}}};return r}values(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:t.value,done:!1};return t=t.next,i}else return {value:void 0,done:!0}}};return r}entries(){let e=this._state,t=this._head,r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){let i={value:[t.key,t.value],done:!1};return t=t.next,i}else return {value:void 0,done:!0}}};return r}[($C=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,r=this.size;for(;t&&r>e;)this._map.delete(t.key),t=t.next,r--;this._head=t,this._size=r,t&&(t.previous=void 0),this._state++;}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++;}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++;}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next;}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous;}else {let t=e.next,r=e.previous;if(!t||!r)throw new Error("Invalid list");t.previous=r,r.next=t;}e.next=void 0,e.previous=void 0,this._state++;}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Ut.First&&t!==Ut.Last)){if(t===Ut.First){if(e===this._head)return;let r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++;}else if(t===Ut.Last){if(e===this._tail)return;let r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++;}}}toJSON(){let e=[];return this.forEach((t,r)=>{e.push([r,t]);}),e}fromJSON(e){this.clear();for(let[t,r]of e)this.set(t,r);}};di.LinkedMap=uu;var Wh=class extends uu{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1);}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim();}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim();}get(e,t=Ut.AsNew){return super.get(e,t)}peek(e){return super.get(e,Ut.None)}set(e,t){return super.set(e,t,Ut.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio));}};di.LRUCache=Wh;});var HC=E(lu=>{d();Object.defineProperty(lu,"__esModule",{value:!0});lu.Disposable=void 0;var UC;(function(n){function e(t){return {dispose:t}}n.create=e;})(UC||(lu.Disposable=UC={}));});var fi=E(Gh=>{d();Object.defineProperty(Gh,"__esModule",{value:!0});var Bh;function zh(){if(Bh===void 0)throw new Error("No runtime abstraction layer installed");return Bh}(function(n){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Bh=t;}n.install=e;})(zh||(zh={}));Gh.default=zh;});var Rs=E(Ts=>{d();Object.defineProperty(Ts,"__esModule",{value:!0});Ts.Emitter=Ts.Event=void 0;var v1=fi(),KC;(function(n){let e={dispose(){}};n.None=function(){return e};})(KC||(Ts.Event=KC={}));var Yh=class{add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,t)});}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let i=0,s=this._callbacks.length;i<s;i++)if(this._callbacks[i]===e)if(this._contexts[i]===t){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return [];let t=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let s=0,o=r.length;s<o;s++)try{t.push(r[s].apply(i[s],e));}catch(a){(0, v1.default)().console.error(a);}return t}isEmpty(){return !this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0;}},du=class n{constructor(e){this._options=e;}get event(){return this._event||(this._event=(e,t,r)=>{this._callbacks||(this._callbacks=new Yh),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),i.dispose=n._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this));}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e);}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0);}};Ts.Emitter=du;du._noop=function(){};});var pu=E(Ps=>{d();Object.defineProperty(Ps,"__esModule",{value:!0});Ps.CancellationTokenSource=Ps.CancellationToken=void 0;var w1=fi(),b1=Ds(),Jh=Rs(),fu;(function(n){n.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Jh.Event.None}),n.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Jh.Event.None});function e(t){let r=t;return r&&(r===n.None||r===n.Cancelled||b1.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}n.is=e;})(fu||(Ps.CancellationToken=fu={}));var S1=Object.freeze(function(n,e){let t=(0, w1.default)().timer.setTimeout(n.bind(e),0);return {dispose(){t.dispose();}}}),hu=class{constructor(){this._isCancelled=!1;}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()));}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?S1:(this._emitter||(this._emitter=new Jh.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0);}},Xh=class{get token(){return this._token||(this._token=new hu),this._token}cancel(){this._token?this._token.cancel():this._token=fu.Cancelled;}dispose(){this._token?this._token instanceof hu&&this._token.dispose():this._token=fu.None;}};Ps.CancellationTokenSource=Xh;});var WC=E(Es=>{d();Object.defineProperty(Es,"__esModule",{value:!0});Es.SharedArrayReceiverStrategy=Es.SharedArraySenderStrategy=void 0;var C1=pu(),Go;(function(n){n.Continue=0,n.Cancelled=1;})(Go||(Go={}));var Qh=class{constructor(){this.buffers=new Map;}enableCancellation(e){if(e.id===null)return;let t=new SharedArrayBuffer(4),r=new Int32Array(t,0,1);r[0]=Go.Continue,this.buffers.set(e.id,t),e.$cancellationData=t;}async sendCancellation(e,t){let r=this.buffers.get(t);if(r===void 0)return;let i=new Int32Array(r,0,1);Atomics.store(i,0,Go.Cancelled);}cleanup(e){this.buffers.delete(e);}dispose(){this.buffers.clear();}};Es.SharedArraySenderStrategy=Qh;var Zh=class{constructor(e){this.data=new Int32Array(e,0,1);}get isCancellationRequested(){return Atomics.load(this.data,0)===Go.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ep=class{constructor(e){this.token=new Zh(e);}cancel(){}dispose(){}},tp=class{constructor(){this.kind="request";}createCancellationTokenSource(e){let t=e.$cancellationData;return t===void 0?new C1.CancellationTokenSource:new ep(t)}};Es.SharedArrayReceiverStrategy=tp;});var rp=E(gu=>{d();Object.defineProperty(gu,"__esModule",{value:!0});gu.Semaphore=void 0;var _1=fi(),np=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[];}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext();})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0, _1.default)().timer.setImmediate(()=>this.doRunNext());}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(r=>{this._active--,e.resolve(r),this.runNext();},r=>{this._active--,e.reject(r),this.runNext();}):(this._active--,e.resolve(t),this.runNext());}catch(t){this._active--,e.reject(t),this.runNext();}}};gu.Semaphore=np;});var BC=E(hi=>{d();Object.defineProperty(hi,"__esModule",{value:!0});hi.ReadableStreamMessageReader=hi.AbstractMessageReader=hi.MessageReader=void 0;var sp=fi(),ks=Ds(),ip=Rs(),D1=rp(),VC;(function(n){function e(t){let r=t;return r&&ks.func(r.listen)&&ks.func(r.dispose)&&ks.func(r.onError)&&ks.func(r.onClose)&&ks.func(r.onPartialMessage)}n.is=e;})(VC||(hi.MessageReader=VC={}));var mu=class{constructor(){this.errorEmitter=new ip.Emitter,this.closeEmitter=new ip.Emitter,this.partialMessageEmitter=new ip.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e));}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0);}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e);}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${ks.string(e.message)?e.message:"unknown"}`)}};hi.AbstractMessageReader=mu;var op;(function(n){function e(t){let r,s,o=new Map,a,c=new Map;if(t===void 0||typeof t=="string")r=t??"utf-8";else {if(r=t.charset??"utf-8",t.contentDecoder!==void 0&&(s=t.contentDecoder,o.set(s.name,s)),t.contentDecoders!==void 0)for(let u of t.contentDecoders)o.set(u.name,u);if(t.contentTypeDecoder!==void 0&&(a=t.contentTypeDecoder,c.set(a.name,a)),t.contentTypeDecoders!==void 0)for(let u of t.contentTypeDecoders)c.set(u.name,u);}return a===void 0&&(a=(0, sp.default)().applicationJson.decoder,c.set(a.name,a)),{charset:r,contentDecoder:s,contentDecoders:o,contentTypeDecoder:a,contentTypeDecoders:c}}n.fromOptions=e;})(op||(op={}));var ap=class extends mu{constructor(e,t){super(),this.readable=e,this.options=op.fromOptions(t),this.buffer=(0, sp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new D1.Semaphore(1);}set partialMessageTimeout(e){this._partialMessageTimeout=e;}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;let t=this.readable.onData(r=>{this.onData(r);});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),t}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders(!0);if(!r)return;let i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}let s=parseInt(i);if(isNaN(s)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=s;}let t=this.buffer.tryReadBody(this.nextMessageLength);if(t===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(t):t,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i);}).catch(r=>{this.fireError(r);});}}catch(t){this.fireError(t);}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0);}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0, sp.default)().timer.setTimeout((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer());},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout));}};hi.ReadableStreamMessageReader=ap;});var XC=E(pi=>{d();Object.defineProperty(pi,"__esModule",{value:!0});pi.WriteableStreamMessageWriter=pi.AbstractMessageWriter=pi.MessageWriter=void 0;var zC=fi(),Yo=Ds(),T1=rp(),GC=Rs(),R1="Content-Length: ",YC=`\r
`,JC;(function(n){function e(t){let r=t;return r&&Yo.func(r.dispose)&&Yo.func(r.onClose)&&Yo.func(r.onError)&&Yo.func(r.write)}n.is=e;})(JC||(pi.MessageWriter=JC={}));var yu=class{constructor(){this.errorEmitter=new GC.Emitter,this.closeEmitter=new GC.Emitter;}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose();}get onError(){return this.errorEmitter.event}fireError(e,t,r){this.errorEmitter.fire([this.asError(e),t,r]);}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0);}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${Yo.string(e.message)?e.message:"unknown"}`)}};pi.AbstractMessageWriter=yu;var cp;(function(n){function e(t){return t===void 0||typeof t=="string"?{charset:t??"utf-8",contentTypeEncoder:(0, zC.default)().applicationJson.encoder}:{charset:t.charset??"utf-8",contentEncoder:t.contentEncoder,contentTypeEncoder:t.contentTypeEncoder??(0, zC.default)().applicationJson.encoder}}n.fromOptions=e;})(cp||(cp={}));var up=class extends yu{constructor(e,t){super(),this.writable=e,this.options=cp.fromOptions(t),this.errorCount=0,this.writeSemaphore=new T1.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose());}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{let i=[];return i.push(R1,r.byteLength.toString(),YC),i.push(YC),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,t,r){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount);}end(){this.writable.end();}};pi.WriteableStreamMessageWriter=up;});var QC=E(vu=>{d();Object.defineProperty(vu,"__esModule",{value:!0});vu.AbstractMessageBuffer=void 0;var P1=13,E1=10,k1=`\r
`,lp=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0;}get encoding(){return this._encoding}append(e){let t=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength;}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let t=0,r=0,i=0,s=0;e:for(;r<this._chunks.length;){let u=this._chunks[r];for(i=0;i<u.length;){switch(u[i]){case P1:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0;}break;case E1:switch(t){case 1:t=2;break;case 3:t=4,i++;break e;default:t=0;}break;default:t=0;}i++;}s+=u.byteLength,r++;}if(t!==4)return;let o=this._read(s+i),a=new Map,c=this.toString(o,"ascii").split(k1);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let f=c[u],h=f.indexOf(":");if(h===-1)throw new Error(`Message header must separate key and value using ':'
${f}`);let p=f.substr(0,h),w=f.substr(h+1).trim();a.set(e?p.toLowerCase():p,w);}return a}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){let s=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(s)}if(this._chunks[0].byteLength>e){let s=this._chunks[0],o=this.asNative(s,e);return this._chunks[0]=s.slice(e),this._totalLength-=e,o}let t=this.allocNative(e),r=0,i=0;for(;e>0;){let s=this._chunks[i];if(s.byteLength>e){let o=s.slice(0,e);t.set(o,r),r+=e,this._chunks[i]=s.slice(e),this._totalLength-=e,e-=e;}else t.set(s,r),r+=s.byteLength,this._chunks.shift(),this._totalLength-=s.byteLength,e-=s.byteLength;}return t}};vu.AbstractMessageBuffer=lp;});var r_=E(ce=>{d();Object.defineProperty(ce,"__esModule",{value:!0});ce.createMessageConnection=ce.ConnectionOptions=ce.MessageStrategy=ce.CancellationStrategy=ce.CancellationSenderStrategy=ce.CancellationReceiverStrategy=ce.RequestCancellationReceiverStrategy=ce.IdCancellationReceiverStrategy=ce.ConnectionStrategy=ce.ConnectionError=ce.ConnectionErrors=ce.LogTraceNotification=ce.SetTraceNotification=ce.TraceFormat=ce.TraceValues=ce.Trace=ce.NullLogger=ce.ProgressType=ce.ProgressToken=void 0;var ZC=fi(),st=Ds(),re=Kh(),e_=Vh(),Jo=Rs(),dp=pu(),Zo;(function(n){n.type=new re.NotificationType("$/cancelRequest");})(Zo||(Zo={}));var fp;(function(n){function e(t){return typeof t=="string"||typeof t=="number"}n.is=e;})(fp||(ce.ProgressToken=fp={}));var Xo;(function(n){n.type=new re.NotificationType("$/progress");})(Xo||(Xo={}));var hp=class{constructor(){}};ce.ProgressType=hp;var pp;(function(n){function e(t){return st.func(t)}n.is=e;})(pp||(pp={}));ce.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Oe;(function(n){n[n.Off=0]="Off",n[n.Messages=1]="Messages",n[n.Compact=2]="Compact",n[n.Verbose=3]="Verbose";})(Oe||(ce.Trace=Oe={}));var t_;(function(n){n.Off="off",n.Messages="messages",n.Compact="compact",n.Verbose="verbose";})(t_||(ce.TraceValues=t_={}));(function(n){function e(r){if(!st.string(r))return n.Off;switch(r=r.toLowerCase(),r){case"off":return n.Off;case"messages":return n.Messages;case"compact":return n.Compact;case"verbose":return n.Verbose;default:return n.Off}}n.fromString=e;function t(r){switch(r){case n.Off:return "off";case n.Messages:return "messages";case n.Compact:return "compact";case n.Verbose:return "verbose";default:return "off"}}n.toString=t;})(Oe||(ce.Trace=Oe={}));var bn;(function(n){n.Text="text",n.JSON="json";})(bn||(ce.TraceFormat=bn={}));(function(n){function e(t){return st.string(t)?(t=t.toLowerCase(),t==="json"?n.JSON:n.Text):n.Text}n.fromString=e;})(bn||(ce.TraceFormat=bn={}));var gp;(function(n){n.type=new re.NotificationType("$/setTrace");})(gp||(ce.SetTraceNotification=gp={}));var wu;(function(n){n.type=new re.NotificationType("$/logTrace");})(wu||(ce.LogTraceNotification=wu={}));var Qo;(function(n){n[n.Closed=1]="Closed",n[n.Disposed=2]="Disposed",n[n.AlreadyListening=3]="AlreadyListening";})(Qo||(ce.ConnectionErrors=Qo={}));var qs=class n extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,n.prototype);}};ce.ConnectionError=qs;var mp;(function(n){function e(t){let r=t;return r&&st.func(r.cancelUndispatched)}n.is=e;})(mp||(ce.ConnectionStrategy=mp={}));var bu;(function(n){function e(t){let r=t;return r&&(r.kind===void 0||r.kind==="id")&&st.func(r.createCancellationTokenSource)&&(r.dispose===void 0||st.func(r.dispose))}n.is=e;})(bu||(ce.IdCancellationReceiverStrategy=bu={}));var yp;(function(n){function e(t){let r=t;return r&&r.kind==="request"&&st.func(r.createCancellationTokenSource)&&(r.dispose===void 0||st.func(r.dispose))}n.is=e;})(yp||(ce.RequestCancellationReceiverStrategy=yp={}));var Su;(function(n){n.Message=Object.freeze({createCancellationTokenSource(t){return new dp.CancellationTokenSource}});function e(t){return bu.is(t)||yp.is(t)}n.is=e;})(Su||(ce.CancellationReceiverStrategy=Su={}));var Cu;(function(n){n.Message=Object.freeze({sendCancellation(t,r){return t.sendNotification(Zo.type,{id:r})},cleanup(t){}});function e(t){let r=t;return r&&st.func(r.sendCancellation)&&st.func(r.cleanup)}n.is=e;})(Cu||(ce.CancellationSenderStrategy=Cu={}));var _u;(function(n){n.Message=Object.freeze({receiver:Su.Message,sender:Cu.Message});function e(t){let r=t;return r&&Su.is(r.receiver)&&Cu.is(r.sender)}n.is=e;})(_u||(ce.CancellationStrategy=_u={}));var Du;(function(n){function e(t){let r=t;return r&&st.func(r.handleMessage)}n.is=e;})(Du||(ce.MessageStrategy=Du={}));var n_;(function(n){function e(t){let r=t;return r&&(_u.is(r.cancellationStrategy)||mp.is(r.connectionStrategy)||Du.is(r.messageStrategy))}n.is=e;})(n_||(ce.ConnectionOptions=n_={}));var Jn;(function(n){n[n.New=1]="New",n[n.Listening=2]="Listening",n[n.Closed=3]="Closed",n[n.Disposed=4]="Disposed";})(Jn||(Jn={}));function q1(n,e,t,r){let i=t!==void 0?t:ce.NullLogger,s=0,o=0,a=0,c="2.0",u,f=new Map,h,p=new Map,w=new Map,y,b=new e_.LinkedMap,C=new Map,k=new Set,O=new Map,N=Oe.Off,A=bn.Text,H,$=Jn.New,W=new Jo.Emitter,K=new Jo.Emitter,te=new Jo.Emitter,Ce=new Jo.Emitter,_e=new Jo.Emitter,he=r&&r.cancellationStrategy?r.cancellationStrategy:_u.Message;function Rn(T){if(T===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return "req-"+T.toString()}function Bt(T){return T===null?"res-unknown-"+(++a).toString():"res-"+T.toString()}function It(){return "not-"+(++o).toString()}function Ot(T,M){re.Message.isRequest(M)?T.set(Rn(M.id),M):re.Message.isResponse(M)?T.set(Bt(M.id),M):T.set(It(),M);}function Hn(T){}function ir(){return $===Jn.Listening}function ze(){return $===Jn.Closed}function Zt(){return $===Jn.Disposed}function zt(){($===Jn.New||$===Jn.Listening)&&($=Jn.Closed,K.fire(void 0));}function Nt(T){W.fire([T,void 0,void 0]);}function Hr(T){W.fire(T);}n.onClose(zt),n.onError(Nt),e.onClose(zt),e.onError(Hr);function sr(){y||b.size===0||(y=(0, ZC.default)().timer.setImmediate(()=>{y=void 0,_r();}));}function or(T){re.Message.isRequest(T)?ar(T):re.Message.isNotification(T)?Wn(T):re.Message.isResponse(T)?Kn(T):cr(T);}function _r(){if(b.size===0)return;let T=b.shift();try{let M=r?.messageStrategy;Du.is(M)?M.handleMessage(T,or):or(T);}finally{sr();}}let Kr=T=>{try{if(re.Message.isNotification(T)&&T.method===Zo.type.method){let M=T.params.id,z=Rn(M),J=b.get(z);if(re.Message.isRequest(J)){let De=r?.connectionStrategy,xe=De&&De.cancelUndispatched?De.cancelUndispatched(J,Hn):void 0;if(xe&&(xe.error!==void 0||xe.result!==void 0)){b.delete(z),O.delete(M),xe.id=J.id,Pn(xe,T.method,Date.now()),e.write(xe).catch(()=>i.error("Sending response for canceled message failed."));return}}let Re=O.get(M);if(Re!==void 0){Re.cancel(),En(T);return}else k.add(M);}Ot(b,T);}finally{sr();}};function ar(T){if(Zt())return;function M(de,Ee,me){let He={jsonrpc:c,id:T.id};de instanceof re.ResponseError?He.error=de.toJson():He.result=de===void 0?null:de,Pn(He,Ee,me),e.write(He).catch(()=>i.error("Sending response failed."));}function z(de,Ee,me){let He={jsonrpc:c,id:T.id,error:de.toJson()};Pn(He,Ee,me),e.write(He).catch(()=>i.error("Sending response failed."));}function J(de,Ee,me){de===void 0&&(de=null);let He={jsonrpc:c,id:T.id,result:de};Pn(He,Ee,me),e.write(He).catch(()=>i.error("Sending response failed."));}Wr(T);let Re=f.get(T.method),De,xe;Re&&(De=Re.type,xe=Re.handler);let Ue=Date.now();if(xe||u){let de=T.id??String(Date.now()),Ee=bu.is(he.receiver)?he.receiver.createCancellationTokenSource(de):he.receiver.createCancellationTokenSource(T);T.id!==null&&k.has(T.id)&&Ee.cancel(),T.id!==null&&O.set(de,Ee);try{let me;if(xe)if(T.params===void 0){if(De!==void 0&&De.numberOfParams!==0){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${T.method} defines ${De.numberOfParams} params but received none.`),T.method,Ue);return}me=xe(Ee.token);}else if(Array.isArray(T.params)){if(De!==void 0&&De.parameterStructures===re.ParameterStructures.byName){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by name but received parameters by position`),T.method,Ue);return}me=xe(...T.params,Ee.token);}else {if(De!==void 0&&De.parameterStructures===re.ParameterStructures.byPosition){z(new re.ResponseError(re.ErrorCodes.InvalidParams,`Request ${T.method} defines parameters by position but received parameters by name`),T.method,Ue);return}me=xe(T.params,Ee.token);}else u&&(me=u(T.method,T.params,Ee.token));let He=me;me?He.then?He.then(ut=>{O.delete(de),M(ut,T.method,Ue);},ut=>{O.delete(de),ut instanceof re.ResponseError?z(ut,T.method,Ue):ut&&st.string(ut.message)?z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${ut.message}`),T.method,Ue):z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,Ue);}):(O.delete(de),M(me,T.method,Ue)):(O.delete(de),J(me,T.method,Ue));}catch(me){O.delete(de),me instanceof re.ResponseError?M(me,T.method,Ue):me&&st.string(me.message)?z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${T.method} failed with message: ${me.message}`),T.method,Ue):z(new re.ResponseError(re.ErrorCodes.InternalError,`Request ${T.method} failed unexpectedly without providing any details.`),T.method,Ue);}}else z(new re.ResponseError(re.ErrorCodes.MethodNotFound,`Unhandled method ${T.method}`),T.method,Ue);}function Kn(T){if(!Zt())if(T.id===null)T.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(T.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else {let M=T.id,z=C.get(M);if(ur(T,z),z!==void 0){C.delete(M);try{if(T.error){let J=T.error;z.reject(new re.ResponseError(J.code,J.message,J.data));}else if(T.result!==void 0)z.resolve(T.result);else throw new Error("Should never happen.")}catch(J){J.message?i.error(`Response handler '${z.method}' failed with message: ${J.message}`):i.error(`Response handler '${z.method}' failed unexpectedly.`);}}}}function Wn(T){if(Zt())return;let M,z;if(T.method===Zo.type.method){let J=T.params.id;k.delete(J),En(T);return}else {let J=p.get(T.method);J&&(z=J.handler,M=J.type);}if(z||h)try{if(En(T),z)if(T.params===void 0)M!==void 0&&M.numberOfParams!==0&&M.parameterStructures!==re.ParameterStructures.byName&&i.error(`Notification ${T.method} defines ${M.numberOfParams} params but received none.`),z();else if(Array.isArray(T.params)){let J=T.params;T.method===Xo.type.method&&J.length===2&&fp.is(J[0])?z({token:J[0],value:J[1]}):(M!==void 0&&(M.parameterStructures===re.ParameterStructures.byName&&i.error(`Notification ${T.method} defines parameters by name but received parameters by position`),M.numberOfParams!==T.params.length&&i.error(`Notification ${T.method} defines ${M.numberOfParams} params but received ${J.length} arguments`)),z(...J));}else M!==void 0&&M.parameterStructures===re.ParameterStructures.byPosition&&i.error(`Notification ${T.method} defines parameters by position but received parameters by name`),z(T.params);else h&&h(T.method,T.params);}catch(J){J.message?i.error(`Notification handler '${T.method}' failed with message: ${J.message}`):i.error(`Notification handler '${T.method}' failed unexpectedly.`);}else te.fire(T);}function cr(T){if(!T){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(T,null,4)}`);let M=T;if(st.string(M.id)||st.number(M.id)){let z=M.id,J=C.get(z);J&&J.reject(new Error("The received response has neither a result nor an error property."));}}function yt(T){if(T!=null)switch(N){case Oe.Verbose:return JSON.stringify(T,null,4);case Oe.Compact:return JSON.stringify(T);default:return}}function Dr(T){if(!(N===Oe.Off||!H))if(A===bn.Text){let M;(N===Oe.Verbose||N===Oe.Compact)&&T.params&&(M=`Params: ${yt(T.params)}

`),H.log(`Sending request '${T.method} - (${T.id})'.`,M);}else gt("send-request",T);}function Vn(T){if(!(N===Oe.Off||!H))if(A===bn.Text){let M;(N===Oe.Verbose||N===Oe.Compact)&&(T.params?M=`Params: ${yt(T.params)}

`:M=`No parameters provided.

`),H.log(`Sending notification '${T.method}'.`,M);}else gt("send-notification",T);}function Pn(T,M,z){if(!(N===Oe.Off||!H))if(A===bn.Text){let J;(N===Oe.Verbose||N===Oe.Compact)&&(T.error&&T.error.data?J=`Error data: ${yt(T.error.data)}

`:T.result?J=`Result: ${yt(T.result)}

`:T.error===void 0&&(J=`No result returned.

`)),H.log(`Sending response '${M} - (${T.id})'. Processing request took ${Date.now()-z}ms`,J);}else gt("send-response",T);}function Wr(T){if(!(N===Oe.Off||!H))if(A===bn.Text){let M;(N===Oe.Verbose||N===Oe.Compact)&&T.params&&(M=`Params: ${yt(T.params)}

`),H.log(`Received request '${T.method} - (${T.id})'.`,M);}else gt("receive-request",T);}function En(T){if(!(N===Oe.Off||!H||T.method===wu.type.method))if(A===bn.Text){let M;(N===Oe.Verbose||N===Oe.Compact)&&(T.params?M=`Params: ${yt(T.params)}

`:M=`No parameters provided.

`),H.log(`Received notification '${T.method}'.`,M);}else gt("receive-notification",T);}function ur(T,M){if(!(N===Oe.Off||!H))if(A===bn.Text){let z;if((N===Oe.Verbose||N===Oe.Compact)&&(T.error&&T.error.data?z=`Error data: ${yt(T.error.data)}

`:T.result?z=`Result: ${yt(T.result)}

`:T.error===void 0&&(z=`No result returned.

`)),M){let J=T.error?` Request failed: ${T.error.message} (${T.error.code}).`:"";H.log(`Received response '${M.method} - (${T.id})' in ${Date.now()-M.timerStart}ms.${J}`,z);}else H.log(`Received response ${T.id} without active response promise.`,z);}else gt("receive-response",T);}function gt(T,M){if(!H||N===Oe.Off)return;let z={isLSPMessage:!0,type:T,message:M,timestamp:Date.now()};H.log(z);}function Mt(){if(ze())throw new qs(Qo.Closed,"Connection is closed.");if(Zt())throw new qs(Qo.Disposed,"Connection is disposed.")}function xt(){if(ir())throw new qs(Qo.AlreadyListening,"Connection is already listening")}function yn(){if(!ir())throw new Error("Call listen() first.")}function en(T){return T===void 0?null:T}function lr(T){if(T!==null)return T}function Tr(T){return T!=null&&!Array.isArray(T)&&typeof T=="object"}function Bn(T,M){switch(T){case re.ParameterStructures.auto:return Tr(M)?lr(M):[en(M)];case re.ParameterStructures.byName:if(!Tr(M))throw new Error("Received parameters by name but param is not an object literal.");return lr(M);case re.ParameterStructures.byPosition:return [en(M)];default:throw new Error(`Unknown parameter structure ${T.toString()}`)}}function Rr(T,M){let z,J=T.numberOfParams;switch(J){case 0:z=void 0;break;case 1:z=Bn(T.parameterStructures,M[0]);break;default:z=[];for(let Re=0;Re<M.length&&Re<J;Re++)z.push(en(M[Re]));if(M.length<J)for(let Re=M.length;Re<J;Re++)z.push(null);break}return z}let Gt={sendNotification:(T,...M)=>{Mt();let z,J;if(st.string(T)){z=T;let De=M[0],xe=0,Ue=re.ParameterStructures.auto;re.ParameterStructures.is(De)&&(xe=1,Ue=De);let de=M.length,Ee=de-xe;switch(Ee){case 0:J=void 0;break;case 1:J=Bn(Ue,M[xe]);break;default:if(Ue===re.ParameterStructures.byName)throw new Error(`Received ${Ee} parameters for 'by Name' notification parameter structure.`);J=M.slice(xe,de).map(me=>en(me));break}}else {let De=M;z=T.method,J=Rr(T,De);}let Re={jsonrpc:c,method:z,params:J};return Vn(Re),e.write(Re).catch(De=>{throw i.error("Sending notification failed."),De})},onNotification:(T,M)=>{Mt();let z;return st.func(T)?h=T:M&&(st.string(T)?(z=T,p.set(T,{type:void 0,handler:M})):(z=T.method,p.set(T.method,{type:T,handler:M}))),{dispose:()=>{z!==void 0?p.delete(z):h=void 0;}}},onProgress:(T,M,z)=>{if(w.has(M))throw new Error(`Progress handler for token ${M} already registered`);return w.set(M,z),{dispose:()=>{w.delete(M);}}},sendProgress:(T,M,z)=>Gt.sendNotification(Xo.type,{token:M,value:z}),onUnhandledProgress:Ce.event,sendRequest:(T,...M)=>{Mt(),yn();let z,J,Re;if(st.string(T)){z=T;let de=M[0],Ee=M[M.length-1],me=0,He=re.ParameterStructures.auto;re.ParameterStructures.is(de)&&(me=1,He=de);let ut=M.length;dp.CancellationToken.is(Ee)&&(ut=ut-1,Re=Ee);let Tt=ut-me;switch(Tt){case 0:J=void 0;break;case 1:J=Bn(He,M[me]);break;default:if(He===re.ParameterStructures.byName)throw new Error(`Received ${Tt} parameters for 'by Name' request parameter structure.`);J=M.slice(me,ut).map(Vr=>en(Vr));break}}else {let de=M;z=T.method,J=Rr(T,de);let Ee=T.numberOfParams;Re=dp.CancellationToken.is(de[Ee])?de[Ee]:void 0;}let De=s++,xe;Re&&(xe=Re.onCancellationRequested(()=>{let de=he.sender.sendCancellation(Gt,De);return de===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${De}`),Promise.resolve()):de.catch(()=>{i.log(`Sending cancellation messages for id ${De} failed`);})}));let Ue={jsonrpc:c,id:De,method:z,params:J};return Dr(Ue),typeof he.sender.enableCancellation=="function"&&he.sender.enableCancellation(Ue),new Promise(async(de,Ee)=>{let me=Tt=>{de(Tt),he.sender.cleanup(De),xe?.dispose();},He=Tt=>{Ee(Tt),he.sender.cleanup(De),xe?.dispose();},ut={method:z,timerStart:Date.now(),resolve:me,reject:He};try{await e.write(Ue),C.set(De,ut);}catch(Tt){throw i.error("Sending request failed."),ut.reject(new re.ResponseError(re.ErrorCodes.MessageWriteError,Tt.message?Tt.message:"Unknown reason")),Tt}})},onRequest:(T,M)=>{Mt();let z=null;return pp.is(T)?(z=void 0,u=T):st.string(T)?(z=null,M!==void 0&&(z=T,f.set(T,{handler:M,type:void 0}))):M!==void 0&&(z=T.method,f.set(T.method,{type:T,handler:M})),{dispose:()=>{z!==null&&(z!==void 0?f.delete(z):u=void 0);}}},hasPendingResponse:()=>C.size>0,trace:async(T,M,z)=>{let J=!1,Re=bn.Text;z!==void 0&&(st.boolean(z)?J=z:(J=z.sendNotification||!1,Re=z.traceFormat||bn.Text)),N=T,A=Re,N===Oe.Off?H=void 0:H=M,J&&!ze()&&!Zt()&&await Gt.sendNotification(gp.type,{value:Oe.toString(T)});},onError:W.event,onClose:K.event,onUnhandledNotification:te.event,onDispose:_e.event,end:()=>{e.end();},dispose:()=>{if(Zt())return;$=Jn.Disposed,_e.fire(void 0);let T=new re.ResponseError(re.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let M of C.values())M.reject(T);C=new Map,O=new Map,k=new Set,b=new e_.LinkedMap,st.func(e.dispose)&&e.dispose(),st.func(n.dispose)&&n.dispose();},listen:()=>{Mt(),xt(),$=Jn.Listening,n.listen(Kr);},inspect:()=>{(0, ZC.default)().console.log("inspect");}};return Gt.onNotification(wu.type,T=>{if(N===Oe.Off||!H)return;let M=N===Oe.Verbose||N===Oe.Compact;H.log(T.message,M?T.verbose:void 0);}),Gt.onNotification(Xo.type,T=>{let M=w.get(T.token);M?M(T.value):Ce.fire(T);}),Gt}ce.createMessageConnection=q1;});var Tu=E(F=>{d();Object.defineProperty(F,"__esModule",{value:!0});F.ProgressType=F.ProgressToken=F.createMessageConnection=F.NullLogger=F.ConnectionOptions=F.ConnectionStrategy=F.AbstractMessageBuffer=F.WriteableStreamMessageWriter=F.AbstractMessageWriter=F.MessageWriter=F.ReadableStreamMessageReader=F.AbstractMessageReader=F.MessageReader=F.SharedArrayReceiverStrategy=F.SharedArraySenderStrategy=F.CancellationToken=F.CancellationTokenSource=F.Emitter=F.Event=F.Disposable=F.LRUCache=F.Touch=F.LinkedMap=F.ParameterStructures=F.NotificationType9=F.NotificationType8=F.NotificationType7=F.NotificationType6=F.NotificationType5=F.NotificationType4=F.NotificationType3=F.NotificationType2=F.NotificationType1=F.NotificationType0=F.NotificationType=F.ErrorCodes=F.ResponseError=F.RequestType9=F.RequestType8=F.RequestType7=F.RequestType6=F.RequestType5=F.RequestType4=F.RequestType3=F.RequestType2=F.RequestType1=F.RequestType0=F.RequestType=F.Message=F.RAL=void 0;F.MessageStrategy=F.CancellationStrategy=F.CancellationSenderStrategy=F.CancellationReceiverStrategy=F.ConnectionError=F.ConnectionErrors=F.LogTraceNotification=F.SetTraceNotification=F.TraceFormat=F.TraceValues=F.Trace=void 0;var Ge=Kh();Object.defineProperty(F,"Message",{enumerable:!0,get:function(){return Ge.Message}});Object.defineProperty(F,"RequestType",{enumerable:!0,get:function(){return Ge.RequestType}});Object.defineProperty(F,"RequestType0",{enumerable:!0,get:function(){return Ge.RequestType0}});Object.defineProperty(F,"RequestType1",{enumerable:!0,get:function(){return Ge.RequestType1}});Object.defineProperty(F,"RequestType2",{enumerable:!0,get:function(){return Ge.RequestType2}});Object.defineProperty(F,"RequestType3",{enumerable:!0,get:function(){return Ge.RequestType3}});Object.defineProperty(F,"RequestType4",{enumerable:!0,get:function(){return Ge.RequestType4}});Object.defineProperty(F,"RequestType5",{enumerable:!0,get:function(){return Ge.RequestType5}});Object.defineProperty(F,"RequestType6",{enumerable:!0,get:function(){return Ge.RequestType6}});Object.defineProperty(F,"RequestType7",{enumerable:!0,get:function(){return Ge.RequestType7}});Object.defineProperty(F,"RequestType8",{enumerable:!0,get:function(){return Ge.RequestType8}});Object.defineProperty(F,"RequestType9",{enumerable:!0,get:function(){return Ge.RequestType9}});Object.defineProperty(F,"ResponseError",{enumerable:!0,get:function(){return Ge.ResponseError}});Object.defineProperty(F,"ErrorCodes",{enumerable:!0,get:function(){return Ge.ErrorCodes}});Object.defineProperty(F,"NotificationType",{enumerable:!0,get:function(){return Ge.NotificationType}});Object.defineProperty(F,"NotificationType0",{enumerable:!0,get:function(){return Ge.NotificationType0}});Object.defineProperty(F,"NotificationType1",{enumerable:!0,get:function(){return Ge.NotificationType1}});Object.defineProperty(F,"NotificationType2",{enumerable:!0,get:function(){return Ge.NotificationType2}});Object.defineProperty(F,"NotificationType3",{enumerable:!0,get:function(){return Ge.NotificationType3}});Object.defineProperty(F,"NotificationType4",{enumerable:!0,get:function(){return Ge.NotificationType4}});Object.defineProperty(F,"NotificationType5",{enumerable:!0,get:function(){return Ge.NotificationType5}});Object.defineProperty(F,"NotificationType6",{enumerable:!0,get:function(){return Ge.NotificationType6}});Object.defineProperty(F,"NotificationType7",{enumerable:!0,get:function(){return Ge.NotificationType7}});Object.defineProperty(F,"NotificationType8",{enumerable:!0,get:function(){return Ge.NotificationType8}});Object.defineProperty(F,"NotificationType9",{enumerable:!0,get:function(){return Ge.NotificationType9}});Object.defineProperty(F,"ParameterStructures",{enumerable:!0,get:function(){return Ge.ParameterStructures}});var vp=Vh();Object.defineProperty(F,"LinkedMap",{enumerable:!0,get:function(){return vp.LinkedMap}});Object.defineProperty(F,"LRUCache",{enumerable:!0,get:function(){return vp.LRUCache}});Object.defineProperty(F,"Touch",{enumerable:!0,get:function(){return vp.Touch}});var I1=HC();Object.defineProperty(F,"Disposable",{enumerable:!0,get:function(){return I1.Disposable}});var i_=Rs();Object.defineProperty(F,"Event",{enumerable:!0,get:function(){return i_.Event}});Object.defineProperty(F,"Emitter",{enumerable:!0,get:function(){return i_.Emitter}});var s_=pu();Object.defineProperty(F,"CancellationTokenSource",{enumerable:!0,get:function(){return s_.CancellationTokenSource}});Object.defineProperty(F,"CancellationToken",{enumerable:!0,get:function(){return s_.CancellationToken}});var o_=WC();Object.defineProperty(F,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return o_.SharedArraySenderStrategy}});Object.defineProperty(F,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return o_.SharedArrayReceiverStrategy}});var wp=BC();Object.defineProperty(F,"MessageReader",{enumerable:!0,get:function(){return wp.MessageReader}});Object.defineProperty(F,"AbstractMessageReader",{enumerable:!0,get:function(){return wp.AbstractMessageReader}});Object.defineProperty(F,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return wp.ReadableStreamMessageReader}});var bp=XC();Object.defineProperty(F,"MessageWriter",{enumerable:!0,get:function(){return bp.MessageWriter}});Object.defineProperty(F,"AbstractMessageWriter",{enumerable:!0,get:function(){return bp.AbstractMessageWriter}});Object.defineProperty(F,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return bp.WriteableStreamMessageWriter}});var O1=QC();Object.defineProperty(F,"AbstractMessageBuffer",{enumerable:!0,get:function(){return O1.AbstractMessageBuffer}});var Ft=r_();Object.defineProperty(F,"ConnectionStrategy",{enumerable:!0,get:function(){return Ft.ConnectionStrategy}});Object.defineProperty(F,"ConnectionOptions",{enumerable:!0,get:function(){return Ft.ConnectionOptions}});Object.defineProperty(F,"NullLogger",{enumerable:!0,get:function(){return Ft.NullLogger}});Object.defineProperty(F,"createMessageConnection",{enumerable:!0,get:function(){return Ft.createMessageConnection}});Object.defineProperty(F,"ProgressToken",{enumerable:!0,get:function(){return Ft.ProgressToken}});Object.defineProperty(F,"ProgressType",{enumerable:!0,get:function(){return Ft.ProgressType}});Object.defineProperty(F,"Trace",{enumerable:!0,get:function(){return Ft.Trace}});Object.defineProperty(F,"TraceValues",{enumerable:!0,get:function(){return Ft.TraceValues}});Object.defineProperty(F,"TraceFormat",{enumerable:!0,get:function(){return Ft.TraceFormat}});Object.defineProperty(F,"SetTraceNotification",{enumerable:!0,get:function(){return Ft.SetTraceNotification}});Object.defineProperty(F,"LogTraceNotification",{enumerable:!0,get:function(){return Ft.LogTraceNotification}});Object.defineProperty(F,"ConnectionErrors",{enumerable:!0,get:function(){return Ft.ConnectionErrors}});Object.defineProperty(F,"ConnectionError",{enumerable:!0,get:function(){return Ft.ConnectionError}});Object.defineProperty(F,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Ft.CancellationReceiverStrategy}});Object.defineProperty(F,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Ft.CancellationSenderStrategy}});Object.defineProperty(F,"CancellationStrategy",{enumerable:!0,get:function(){return Ft.CancellationStrategy}});Object.defineProperty(F,"MessageStrategy",{enumerable:!0,get:function(){return Ft.MessageStrategy}});var N1=fi();F.RAL=N1.default;});var u_=E(Dp=>{d();Object.defineProperty(Dp,"__esModule",{value:!0});var a_=Y("util"),Or=Tu(),Ru=class n extends Or.AbstractMessageBuffer{constructor(e="utf-8"){super(e);}emptyBuffer(){return n.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new a_.TextDecoder(t).decode(e)}asNative(e,t){return t===void 0?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}};Ru.emptyBuffer=Buffer.allocUnsafe(0);var Sp=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),Or.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Or.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Or.Disposable.create(()=>this.stream.off("end",e))}onData(e){return this.stream.on("data",e),Or.Disposable.create(()=>this.stream.off("data",e))}},Cp=class{constructor(e){this.stream=e;}onClose(e){return this.stream.on("close",e),Or.Disposable.create(()=>this.stream.off("close",e))}onError(e){return this.stream.on("error",e),Or.Disposable.create(()=>this.stream.off("error",e))}onEnd(e){return this.stream.on("end",e),Or.Disposable.create(()=>this.stream.off("end",e))}write(e,t){return new Promise((r,i)=>{let s=o=>{o==null?r():i(o);};typeof e=="string"?this.stream.write(e,t,s):this.stream.write(e,s);})}end(){this.stream.end();}},c_=Object.freeze({messageBuffer:Object.freeze({create:n=>new Ru(n)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(n,e)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(n,void 0,0),e.charset))}catch(t){return Promise.reject(t)}}}),decoder:Object.freeze({name:"application/json",decode:(n,e)=>{try{return n instanceof Buffer?Promise.resolve(JSON.parse(n.toString(e.charset))):Promise.resolve(JSON.parse(new a_.TextDecoder(e.charset).decode(n)))}catch(t){return Promise.reject(t)}}})}),stream:Object.freeze({asReadableStream:n=>new Sp(n),asWritableStream:n=>new Cp(n)}),console,timer:Object.freeze({setTimeout(n,e,...t){let r=setTimeout(n,e,...t);return {dispose:()=>clearTimeout(r)}},setImmediate(n,...e){let t=setImmediate(n,...e);return {dispose:()=>clearImmediate(t)}},setInterval(n,e,...t){let r=setInterval(n,e,...t);return {dispose:()=>clearInterval(r)}}})});function _p(){return c_}(function(n){function e(){Or.RAL.install(c_);}n.install=e;})(_p||(_p={}));Dp.default=_p;});var Vi=E(be=>{d();var x1=be&&be.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),A1=be&&be.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&x1(e,n,t);};Object.defineProperty(be,"__esModule",{value:!0});be.createMessageConnection=be.createServerSocketTransport=be.createClientSocketTransport=be.createServerPipeTransport=be.createClientPipeTransport=be.generateRandomPipeName=be.StreamMessageWriter=be.StreamMessageReader=be.SocketMessageWriter=be.SocketMessageReader=be.PortMessageWriter=be.PortMessageReader=be.IPCMessageWriter=be.IPCMessageReader=void 0;var Is=u_();Is.default.install();var l_=Y("path"),L1=Y("os"),F1=Y("crypto"),ku=Y("net"),Sn=Tu();A1(Tu(),be);var Tp=class extends Sn.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose());}listen(e){return this.process.on("message",e),Sn.Disposable.create(()=>this.process.off("message",e))}};be.IPCMessageReader=Tp;var Rp=class extends Sn.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",r=>this.fireError(r)),t.on("close",()=>this.fireClose);}write(e){try{return typeof this.process.send=="function"&&this.process.send(e,void 0,void 0,t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0;}),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount);}end(){}};be.IPCMessageWriter=Rp;var Pp=class extends Sn.AbstractMessageReader{constructor(e){super(),this.onData=new Sn.Emitter,e.on("close",()=>this.fireClose),e.on("error",t=>this.fireError(t)),e.on("message",t=>{this.onData.fire(t);});}listen(e){return this.onData.event(e)}};be.PortMessageReader=Pp;var Ep=class extends Sn.AbstractMessageWriter{constructor(e){super(),this.port=e,this.errorCount=0,e.on("close",()=>this.fireClose()),e.on("error",t=>this.fireError(t));}write(e){try{return this.port.postMessage(e),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount);}end(){}};be.PortMessageWriter=Ep;var Ki=class extends Sn.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0, Is.default)().stream.asReadableStream(e),t);}};be.SocketMessageReader=Ki;var Wi=class extends Sn.WriteableStreamMessageWriter{constructor(e,t){super((0, Is.default)().stream.asWritableStream(e),t),this.socket=e;}dispose(){super.dispose(),this.socket.destroy();}};be.SocketMessageWriter=Wi;var Pu=class extends Sn.ReadableStreamMessageReader{constructor(e,t){super((0, Is.default)().stream.asReadableStream(e),t);}};be.StreamMessageReader=Pu;var Eu=class extends Sn.WriteableStreamMessageWriter{constructor(e,t){super((0, Is.default)().stream.asWritableStream(e),t);}};be.StreamMessageWriter=Eu;var d_=process.env.XDG_RUNTIME_DIR,M1=new Map([["linux",107],["darwin",103]]);function j1(){let n=(0, F1.randomBytes)(21).toString("hex");if(process.platform==="win32")return `\\\\.\\pipe\\vscode-jsonrpc-${n}-sock`;let e;d_?e=l_.join(d_,`vscode-ipc-${n}.sock`):e=l_.join(L1.tmpdir(),`vscode-${n}.sock`);let t=M1.get(process.platform);return t!==void 0&&e.length>t&&(0, Is.default)().console.warn(`WARNING: IPC handle "${e}" is longer than ${t} characters.`),e}be.generateRandomPipeName=j1;function $1(n,e="utf-8"){let t,r=new Promise((i,s)=>{t=i;});return new Promise((i,s)=>{let o=(0, ku.createServer)(a=>{o.close(),t([new Ki(a,e),new Wi(a,e)]);});o.on("error",s),o.listen(n,()=>{o.removeListener("error",s),i({onConnected:()=>r});});})}be.createClientPipeTransport=$1;function U1(n,e="utf-8"){let t=(0, ku.createConnection)(n);return [new Ki(t,e),new Wi(t,e)]}be.createServerPipeTransport=U1;function H1(n,e="utf-8"){let t,r=new Promise((i,s)=>{t=i;});return new Promise((i,s)=>{let o=(0, ku.createServer)(a=>{o.close(),t([new Ki(a,e),new Wi(a,e)]);});o.on("error",s),o.listen(n,"127.0.0.1",()=>{o.removeListener("error",s),i({onConnected:()=>r});});})}be.createClientSocketTransport=H1;function K1(n,e="utf-8"){let t=(0, ku.createConnection)(n,"127.0.0.1");return [new Ki(t,e),new Wi(t,e)]}be.createServerSocketTransport=K1;function W1(n){let e=n;return e.read!==void 0&&e.addListener!==void 0}function V1(n){let e=n;return e.write!==void 0&&e.addListener!==void 0}function B1(n,e,t,r){t||(t=Sn.NullLogger);let i=W1(n)?new Pu(n):n,s=V1(e)?new Eu(e):e;return Sn.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0, Sn.createMessageConnection)(i,s,t,r)}be.createMessageConnection=B1;});var kp=E((fB,f_)=>{d();f_.exports=Vi();});var Iu=E((h_,qu)=>{d();(function(n){if(typeof qu=="object"&&typeof qu.exports=="object"){var e=n(Y,h_);e!==void 0&&(qu.exports=e);}else typeof define=="function"&&define.amd&&define(["require","exports"],n);})(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.TextDocument=e.EOL=e.WorkspaceFolder=e.InlineCompletionContext=e.SelectedCompletionInfo=e.InlineCompletionTriggerKind=e.InlineCompletionList=e.InlineCompletionItem=e.StringValue=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.SemanticTokens=e.SemanticTokenModifiers=e.SemanticTokenTypes=e.SelectionRange=e.DocumentLink=e.FormattingOptions=e.CodeLens=e.CodeAction=e.CodeActionContext=e.CodeActionTriggerKind=e.CodeActionKind=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.SignatureInformation=e.ParameterInformation=e.Hover=e.MarkedString=e.CompletionList=e.CompletionItem=e.CompletionItemLabelDetails=e.InsertTextMode=e.InsertReplaceEdit=e.CompletionItemTag=e.InsertTextFormat=e.CompletionItemKind=e.MarkupContent=e.MarkupKind=e.TextDocumentItem=e.OptionalVersionedTextDocumentIdentifier=e.VersionedTextDocumentIdentifier=e.TextDocumentIdentifier=e.WorkspaceChange=e.WorkspaceEdit=e.DeleteFile=e.RenameFile=e.CreateFile=e.TextDocumentEdit=e.AnnotatedTextEdit=e.ChangeAnnotationIdentifier=e.ChangeAnnotation=e.TextEdit=e.Command=e.Diagnostic=e.CodeDescription=e.DiagnosticTag=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.FoldingRange=e.FoldingRangeKind=e.ColorPresentation=e.ColorInformation=e.Color=e.LocationLink=e.Location=e.Range=e.Position=e.uinteger=e.integer=e.URI=e.DocumentUri=void 0;var t;(function(v){function R(P){return typeof P=="string"}v.is=R;})(t||(e.DocumentUri=t={}));var r;(function(v){function R(P){return typeof P=="string"}v.is=R;})(r||(e.URI=r={}));var i;(function(v){v.MIN_VALUE=-2147483648,v.MAX_VALUE=2147483647;function R(P){return typeof P=="number"&&v.MIN_VALUE<=P&&P<=v.MAX_VALUE}v.is=R;})(i||(e.integer=i={}));var s;(function(v){v.MIN_VALUE=0,v.MAX_VALUE=2147483647;function R(P){return typeof P=="number"&&v.MIN_VALUE<=P&&P<=v.MAX_VALUE}v.is=R;})(s||(e.uinteger=s={}));var o;(function(v){function R(S,g){return S===Number.MAX_VALUE&&(S=s.MAX_VALUE),g===Number.MAX_VALUE&&(g=s.MAX_VALUE),{line:S,character:g}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&I.uinteger(g.line)&&I.uinteger(g.character)}v.is=P;})(o||(e.Position=o={}));var a;(function(v){function R(S,g,x,j){if(I.uinteger(S)&&I.uinteger(g)&&I.uinteger(x)&&I.uinteger(j))return {start:o.create(S,g),end:o.create(x,j)};if(o.is(S)&&o.is(g))return {start:S,end:g};throw new Error("Range#create called with invalid arguments[".concat(S,", ").concat(g,", ").concat(x,", ").concat(j,"]"))}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&o.is(g.start)&&o.is(g.end)}v.is=P;})(a||(e.Range=a={}));var c;(function(v){function R(S,g){return {uri:S,range:g}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&a.is(g.range)&&(I.string(g.uri)||I.undefined(g.uri))}v.is=P;})(c||(e.Location=c={}));var u;(function(v){function R(S,g,x,j){return {targetUri:S,targetRange:g,targetSelectionRange:x,originSelectionRange:j}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&a.is(g.targetRange)&&I.string(g.targetUri)&&a.is(g.targetSelectionRange)&&(a.is(g.originSelectionRange)||I.undefined(g.originSelectionRange))}v.is=P;})(u||(e.LocationLink=u={}));var f;(function(v){function R(S,g,x,j){return {red:S,green:g,blue:x,alpha:j}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&I.numberRange(g.red,0,1)&&I.numberRange(g.green,0,1)&&I.numberRange(g.blue,0,1)&&I.numberRange(g.alpha,0,1)}v.is=P;})(f||(e.Color=f={}));var h;(function(v){function R(S,g){return {range:S,color:g}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&a.is(g.range)&&f.is(g.color)}v.is=P;})(h||(e.ColorInformation=h={}));var p;(function(v){function R(S,g,x){return {label:S,textEdit:g,additionalTextEdits:x}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&I.string(g.label)&&(I.undefined(g.textEdit)||H.is(g))&&(I.undefined(g.additionalTextEdits)||I.typedArray(g.additionalTextEdits,H.is))}v.is=P;})(p||(e.ColorPresentation=p={}));var w;(function(v){v.Comment="comment",v.Imports="imports",v.Region="region";})(w||(e.FoldingRangeKind=w={}));var y;(function(v){function R(S,g,x,j,oe,Xe){var Ke={startLine:S,endLine:g};return I.defined(x)&&(Ke.startCharacter=x),I.defined(j)&&(Ke.endCharacter=j),I.defined(oe)&&(Ke.kind=oe),I.defined(Xe)&&(Ke.collapsedText=Xe),Ke}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&I.uinteger(g.startLine)&&I.uinteger(g.startLine)&&(I.undefined(g.startCharacter)||I.uinteger(g.startCharacter))&&(I.undefined(g.endCharacter)||I.uinteger(g.endCharacter))&&(I.undefined(g.kind)||I.string(g.kind))}v.is=P;})(y||(e.FoldingRange=y={}));var b;(function(v){function R(S,g){return {location:S,message:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&c.is(g.location)&&I.string(g.message)}v.is=P;})(b||(e.DiagnosticRelatedInformation=b={}));var C;(function(v){v.Error=1,v.Warning=2,v.Information=3,v.Hint=4;})(C||(e.DiagnosticSeverity=C={}));var k;(function(v){v.Unnecessary=1,v.Deprecated=2;})(k||(e.DiagnosticTag=k={}));var O;(function(v){function R(P){var S=P;return I.objectLiteral(S)&&I.string(S.href)}v.is=R;})(O||(e.CodeDescription=O={}));var N;(function(v){function R(S,g,x,j,oe,Xe){var Ke={range:S,message:g};return I.defined(x)&&(Ke.severity=x),I.defined(j)&&(Ke.code=j),I.defined(oe)&&(Ke.source=oe),I.defined(Xe)&&(Ke.relatedInformation=Xe),Ke}v.create=R;function P(S){var g,x=S;return I.defined(x)&&a.is(x.range)&&I.string(x.message)&&(I.number(x.severity)||I.undefined(x.severity))&&(I.integer(x.code)||I.string(x.code)||I.undefined(x.code))&&(I.undefined(x.codeDescription)||I.string((g=x.codeDescription)===null||g===void 0?void 0:g.href))&&(I.string(x.source)||I.undefined(x.source))&&(I.undefined(x.relatedInformation)||I.typedArray(x.relatedInformation,b.is))}v.is=P;})(N||(e.Diagnostic=N={}));var A;(function(v){function R(S,g){for(var x=[],j=2;j<arguments.length;j++)x[j-2]=arguments[j];var oe={title:S,command:g};return I.defined(x)&&x.length>0&&(oe.arguments=x),oe}v.create=R;function P(S){var g=S;return I.defined(g)&&I.string(g.title)&&I.string(g.command)}v.is=P;})(A||(e.Command=A={}));var H;(function(v){function R(x,j){return {range:x,newText:j}}v.replace=R;function P(x,j){return {range:{start:x,end:x},newText:j}}v.insert=P;function S(x){return {range:x,newText:""}}v.del=S;function g(x){var j=x;return I.objectLiteral(j)&&I.string(j.newText)&&a.is(j.range)}v.is=g;})(H||(e.TextEdit=H={}));var $;(function(v){function R(S,g,x){var j={label:S};return g!==void 0&&(j.needsConfirmation=g),x!==void 0&&(j.description=x),j}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&I.string(g.label)&&(I.boolean(g.needsConfirmation)||g.needsConfirmation===void 0)&&(I.string(g.description)||g.description===void 0)}v.is=P;})($||(e.ChangeAnnotation=$={}));var W;(function(v){function R(P){var S=P;return I.string(S)}v.is=R;})(W||(e.ChangeAnnotationIdentifier=W={}));var K;(function(v){function R(x,j,oe){return {range:x,newText:j,annotationId:oe}}v.replace=R;function P(x,j,oe){return {range:{start:x,end:x},newText:j,annotationId:oe}}v.insert=P;function S(x,j){return {range:x,newText:"",annotationId:j}}v.del=S;function g(x){var j=x;return H.is(j)&&($.is(j.annotationId)||W.is(j.annotationId))}v.is=g;})(K||(e.AnnotatedTextEdit=K={}));var te;(function(v){function R(S,g){return {textDocument:S,edits:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&ze.is(g.textDocument)&&Array.isArray(g.edits)}v.is=P;})(te||(e.TextDocumentEdit=te={}));var Ce;(function(v){function R(S,g,x){var j={kind:"create",uri:S};return g!==void 0&&(g.overwrite!==void 0||g.ignoreIfExists!==void 0)&&(j.options=g),x!==void 0&&(j.annotationId=x),j}v.create=R;function P(S){var g=S;return g&&g.kind==="create"&&I.string(g.uri)&&(g.options===void 0||(g.options.overwrite===void 0||I.boolean(g.options.overwrite))&&(g.options.ignoreIfExists===void 0||I.boolean(g.options.ignoreIfExists)))&&(g.annotationId===void 0||W.is(g.annotationId))}v.is=P;})(Ce||(e.CreateFile=Ce={}));var _e;(function(v){function R(S,g,x,j){var oe={kind:"rename",oldUri:S,newUri:g};return x!==void 0&&(x.overwrite!==void 0||x.ignoreIfExists!==void 0)&&(oe.options=x),j!==void 0&&(oe.annotationId=j),oe}v.create=R;function P(S){var g=S;return g&&g.kind==="rename"&&I.string(g.oldUri)&&I.string(g.newUri)&&(g.options===void 0||(g.options.overwrite===void 0||I.boolean(g.options.overwrite))&&(g.options.ignoreIfExists===void 0||I.boolean(g.options.ignoreIfExists)))&&(g.annotationId===void 0||W.is(g.annotationId))}v.is=P;})(_e||(e.RenameFile=_e={}));var he;(function(v){function R(S,g,x){var j={kind:"delete",uri:S};return g!==void 0&&(g.recursive!==void 0||g.ignoreIfNotExists!==void 0)&&(j.options=g),x!==void 0&&(j.annotationId=x),j}v.create=R;function P(S){var g=S;return g&&g.kind==="delete"&&I.string(g.uri)&&(g.options===void 0||(g.options.recursive===void 0||I.boolean(g.options.recursive))&&(g.options.ignoreIfNotExists===void 0||I.boolean(g.options.ignoreIfNotExists)))&&(g.annotationId===void 0||W.is(g.annotationId))}v.is=P;})(he||(e.DeleteFile=he={}));var Rn;(function(v){function R(P){var S=P;return S&&(S.changes!==void 0||S.documentChanges!==void 0)&&(S.documentChanges===void 0||S.documentChanges.every(function(g){return I.string(g.kind)?Ce.is(g)||_e.is(g)||he.is(g):te.is(g)}))}v.is=R;})(Rn||(e.WorkspaceEdit=Rn={}));var Bt=function(){function v(R,P){this.edits=R,this.changeAnnotations=P;}return v.prototype.insert=function(R,P,S){var g,x;if(S===void 0?g=H.insert(R,P):W.is(S)?(x=S,g=K.insert(R,P,S)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(S),g=K.insert(R,P,x)),this.edits.push(g),x!==void 0)return x},v.prototype.replace=function(R,P,S){var g,x;if(S===void 0?g=H.replace(R,P):W.is(S)?(x=S,g=K.replace(R,P,S)):(this.assertChangeAnnotations(this.changeAnnotations),x=this.changeAnnotations.manage(S),g=K.replace(R,P,x)),this.edits.push(g),x!==void 0)return x},v.prototype.delete=function(R,P){var S,g;if(P===void 0?S=H.del(R):W.is(P)?(g=P,S=K.del(R,P)):(this.assertChangeAnnotations(this.changeAnnotations),g=this.changeAnnotations.manage(P),S=K.del(R,g)),this.edits.push(S),g!==void 0)return g},v.prototype.add=function(R){this.edits.push(R);},v.prototype.all=function(){return this.edits},v.prototype.clear=function(){this.edits.splice(0,this.edits.length);},v.prototype.assertChangeAnnotations=function(R){if(R===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},v}(),It=function(){function v(R){this._annotations=R===void 0?Object.create(null):R,this._counter=0,this._size=0;}return v.prototype.all=function(){return this._annotations},Object.defineProperty(v.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),v.prototype.manage=function(R,P){var S;if(W.is(R)?S=R:(S=this.nextId(),P=R),this._annotations[S]!==void 0)throw new Error("Id ".concat(S," is already in use."));if(P===void 0)throw new Error("No annotation provided for id ".concat(S));return this._annotations[S]=P,this._size++,S},v.prototype.nextId=function(){return this._counter++,this._counter.toString()},v}(),Ot=function(){function v(R){var P=this;this._textEditChanges=Object.create(null),R!==void 0?(this._workspaceEdit=R,R.documentChanges?(this._changeAnnotations=new It(R.changeAnnotations),R.changeAnnotations=this._changeAnnotations.all(),R.documentChanges.forEach(function(S){if(te.is(S)){var g=new Bt(S.edits,P._changeAnnotations);P._textEditChanges[S.textDocument.uri]=g;}})):R.changes&&Object.keys(R.changes).forEach(function(S){var g=new Bt(R.changes[S]);P._textEditChanges[S]=g;})):this._workspaceEdit={};}return Object.defineProperty(v.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),v.prototype.getTextEditChange=function(R){if(ze.is(R)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P={uri:R.uri,version:R.version},S=this._textEditChanges[P.uri];if(!S){var g=[],x={textDocument:P,edits:g};this._workspaceEdit.documentChanges.push(x),S=new Bt(g,this._changeAnnotations),this._textEditChanges[P.uri]=S;}return S}else {if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var S=this._textEditChanges[R];if(!S){var g=[];this._workspaceEdit.changes[R]=g,S=new Bt(g),this._textEditChanges[R]=S;}return S}},v.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new It,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all());},v.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null));},v.prototype.createFile=function(R,P,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g;$.is(P)||W.is(P)?g=P:S=P;var x,j;if(g===void 0?x=Ce.create(R,S):(j=W.is(g)?g:this._changeAnnotations.manage(g),x=Ce.create(R,S,j)),this._workspaceEdit.documentChanges.push(x),j!==void 0)return j},v.prototype.renameFile=function(R,P,S,g){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var x;$.is(S)||W.is(S)?x=S:g=S;var j,oe;if(x===void 0?j=_e.create(R,P,g):(oe=W.is(x)?x:this._changeAnnotations.manage(x),j=_e.create(R,P,g,oe)),this._workspaceEdit.documentChanges.push(j),oe!==void 0)return oe},v.prototype.deleteFile=function(R,P,S){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var g;$.is(P)||W.is(P)?g=P:S=P;var x,j;if(g===void 0?x=he.create(R,S):(j=W.is(g)?g:this._changeAnnotations.manage(g),x=he.create(R,S,j)),this._workspaceEdit.documentChanges.push(x),j!==void 0)return j},v}();e.WorkspaceChange=Ot;var Hn;(function(v){function R(S){return {uri:S}}v.create=R;function P(S){var g=S;return I.defined(g)&&I.string(g.uri)}v.is=P;})(Hn||(e.TextDocumentIdentifier=Hn={}));var ir;(function(v){function R(S,g){return {uri:S,version:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&I.string(g.uri)&&I.integer(g.version)}v.is=P;})(ir||(e.VersionedTextDocumentIdentifier=ir={}));var ze;(function(v){function R(S,g){return {uri:S,version:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&I.string(g.uri)&&(g.version===null||I.integer(g.version))}v.is=P;})(ze||(e.OptionalVersionedTextDocumentIdentifier=ze={}));var Zt;(function(v){function R(S,g,x,j){return {uri:S,languageId:g,version:x,text:j}}v.create=R;function P(S){var g=S;return I.defined(g)&&I.string(g.uri)&&I.string(g.languageId)&&I.integer(g.version)&&I.string(g.text)}v.is=P;})(Zt||(e.TextDocumentItem=Zt={}));var zt;(function(v){v.PlainText="plaintext",v.Markdown="markdown";function R(P){var S=P;return S===v.PlainText||S===v.Markdown}v.is=R;})(zt||(e.MarkupKind=zt={}));var Nt;(function(v){function R(P){var S=P;return I.objectLiteral(P)&&zt.is(S.kind)&&I.string(S.value)}v.is=R;})(Nt||(e.MarkupContent=Nt={}));var Hr;(function(v){v.Text=1,v.Method=2,v.Function=3,v.Constructor=4,v.Field=5,v.Variable=6,v.Class=7,v.Interface=8,v.Module=9,v.Property=10,v.Unit=11,v.Value=12,v.Enum=13,v.Keyword=14,v.Snippet=15,v.Color=16,v.File=17,v.Reference=18,v.Folder=19,v.EnumMember=20,v.Constant=21,v.Struct=22,v.Event=23,v.Operator=24,v.TypeParameter=25;})(Hr||(e.CompletionItemKind=Hr={}));var sr;(function(v){v.PlainText=1,v.Snippet=2;})(sr||(e.InsertTextFormat=sr={}));var or;(function(v){v.Deprecated=1;})(or||(e.CompletionItemTag=or={}));var _r;(function(v){function R(S,g,x){return {newText:S,insert:g,replace:x}}v.create=R;function P(S){var g=S;return g&&I.string(g.newText)&&a.is(g.insert)&&a.is(g.replace)}v.is=P;})(_r||(e.InsertReplaceEdit=_r={}));var Kr;(function(v){v.asIs=1,v.adjustIndentation=2;})(Kr||(e.InsertTextMode=Kr={}));var ar;(function(v){function R(P){var S=P;return S&&(I.string(S.detail)||S.detail===void 0)&&(I.string(S.description)||S.description===void 0)}v.is=R;})(ar||(e.CompletionItemLabelDetails=ar={}));var Kn;(function(v){function R(P){return {label:P}}v.create=R;})(Kn||(e.CompletionItem=Kn={}));var Wn;(function(v){function R(P,S){return {items:P||[],isIncomplete:!!S}}v.create=R;})(Wn||(e.CompletionList=Wn={}));var cr;(function(v){function R(S){return S.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}v.fromPlainText=R;function P(S){var g=S;return I.string(g)||I.objectLiteral(g)&&I.string(g.language)&&I.string(g.value)}v.is=P;})(cr||(e.MarkedString=cr={}));var yt;(function(v){function R(P){var S=P;return !!S&&I.objectLiteral(S)&&(Nt.is(S.contents)||cr.is(S.contents)||I.typedArray(S.contents,cr.is))&&(P.range===void 0||a.is(P.range))}v.is=R;})(yt||(e.Hover=yt={}));var Dr;(function(v){function R(P,S){return S?{label:P,documentation:S}:{label:P}}v.create=R;})(Dr||(e.ParameterInformation=Dr={}));var Vn;(function(v){function R(P,S){for(var g=[],x=2;x<arguments.length;x++)g[x-2]=arguments[x];var j={label:P};return I.defined(S)&&(j.documentation=S),I.defined(g)?j.parameters=g:j.parameters=[],j}v.create=R;})(Vn||(e.SignatureInformation=Vn={}));var Pn;(function(v){v.Text=1,v.Read=2,v.Write=3;})(Pn||(e.DocumentHighlightKind=Pn={}));var Wr;(function(v){function R(P,S){var g={range:P};return I.number(S)&&(g.kind=S),g}v.create=R;})(Wr||(e.DocumentHighlight=Wr={}));var En;(function(v){v.File=1,v.Module=2,v.Namespace=3,v.Package=4,v.Class=5,v.Method=6,v.Property=7,v.Field=8,v.Constructor=9,v.Enum=10,v.Interface=11,v.Function=12,v.Variable=13,v.Constant=14,v.String=15,v.Number=16,v.Boolean=17,v.Array=18,v.Object=19,v.Key=20,v.Null=21,v.EnumMember=22,v.Struct=23,v.Event=24,v.Operator=25,v.TypeParameter=26;})(En||(e.SymbolKind=En={}));var ur;(function(v){v.Deprecated=1;})(ur||(e.SymbolTag=ur={}));var gt;(function(v){function R(P,S,g,x,j){var oe={name:P,kind:S,location:{uri:x,range:g}};return j&&(oe.containerName=j),oe}v.create=R;})(gt||(e.SymbolInformation=gt={}));var Mt;(function(v){function R(P,S,g,x){return x!==void 0?{name:P,kind:S,location:{uri:g,range:x}}:{name:P,kind:S,location:{uri:g}}}v.create=R;})(Mt||(e.WorkspaceSymbol=Mt={}));var xt;(function(v){function R(S,g,x,j,oe,Xe){var Ke={name:S,detail:g,kind:x,range:j,selectionRange:oe};return Xe!==void 0&&(Ke.children=Xe),Ke}v.create=R;function P(S){var g=S;return g&&I.string(g.name)&&I.number(g.kind)&&a.is(g.range)&&a.is(g.selectionRange)&&(g.detail===void 0||I.string(g.detail))&&(g.deprecated===void 0||I.boolean(g.deprecated))&&(g.children===void 0||Array.isArray(g.children))&&(g.tags===void 0||Array.isArray(g.tags))}v.is=P;})(xt||(e.DocumentSymbol=xt={}));var yn;(function(v){v.Empty="",v.QuickFix="quickfix",v.Refactor="refactor",v.RefactorExtract="refactor.extract",v.RefactorInline="refactor.inline",v.RefactorRewrite="refactor.rewrite",v.Source="source",v.SourceOrganizeImports="source.organizeImports",v.SourceFixAll="source.fixAll";})(yn||(e.CodeActionKind=yn={}));var en;(function(v){v.Invoked=1,v.Automatic=2;})(en||(e.CodeActionTriggerKind=en={}));var lr;(function(v){function R(S,g,x){var j={diagnostics:S};return g!=null&&(j.only=g),x!=null&&(j.triggerKind=x),j}v.create=R;function P(S){var g=S;return I.defined(g)&&I.typedArray(g.diagnostics,N.is)&&(g.only===void 0||I.typedArray(g.only,I.string))&&(g.triggerKind===void 0||g.triggerKind===en.Invoked||g.triggerKind===en.Automatic)}v.is=P;})(lr||(e.CodeActionContext=lr={}));var Tr;(function(v){function R(S,g,x){var j={title:S},oe=!0;return typeof g=="string"?(oe=!1,j.kind=g):A.is(g)?j.command=g:j.edit=g,oe&&x!==void 0&&(j.kind=x),j}v.create=R;function P(S){var g=S;return g&&I.string(g.title)&&(g.diagnostics===void 0||I.typedArray(g.diagnostics,N.is))&&(g.kind===void 0||I.string(g.kind))&&(g.edit!==void 0||g.command!==void 0)&&(g.command===void 0||A.is(g.command))&&(g.isPreferred===void 0||I.boolean(g.isPreferred))&&(g.edit===void 0||Rn.is(g.edit))}v.is=P;})(Tr||(e.CodeAction=Tr={}));var Bn;(function(v){function R(S,g){var x={range:S};return I.defined(g)&&(x.data=g),x}v.create=R;function P(S){var g=S;return I.defined(g)&&a.is(g.range)&&(I.undefined(g.command)||A.is(g.command))}v.is=P;})(Bn||(e.CodeLens=Bn={}));var Rr;(function(v){function R(S,g){return {tabSize:S,insertSpaces:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&I.uinteger(g.tabSize)&&I.boolean(g.insertSpaces)}v.is=P;})(Rr||(e.FormattingOptions=Rr={}));var Gt;(function(v){function R(S,g,x){return {range:S,target:g,data:x}}v.create=R;function P(S){var g=S;return I.defined(g)&&a.is(g.range)&&(I.undefined(g.target)||I.string(g.target))}v.is=P;})(Gt||(e.DocumentLink=Gt={}));var T;(function(v){function R(S,g){return {range:S,parent:g}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&a.is(g.range)&&(g.parent===void 0||v.is(g.parent))}v.is=P;})(T||(e.SelectionRange=T={}));var M;(function(v){v.namespace="namespace",v.type="type",v.class="class",v.enum="enum",v.interface="interface",v.struct="struct",v.typeParameter="typeParameter",v.parameter="parameter",v.variable="variable",v.property="property",v.enumMember="enumMember",v.event="event",v.function="function",v.method="method",v.macro="macro",v.keyword="keyword",v.modifier="modifier",v.comment="comment",v.string="string",v.number="number",v.regexp="regexp",v.operator="operator",v.decorator="decorator";})(M||(e.SemanticTokenTypes=M={}));var z;(function(v){v.declaration="declaration",v.definition="definition",v.readonly="readonly",v.static="static",v.deprecated="deprecated",v.abstract="abstract",v.async="async",v.modification="modification",v.documentation="documentation",v.defaultLibrary="defaultLibrary";})(z||(e.SemanticTokenModifiers=z={}));var J;(function(v){function R(P){var S=P;return I.objectLiteral(S)&&(S.resultId===void 0||typeof S.resultId=="string")&&Array.isArray(S.data)&&(S.data.length===0||typeof S.data[0]=="number")}v.is=R;})(J||(e.SemanticTokens=J={}));var Re;(function(v){function R(S,g){return {range:S,text:g}}v.create=R;function P(S){var g=S;return g!=null&&a.is(g.range)&&I.string(g.text)}v.is=P;})(Re||(e.InlineValueText=Re={}));var De;(function(v){function R(S,g,x){return {range:S,variableName:g,caseSensitiveLookup:x}}v.create=R;function P(S){var g=S;return g!=null&&a.is(g.range)&&I.boolean(g.caseSensitiveLookup)&&(I.string(g.variableName)||g.variableName===void 0)}v.is=P;})(De||(e.InlineValueVariableLookup=De={}));var xe;(function(v){function R(S,g){return {range:S,expression:g}}v.create=R;function P(S){var g=S;return g!=null&&a.is(g.range)&&(I.string(g.expression)||g.expression===void 0)}v.is=P;})(xe||(e.InlineValueEvaluatableExpression=xe={}));var Ue;(function(v){function R(S,g){return {frameId:S,stoppedLocation:g}}v.create=R;function P(S){var g=S;return I.defined(g)&&a.is(S.stoppedLocation)}v.is=P;})(Ue||(e.InlineValueContext=Ue={}));var de;(function(v){v.Type=1,v.Parameter=2;function R(P){return P===1||P===2}v.is=R;})(de||(e.InlayHintKind=de={}));var Ee;(function(v){function R(S){return {value:S}}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&(g.tooltip===void 0||I.string(g.tooltip)||Nt.is(g.tooltip))&&(g.location===void 0||c.is(g.location))&&(g.command===void 0||A.is(g.command))}v.is=P;})(Ee||(e.InlayHintLabelPart=Ee={}));var me;(function(v){function R(S,g,x){var j={position:S,label:g};return x!==void 0&&(j.kind=x),j}v.create=R;function P(S){var g=S;return I.objectLiteral(g)&&o.is(g.position)&&(I.string(g.label)||I.typedArray(g.label,Ee.is))&&(g.kind===void 0||de.is(g.kind))&&g.textEdits===void 0||I.typedArray(g.textEdits,H.is)&&(g.tooltip===void 0||I.string(g.tooltip)||Nt.is(g.tooltip))&&(g.paddingLeft===void 0||I.boolean(g.paddingLeft))&&(g.paddingRight===void 0||I.boolean(g.paddingRight))}v.is=P;})(me||(e.InlayHint=me={}));var He;(function(v){function R(P){return {kind:"snippet",value:P}}v.createSnippet=R;})(He||(e.StringValue=He={}));var ut;(function(v){function R(P,S,g,x){return {insertText:P,filterText:S,range:g,command:x}}v.create=R;})(ut||(e.InlineCompletionItem=ut={}));var Tt;(function(v){function R(P){return {items:P}}v.create=R;})(Tt||(e.InlineCompletionList=Tt={}));var Vr;(function(v){v.Invoked=0,v.Automatic=1;})(Vr||(e.InlineCompletionTriggerKind=Vr={}));var Br;(function(v){function R(P,S){return {range:P,text:S}}v.create=R;})(Br||(e.SelectedCompletionInfo=Br={}));var m;(function(v){function R(P,S){return {triggerKind:P,selectedCompletionInfo:S}}v.create=R;})(m||(e.InlineCompletionContext=m={}));var L;((function(v){function R(P){var S=P;return I.objectLiteral(S)&&r.is(S.uri)&&I.string(S.name)}v.is=R;}))(L||(e.WorkspaceFolder=L={})),e.EOL=[`
`,`\r
`,"\r"];var Z;(function(v){function R(x,j,oe,Xe){return new ke(x,j,oe,Xe)}v.create=R;function P(x){var j=x;return !!(I.defined(j)&&I.string(j.uri)&&(I.undefined(j.languageId)||I.string(j.languageId))&&I.uinteger(j.lineCount)&&I.func(j.getText)&&I.func(j.positionAt)&&I.func(j.offsetAt))}v.is=P;function S(x,j){for(var oe=x.getText(),Xe=g(j,function(dr,l){var q=dr.range.start.line-l.range.start.line;return q===0?dr.range.start.character-l.range.start.character:q}),Ke=oe.length,tn=Xe.length-1;tn>=0;tn--){var vn=Xe[tn],zn=x.offsetAt(vn.range.start),ge=x.offsetAt(vn.range.end);if(ge<=Ke)oe=oe.substring(0,zn)+vn.newText+oe.substring(ge,oe.length);else throw new Error("Overlapping edit");Ke=zn;}return oe}v.applyEdits=S;function g(x,j){if(x.length<=1)return x;var oe=x.length/2|0,Xe=x.slice(0,oe),Ke=x.slice(oe);g(Xe,j),g(Ke,j);for(var tn=0,vn=0,zn=0;tn<Xe.length&&vn<Ke.length;){var ge=j(Xe[tn],Ke[vn]);ge<=0?x[zn++]=Xe[tn++]:x[zn++]=Ke[vn++];}for(;tn<Xe.length;)x[zn++]=Xe[tn++];for(;vn<Ke.length;)x[zn++]=Ke[vn++];return x}})(Z||(e.TextDocument=Z={}));var ke=function(){function v(R,P,S,g){this._uri=R,this._languageId=P,this._version=S,this._content=g,this._lineOffsets=void 0;}return Object.defineProperty(v.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(v.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),v.prototype.getText=function(R){if(R){var P=this.offsetAt(R.start),S=this.offsetAt(R.end);return this._content.substring(P,S)}return this._content},v.prototype.update=function(R,P){this._content=R.text,this._version=P,this._lineOffsets=void 0;},v.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var R=[],P=this._content,S=!0,g=0;g<P.length;g++){S&&(R.push(g),S=!1);var x=P.charAt(g);S=x==="\r"||x===`
`,x==="\r"&&g+1<P.length&&P.charAt(g+1)===`
`&&g++;}S&&P.length>0&&R.push(P.length),this._lineOffsets=R;}return this._lineOffsets},v.prototype.positionAt=function(R){R=Math.max(Math.min(R,this._content.length),0);var P=this.getLineOffsets(),S=0,g=P.length;if(g===0)return o.create(0,R);for(;S<g;){var x=Math.floor((S+g)/2);P[x]>R?g=x:S=x+1;}var j=S-1;return o.create(j,R-P[j])},v.prototype.offsetAt=function(R){var P=this.getLineOffsets();if(R.line>=P.length)return this._content.length;if(R.line<0)return 0;var S=P[R.line],g=R.line+1<P.length?P[R.line+1]:this._content.length;return Math.max(Math.min(S+R.character,g),S)},Object.defineProperty(v.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),v}(),I;(function(v){var R=Object.prototype.toString;function P(ge){return typeof ge<"u"}v.defined=P;function S(ge){return typeof ge>"u"}v.undefined=S;function g(ge){return ge===!0||ge===!1}v.boolean=g;function x(ge){return R.call(ge)==="[object String]"}v.string=x;function j(ge){return R.call(ge)==="[object Number]"}v.number=j;function oe(ge,dr,l){return R.call(ge)==="[object Number]"&&dr<=ge&&ge<=l}v.numberRange=oe;function Xe(ge){return R.call(ge)==="[object Number]"&&-2147483648<=ge&&ge<=2147483647}v.integer=Xe;function Ke(ge){return R.call(ge)==="[object Number]"&&0<=ge&&ge<=2147483647}v.uinteger=Ke;function tn(ge){return R.call(ge)==="[object Function]"}v.func=tn;function vn(ge){return ge!==null&&typeof ge=="object"}v.objectLiteral=vn;function zn(ge,dr){return Array.isArray(ge)&&ge.every(dr)}v.typedArray=zn;})(I||(I={}));});});var Ze=E(an=>{d();Object.defineProperty(an,"__esModule",{value:!0});an.ProtocolNotificationType=an.ProtocolNotificationType0=an.ProtocolRequestType=an.ProtocolRequestType0=an.RegistrationType=an.MessageDirection=void 0;var Os=Vi(),p_;(function(n){n.clientToServer="clientToServer",n.serverToClient="serverToClient",n.both="both";})(p_||(an.MessageDirection=p_={}));var qp=class{constructor(e){this.method=e;}};an.RegistrationType=qp;var Ip=class extends Os.RequestType0{constructor(e){super(e);}};an.ProtocolRequestType0=Ip;var Op=class extends Os.RequestType{constructor(e){super(e,Os.ParameterStructures.byName);}};an.ProtocolRequestType=Op;var Np=class extends Os.NotificationType0{constructor(e){super(e);}};an.ProtocolNotificationType0=Np;var xp=class extends Os.NotificationType{constructor(e){super(e,Os.ParameterStructures.byName);}};an.ProtocolNotificationType=xp;});var Ou=E(bt=>{d();Object.defineProperty(bt,"__esModule",{value:!0});bt.objectLiteral=bt.typedArray=bt.stringArray=bt.array=bt.func=bt.error=bt.number=bt.string=bt.boolean=void 0;function z1(n){return n===!0||n===!1}bt.boolean=z1;function g_(n){return typeof n=="string"||n instanceof String}bt.string=g_;function G1(n){return typeof n=="number"||n instanceof Number}bt.number=G1;function Y1(n){return n instanceof Error}bt.error=Y1;function J1(n){return typeof n=="function"}bt.func=J1;function m_(n){return Array.isArray(n)}bt.array=m_;function X1(n){return m_(n)&&n.every(e=>g_(e))}bt.stringArray=X1;function Q1(n,e){return Array.isArray(n)&&n.every(e)}bt.typedArray=Q1;function Z1(n){return n!==null&&typeof n=="object"}bt.objectLiteral=Z1;});var w_=E(Nu=>{d();Object.defineProperty(Nu,"__esModule",{value:!0});Nu.ImplementationRequest=void 0;var y_=Ze(),v_;(function(n){n.method="textDocument/implementation",n.messageDirection=y_.MessageDirection.clientToServer,n.type=new y_.ProtocolRequestType(n.method);})(v_||(Nu.ImplementationRequest=v_={}));});var C_=E(xu=>{d();Object.defineProperty(xu,"__esModule",{value:!0});xu.TypeDefinitionRequest=void 0;var b_=Ze(),S_;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=b_.MessageDirection.clientToServer,n.type=new b_.ProtocolRequestType(n.method);})(S_||(xu.TypeDefinitionRequest=S_={}));});var T_=E(Ns=>{d();Object.defineProperty(Ns,"__esModule",{value:!0});Ns.DidChangeWorkspaceFoldersNotification=Ns.WorkspaceFoldersRequest=void 0;var Au=Ze(),__;(function(n){n.method="workspace/workspaceFolders",n.messageDirection=Au.MessageDirection.serverToClient,n.type=new Au.ProtocolRequestType0(n.method);})(__||(Ns.WorkspaceFoldersRequest=__={}));var D_;(function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=Au.MessageDirection.clientToServer,n.type=new Au.ProtocolNotificationType(n.method);})(D_||(Ns.DidChangeWorkspaceFoldersNotification=D_={}));});var E_=E(Lu=>{d();Object.defineProperty(Lu,"__esModule",{value:!0});Lu.ConfigurationRequest=void 0;var R_=Ze(),P_;(function(n){n.method="workspace/configuration",n.messageDirection=R_.MessageDirection.serverToClient,n.type=new R_.ProtocolRequestType(n.method);})(P_||(Lu.ConfigurationRequest=P_={}));});var I_=E(xs=>{d();Object.defineProperty(xs,"__esModule",{value:!0});xs.ColorPresentationRequest=xs.DocumentColorRequest=void 0;var Fu=Ze(),k_;(function(n){n.method="textDocument/documentColor",n.messageDirection=Fu.MessageDirection.clientToServer,n.type=new Fu.ProtocolRequestType(n.method);})(k_||(xs.DocumentColorRequest=k_={}));var q_;(function(n){n.method="textDocument/colorPresentation",n.messageDirection=Fu.MessageDirection.clientToServer,n.type=new Fu.ProtocolRequestType(n.method);})(q_||(xs.ColorPresentationRequest=q_={}));});var x_=E(As=>{d();Object.defineProperty(As,"__esModule",{value:!0});As.FoldingRangeRefreshRequest=As.FoldingRangeRequest=void 0;var Mu=Ze(),O_;(function(n){n.method="textDocument/foldingRange",n.messageDirection=Mu.MessageDirection.clientToServer,n.type=new Mu.ProtocolRequestType(n.method);})(O_||(As.FoldingRangeRequest=O_={}));var N_;(function(n){n.method="workspace/foldingRange/refresh",n.messageDirection=Mu.MessageDirection.serverToClient,n.type=new Mu.ProtocolRequestType0(n.method);})(N_||(As.FoldingRangeRefreshRequest=N_={}));});var F_=E(ju=>{d();Object.defineProperty(ju,"__esModule",{value:!0});ju.DeclarationRequest=void 0;var A_=Ze(),L_;(function(n){n.method="textDocument/declaration",n.messageDirection=A_.MessageDirection.clientToServer,n.type=new A_.ProtocolRequestType(n.method);})(L_||(ju.DeclarationRequest=L_={}));});var $_=E($u=>{d();Object.defineProperty($u,"__esModule",{value:!0});$u.SelectionRangeRequest=void 0;var M_=Ze(),j_;(function(n){n.method="textDocument/selectionRange",n.messageDirection=M_.MessageDirection.clientToServer,n.type=new M_.ProtocolRequestType(n.method);})(j_||($u.SelectionRangeRequest=j_={}));});var W_=E(gi=>{d();Object.defineProperty(gi,"__esModule",{value:!0});gi.WorkDoneProgressCancelNotification=gi.WorkDoneProgressCreateRequest=gi.WorkDoneProgress=void 0;var eA=Vi(),Uu=Ze(),U_;(function(n){n.type=new eA.ProgressType;function e(t){return t===n.type}n.is=e;})(U_||(gi.WorkDoneProgress=U_={}));var H_;(function(n){n.method="window/workDoneProgress/create",n.messageDirection=Uu.MessageDirection.serverToClient,n.type=new Uu.ProtocolRequestType(n.method);})(H_||(gi.WorkDoneProgressCreateRequest=H_={}));var K_;(function(n){n.method="window/workDoneProgress/cancel",n.messageDirection=Uu.MessageDirection.clientToServer,n.type=new Uu.ProtocolNotificationType(n.method);})(K_||(gi.WorkDoneProgressCancelNotification=K_={}));});var G_=E(mi=>{d();Object.defineProperty(mi,"__esModule",{value:!0});mi.CallHierarchyOutgoingCallsRequest=mi.CallHierarchyIncomingCallsRequest=mi.CallHierarchyPrepareRequest=void 0;var Ls=Ze(),V_;(function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=Ls.MessageDirection.clientToServer,n.type=new Ls.ProtocolRequestType(n.method);})(V_||(mi.CallHierarchyPrepareRequest=V_={}));var B_;(function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=Ls.MessageDirection.clientToServer,n.type=new Ls.ProtocolRequestType(n.method);})(B_||(mi.CallHierarchyIncomingCallsRequest=B_={}));var z_;(function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=Ls.MessageDirection.clientToServer,n.type=new Ls.ProtocolRequestType(n.method);})(z_||(mi.CallHierarchyOutgoingCallsRequest=z_={}));});var eD=E(cn=>{d();Object.defineProperty(cn,"__esModule",{value:!0});cn.SemanticTokensRefreshRequest=cn.SemanticTokensRangeRequest=cn.SemanticTokensDeltaRequest=cn.SemanticTokensRequest=cn.SemanticTokensRegistrationType=cn.TokenFormat=void 0;var Nr=Ze(),Y_;(function(n){n.Relative="relative";})(Y_||(cn.TokenFormat=Y_={}));var ea;(function(n){n.method="textDocument/semanticTokens",n.type=new Nr.RegistrationType(n.method);})(ea||(cn.SemanticTokensRegistrationType=ea={}));var J_;(function(n){n.method="textDocument/semanticTokens/full",n.messageDirection=Nr.MessageDirection.clientToServer,n.type=new Nr.ProtocolRequestType(n.method),n.registrationMethod=ea.method;})(J_||(cn.SemanticTokensRequest=J_={}));var X_;(function(n){n.method="textDocument/semanticTokens/full/delta",n.messageDirection=Nr.MessageDirection.clientToServer,n.type=new Nr.ProtocolRequestType(n.method),n.registrationMethod=ea.method;})(X_||(cn.SemanticTokensDeltaRequest=X_={}));var Q_;(function(n){n.method="textDocument/semanticTokens/range",n.messageDirection=Nr.MessageDirection.clientToServer,n.type=new Nr.ProtocolRequestType(n.method),n.registrationMethod=ea.method;})(Q_||(cn.SemanticTokensRangeRequest=Q_={}));var Z_;(function(n){n.method="workspace/semanticTokens/refresh",n.messageDirection=Nr.MessageDirection.serverToClient,n.type=new Nr.ProtocolRequestType0(n.method);})(Z_||(cn.SemanticTokensRefreshRequest=Z_={}));});var rD=E(Hu=>{d();Object.defineProperty(Hu,"__esModule",{value:!0});Hu.ShowDocumentRequest=void 0;var tD=Ze(),nD;(function(n){n.method="window/showDocument",n.messageDirection=tD.MessageDirection.serverToClient,n.type=new tD.ProtocolRequestType(n.method);})(nD||(Hu.ShowDocumentRequest=nD={}));});var oD=E(Ku=>{d();Object.defineProperty(Ku,"__esModule",{value:!0});Ku.LinkedEditingRangeRequest=void 0;var iD=Ze(),sD;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=iD.MessageDirection.clientToServer,n.type=new iD.ProtocolRequestType(n.method);})(sD||(Ku.LinkedEditingRangeRequest=sD={}));});var pD=E(Ht=>{d();Object.defineProperty(Ht,"__esModule",{value:!0});Ht.WillDeleteFilesRequest=Ht.DidDeleteFilesNotification=Ht.DidRenameFilesNotification=Ht.WillRenameFilesRequest=Ht.DidCreateFilesNotification=Ht.WillCreateFilesRequest=Ht.FileOperationPatternKind=void 0;var xn=Ze(),aD;(function(n){n.file="file",n.folder="folder";})(aD||(Ht.FileOperationPatternKind=aD={}));var cD;(function(n){n.method="workspace/willCreateFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolRequestType(n.method);})(cD||(Ht.WillCreateFilesRequest=cD={}));var uD;(function(n){n.method="workspace/didCreateFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolNotificationType(n.method);})(uD||(Ht.DidCreateFilesNotification=uD={}));var lD;(function(n){n.method="workspace/willRenameFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolRequestType(n.method);})(lD||(Ht.WillRenameFilesRequest=lD={}));var dD;(function(n){n.method="workspace/didRenameFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolNotificationType(n.method);})(dD||(Ht.DidRenameFilesNotification=dD={}));var fD;(function(n){n.method="workspace/didDeleteFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolNotificationType(n.method);})(fD||(Ht.DidDeleteFilesNotification=fD={}));var hD;(function(n){n.method="workspace/willDeleteFiles",n.messageDirection=xn.MessageDirection.clientToServer,n.type=new xn.ProtocolRequestType(n.method);})(hD||(Ht.WillDeleteFilesRequest=hD={}));});var wD=E(yi=>{d();Object.defineProperty(yi,"__esModule",{value:!0});yi.MonikerRequest=yi.MonikerKind=yi.UniquenessLevel=void 0;var gD=Ze(),mD;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global";})(mD||(yi.UniquenessLevel=mD={}));var yD;(function(n){n.$import="import",n.$export="export",n.local="local";})(yD||(yi.MonikerKind=yD={}));var vD;(function(n){n.method="textDocument/moniker",n.messageDirection=gD.MessageDirection.clientToServer,n.type=new gD.ProtocolRequestType(n.method);})(vD||(yi.MonikerRequest=vD={}));});var _D=E(vi=>{d();Object.defineProperty(vi,"__esModule",{value:!0});vi.TypeHierarchySubtypesRequest=vi.TypeHierarchySupertypesRequest=vi.TypeHierarchyPrepareRequest=void 0;var Fs=Ze(),bD;(function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=Fs.MessageDirection.clientToServer,n.type=new Fs.ProtocolRequestType(n.method);})(bD||(vi.TypeHierarchyPrepareRequest=bD={}));var SD;(function(n){n.method="typeHierarchy/supertypes",n.messageDirection=Fs.MessageDirection.clientToServer,n.type=new Fs.ProtocolRequestType(n.method);})(SD||(vi.TypeHierarchySupertypesRequest=SD={}));var CD;(function(n){n.method="typeHierarchy/subtypes",n.messageDirection=Fs.MessageDirection.clientToServer,n.type=new Fs.ProtocolRequestType(n.method);})(CD||(vi.TypeHierarchySubtypesRequest=CD={}));});var RD=E(Ms=>{d();Object.defineProperty(Ms,"__esModule",{value:!0});Ms.InlineValueRefreshRequest=Ms.InlineValueRequest=void 0;var Wu=Ze(),DD;(function(n){n.method="textDocument/inlineValue",n.messageDirection=Wu.MessageDirection.clientToServer,n.type=new Wu.ProtocolRequestType(n.method);})(DD||(Ms.InlineValueRequest=DD={}));var TD;(function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=Wu.MessageDirection.serverToClient,n.type=new Wu.ProtocolRequestType0(n.method);})(TD||(Ms.InlineValueRefreshRequest=TD={}));});var qD=E(wi=>{d();Object.defineProperty(wi,"__esModule",{value:!0});wi.InlayHintRefreshRequest=wi.InlayHintResolveRequest=wi.InlayHintRequest=void 0;var js=Ze(),PD;(function(n){n.method="textDocument/inlayHint",n.messageDirection=js.MessageDirection.clientToServer,n.type=new js.ProtocolRequestType(n.method);})(PD||(wi.InlayHintRequest=PD={}));var ED;(function(n){n.method="inlayHint/resolve",n.messageDirection=js.MessageDirection.clientToServer,n.type=new js.ProtocolRequestType(n.method);})(ED||(wi.InlayHintResolveRequest=ED={}));var kD;(function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=js.MessageDirection.serverToClient,n.type=new js.ProtocolRequestType0(n.method);})(kD||(wi.InlayHintRefreshRequest=kD={}));});var FD=E(An=>{d();Object.defineProperty(An,"__esModule",{value:!0});An.DiagnosticRefreshRequest=An.WorkspaceDiagnosticRequest=An.DocumentDiagnosticRequest=An.DocumentDiagnosticReportKind=An.DiagnosticServerCancellationData=void 0;var LD=Vi(),tA=Ou(),$s=Ze(),ID;(function(n){function e(t){let r=t;return r&&tA.boolean(r.retriggerRequest)}n.is=e;})(ID||(An.DiagnosticServerCancellationData=ID={}));var OD;(function(n){n.Full="full",n.Unchanged="unchanged";})(OD||(An.DocumentDiagnosticReportKind=OD={}));var ND;(function(n){n.method="textDocument/diagnostic",n.messageDirection=$s.MessageDirection.clientToServer,n.type=new $s.ProtocolRequestType(n.method),n.partialResult=new LD.ProgressType;})(ND||(An.DocumentDiagnosticRequest=ND={}));var xD;(function(n){n.method="workspace/diagnostic",n.messageDirection=$s.MessageDirection.clientToServer,n.type=new $s.ProtocolRequestType(n.method),n.partialResult=new LD.ProgressType;})(xD||(An.WorkspaceDiagnosticRequest=xD={}));var AD;(function(n){n.method="workspace/diagnostic/refresh",n.messageDirection=$s.MessageDirection.serverToClient,n.type=new $s.ProtocolRequestType0(n.method);})(AD||(An.DiagnosticRefreshRequest=AD={}));});var WD=E(ft=>{d();Object.defineProperty(ft,"__esModule",{value:!0});ft.DidCloseNotebookDocumentNotification=ft.DidSaveNotebookDocumentNotification=ft.DidChangeNotebookDocumentNotification=ft.NotebookCellArrayChange=ft.DidOpenNotebookDocumentNotification=ft.NotebookDocumentSyncRegistrationType=ft.NotebookDocument=ft.NotebookCell=ft.ExecutionSummary=ft.NotebookCellKind=void 0;var ta=Iu(),Xn=Ou(),yr=Ze(),Ap;(function(n){n.Markup=1,n.Code=2;function e(t){return t===1||t===2}n.is=e;})(Ap||(ft.NotebookCellKind=Ap={}));var Lp;(function(n){function e(i,s){let o={executionOrder:i};return (s===!0||s===!1)&&(o.success=s),o}n.create=e;function t(i){let s=i;return Xn.objectLiteral(s)&&ta.uinteger.is(s.executionOrder)&&(s.success===void 0||Xn.boolean(s.success))}n.is=t;function r(i,s){return i===s?!0:i==null||s===null||s===void 0?!1:i.executionOrder===s.executionOrder&&i.success===s.success}n.equals=r;})(Lp||(ft.ExecutionSummary=Lp={}));var Vu;(function(n){function e(s,o){return {kind:s,document:o}}n.create=e;function t(s){let o=s;return Xn.objectLiteral(o)&&Ap.is(o.kind)&&ta.DocumentUri.is(o.document)&&(o.metadata===void 0||Xn.objectLiteral(o.metadata))}n.is=t;function r(s,o){let a=new Set;return s.document!==o.document&&a.add("document"),s.kind!==o.kind&&a.add("kind"),s.executionSummary!==o.executionSummary&&a.add("executionSummary"),(s.metadata!==void 0||o.metadata!==void 0)&&!i(s.metadata,o.metadata)&&a.add("metadata"),(s.executionSummary!==void 0||o.executionSummary!==void 0)&&!Lp.equals(s.executionSummary,o.executionSummary)&&a.add("executionSummary"),a}n.diff=r;function i(s,o){if(s===o)return !0;if(s==null||o===null||o===void 0||typeof s!=typeof o||typeof s!="object")return !1;let a=Array.isArray(s),c=Array.isArray(o);if(a!==c)return !1;if(a&&c){if(s.length!==o.length)return !1;for(let u=0;u<s.length;u++)if(!i(s[u],o[u]))return !1}if(Xn.objectLiteral(s)&&Xn.objectLiteral(o)){let u=Object.keys(s),f=Object.keys(o);if(u.length!==f.length||(u.sort(),f.sort(),!i(u,f)))return !1;for(let h=0;h<u.length;h++){let p=u[h];if(!i(s[p],o[p]))return !1}}return !0}})(Vu||(ft.NotebookCell=Vu={}));var MD;(function(n){function e(r,i,s,o){return {uri:r,notebookType:i,version:s,cells:o}}n.create=e;function t(r){let i=r;return Xn.objectLiteral(i)&&Xn.string(i.uri)&&ta.integer.is(i.version)&&Xn.typedArray(i.cells,Vu.is)}n.is=t;})(MD||(ft.NotebookDocument=MD={}));var Us;(function(n){n.method="notebookDocument/sync",n.messageDirection=yr.MessageDirection.clientToServer,n.type=new yr.RegistrationType(n.method);})(Us||(ft.NotebookDocumentSyncRegistrationType=Us={}));var jD;(function(n){n.method="notebookDocument/didOpen",n.messageDirection=yr.MessageDirection.clientToServer,n.type=new yr.ProtocolNotificationType(n.method),n.registrationMethod=Us.method;})(jD||(ft.DidOpenNotebookDocumentNotification=jD={}));var $D;(function(n){function e(r){let i=r;return Xn.objectLiteral(i)&&ta.uinteger.is(i.start)&&ta.uinteger.is(i.deleteCount)&&(i.cells===void 0||Xn.typedArray(i.cells,Vu.is))}n.is=e;function t(r,i,s){let o={start:r,deleteCount:i};return s!==void 0&&(o.cells=s),o}n.create=t;})($D||(ft.NotebookCellArrayChange=$D={}));var UD;(function(n){n.method="notebookDocument/didChange",n.messageDirection=yr.MessageDirection.clientToServer,n.type=new yr.ProtocolNotificationType(n.method),n.registrationMethod=Us.method;})(UD||(ft.DidChangeNotebookDocumentNotification=UD={}));var HD;(function(n){n.method="notebookDocument/didSave",n.messageDirection=yr.MessageDirection.clientToServer,n.type=new yr.ProtocolNotificationType(n.method),n.registrationMethod=Us.method;})(HD||(ft.DidSaveNotebookDocumentNotification=HD={}));var KD;(function(n){n.method="notebookDocument/didClose",n.messageDirection=yr.MessageDirection.clientToServer,n.type=new yr.ProtocolNotificationType(n.method),n.registrationMethod=Us.method;})(KD||(ft.DidCloseNotebookDocumentNotification=KD={}));});var zD=E(Bu=>{d();Object.defineProperty(Bu,"__esModule",{value:!0});Bu.InlineCompletionRequest=void 0;var VD=Ze(),BD;(function(n){n.method="textDocument/inlineCompletion",n.messageDirection=VD.MessageDirection.clientToServer,n.type=new VD.ProtocolRequestType(n.method);})(BD||(Bu.InlineCompletionRequest=BD={}));});var oR=E(_=>{d();Object.defineProperty(_,"__esModule",{value:!0});_.WorkspaceSymbolRequest=_.CodeActionResolveRequest=_.CodeActionRequest=_.DocumentSymbolRequest=_.DocumentHighlightRequest=_.ReferencesRequest=_.DefinitionRequest=_.SignatureHelpRequest=_.SignatureHelpTriggerKind=_.HoverRequest=_.CompletionResolveRequest=_.CompletionRequest=_.CompletionTriggerKind=_.PublishDiagnosticsNotification=_.WatchKind=_.RelativePattern=_.FileChangeType=_.DidChangeWatchedFilesNotification=_.WillSaveTextDocumentWaitUntilRequest=_.WillSaveTextDocumentNotification=_.TextDocumentSaveReason=_.DidSaveTextDocumentNotification=_.DidCloseTextDocumentNotification=_.DidChangeTextDocumentNotification=_.TextDocumentContentChangeEvent=_.DidOpenTextDocumentNotification=_.TextDocumentSyncKind=_.TelemetryEventNotification=_.LogMessageNotification=_.ShowMessageRequest=_.ShowMessageNotification=_.MessageType=_.DidChangeConfigurationNotification=_.ExitNotification=_.ShutdownRequest=_.InitializedNotification=_.InitializeErrorCodes=_.InitializeRequest=_.WorkDoneProgressOptions=_.TextDocumentRegistrationOptions=_.StaticRegistrationOptions=_.PositionEncodingKind=_.FailureHandlingKind=_.ResourceOperationKind=_.UnregistrationRequest=_.RegistrationRequest=_.DocumentSelector=_.NotebookCellTextDocumentFilter=_.NotebookDocumentFilter=_.TextDocumentFilter=void 0;_.MonikerRequest=_.MonikerKind=_.UniquenessLevel=_.WillDeleteFilesRequest=_.DidDeleteFilesNotification=_.WillRenameFilesRequest=_.DidRenameFilesNotification=_.WillCreateFilesRequest=_.DidCreateFilesNotification=_.FileOperationPatternKind=_.LinkedEditingRangeRequest=_.ShowDocumentRequest=_.SemanticTokensRegistrationType=_.SemanticTokensRefreshRequest=_.SemanticTokensRangeRequest=_.SemanticTokensDeltaRequest=_.SemanticTokensRequest=_.TokenFormat=_.CallHierarchyPrepareRequest=_.CallHierarchyOutgoingCallsRequest=_.CallHierarchyIncomingCallsRequest=_.WorkDoneProgressCancelNotification=_.WorkDoneProgressCreateRequest=_.WorkDoneProgress=_.SelectionRangeRequest=_.DeclarationRequest=_.FoldingRangeRefreshRequest=_.FoldingRangeRequest=_.ColorPresentationRequest=_.DocumentColorRequest=_.ConfigurationRequest=_.DidChangeWorkspaceFoldersNotification=_.WorkspaceFoldersRequest=_.TypeDefinitionRequest=_.ImplementationRequest=_.ApplyWorkspaceEditRequest=_.ExecuteCommandRequest=_.PrepareRenameRequest=_.RenameRequest=_.PrepareSupportDefaultBehavior=_.DocumentOnTypeFormattingRequest=_.DocumentRangesFormattingRequest=_.DocumentRangeFormattingRequest=_.DocumentFormattingRequest=_.DocumentLinkResolveRequest=_.DocumentLinkRequest=_.CodeLensRefreshRequest=_.CodeLensResolveRequest=_.CodeLensRequest=_.WorkspaceSymbolResolveRequest=void 0;_.InlineCompletionRequest=_.DidCloseNotebookDocumentNotification=_.DidSaveNotebookDocumentNotification=_.DidChangeNotebookDocumentNotification=_.NotebookCellArrayChange=_.DidOpenNotebookDocumentNotification=_.NotebookDocumentSyncRegistrationType=_.NotebookDocument=_.NotebookCell=_.ExecutionSummary=_.NotebookCellKind=_.DiagnosticRefreshRequest=_.WorkspaceDiagnosticRequest=_.DocumentDiagnosticRequest=_.DocumentDiagnosticReportKind=_.DiagnosticServerCancellationData=_.InlayHintRefreshRequest=_.InlayHintResolveRequest=_.InlayHintRequest=_.InlineValueRefreshRequest=_.InlineValueRequest=_.TypeHierarchySupertypesRequest=_.TypeHierarchySubtypesRequest=_.TypeHierarchyPrepareRequest=void 0;var B=Ze(),GD=Iu(),Et=Ou(),nA=w_();Object.defineProperty(_,"ImplementationRequest",{enumerable:!0,get:function(){return nA.ImplementationRequest}});var rA=C_();Object.defineProperty(_,"TypeDefinitionRequest",{enumerable:!0,get:function(){return rA.TypeDefinitionRequest}});var nR=T_();Object.defineProperty(_,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return nR.WorkspaceFoldersRequest}});Object.defineProperty(_,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return nR.DidChangeWorkspaceFoldersNotification}});var iA=E_();Object.defineProperty(_,"ConfigurationRequest",{enumerable:!0,get:function(){return iA.ConfigurationRequest}});var rR=I_();Object.defineProperty(_,"DocumentColorRequest",{enumerable:!0,get:function(){return rR.DocumentColorRequest}});Object.defineProperty(_,"ColorPresentationRequest",{enumerable:!0,get:function(){return rR.ColorPresentationRequest}});var iR=x_();Object.defineProperty(_,"FoldingRangeRequest",{enumerable:!0,get:function(){return iR.FoldingRangeRequest}});Object.defineProperty(_,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return iR.FoldingRangeRefreshRequest}});var sA=F_();Object.defineProperty(_,"DeclarationRequest",{enumerable:!0,get:function(){return sA.DeclarationRequest}});var oA=$_();Object.defineProperty(_,"SelectionRangeRequest",{enumerable:!0,get:function(){return oA.SelectionRangeRequest}});var Up=W_();Object.defineProperty(_,"WorkDoneProgress",{enumerable:!0,get:function(){return Up.WorkDoneProgress}});Object.defineProperty(_,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Up.WorkDoneProgressCreateRequest}});Object.defineProperty(_,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Up.WorkDoneProgressCancelNotification}});var Hp=G_();Object.defineProperty(_,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Hp.CallHierarchyIncomingCallsRequest}});Object.defineProperty(_,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Hp.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(_,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Hp.CallHierarchyPrepareRequest}});var Hs=eD();Object.defineProperty(_,"TokenFormat",{enumerable:!0,get:function(){return Hs.TokenFormat}});Object.defineProperty(_,"SemanticTokensRequest",{enumerable:!0,get:function(){return Hs.SemanticTokensRequest}});Object.defineProperty(_,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Hs.SemanticTokensDeltaRequest}});Object.defineProperty(_,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Hs.SemanticTokensRangeRequest}});Object.defineProperty(_,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Hs.SemanticTokensRefreshRequest}});Object.defineProperty(_,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Hs.SemanticTokensRegistrationType}});var aA=rD();Object.defineProperty(_,"ShowDocumentRequest",{enumerable:!0,get:function(){return aA.ShowDocumentRequest}});var cA=oD();Object.defineProperty(_,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return cA.LinkedEditingRangeRequest}});var Bi=pD();Object.defineProperty(_,"FileOperationPatternKind",{enumerable:!0,get:function(){return Bi.FileOperationPatternKind}});Object.defineProperty(_,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Bi.DidCreateFilesNotification}});Object.defineProperty(_,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Bi.WillCreateFilesRequest}});Object.defineProperty(_,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Bi.DidRenameFilesNotification}});Object.defineProperty(_,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Bi.WillRenameFilesRequest}});Object.defineProperty(_,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Bi.DidDeleteFilesNotification}});Object.defineProperty(_,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Bi.WillDeleteFilesRequest}});var Kp=wD();Object.defineProperty(_,"UniquenessLevel",{enumerable:!0,get:function(){return Kp.UniquenessLevel}});Object.defineProperty(_,"MonikerKind",{enumerable:!0,get:function(){return Kp.MonikerKind}});Object.defineProperty(_,"MonikerRequest",{enumerable:!0,get:function(){return Kp.MonikerRequest}});var Wp=_D();Object.defineProperty(_,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Wp.TypeHierarchyPrepareRequest}});Object.defineProperty(_,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Wp.TypeHierarchySubtypesRequest}});Object.defineProperty(_,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Wp.TypeHierarchySupertypesRequest}});var sR=RD();Object.defineProperty(_,"InlineValueRequest",{enumerable:!0,get:function(){return sR.InlineValueRequest}});Object.defineProperty(_,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return sR.InlineValueRefreshRequest}});var Vp=qD();Object.defineProperty(_,"InlayHintRequest",{enumerable:!0,get:function(){return Vp.InlayHintRequest}});Object.defineProperty(_,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Vp.InlayHintResolveRequest}});Object.defineProperty(_,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Vp.InlayHintRefreshRequest}});var na=FD();Object.defineProperty(_,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return na.DiagnosticServerCancellationData}});Object.defineProperty(_,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return na.DocumentDiagnosticReportKind}});Object.defineProperty(_,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return na.DocumentDiagnosticRequest}});Object.defineProperty(_,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return na.WorkspaceDiagnosticRequest}});Object.defineProperty(_,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return na.DiagnosticRefreshRequest}});var vr=WD();Object.defineProperty(_,"NotebookCellKind",{enumerable:!0,get:function(){return vr.NotebookCellKind}});Object.defineProperty(_,"ExecutionSummary",{enumerable:!0,get:function(){return vr.ExecutionSummary}});Object.defineProperty(_,"NotebookCell",{enumerable:!0,get:function(){return vr.NotebookCell}});Object.defineProperty(_,"NotebookDocument",{enumerable:!0,get:function(){return vr.NotebookDocument}});Object.defineProperty(_,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return vr.NotebookDocumentSyncRegistrationType}});Object.defineProperty(_,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return vr.DidOpenNotebookDocumentNotification}});Object.defineProperty(_,"NotebookCellArrayChange",{enumerable:!0,get:function(){return vr.NotebookCellArrayChange}});Object.defineProperty(_,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return vr.DidChangeNotebookDocumentNotification}});Object.defineProperty(_,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return vr.DidSaveNotebookDocumentNotification}});Object.defineProperty(_,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return vr.DidCloseNotebookDocumentNotification}});var uA=zD();Object.defineProperty(_,"InlineCompletionRequest",{enumerable:!0,get:function(){return uA.InlineCompletionRequest}});var Fp;(function(n){function e(t){let r=t;return Et.string(r)||Et.string(r.language)||Et.string(r.scheme)||Et.string(r.pattern)}n.is=e;})(Fp||(_.TextDocumentFilter=Fp={}));var Mp;(function(n){function e(t){let r=t;return Et.objectLiteral(r)&&(Et.string(r.notebookType)||Et.string(r.scheme)||Et.string(r.pattern))}n.is=e;})(Mp||(_.NotebookDocumentFilter=Mp={}));var jp;(function(n){function e(t){let r=t;return Et.objectLiteral(r)&&(Et.string(r.notebook)||Mp.is(r.notebook))&&(r.language===void 0||Et.string(r.language))}n.is=e;})(jp||(_.NotebookCellTextDocumentFilter=jp={}));var $p;(function(n){function e(t){if(!Array.isArray(t))return !1;for(let r of t)if(!Et.string(r)&&!Fp.is(r)&&!jp.is(r))return !1;return !0}n.is=e;})($p||(_.DocumentSelector=$p={}));var YD;(function(n){n.method="client/registerCapability",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolRequestType(n.method);})(YD||(_.RegistrationRequest=YD={}));var JD;(function(n){n.method="client/unregisterCapability",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolRequestType(n.method);})(JD||(_.UnregistrationRequest=JD={}));var XD;(function(n){n.Create="create",n.Rename="rename",n.Delete="delete";})(XD||(_.ResourceOperationKind=XD={}));var QD;(function(n){n.Abort="abort",n.Transactional="transactional",n.TextOnlyTransactional="textOnlyTransactional",n.Undo="undo";})(QD||(_.FailureHandlingKind=QD={}));var ZD;(function(n){n.UTF8="utf-8",n.UTF16="utf-16",n.UTF32="utf-32";})(ZD||(_.PositionEncodingKind=ZD={}));var eT;(function(n){function e(t){let r=t;return r&&Et.string(r.id)&&r.id.length>0}n.hasId=e;})(eT||(_.StaticRegistrationOptions=eT={}));var tT;(function(n){function e(t){let r=t;return r&&(r.documentSelector===null||$p.is(r.documentSelector))}n.is=e;})(tT||(_.TextDocumentRegistrationOptions=tT={}));var nT;(function(n){function e(r){let i=r;return Et.objectLiteral(i)&&(i.workDoneProgress===void 0||Et.boolean(i.workDoneProgress))}n.is=e;function t(r){let i=r;return i&&Et.boolean(i.workDoneProgress)}n.hasWorkDoneProgress=t;})(nT||(_.WorkDoneProgressOptions=nT={}));var rT;(function(n){n.method="initialize",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(rT||(_.InitializeRequest=rT={}));var iT;(function(n){n.unknownProtocolVersion=1;})(iT||(_.InitializeErrorCodes=iT={}));var sT;(function(n){n.method="initialized",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(sT||(_.InitializedNotification=sT={}));var oT;(function(n){n.method="shutdown",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType0(n.method);})(oT||(_.ShutdownRequest=oT={}));var aT;(function(n){n.method="exit",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType0(n.method);})(aT||(_.ExitNotification=aT={}));var cT;(function(n){n.method="workspace/didChangeConfiguration",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(cT||(_.DidChangeConfigurationNotification=cT={}));var uT;(function(n){n.Error=1,n.Warning=2,n.Info=3,n.Log=4,n.Debug=5;})(uT||(_.MessageType=uT={}));var lT;(function(n){n.method="window/showMessage",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolNotificationType(n.method);})(lT||(_.ShowMessageNotification=lT={}));var dT;(function(n){n.method="window/showMessageRequest",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolRequestType(n.method);})(dT||(_.ShowMessageRequest=dT={}));var fT;(function(n){n.method="window/logMessage",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolNotificationType(n.method);})(fT||(_.LogMessageNotification=fT={}));var hT;(function(n){n.method="telemetry/event",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolNotificationType(n.method);})(hT||(_.TelemetryEventNotification=hT={}));var pT;(function(n){n.None=0,n.Full=1,n.Incremental=2;})(pT||(_.TextDocumentSyncKind=pT={}));var gT;(function(n){n.method="textDocument/didOpen",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(gT||(_.DidOpenTextDocumentNotification=gT={}));var mT;(function(n){function e(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}n.isIncremental=e;function t(r){let i=r;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}n.isFull=t;})(mT||(_.TextDocumentContentChangeEvent=mT={}));var yT;(function(n){n.method="textDocument/didChange",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(yT||(_.DidChangeTextDocumentNotification=yT={}));var vT;(function(n){n.method="textDocument/didClose",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(vT||(_.DidCloseTextDocumentNotification=vT={}));var wT;(function(n){n.method="textDocument/didSave",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(wT||(_.DidSaveTextDocumentNotification=wT={}));var bT;(function(n){n.Manual=1,n.AfterDelay=2,n.FocusOut=3;})(bT||(_.TextDocumentSaveReason=bT={}));var ST;(function(n){n.method="textDocument/willSave",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(ST||(_.WillSaveTextDocumentNotification=ST={}));var CT;(function(n){n.method="textDocument/willSaveWaitUntil",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(CT||(_.WillSaveTextDocumentWaitUntilRequest=CT={}));var _T;(function(n){n.method="workspace/didChangeWatchedFiles",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolNotificationType(n.method);})(_T||(_.DidChangeWatchedFilesNotification=_T={}));var DT;(function(n){n.Created=1,n.Changed=2,n.Deleted=3;})(DT||(_.FileChangeType=DT={}));var TT;(function(n){function e(t){let r=t;return Et.objectLiteral(r)&&(GD.URI.is(r.baseUri)||GD.WorkspaceFolder.is(r.baseUri))&&Et.string(r.pattern)}n.is=e;})(TT||(_.RelativePattern=TT={}));var RT;(function(n){n.Create=1,n.Change=2,n.Delete=4;})(RT||(_.WatchKind=RT={}));var PT;(function(n){n.method="textDocument/publishDiagnostics",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolNotificationType(n.method);})(PT||(_.PublishDiagnosticsNotification=PT={}));var ET;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.TriggerForIncompleteCompletions=3;})(ET||(_.CompletionTriggerKind=ET={}));var kT;(function(n){n.method="textDocument/completion",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(kT||(_.CompletionRequest=kT={}));var qT;(function(n){n.method="completionItem/resolve",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(qT||(_.CompletionResolveRequest=qT={}));var IT;(function(n){n.method="textDocument/hover",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(IT||(_.HoverRequest=IT={}));var OT;(function(n){n.Invoked=1,n.TriggerCharacter=2,n.ContentChange=3;})(OT||(_.SignatureHelpTriggerKind=OT={}));var NT;(function(n){n.method="textDocument/signatureHelp",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(NT||(_.SignatureHelpRequest=NT={}));var xT;(function(n){n.method="textDocument/definition",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(xT||(_.DefinitionRequest=xT={}));var AT;(function(n){n.method="textDocument/references",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(AT||(_.ReferencesRequest=AT={}));var LT;(function(n){n.method="textDocument/documentHighlight",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(LT||(_.DocumentHighlightRequest=LT={}));var FT;(function(n){n.method="textDocument/documentSymbol",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(FT||(_.DocumentSymbolRequest=FT={}));var MT;(function(n){n.method="textDocument/codeAction",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(MT||(_.CodeActionRequest=MT={}));var jT;(function(n){n.method="codeAction/resolve",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(jT||(_.CodeActionResolveRequest=jT={}));var $T;(function(n){n.method="workspace/symbol",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})($T||(_.WorkspaceSymbolRequest=$T={}));var UT;(function(n){n.method="workspaceSymbol/resolve",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(UT||(_.WorkspaceSymbolResolveRequest=UT={}));var HT;(function(n){n.method="textDocument/codeLens",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(HT||(_.CodeLensRequest=HT={}));var KT;(function(n){n.method="codeLens/resolve",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(KT||(_.CodeLensResolveRequest=KT={}));var WT;(function(n){n.method="workspace/codeLens/refresh",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolRequestType0(n.method);})(WT||(_.CodeLensRefreshRequest=WT={}));var VT;(function(n){n.method="textDocument/documentLink",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(VT||(_.DocumentLinkRequest=VT={}));var BT;(function(n){n.method="documentLink/resolve",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(BT||(_.DocumentLinkResolveRequest=BT={}));var zT;(function(n){n.method="textDocument/formatting",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(zT||(_.DocumentFormattingRequest=zT={}));var GT;(function(n){n.method="textDocument/rangeFormatting",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(GT||(_.DocumentRangeFormattingRequest=GT={}));var YT;(function(n){n.method="textDocument/rangesFormatting",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(YT||(_.DocumentRangesFormattingRequest=YT={}));var JT;(function(n){n.method="textDocument/onTypeFormatting",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(JT||(_.DocumentOnTypeFormattingRequest=JT={}));var XT;(function(n){n.Identifier=1;})(XT||(_.PrepareSupportDefaultBehavior=XT={}));var QT;(function(n){n.method="textDocument/rename",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(QT||(_.RenameRequest=QT={}));var ZT;(function(n){n.method="textDocument/prepareRename",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(ZT||(_.PrepareRenameRequest=ZT={}));var eR;(function(n){n.method="workspace/executeCommand",n.messageDirection=B.MessageDirection.clientToServer,n.type=new B.ProtocolRequestType(n.method);})(eR||(_.ExecuteCommandRequest=eR={}));var tR;(function(n){n.method="workspace/applyEdit",n.messageDirection=B.MessageDirection.serverToClient,n.type=new B.ProtocolRequestType("workspace/applyEdit");})(tR||(_.ApplyWorkspaceEditRequest=tR={}));});var cR=E(zu=>{d();Object.defineProperty(zu,"__esModule",{value:!0});zu.createProtocolConnection=void 0;var aR=Vi();function lA(n,e,t,r){return aR.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0, aR.createMessageConnection)(n,e,t,r)}zu.createProtocolConnection=lA;});var lR=E(un=>{d();var dA=un&&un.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),Gu=un&&un.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&dA(e,n,t);};Object.defineProperty(un,"__esModule",{value:!0});un.LSPErrorCodes=un.createProtocolConnection=void 0;Gu(Vi(),un);Gu(Iu(),un);Gu(Ze(),un);Gu(oR(),un);var fA=cR();Object.defineProperty(un,"createProtocolConnection",{enumerable:!0,get:function(){return fA.createProtocolConnection}});var uR;(function(n){n.lspReservedErrorRangeStart=-32899,n.RequestFailed=-32803,n.ServerCancelled=-32802,n.ContentModified=-32801,n.RequestCancelled=-32800,n.lspReservedErrorRangeEnd=-32800;})(uR||(un.LSPErrorCodes=uR={}));});var se=E(wr=>{d();var hA=wr&&wr.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),dR=wr&&wr.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&hA(e,n,t);};Object.defineProperty(wr,"__esModule",{value:!0});wr.createProtocolConnection=void 0;var pA=kp();dR(kp(),wr);dR(lR(),wr);function gA(n,e,t,r){return (0, pA.createMessageConnection)(n,e,t,r)}wr.createProtocolConnection=gA;});var bi=E(Se=>{d();var mA=Se&&Se.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),yA=Se&&Se.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&mA(e,n,t);};Object.defineProperty(Se,"__esModule",{value:!0});Se.LoadedTSFilesMetaRequest=Se.GetVirtualCodeRequest=Se.GetVirtualFileRequest=Se.GetServicePluginsRequest=Se.UpdateServicePluginStateNotification=Se.UpdateVirtualCodeStateNotification=Se.DocumentDrop_DataTransferItemFileDataRequest=Se.DocumentDrop_DataTransferItemAsStringRequest=Se.DocumentDropRequest=Se.ReloadProjectNotification=Se.WriteVirtualFilesNotification=Se.AutoInsertRequest=Se.GetMatchTsConfigRequest=Se.FindFileReferenceRequest=void 0;var ln=se();yA(se(),Se);var fR;(function(n){n.type=new ln.RequestType("volar/client/findFileReference");})(fR||(Se.FindFileReferenceRequest=fR={}));var hR;(function(n){n.type=new ln.RequestType("volar/client/tsconfig");})(hR||(Se.GetMatchTsConfigRequest=hR={}));var pR;(function(n){n.type=new ln.RequestType("volar/client/autoInsert");})(pR||(Se.AutoInsertRequest=pR={}));var gR;(function(n){n.type=new ln.NotificationType("volar/client/writeVirtualFiles");})(gR||(Se.WriteVirtualFilesNotification=gR={}));var mR;(function(n){n.type=new ln.NotificationType("volar/client/reloadProject");})(mR||(Se.ReloadProjectNotification=mR={}));var yR;(function(n){n.type=new ln.RequestType("volar/client/documentDrop");})(yR||(Se.DocumentDropRequest=yR={}));var vR;(function(n){n.type=new ln.RequestType("volar/client/documentDrop/asString");})(vR||(Se.DocumentDrop_DataTransferItemAsStringRequest=vR={}));var wR;(function(n){n.type=new ln.RequestType("volar/client/documentDrop/fileData");})(wR||(Se.DocumentDrop_DataTransferItemFileDataRequest=wR={}));var bR;(function(n){n.type=new ln.NotificationType("volar/client/labs/updateVirtualFileState");})(bR||(Se.UpdateVirtualCodeStateNotification=bR={}));var SR;(function(n){n.type=new ln.NotificationType("volar/client/labs/updateServicePluginState");})(SR||(Se.UpdateServicePluginStateNotification=SR={}));var CR;(function(n){n.type=new ln.RequestType("volar/client/servicePlugins");})(CR||(Se.GetServicePluginsRequest=CR={}));var _R;(function(n){n.type=new ln.RequestType("volar/client/virtualFiles");})(_R||(Se.GetVirtualFileRequest=_R={}));var DR;(function(n){n.type=new ln.RequestType("volar/client/virtualFile");})(DR||(Se.GetVirtualCodeRequest=DR={}));var TR;(function(n){n.type=new ln.RequestType0("volar/client/loadedTsFiles");})(TR||(Se.LoadedTSFilesMetaRequest=TR={}));});var RR=E(Bp=>{d();Object.defineProperty(Bp,"__esModule",{value:!0});Bp.activate=wA;var vA=bi(),dn=Y("vscode");function wA(n,e){let t=!1,r;s();let i=[dn.workspace.onDidChangeTextDocument(o,null),dn.window.onDidChangeActiveTextEditor(s,null)];return dn.Disposable.from(...i);function s(){t=!1;let c=dn.window.activeTextEditor;if(!c)return;let u=c.document;dn.languages.match(n,u)&&(t=!0);}function o({document:c,contentChanges:u,reason:f}){if(!t||u.length===0||f===dn.TextDocumentChangeReason.Undo||f===dn.TextDocumentChangeReason.Redo)return;let h=dn.window.activeTextEditor?.document;if(c!==h)return;let p=u[u.length-1];if(p.text.length===0)return;let w=p.text[p.text.length-1],y=e.initializeResult?.capabilities;if(y?.experimental?.autoInsertionProvider){let{triggerCharacters:b,configurationSections:C}=y.experimental.autoInsertionProvider;for(let k=0;k<b.length;k++){let O=b[k],N=C?.[k];if(w.match(new RegExp(O))&&(!N||N.some(A=>dn.workspace.getConfiguration().get(A)))){a(c,p);return}}}}function a(c,u){r&&(clearTimeout(r),r=void 0);let f=c.version,h=()=>c!==dn.window.activeTextEditor?.document||dn.window.activeTextEditor?.document.version!==f;r=setTimeout(async()=>{if(r=void 0,h())return;let p=dn.window.activeTextEditor;if(!p)return;let w=new dn.Range(u.range.start,c.positionAt(c.offsetAt(u.range.start)+u.text.length)),y=p.selections.find(k=>w.contains(k.active))?.active;if(!y)return;let b={textDocument:e.code2ProtocolConverter.asTextDocumentIdentifier(c),selection:e.code2ProtocolConverter.asPosition(y),change:{rangeLength:u.rangeLength,rangeOffset:u.rangeOffset,text:u.text}},C=await e.sendRequest(vA.AutoInsertRequest.type,b);C&&t&&!h()&&p.insertSnippet(new dn.SnippetString(C));},100);}}});var PR=E(Gp=>{d();Object.defineProperty(Gp,"__esModule",{value:!0});Gp.activate=bA;var ra=Y("vscode"),zp=bi();function bA(n,e){let t;return ra.Disposable.from(e.onRequest(zp.DocumentDrop_DataTransferItemAsStringRequest.type,async({mimeType:r})=>await t.get(r)?.asString()??""),e.onRequest(zp.DocumentDrop_DataTransferItemFileDataRequest.type,async({mimeType:r})=>await t.get(r)?.asFile()?.data()??new Uint8Array),ra.languages.registerDocumentDropEditProvider(n,{async provideDocumentDropEdits(r,i,s){t=s;let o=await e.sendRequest(zp.DocumentDropRequest.type,{textDocument:e.code2ProtocolConverter.asTextDocumentIdentifier(r),position:e.code2ProtocolConverter.asPosition(i),dataTransfer:[...s].map(([a,c])=>{let u=c.asFile();return {mimeType:a,value:c.value,file:u?{name:u.name,uri:u.uri?e.code2ProtocolConverter.asUri(u.uri):void 0}:void 0}})});if(o){let a=new ra.DocumentDropEdit(o.insertTextFormat===2?new ra.SnippetString(o.insertText):o.insertText);if(o.additionalEdit&&(a.additionalEdit=await e.protocol2CodeConverter.asWorkspaceEdit(o.additionalEdit)),o.createDataTransferFile){a.additionalEdit??=new ra.WorkspaceEdit;for(let c of o.createDataTransferFile){let u=s.get(c.contentsMimeType)?.asFile();u&&a.additionalEdit.createFile(e.protocol2CodeConverter.asUri(c.uri),{ignoreIfExists:c.options?.ignoreIfExists,overwrite:c.options?.overwrite,contents:await u.data()});}}return a}}}))}});var ER=E(Jp=>{d();Object.defineProperty(Jp,"__esModule",{value:!0});Jp.activate=CA;var Yp=Y("vscode"),SA=bi();function CA(n,e){return Yp.commands.registerCommand(n,()=>{Yp.window.activeTextEditor&&e.sendNotification(SA.WriteVirtualFilesNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(Yp.window.activeTextEditor.document));})}});var eg=E(Zp=>{d();Object.defineProperty(Zp,"__esModule",{value:!0});var Xp;function Qp(){if(Xp===void 0)throw new Error("No runtime abstraction layer installed");return Xp}(function(n){function e(t){if(t===void 0)throw new Error("No runtime abstraction layer provided");Xp=t;}n.install=e;})(Qp||(Qp={}));Zp.default=Qp;});var ng=E(et=>{d();Object.defineProperty(et,"__esModule",{value:!0});et.config=et.loadMessageBundle=et.localize=et.format=et.setPseudo=et.isPseudo=et.isDefined=et.BundleFormat=et.MessageFormat=void 0;var qR=eg();(function(n){n.file="file",n.bundle="bundle",n.both="both";})(et.MessageFormat||(et.MessageFormat={}));(function(n){n.standalone="standalone",n.languagePack="languagePack";})(et.BundleFormat||(et.BundleFormat={}));var kR;(function(n){function e(t){var r=t;return r&&tg(r.key)&&tg(r.comment)}n.is=e;})(kR||(kR={}));function tg(n){return typeof n<"u"}et.isDefined=tg;et.isPseudo=!1;function TA(n){et.isPseudo=n;}et.setPseudo=TA;function IR(n,e){var t;return et.isPseudo&&(n="\uFF3B"+n.replace(/[aouei]/g,"$&$&")+"\uFF3D"),e.length===0?t=n:t=n.replace(/\{(\d+)\}/g,function(r,i){var s=i[0],o=e[s],a=r;return typeof o=="string"?a=o:(typeof o=="number"||typeof o=="boolean"||o===void 0||o===null)&&(a=String(o)),a}),t}et.format=IR;function RA(n,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return IR(e,t)}et.localize=RA;function PA(n){return (0, qR.default)().loadMessageBundle(n)}et.loadMessageBundle=PA;function EA(n){return (0, qR.default)().config(n)}et.config=EA;});var LR=E(br=>{d();Object.defineProperty(br,"__esModule",{value:!0});br.config=br.loadMessageBundle=br.BundleFormat=br.MessageFormat=void 0;var Qn=Y("path"),Ln=Y("fs"),kA=eg(),fn=ng(),NR=ng();Object.defineProperty(br,"MessageFormat",{enumerable:!0,get:function(){return NR.MessageFormat}});Object.defineProperty(br,"BundleFormat",{enumerable:!0,get:function(){return NR.BundleFormat}});var xR=Object.prototype.toString;function qA(n){return xR.call(n)==="[object Number]"}function xr(n){return xR.call(n)==="[object String]"}function IA(n){return n===!0||n===!1}function Ks(n){return JSON.parse(Ln.readFileSync(n,"utf8"))}var Yu,ye;function OA(){if(ye={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:fn.MessageFormat.bundle},xr(process.env.VSCODE_NLS_CONFIG))try{var n=JSON.parse(process.env.VSCODE_NLS_CONFIG),e=void 0;if(n.availableLanguages){var t=n.availableLanguages["*"];xr(t)&&(e=t);}if(xr(n.locale)&&(ye.locale=n.locale.toLowerCase()),e===void 0?ye.language=ye.locale:e!=="en"&&(ye.language=e),IA(n._languagePackSupport)&&(ye.languagePackSupport=n._languagePackSupport),xr(n._cacheRoot)&&(ye.cacheRoot=n._cacheRoot),xr(n._languagePackId)&&(ye.languagePackId=n._languagePackId),xr(n._translationsConfigFile)){ye.translationsConfigFile=n._translationsConfigFile;try{ye.translationsConfig=Ks(ye.translationsConfigFile);}catch{if(n._corruptedFile){var r=Qn.dirname(n._corruptedFile);Ln.exists(r,function(s){s&&Ln.writeFile(n._corruptedFile,"corrupted","utf8",function(o){console.error(o);});});}}}}catch{}(0, fn.setPseudo)(ye.locale==="pseudo"),Yu=Object.create(null);}OA();function NA(){return ye.languagePackSupport===!0&&ye.cacheRoot!==void 0&&ye.languagePackId!==void 0&&ye.translationsConfigFile!==void 0&&ye.translationsConfig!==void 0}function rg(n){return function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(qA(e)){if(e>=n.length){console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack));return}return (0, fn.format)(n[e],r)}else {if(xr(t))return console.warn("Message ".concat(t," didn't get externalized correctly.")),(0, fn.format)(t,r);console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack));}}}function xA(n){var e;if(ye.cacheLanguageResolution&&e)e=e;else {if(fn.isPseudo||!ye.language)e=".nls.json";else for(var t=ye.language;t;){var r=".nls."+t+".json";if(Ln.existsSync(n+r)){e=r;break}else {var i=t.lastIndexOf("-");i>0?t=t.substring(0,i):(e=".nls.json",t=null);}}ye.cacheLanguageResolution&&(e=e);}return n+e}function AA(n){for(var e=ye.language;e;){var t=Qn.join(n,"nls.bundle.".concat(e,".json"));if(Ln.existsSync(t))return t;var r=e.lastIndexOf("-");r>0?e=e.substring(0,r):e=void 0;}if(e===void 0){var t=Qn.join(n,"nls.bundle.json");if(Ln.existsSync(t))return t}}function LA(n){var e=Ks(Qn.join(n,"nls.metadata.json")),t=Object.create(null);for(var r in e){var i=e[r];t[r]=i.messages;}return t}function FA(n,e){var t=ye.translationsConfig[n.id];if(t){var r=Ks(t).contents,i=Ks(Qn.join(e,"nls.metadata.json")),s=Object.create(null);for(var o in i){var a=i[o],c=r["".concat(n.outDir,"/").concat(o)];if(c){for(var u=[],f=0;f<a.keys.length;f++){var h=a.keys[f],p=xr(h)?h:h.key,w=c[p];w===void 0&&(w=a.messages[f]),u.push(w);}s[o]=u;}else s[o]=a.messages;}return s}}function MA(n){var e=new Date;Ln.utimes(n,e,e,function(){});}function ig(n,e){return Yu[n]=e,e}function jA(n,e){var t,r=Qn.join(ye.cacheRoot,"".concat(n.id,"-").concat(n.hash,".json")),i=!1,s=!1;try{return t=JSON.parse(Ln.readFileSync(r,{encoding:"utf8",flag:"r"})),MA(r),t}catch(o){if(o.code==="ENOENT")s=!0;else if(o instanceof SyntaxError)console.log("Syntax error parsing message bundle: ".concat(o.message,".")),Ln.unlink(r,function(a){a&&console.error("Deleting corrupted bundle ".concat(r," failed."));}),i=!0;else throw o}if(t=FA(n,e),!t||i)return t;if(s)try{Ln.writeFileSync(r,JSON.stringify(t),{encoding:"utf8",flag:"wx"});}catch(o){if(o.code==="EEXIST")return t;throw o}return t}function OR(n){try{return LA(n)}catch(e){console.log("Generating default bundle from meta data failed.",e);return}}function $A(n,e){var t;if(NA())try{t=jA(n,e);}catch(i){console.log("Load or create bundle failed ",i);}if(!t){if(ye.languagePackSupport)return OR(e);var r=AA(e);if(r)try{return Ks(r)}catch(i){console.log("Loading in the box message bundle failed.",i);}t=OR(e);}return t}function UA(n){for(var e,t=Qn.dirname(n);e=Qn.join(t,"nls.metadata.header.json"),!Ln.existsSync(e);){var r=Qn.dirname(t);if(r===t){e=void 0;break}else t=r;}return e}function sg(n){if(!n)return fn.localize;var e=Qn.extname(n);if(e&&(n=n.substr(0,n.length-e.length)),ye.messageFormat===fn.MessageFormat.both||ye.messageFormat===fn.MessageFormat.bundle){var t=UA(n);if(t){var r=Qn.dirname(t),i=Yu[r];if(i===void 0)try{var s=JSON.parse(Ln.readFileSync(t,"utf8"));try{var o=$A(s,r);i=ig(r,o?{header:s,nlsBundle:o}:null);}catch(f){console.error("Failed to load nls bundle",f),i=ig(r,null);}}catch(f){console.error("Failed to read header file",f),i=ig(r,null);}if(i){var a=n.substr(r.length+1).replace(/\\/g,"/"),c=i.nlsBundle[a];return c===void 0?(console.error("Messages for file ".concat(n," not found. See console for details.")),function(){return "Messages not found."}):rg(c)}}}if(ye.messageFormat===fn.MessageFormat.both||ye.messageFormat===fn.MessageFormat.file)try{var u=Ks(xA(n));return Array.isArray(u)?rg(u):(0,fn.isDefined)(u.messages)&&(0,fn.isDefined)(u.keys)?rg(u.messages):(console.error("String bundle '".concat(n,"' uses an unsupported format.")),function(){return "File bundle has unsupported format. See console for details"})}catch(f){f.code!=="ENOENT"&&console.error("Failed to load single file bundle",f);}return console.error("Failed to load message bundle for file ".concat(n)),function(){return "Failed to load message bundle. See console for details."}}br.loadMessageBundle=sg;function AR(n){return n&&(xr(n.locale)&&(ye.locale=n.locale.toLowerCase(),ye.language=ye.locale,Yu=Object.create(null)),n.messageFormat!==void 0&&(ye.messageFormat=n.messageFormat),n.bundleFormat===fn.BundleFormat.standalone&&ye.languagePackSupport===!0&&(ye.languagePackSupport=!1)),(0, fn.setPseudo)(ye.locale==="pseudo"),sg}br.config=AR;kA.default.install(Object.freeze({loadMessageBundle:sg,config:AR}));});var FR=E(og=>{d();Object.defineProperty(og,"__esModule",{value:!0});og.activate=VA;var zi=Y("vscode"),HA=LR(),KA=bi(),WA=HA.loadMessageBundle();function VA(n,e){return zi.commands.registerCommand(n,async t=>{await zi.window.withProgress({location:zi.ProgressLocation.Window,title:WA("progress.title","Finding file references")},async r=>{if(!t){let c=zi.window.activeTextEditor;if(!c)return;t=c.document.uri;}let i=await e.sendRequest(KA.FindFileReferenceRequest.type,{textDocument:{uri:t.toString()}});if(!i)return;let s=i.map(c=>e.protocol2CodeConverter.asLocation(c)),o=zi.workspace.getConfiguration("references"),a=o.inspect("preferredLocation");await o.update("preferredLocation","view");try{await zi.commands.executeCommand("editor.action.showReferences",t,new zi.Position(0,0),s);}finally{await o.update("preferredLocation",a?.workspaceFolderValue??a?.workspaceValue);}});})}});var MR=E(cg=>{d();Object.defineProperty(cg,"__esModule",{value:!0});cg.activate=zA;var ag=Y("vscode"),BA=bi();function zA(n,e){return ag.commands.registerCommand(n,()=>{ag.window.activeTextEditor&&e.sendNotification(BA.ReloadProjectNotification.type,e.code2ProtocolConverter.asTextDocumentIdentifier(ag.window.activeTextEditor.document));})}});var ug=E((xz,$R)=>{d();function Sr(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}function jR(n,e){for(var t="",r=0,i=-1,s=0,o,a=0;a<=n.length;++a){if(a<n.length)o=n.charCodeAt(a);else {if(o===47)break;o=47;}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){var c=t.lastIndexOf("/");if(c!==t.length-1){c===-1?(t="",r=0):(t=t.slice(0,c),r=t.length-1-t.lastIndexOf("/")),i=a,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=a,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2);}else t.length>0?t+="/"+n.slice(i+1,a):t=n.slice(i+1,a),r=a-i-1;i=a,s=0;}else o===46&&s!==-1?++s:s=-1;}return t}function GA(n,e){var t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return t?t===e.root?t+r:t+n+r:r}var Ws={resolve:function(){for(var e="",t=!1,r,i=arguments.length-1;i>=-1&&!t;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),Sr(s),s.length!==0&&(e=s+"/"+e,t=s.charCodeAt(0)===47);}return e=jR(e,!t),t?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if(Sr(e),e.length===0)return ".";var t=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=jR(e,!t),e.length===0&&!t&&(e="."),e.length>0&&r&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return Sr(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return ".";for(var e,t=0;t<arguments.length;++t){var r=arguments[t];Sr(r),r.length>0&&(e===void 0?e=r:e+="/"+r);}return e===void 0?".":Ws.normalize(e)},relative:function(e,t){if(Sr(e),Sr(t),e===t||(e=Ws.resolve(e),t=Ws.resolve(t),e===t))return "";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,o=1;o<t.length&&t.charCodeAt(o)===47;++o);for(var a=t.length,c=a-o,u=s<c?s:c,f=-1,h=0;h<=u;++h){if(h===u){if(c>u){if(t.charCodeAt(o+h)===47)return t.slice(o+h+1);if(h===0)return t.slice(o+h)}else s>u&&(e.charCodeAt(r+h)===47?f=h:h===0&&(f=0));break}var p=e.charCodeAt(r+h),w=t.charCodeAt(o+h);if(p!==w)break;p===47&&(f=h);}var y="";for(h=r+f+1;h<=i;++h)(h===i||e.charCodeAt(h)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+t.slice(o+f):(o+=f,t.charCodeAt(o)===47&&++o,t.slice(o))},_makeLong:function(e){return e},dirname:function(e){if(Sr(e),e.length===0)return ".";for(var t=e.charCodeAt(0),r=t===47,i=-1,s=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===47){if(!s){i=o;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Sr(e);var r=0,i=-1,s=!0,o;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return "";var a=t.length-1,c=-1;for(o=e.length-1;o>=0;--o){var u=e.charCodeAt(o);if(u===47){if(!s){r=o+1;break}}else c===-1&&(s=!1,c=o+1),a>=0&&(u===t.charCodeAt(a)?--a===-1&&(i=o):(a=-1,i=c));}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else {for(o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===47){if(!s){r=o+1;break}}else i===-1&&(s=!1,i=o+1);return i===-1?"":e.slice(r,i)}},extname:function(e){Sr(e);for(var t=-1,r=0,i=-1,s=!0,o=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}continue}i===-1&&(s=!1,i=a+1),c===46?t===-1?t=a:o!==1&&(o=1):t!==-1&&(o=-1);}return t===-1||i===-1||o===0||o===1&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return GA("/",e)},parse:function(e){Sr(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;var r=e.charCodeAt(0),i=r===47,s;i?(t.root="/",s=1):s=0;for(var o=-1,a=0,c=-1,u=!0,f=e.length-1,h=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!u){a=f+1;break}continue}c===-1&&(u=!1,c=f+1),r===46?o===-1?o=f:h!==1&&(h=1):o!==-1&&(h=-1);}return o===-1||c===-1||h===0||h===1&&o===c-1&&o===a+1?c!==-1&&(a===0&&i?t.base=t.name=e.slice(1,c):t.base=t.name=e.slice(a,c)):(a===0&&i?(t.name=e.slice(1,o),t.base=e.slice(1,c)):(t.name=e.slice(a,o),t.base=e.slice(a,c)),t.ext=e.slice(o,c)),a>0?t.dir=e.slice(0,a-1):i&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};Ws.posix=Ws;$R.exports=Ws;});var UR=E(lg=>{d();Object.defineProperty(lg,"__esModule",{value:!0});lg.activate=XA;var Zn=Y("vscode"),YA=bi(),JA=ug();function XA(n,e,t){let r=[],i=Zn.languages.createLanguageStatusItem(e,n),s,o;a(),Zn.window.onDidChangeActiveTextEditor(()=>{clearTimeout(o),o=setTimeout(()=>a,100);},void 0,r),r.push(Zn.commands.registerCommand(e,async()=>{if(s){let c=await Zn.workspace.openTextDocument(s);await Zn.window.showTextDocument(c);}})),r.push(...r);async function a(){if(!Zn.window.activeTextEditor||!Zn.languages.match(n,Zn.window.activeTextEditor.document))return;let c=await t.sendRequest(YA.GetMatchTsConfigRequest.type,t.code2ProtocolConverter.asTextDocumentIdentifier(Zn.window.activeTextEditor.document));c?.uri?(s=Zn.Uri.parse(c.uri),i.text=JA.relative(Zn.workspace.rootPath?.replace(/\\/g,"/")||"/",s.fsPath.replace(/\\/g,"/")),i.command={title:"Open config file",command:e}):(i.text="No tsconfig",i.command=void 0);}}});var KR=E(dg=>{d();Object.defineProperty(dg,"__esModule",{value:!0});dg.quickPick=QA;var HR=Y("vscode");function QA(n,e){return new Promise(t=>{let r=HR.window.createQuickPick(),i=[];for(let s of Array.isArray(n)?n:[n]){let o=Object.values(s);if(o.length){i.length&&i.push({label:"",kind:HR.QuickPickItemKind.Separator});for(let a of o)a&&i.push(a);}}r.items=i,r.placeholder=e,r.onDidChangeSelection(s=>{if(s[0])for(let o of Array.isArray(n)?n:[n])for(let a in o){let c=o[a];if(s[0]===c){t(a),r.hide();break}}}),r.onDidHide(()=>{r.dispose(),t(void 0);}),r.show();})}});var WR=E(ia=>{d();Object.defineProperty(ia,"__esModule",{value:!0});ia.readFile=eL;ia.readDirectory=tL;ia.stat=nL;var fg=Y("vscode"),ZA=new TextDecoder("utf8");async function eL(n){try{return ZA.decode(await fg.workspace.fs.readFile(n))}catch{}}async function tL(n){try{return await fg.workspace.fs.readDirectory(n)}catch{return []}}async function nL(n){try{return await fg.workspace.fs.stat(n)}catch{}}});var VR=E((Hz,rL)=>{rL.exports={name:"typescript",author:"Microsoft Corp.",homepage:"https://www.typescriptlang.org/",version:"5.5.4",license:"Apache-2.0",description:"TypeScript is a language for application scale JavaScript development",keywords:["TypeScript","Microsoft","compiler","language","javascript"],bugs:{url:"https://github.com/Microsoft/TypeScript/issues"},repository:{type:"git",url:"https://github.com/Microsoft/TypeScript.git"},main:"./lib/typescript.js",typings:"./lib/typescript.d.ts",bin:{tsc:"./bin/tsc",tsserver:"./bin/tsserver"},engines:{node:">=14.17"},files:["bin","lib","!lib/enu","LICENSE.txt","README.md","SECURITY.md","ThirdPartyNoticeText.txt","!**/.gitattributes"],devDependencies:{"@dprint/formatter":"^0.3.0","@dprint/typescript":"0.91.0","@esfx/canceltoken":"^1.0.0","@octokit/rest":"^20.1.1","@types/chai":"^4.3.16","@types/microsoft__typescript-etw":"^0.1.3","@types/minimist":"^1.2.5","@types/mocha":"^10.0.6","@types/ms":"^0.7.34","@types/node":"latest","@types/source-map-support":"^0.5.10","@types/which":"^3.0.3","@typescript-eslint/eslint-plugin":"^7.11.0","@typescript-eslint/parser":"^7.11.0","@typescript-eslint/utils":"^7.11.0","azure-devops-node-api":"^13.0.0",c8:"^9.1.0",chai:"^4.4.1",chalk:"^4.1.2",chokidar:"^3.6.0",diff:"^5.2.0",dprint:"^0.46.1",esbuild:"^0.21.4",eslint:"^8.57.0","eslint-formatter-autolinkable-stylish":"^1.3.0","eslint-plugin-local":"^4.2.2","fast-xml-parser":"^4.4.0",glob:"^10.4.1",hereby:"^1.8.9","jsonc-parser":"^3.2.1",minimist:"^1.2.8",mocha:"^10.4.0","mocha-fivemat-progress-reporter":"^0.1.0",ms:"^2.1.3","node-fetch":"^3.3.2",playwright:"^1.44.1","source-map-support":"^0.5.21",tslib:"^2.6.2",typescript:"^5.4.5",which:"^3.0.1"},overrides:{"typescript@*":"$typescript"},scripts:{test:"hereby runtests-parallel --light=false","test:eslint-rules":"hereby run-eslint-rules-tests",build:"npm run build:compiler && npm run build:tests","build:compiler":"hereby local","build:tests":"hereby tests","build:tests:notypecheck":"hereby tests --no-typecheck",clean:"hereby clean",gulp:"hereby",lint:"hereby lint",format:"dprint fmt","setup-hooks":"node scripts/link-hooks.mjs"},browser:{fs:!1,os:!1,path:!1,crypto:!1,buffer:!1,"@microsoft/typescript-etw":!1,"source-map-support":!1,inspector:!1,perf_hooks:!1},packageManager:"npm@8.19.4",volta:{node:"20.1.0",npm:"8.19.4"},gitHead:"c8a7d589e647e19c94150d9892909f3aa93e48eb"};});var GR=E(Qu=>{d();Object.defineProperty(Qu,"__esModule",{value:!0});Qu.activate=sL;Qu.getTsdk=gg;var Xu=ug(),mt=Y("vscode"),iL=KR(),pg=WR(),Ju="node_modules/typescript/lib",hg="typescript.tsdk";function sL(n,e,t,r,i){let s=[],o=mt.languages.createLanguageStatusItem(e,n);return o.command={title:"Select Version",command:e},s.push({dispose:()=>o.dispose()}),s.push(mt.commands.registerCommand(e,a)),mt.workspace.onDidChangeConfiguration(c,void 0,s),mt.window.onDidChangeActiveTextEditor(u,void 0,s),u(),mt.Disposable.from(...s);async function a(){let f=await gg(t),h=zR(),p=await BR(),w=!!p,y=!!h&&!p?.isWeb,b=h!==Ju&&!p?.isWeb;if(!w&&!y&&!b){await mt.window.showErrorMessage(`Could not find any TypeScript version. Please point your \`${hg}\` setting to a valid TypeScript distribution.`,"Open Settings")==="Open Settings"&&mt.commands.executeCommand("workbench.action.openSettings",hg);return}let C=await(0, iL.quickPick)([{useVSCodeTsdk:w?{label:(f?.isWorkspacePath?"":"\u2022 ")+"Use VS Code's Version",description:p.version,detail:p.isWeb?p.path:void 0}:void 0,useConfigWorkspaceTsdk:y?{label:(f?.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await sa(await mg(h)??"/")??"Could not load the TypeScript version at this path",detail:h}:void 0,useDefaultWorkspaceTsdk:b?{label:(f?.isWorkspacePath?"\u2022 ":"")+"Use Workspace Version",description:await sa(await mg(Ju)??"/")??"Could not load the TypeScript version at this path",detail:Ju}:void 0}]);if(C===void 0)return;C==="useDefaultWorkspaceTsdk"&&await mt.workspace.getConfiguration("typescript").update("tsdk",Ju);let k=C==="useConfigWorkspaceTsdk"||C==="useDefaultWorkspaceTsdk";k!==yg(t)&&(t.workspaceState.update("typescript.useWorkspaceTsdk",k),i?.()),u();}function c(f){f.affectsConfiguration(hg)&&yg(t)&&i?.();}async function u(){let f=(await gg(t))?.version;o.text=f??"x.x.x",o.text=r(o.text);}}async function gg(n){if(yg(n)){let t=zR();if(t){let r=await mg(t);if(r){let i=await sa(r);if(i!==void 0)return {tsdk:r,version:i,isWorkspacePath:!0}}}}let e=await BR();return e?{tsdk:e.path,version:e.version,isWorkspacePath:!1}:void 0}async function mg(n){if(Xu.isAbsolute(n)){let e=mt.Uri.joinPath(mt.Uri.file(n),"typescript.js");if((await pg.stat(e))?.type===mt.FileType.File)return n}else if(mt.workspace.workspaceFolders)for(let e of mt.workspace.workspaceFolders){let t=Xu.join(e.uri.fsPath.replace(/\\/g,"/"),n),r=mt.Uri.joinPath(mt.Uri.file(t),"typescript.js");if((await pg.stat(r))?.type===mt.FileType.File)return t}}async function BR(){let n=mt.extensions.getExtension("ms-vscode.vscode-typescript-next");if(n){let t=Xu.join(n.extensionPath.replace(/\\/g,"/"),"node_modules/typescript/lib"),r=await sa(t);return r?{path:t,version:r,isWeb:!1}:void 0}if(mt.env.appRoot){let t=Xu.join(mt.env.appRoot.replace(/\\/g,"/"),"extensions/node_modules/typescript/lib"),r=await sa(t);return r?{path:t,version:r,isWeb:!1}:void 0}let e=VR().version;return {path:`/node_modules/typescript@${e}/lib`,version:e,isWeb:!0}}function zR(){return mt.workspace.getConfiguration("typescript").get("tsdk")?.replace(/\\/g,"/")}function yg(n){return n.workspaceState.get("typescript.useWorkspaceTsdk",!1)}async function sa(n){let i=n.toString().split("/").slice(0,-1).join("/")+"/package.json";try{let s=await pg.readFile(mt.Uri.file(i));if(s===void 0)return;let o=JSON.parse(s);return !o||typeof o.version!="string"?void 0:o.version}catch{return}}});var Fn=E(ht=>{d();Object.defineProperty(ht,"__esModule",{value:!0});ht.asPromise=ht.thenable=ht.typedArray=ht.stringArray=ht.array=ht.func=ht.error=ht.number=ht.string=ht.boolean=void 0;function oL(n){return n===!0||n===!1}ht.boolean=oL;function YR(n){return typeof n=="string"||n instanceof String}ht.string=YR;function aL(n){return typeof n=="number"||n instanceof Number}ht.number=aL;function cL(n){return n instanceof Error}ht.error=cL;function JR(n){return typeof n=="function"}ht.func=JR;function XR(n){return Array.isArray(n)}ht.array=XR;function uL(n){return XR(n)&&n.every(e=>YR(e))}ht.stringArray=uL;function lL(n,e){return Array.isArray(n)&&n.every(e)}ht.typedArray=lL;function QR(n){return n&&JR(n.then)}ht.thenable=QR;function dL(n){return n instanceof Promise?n:QR(n)?new Promise((e,t)=>{n.then(r=>e(r),r=>t(r));}):Promise.resolve(n)}ht.asPromise=dL;});var Zu=E(Kt=>{d();Object.defineProperty(Kt,"__esModule",{value:!0});Kt.forEach=Kt.mapAsync=Kt.map=Kt.clearTestMode=Kt.setTestMode=Kt.Semaphore=Kt.Delayer=void 0;var aa=se(),vg=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0;}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise(r=>{this.onSuccess=r;}).then(()=>{this.completionPromise=void 0,this.onSuccess=void 0;var r=this.task();return this.task=void 0,r})),(t>=0||this.timeout===void 0)&&(this.timeout=(0, aa.RAL)().timer.setTimeout(()=>{this.timeout=void 0,this.onSuccess(void 0);},t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return this.timeout!==void 0}cancel(){this.cancelTimeout(),this.completionPromise=void 0;}cancelTimeout(){this.timeout!==void 0&&(this.timeout.dispose(),this.timeout=void 0);}};Kt.Delayer=vg;var wg=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[];}lock(e){return new Promise((t,r)=>{this._waiting.push({thunk:e,resolve:t,reject:r}),this.runNext();})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0, aa.RAL)().timer.setImmediate(()=>this.doRunNext());}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let t=e.thunk();t instanceof Promise?t.then(r=>{this._active--,e.resolve(r),this.runNext();},r=>{this._active--,e.reject(r),this.runNext();}):(this._active--,e.resolve(t),this.runNext());}catch(t){this._active--,e.reject(t),this.runNext();}}};Kt.Semaphore=wg;var bg=!1;function fL(){bg=!0;}Kt.setTestMode=fL;function hL(){bg=!1;}Kt.clearTestMode=hL;var ZR=15,oa=class{constructor(e=ZR){this.yieldAfter=bg===!0?Math.max(e,2):Math.max(e,ZR),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1;}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now();}shouldYield(){if(++this.counter>=this.counterInterval){let e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=this.total*2;break}}return !1}};async function pL(n,e,t,r){if(n.length===0)return [];let i=new Array(n.length),s=new oa(r?.yieldAfter);function o(c){s.start();for(let u=c;u<n.length;u++)if(i[u]=e(n[u]),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return -1}let a=o(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0, aa.RAL)().timer.setImmediate(()=>{c(o(a));});});return i}Kt.map=pL;async function gL(n,e,t,r){if(n.length===0)return [];let i=new Array(n.length),s=new oa(r?.yieldAfter);async function o(c){s.start();for(let u=c;u<n.length;u++)if(i[u]=await e(n[u],t),s.shouldYield())return r?.yieldCallback&&r.yieldCallback(),u+1;return -1}let a=await o(0);for(;a!==-1&&!(t!==void 0&&t.isCancellationRequested);)a=await new Promise(c=>{(0, aa.RAL)().timer.setImmediate(()=>{c(o(a));});});return i}Kt.mapAsync=gL;async function mL(n,e,t,r){if(n.length===0)return;let i=new oa(r?.yieldAfter);function s(a){i.start();for(let c=a;c<n.length;c++)if(e(n[c]),i.shouldYield())return r?.yieldCallback&&r.yieldCallback(),c+1;return -1}let o=s(0);for(;o!==-1&&!(t!==void 0&&t.isCancellationRequested);)o=await new Promise(a=>{(0, aa.RAL)().timer.setImmediate(()=>{a(s(o));});});}Kt.forEach=mL;});var _g=E(Cg=>{d();Object.defineProperty(Cg,"__esModule",{value:!0});var yL=Y("vscode"),Sg=class extends yL.CompletionItem{constructor(e){super(e);}};Cg.default=Sg;});var Rg=E(Tg=>{d();Object.defineProperty(Tg,"__esModule",{value:!0});var vL=Y("vscode"),Dg=class extends vL.CodeLens{constructor(e){super(e);}};Tg.default=Dg;});var kg=E(Eg=>{d();Object.defineProperty(Eg,"__esModule",{value:!0});var wL=Y("vscode"),Pg=class extends wL.DocumentLink{constructor(e,t){super(e,t);}};Eg.default=Pg;});var Og=E(Ig=>{d();Object.defineProperty(Ig,"__esModule",{value:!0});var bL=Y("vscode"),qg=class extends bL.CodeAction{constructor(e,t){super(e),this.data=t;}};Ig.default=qg;});var Ag=E(Vs=>{d();Object.defineProperty(Vs,"__esModule",{value:!0});Vs.ProtocolDiagnostic=Vs.DiagnosticCode=void 0;var SL=Y("vscode"),Ng=Fn(),eP;(function(n){function e(t){let r=t;return r!=null&&(Ng.number(r.value)||Ng.string(r.value))&&Ng.string(r.target)}n.is=e;})(eP||(Vs.DiagnosticCode=eP={}));var xg=class extends SL.Diagnostic{constructor(e,t,r,i){super(e,t,r),this.data=i,this.hasDiagnosticCode=!1;}};Vs.ProtocolDiagnostic=xg;});var Mg=E(Fg=>{d();Object.defineProperty(Fg,"__esModule",{value:!0});var CL=Y("vscode"),Lg=class extends CL.CallHierarchyItem{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,o),a!==void 0&&(this.data=a);}};Fg.default=Lg;});var Ug=E($g=>{d();Object.defineProperty($g,"__esModule",{value:!0});var _L=Y("vscode"),jg=class extends _L.TypeHierarchyItem{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s,o),a!==void 0&&(this.data=a);}};$g.default=jg;});var Wg=E(Kg=>{d();Object.defineProperty(Kg,"__esModule",{value:!0});var el=Y("vscode"),Hg=class extends el.SymbolInformation{constructor(e,t,r,i,s){let o=!(i instanceof el.Uri);super(e,t,r,o?i:new el.Location(i,new el.Range(0,0,0,0))),this.hasRange=o,s!==void 0&&(this.data=s);}};Kg.default=Hg;});var zg=E(Bg=>{d();Object.defineProperty(Bg,"__esModule",{value:!0});var DL=Y("vscode"),Vg=class extends DL.InlayHint{constructor(e,t,r){super(e,t,r);}};Bg.default=Vg;});var iP=E(tl=>{d();Object.defineProperty(tl,"__esModule",{value:!0});tl.createConverter=void 0;var St=Y("vscode"),ae=se(),Gi=Fn(),tP=Zu(),TL=_g(),RL=Rg(),PL=kg(),nP=Og(),rP=Ag(),EL=Mg(),kL=Ug(),qL=Wg(),IL=zg(),Gg;(function(n){function e(t){let r=t;return r&&!!r.inserting&&!!r.replacing}n.is=e;})(Gg||(Gg={}));function OL(n){let t=n||(m=>m.toString());function r(m){return t(m)}function i(m){return {uri:t(m.uri)}}function s(m){return {uri:t(m.uri),languageId:m.languageId,version:m.version,text:m.getText()}}function o(m){return {uri:t(m.uri),version:m.version}}function a(m){return {textDocument:s(m)}}function c(m){let L=m;return !!L.document&&!!L.contentChanges}function u(m){let L=m;return !!L.uri&&!!L.version}function f(m,L,Z){if(u(m))return {textDocument:{uri:t(m.uri),version:m.version},contentChanges:[{text:m.getText()}]};if(c(m)){let ke=L,I=Z;return {textDocument:{uri:t(ke),version:I},contentChanges:m.contentChanges.map(R=>{let P=R.range;return {range:{start:{line:P.start.line,character:P.start.character},end:{line:P.end.line,character:P.end.character}},rangeLength:R.rangeLength,text:R.text}})}}else throw Error("Unsupported text document change parameter")}function h(m){return {textDocument:i(m)}}function p(m,L=!1){let Z={textDocument:i(m)};return L&&(Z.text=m.getText()),Z}function w(m){switch(m){case St.TextDocumentSaveReason.Manual:return ae.TextDocumentSaveReason.Manual;case St.TextDocumentSaveReason.AfterDelay:return ae.TextDocumentSaveReason.AfterDelay;case St.TextDocumentSaveReason.FocusOut:return ae.TextDocumentSaveReason.FocusOut}return ae.TextDocumentSaveReason.Manual}function y(m){return {textDocument:i(m.document),reason:w(m.reason)}}function b(m){return {files:m.files.map(L=>({uri:t(L)}))}}function C(m){return {files:m.files.map(L=>({oldUri:t(L.oldUri),newUri:t(L.newUri)}))}}function k(m){return {files:m.files.map(L=>({uri:t(L)}))}}function O(m){return {files:m.files.map(L=>({uri:t(L)}))}}function N(m){return {files:m.files.map(L=>({oldUri:t(L.oldUri),newUri:t(L.newUri)}))}}function A(m){return {files:m.files.map(L=>({uri:t(L)}))}}function H(m,L){return {textDocument:i(m),position:It(L)}}function $(m){switch(m){case St.CompletionTriggerKind.TriggerCharacter:return ae.CompletionTriggerKind.TriggerCharacter;case St.CompletionTriggerKind.TriggerForIncompleteCompletions:return ae.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return ae.CompletionTriggerKind.Invoked}}function W(m,L,Z){return {textDocument:i(m),position:It(L),context:{triggerKind:$(Z.triggerKind),triggerCharacter:Z.triggerCharacter}}}function K(m){switch(m){case St.SignatureHelpTriggerKind.Invoke:return ae.SignatureHelpTriggerKind.Invoked;case St.SignatureHelpTriggerKind.TriggerCharacter:return ae.SignatureHelpTriggerKind.TriggerCharacter;case St.SignatureHelpTriggerKind.ContentChange:return ae.SignatureHelpTriggerKind.ContentChange}}function te(m){return {label:m.label}}function Ce(m){return m.map(te)}function _e(m){return {label:m.label,parameters:Ce(m.parameters)}}function he(m){return m.map(_e)}function Rn(m){return m===void 0?m:{signatures:he(m.signatures),activeSignature:m.activeSignature,activeParameter:m.activeParameter}}function Bt(m,L,Z){return {textDocument:i(m),position:It(L),context:{isRetrigger:Z.isRetrigger,triggerCharacter:Z.triggerCharacter,triggerKind:K(Z.triggerKind),activeSignatureHelp:Rn(Z.activeSignatureHelp)}}}function It(m){return {line:m.line,character:m.character}}function Ot(m){return m==null?m:{line:m.line>ae.uinteger.MAX_VALUE?ae.uinteger.MAX_VALUE:m.line,character:m.character>ae.uinteger.MAX_VALUE?ae.uinteger.MAX_VALUE:m.character}}function Hn(m,L){return tP.map(m,Ot,L)}function ir(m){return m.map(Ot)}function ze(m){return m==null?m:{start:Ot(m.start),end:Ot(m.end)}}function Zt(m){return m.map(ze)}function zt(m){return m==null?m:ae.Location.create(r(m.uri),ze(m.range))}function Nt(m){switch(m){case St.DiagnosticSeverity.Error:return ae.DiagnosticSeverity.Error;case St.DiagnosticSeverity.Warning:return ae.DiagnosticSeverity.Warning;case St.DiagnosticSeverity.Information:return ae.DiagnosticSeverity.Information;case St.DiagnosticSeverity.Hint:return ae.DiagnosticSeverity.Hint}}function Hr(m){if(!m)return;let L=[];for(let Z of m){let ke=sr(Z);ke!==void 0&&L.push(ke);}return L.length>0?L:void 0}function sr(m){switch(m){case St.DiagnosticTag.Unnecessary:return ae.DiagnosticTag.Unnecessary;case St.DiagnosticTag.Deprecated:return ae.DiagnosticTag.Deprecated;default:return}}function or(m){return {message:m.message,location:zt(m.location)}}function _r(m){return m.map(or)}function Kr(m){if(m!=null)return Gi.number(m)||Gi.string(m)?m:{value:m.value,target:r(m.target)}}function ar(m){let L=ae.Diagnostic.create(ze(m.range),m.message),Z=m instanceof rP.ProtocolDiagnostic?m:void 0;Z!==void 0&&Z.data!==void 0&&(L.data=Z.data);let ke=Kr(m.code);return rP.DiagnosticCode.is(ke)?Z!==void 0&&Z.hasDiagnosticCode?L.code=ke:(L.code=ke.value,L.codeDescription={href:ke.target}):L.code=ke,Gi.number(m.severity)&&(L.severity=Nt(m.severity)),Array.isArray(m.tags)&&(L.tags=Hr(m.tags)),m.relatedInformation&&(L.relatedInformation=_r(m.relatedInformation)),m.source&&(L.source=m.source),L}function Kn(m,L){return m==null?m:tP.map(m,ar,L)}function Wn(m){return m==null?m:m.map(ar)}function cr(m,L){switch(m){case"$string":return L;case ae.MarkupKind.PlainText:return {kind:m,value:L};case ae.MarkupKind.Markdown:return {kind:m,value:L.value};default:return `Unsupported Markup content received. Kind is: ${m}`}}function yt(m){switch(m){case St.CompletionItemTag.Deprecated:return ae.CompletionItemTag.Deprecated}}function Dr(m){if(m===void 0)return m;let L=[];for(let Z of m){let ke=yt(Z);ke!==void 0&&L.push(ke);}return L}function Vn(m,L){return L!==void 0?L:m+1}function Pn(m,L=!1){let Z,ke;Gi.string(m.label)?Z=m.label:(Z=m.label.label,L&&(m.label.detail!==void 0||m.label.description!==void 0)&&(ke={detail:m.label.detail,description:m.label.description}));let I={label:Z};ke!==void 0&&(I.labelDetails=ke);let v=m instanceof TL.default?m:void 0;m.detail&&(I.detail=m.detail),m.documentation&&(!v||v.documentationFormat==="$string"?I.documentation=m.documentation:I.documentation=cr(v.documentationFormat,m.documentation)),m.filterText&&(I.filterText=m.filterText),Wr(I,m),Gi.number(m.kind)&&(I.kind=Vn(m.kind,v&&v.originalItemKind)),m.sortText&&(I.sortText=m.sortText),m.additionalTextEdits&&(I.additionalTextEdits=gt(m.additionalTextEdits)),m.commitCharacters&&(I.commitCharacters=m.commitCharacters.slice()),m.command&&(I.command=J(m.command)),(m.preselect===!0||m.preselect===!1)&&(I.preselect=m.preselect);let R=Dr(m.tags);if(v){if(v.data!==void 0&&(I.data=v.data),v.deprecated===!0||v.deprecated===!1){if(v.deprecated===!0&&R!==void 0&&R.length>0){let P=R.indexOf(St.CompletionItemTag.Deprecated);P!==-1&&R.splice(P,1);}I.deprecated=v.deprecated;}v.insertTextMode!==void 0&&(I.insertTextMode=v.insertTextMode);}return R!==void 0&&R.length>0&&(I.tags=R),I.insertTextMode===void 0&&m.keepWhitespace===!0&&(I.insertTextMode=ae.InsertTextMode.adjustIndentation),I}function Wr(m,L){let Z=ae.InsertTextFormat.PlainText,ke,I;L.textEdit?(ke=L.textEdit.newText,I=L.textEdit.range):L.insertText instanceof St.SnippetString?(Z=ae.InsertTextFormat.Snippet,ke=L.insertText.value):ke=L.insertText,L.range&&(I=L.range),m.insertTextFormat=Z,L.fromEdit&&ke!==void 0&&I!==void 0?m.textEdit=En(ke,I):m.insertText=ke;}function En(m,L){return Gg.is(L)?ae.InsertReplaceEdit.create(m,ze(L.inserting),ze(L.replacing)):{newText:m,range:ze(L)}}function ur(m){return {range:ze(m.range),newText:m.newText}}function gt(m){return m==null?m:m.map(ur)}function Mt(m){return m<=St.SymbolKind.TypeParameter?m+1:ae.SymbolKind.Property}function xt(m){return m}function yn(m){return m.map(xt)}function en(m,L,Z){return {textDocument:i(m),position:It(L),context:{includeDeclaration:Z.includeDeclaration}}}async function lr(m,L){let Z=ae.CodeAction.create(m.title);if(m instanceof nP.default&&m.data!==void 0&&(Z.data=m.data),m.kind!==void 0&&(Z.kind=T(m.kind)),m.diagnostics!==void 0&&(Z.diagnostics=await Kn(m.diagnostics,L)),m.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return m.command!==void 0&&(Z.command=J(m.command)),m.isPreferred!==void 0&&(Z.isPreferred=m.isPreferred),m.disabled!==void 0&&(Z.disabled={reason:m.disabled.reason}),Z}function Tr(m){let L=ae.CodeAction.create(m.title);if(m instanceof nP.default&&m.data!==void 0&&(L.data=m.data),m.kind!==void 0&&(L.kind=T(m.kind)),m.diagnostics!==void 0&&(L.diagnostics=Wn(m.diagnostics)),m.edit!==void 0)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return m.command!==void 0&&(L.command=J(m.command)),m.isPreferred!==void 0&&(L.isPreferred=m.isPreferred),m.disabled!==void 0&&(L.disabled={reason:m.disabled.reason}),L}async function Bn(m,L){if(m==null)return m;let Z;return m.only&&Gi.string(m.only.value)&&(Z=[m.only.value]),ae.CodeActionContext.create(await Kn(m.diagnostics,L),Z,Gt(m.triggerKind))}function Rr(m){if(m==null)return m;let L;return m.only&&Gi.string(m.only.value)&&(L=[m.only.value]),ae.CodeActionContext.create(Wn(m.diagnostics),L,Gt(m.triggerKind))}function Gt(m){switch(m){case St.CodeActionTriggerKind.Invoke:return ae.CodeActionTriggerKind.Invoked;case St.CodeActionTriggerKind.Automatic:return ae.CodeActionTriggerKind.Automatic;default:return}}function T(m){if(m!=null)return m.value}function M(m){return m==null?m:ae.InlineValueContext.create(m.frameId,ze(m.stoppedLocation))}function z(m,L,Z){return {context:ae.InlineCompletionContext.create(Z.triggerKind,Z.selectedCompletionInfo),textDocument:i(m),position:Ot(L)}}function J(m){let L=ae.Command.create(m.title,m.command);return m.arguments&&(L.arguments=m.arguments),L}function Re(m){let L=ae.CodeLens.create(ze(m.range));return m.command&&(L.command=J(m.command)),m instanceof RL.default&&m.data&&(L.data=m.data),L}function De(m,L){let Z={tabSize:m.tabSize,insertSpaces:m.insertSpaces};return L.trimTrailingWhitespace&&(Z.trimTrailingWhitespace=!0),L.trimFinalNewlines&&(Z.trimFinalNewlines=!0),L.insertFinalNewline&&(Z.insertFinalNewline=!0),Z}function xe(m){return {textDocument:i(m)}}function Ue(m){return {textDocument:i(m)}}function de(m){let L=ae.DocumentLink.create(ze(m.range));m.target&&(L.target=r(m.target)),m.tooltip!==void 0&&(L.tooltip=m.tooltip);let Z=m instanceof PL.default?m:void 0;return Z&&Z.data&&(L.data=Z.data),L}function Ee(m){return {textDocument:i(m)}}function me(m){let L={name:m.name,kind:Mt(m.kind),uri:r(m.uri),range:ze(m.range),selectionRange:ze(m.selectionRange)};return m.detail!==void 0&&m.detail.length>0&&(L.detail=m.detail),m.tags!==void 0&&(L.tags=yn(m.tags)),m instanceof EL.default&&m.data!==void 0&&(L.data=m.data),L}function He(m){let L={name:m.name,kind:Mt(m.kind),uri:r(m.uri),range:ze(m.range),selectionRange:ze(m.selectionRange)};return m.detail!==void 0&&m.detail.length>0&&(L.detail=m.detail),m.tags!==void 0&&(L.tags=yn(m.tags)),m instanceof kL.default&&m.data!==void 0&&(L.data=m.data),L}function ut(m){let L=m instanceof qL.default?{name:m.name,kind:Mt(m.kind),location:m.hasRange?zt(m.location):{uri:t(m.location.uri)},data:m.data}:{name:m.name,kind:Mt(m.kind),location:zt(m.location)};return m.tags!==void 0&&(L.tags=yn(m.tags)),m.containerName!==""&&(L.containerName=m.containerName),L}function Tt(m){let L=typeof m.label=="string"?m.label:m.label.map(Vr),Z=ae.InlayHint.create(Ot(m.position),L);return m.kind!==void 0&&(Z.kind=m.kind),m.textEdits!==void 0&&(Z.textEdits=gt(m.textEdits)),m.tooltip!==void 0&&(Z.tooltip=Br(m.tooltip)),m.paddingLeft!==void 0&&(Z.paddingLeft=m.paddingLeft),m.paddingRight!==void 0&&(Z.paddingRight=m.paddingRight),m instanceof IL.default&&m.data!==void 0&&(Z.data=m.data),Z}function Vr(m){let L=ae.InlayHintLabelPart.create(m.value);return m.location!==void 0&&(L.location=zt(m.location)),m.command!==void 0&&(L.command=J(m.command)),m.tooltip!==void 0&&(L.tooltip=Br(m.tooltip)),L}function Br(m){return typeof m=="string"?m:{kind:ae.MarkupKind.Markdown,value:m.value}}return {asUri:r,asTextDocumentIdentifier:i,asTextDocumentItem:s,asVersionedTextDocumentIdentifier:o,asOpenTextDocumentParams:a,asChangeTextDocumentParams:f,asCloseTextDocumentParams:h,asSaveTextDocumentParams:p,asWillSaveTextDocumentParams:y,asDidCreateFilesParams:b,asDidRenameFilesParams:C,asDidDeleteFilesParams:k,asWillCreateFilesParams:O,asWillRenameFilesParams:N,asWillDeleteFilesParams:A,asTextDocumentPositionParams:H,asCompletionParams:W,asSignatureHelpParams:Bt,asWorkerPosition:It,asRange:ze,asRanges:Zt,asPosition:Ot,asPositions:Hn,asPositionsSync:ir,asLocation:zt,asDiagnosticSeverity:Nt,asDiagnosticTag:sr,asDiagnostic:ar,asDiagnostics:Kn,asDiagnosticsSync:Wn,asCompletionItem:Pn,asTextEdit:ur,asSymbolKind:Mt,asSymbolTag:xt,asSymbolTags:yn,asReferenceParams:en,asCodeAction:lr,asCodeActionSync:Tr,asCodeActionContext:Bn,asCodeActionContextSync:Rr,asInlineValueContext:M,asCommand:J,asCodeLens:Re,asFormattingOptions:De,asDocumentSymbolParams:xe,asCodeLensParams:Ue,asDocumentLink:de,asDocumentLinkParams:Ee,asCallHierarchyItem:me,asTypeHierarchyItem:He,asInlayHint:Tt,asWorkspaceSymbol:ut,asInlineCompletionParams:z}}tl.createConverter=OL;});var aP=E(rl=>{d();Object.defineProperty(rl,"__esModule",{value:!0});rl.createConverter=void 0;var G=Y("vscode"),ie=se(),Mn=Fn(),Pe=Zu(),NL=_g(),xL=Rg(),AL=kg(),LL=Og(),sP=Ag(),FL=Mg(),ML=Ug(),jL=Wg(),$L=zg(),oP=se(),nl;(function(n){function e(t){let r=t;return r&&Mn.string(r.language)&&Mn.string(r.value)}n.is=e;})(nl||(nl={}));function UL(n,e,t){let i=n||(l=>G.Uri.parse(l));function s(l){return i(l)}function o(l){let q=[];for(let U of l)if(typeof U=="string")q.push(U);else if(oP.NotebookCellTextDocumentFilter.is(U))if(typeof U.notebook=="string")q.push({notebookType:U.notebook,language:U.language});else {let ee=U.notebook.notebookType??"*";q.push({notebookType:ee,scheme:U.notebook.scheme,pattern:U.notebook.pattern,language:U.language});}else oP.TextDocumentFilter.is(U)&&q.push({language:U.language,scheme:U.scheme,pattern:U.pattern});return q}async function a(l,q){return Pe.map(l,u,q)}function c(l){let q=new Array(l.length);for(let U=0;U<l.length;U++)q[U]=u(l[U]);return q}function u(l){let q=new sP.ProtocolDiagnostic(y(l.range),l.message,C(l.severity),l.data);if(l.code!==void 0){if(typeof l.code=="string"||typeof l.code=="number")ie.CodeDescription.is(l.codeDescription)?q.code={value:l.code,target:s(l.codeDescription.href)}:q.code=l.code;else if(sP.DiagnosticCode.is(l.code)){q.hasDiagnosticCode=!0;let U=l.code;q.code={value:U.value,target:s(U.target)};}}return l.source&&(q.source=l.source),l.relatedInformation&&(q.relatedInformation=f(l.relatedInformation)),Array.isArray(l.tags)&&(q.tags=h(l.tags)),q}function f(l){let q=new Array(l.length);for(let U=0;U<l.length;U++){let ee=l[U];q[U]=new G.DiagnosticRelatedInformation(Nt(ee.location),ee.message);}return q}function h(l){if(!l)return;let q=[];for(let U of l){let ee=p(U);ee!==void 0&&q.push(ee);}return q.length>0?q:void 0}function p(l){switch(l){case ie.DiagnosticTag.Unnecessary:return G.DiagnosticTag.Unnecessary;case ie.DiagnosticTag.Deprecated:return G.DiagnosticTag.Deprecated;default:return}}function w(l){return l?new G.Position(l.line,l.character):void 0}function y(l){return l?new G.Range(l.start.line,l.start.character,l.end.line,l.end.character):void 0}async function b(l,q){return Pe.map(l,U=>new G.Range(U.start.line,U.start.character,U.end.line,U.end.character),q)}function C(l){if(l==null)return G.DiagnosticSeverity.Error;switch(l){case ie.DiagnosticSeverity.Error:return G.DiagnosticSeverity.Error;case ie.DiagnosticSeverity.Warning:return G.DiagnosticSeverity.Warning;case ie.DiagnosticSeverity.Information:return G.DiagnosticSeverity.Information;case ie.DiagnosticSeverity.Hint:return G.DiagnosticSeverity.Hint}return G.DiagnosticSeverity.Error}function k(l){if(Mn.string(l))return N(l);if(nl.is(l))return N().appendCodeblock(l.value,l.language);if(Array.isArray(l)){let q=[];for(let U of l){let ee=N();nl.is(U)?ee.appendCodeblock(U.value,U.language):ee.appendMarkdown(U),q.push(ee);}return q}else return N(l)}function O(l){if(Mn.string(l))return l;switch(l.kind){case ie.MarkupKind.Markdown:return N(l.value);case ie.MarkupKind.PlainText:return l.value;default:return `Unsupported Markup content received. Kind is: ${l.kind}`}}function N(l){let q;if(l===void 0||typeof l=="string")q=new G.MarkdownString(l);else switch(l.kind){case ie.MarkupKind.Markdown:q=new G.MarkdownString(l.value);break;case ie.MarkupKind.PlainText:q=new G.MarkdownString,q.appendText(l.value);break;default:q=new G.MarkdownString,q.appendText(`Unsupported Markup content received. Kind is: ${l.kind}`);break}return q.isTrusted=e,q.supportHtml=t,q}function A(l){if(l)return new G.Hover(k(l.contents),y(l.range))}async function H(l,q,U){if(!l)return;if(Array.isArray(l))return Pe.map(l,fr=>Ce(fr,q),U);let ee=l,{defaultRange:Rt,commitCharacters:At}=$(ee,q),$e=await Pe.map(ee.items,fr=>Ce(fr,At,Rt,ee.itemDefaults?.insertTextMode,ee.itemDefaults?.insertTextFormat,ee.itemDefaults?.data),U);return new G.CompletionList($e,ee.isIncomplete)}function $(l,q){let U=l.itemDefaults?.editRange,ee=l.itemDefaults?.commitCharacters??q;return ie.Range.is(U)?{defaultRange:y(U),commitCharacters:ee}:U!==void 0?{defaultRange:{inserting:y(U.insert),replacing:y(U.replace)},commitCharacters:ee}:{defaultRange:void 0,commitCharacters:ee}}function W(l){return ie.CompletionItemKind.Text<=l&&l<=ie.CompletionItemKind.TypeParameter?[l-1,void 0]:[G.CompletionItemKind.Text,l]}function K(l){switch(l){case ie.CompletionItemTag.Deprecated:return G.CompletionItemTag.Deprecated}}function te(l){if(l==null)return [];let q=[];for(let U of l){let ee=K(U);ee!==void 0&&q.push(ee);}return q}function Ce(l,q,U,ee,Rt,At){let $e=te(l.tags),fr=_e(l),Ve=new NL.default(fr);l.detail&&(Ve.detail=l.detail),l.documentation&&(Ve.documentation=O(l.documentation),Ve.documentationFormat=Mn.string(l.documentation)?"$string":l.documentation.kind),l.filterText&&(Ve.filterText=l.filterText);let xa=he(l,U,Rt);if(xa&&(Ve.insertText=xa.text,Ve.range=xa.range,Ve.fromEdit=xa.fromEdit),Mn.number(l.kind)){let[UE,Sv]=W(l.kind);Ve.kind=UE,Sv&&(Ve.originalItemKind=Sv);}l.sortText&&(Ve.sortText=l.sortText),l.additionalTextEdits&&(Ve.additionalTextEdits=Ot(l.additionalTextEdits));let wv=l.commitCharacters!==void 0?Mn.stringArray(l.commitCharacters)?l.commitCharacters:void 0:q;wv&&(Ve.commitCharacters=wv.slice()),l.command&&(Ve.command=gt(l.command)),(l.deprecated===!0||l.deprecated===!1)&&(Ve.deprecated=l.deprecated,l.deprecated===!0&&$e.push(G.CompletionItemTag.Deprecated)),(l.preselect===!0||l.preselect===!1)&&(Ve.preselect=l.preselect);let bv=l.data??At;bv!==void 0&&(Ve.data=bv),$e.length>0&&(Ve.tags=$e);let ed=l.insertTextMode??ee;return ed!==void 0&&(Ve.insertTextMode=ed,ed===ie.InsertTextMode.asIs&&(Ve.keepWhitespace=!0)),Ve}function _e(l){return ie.CompletionItemLabelDetails.is(l.labelDetails)?{label:l.label,detail:l.labelDetails.detail,description:l.labelDetails.description}:l.label}function he(l,q,U){let ee=l.insertTextFormat??U;if(l.textEdit!==void 0||q!==void 0){let[Rt,At]=l.textEdit!==void 0?Rn(l.textEdit):[q,l.textEditText??l.label];return ee===ie.InsertTextFormat.Snippet?{text:new G.SnippetString(At),range:Rt,fromEdit:!0}:{text:At,range:Rt,fromEdit:!0}}else return l.insertText?ee===ie.InsertTextFormat.Snippet?{text:new G.SnippetString(l.insertText),fromEdit:!1}:{text:l.insertText,fromEdit:!1}:void 0}function Rn(l){return ie.InsertReplaceEdit.is(l)?[{inserting:y(l.insert),replacing:y(l.replace)},l.newText]:[y(l.range),l.newText]}function Bt(l){if(l)return new G.TextEdit(y(l.range),l.newText)}async function It(l,q){if(l)return Pe.map(l,Bt,q)}function Ot(l){if(!l)return;let q=new Array(l.length);for(let U=0;U<l.length;U++)q[U]=Bt(l[U]);return q}async function Hn(l,q){if(!l)return;let U=new G.SignatureHelp;return Mn.number(l.activeSignature)?U.activeSignature=l.activeSignature:U.activeSignature=0,Mn.number(l.activeParameter)?U.activeParameter=l.activeParameter:U.activeParameter=0,l.signatures&&(U.signatures=await ir(l.signatures,q)),U}async function ir(l,q){return Pe.mapAsync(l,ze,q)}async function ze(l,q){let U=new G.SignatureInformation(l.label);return l.documentation!==void 0&&(U.documentation=O(l.documentation)),l.parameters!==void 0&&(U.parameters=await Zt(l.parameters,q)),l.activeParameter!==void 0&&(U.activeParameter=l.activeParameter),U}function Zt(l,q){return Pe.map(l,zt,q)}function zt(l){let q=new G.ParameterInformation(l.label);return l.documentation&&(q.documentation=O(l.documentation)),q}function Nt(l){return l?new G.Location(i(l.uri),y(l.range)):void 0}async function Hr(l,q){if(l)return _r(l,q)}async function sr(l,q){if(l)return _r(l,q)}function or(l){if(!l)return;let q={targetUri:i(l.targetUri),targetRange:y(l.targetRange),originSelectionRange:y(l.originSelectionRange),targetSelectionRange:y(l.targetSelectionRange)};if(!q.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return q}async function _r(l,q){if(l)if(Mn.array(l)){if(l.length===0)return [];if(ie.LocationLink.is(l[0])){let U=l;return Pe.map(U,or,q)}else {let U=l;return Pe.map(U,Nt,q)}}else return ie.LocationLink.is(l)?[or(l)]:Nt(l)}async function Kr(l,q){if(l)return Pe.map(l,Nt,q)}async function ar(l,q){if(l)return Pe.map(l,Kn,q)}function Kn(l){let q=new G.DocumentHighlight(y(l.range));return Mn.number(l.kind)&&(q.kind=Wn(l.kind)),q}function Wn(l){switch(l){case ie.DocumentHighlightKind.Text:return G.DocumentHighlightKind.Text;case ie.DocumentHighlightKind.Read:return G.DocumentHighlightKind.Read;case ie.DocumentHighlightKind.Write:return G.DocumentHighlightKind.Write}return G.DocumentHighlightKind.Text}async function cr(l,q){if(l)return Pe.map(l,Pn,q)}function yt(l){return l<=ie.SymbolKind.TypeParameter?l-1:G.SymbolKind.Property}function Dr(l){switch(l){case ie.SymbolTag.Deprecated:return G.SymbolTag.Deprecated;default:return}}function Vn(l){if(l==null)return;let q=[];for(let U of l){let ee=Dr(U);ee!==void 0&&q.push(ee);}return q.length===0?void 0:q}function Pn(l){let q=l.data,U=l.location,ee=U.range===void 0||q!==void 0?new jL.default(l.name,yt(l.kind),l.containerName??"",U.range===void 0?i(U.uri):new G.Location(i(l.location.uri),y(U.range)),q):new G.SymbolInformation(l.name,yt(l.kind),l.containerName??"",new G.Location(i(l.location.uri),y(U.range)));return ur(ee,l),ee}async function Wr(l,q){if(l!=null)return Pe.map(l,En,q)}function En(l){let q=new G.DocumentSymbol(l.name,l.detail||"",yt(l.kind),y(l.range),y(l.selectionRange));if(ur(q,l),l.children!==void 0&&l.children.length>0){let U=[];for(let ee of l.children)U.push(En(ee));q.children=U;}return q}function ur(l,q){l.tags=Vn(q.tags),q.deprecated&&(l.tags?l.tags.includes(G.SymbolTag.Deprecated)||(l.tags=l.tags.concat(G.SymbolTag.Deprecated)):l.tags=[G.SymbolTag.Deprecated]);}function gt(l){let q={title:l.title,command:l.command};return l.arguments&&(q.arguments=l.arguments),q}async function Mt(l,q){if(l)return Pe.map(l,gt,q)}let xt=new Map;xt.set(ie.CodeActionKind.Empty,G.CodeActionKind.Empty),xt.set(ie.CodeActionKind.QuickFix,G.CodeActionKind.QuickFix),xt.set(ie.CodeActionKind.Refactor,G.CodeActionKind.Refactor),xt.set(ie.CodeActionKind.RefactorExtract,G.CodeActionKind.RefactorExtract),xt.set(ie.CodeActionKind.RefactorInline,G.CodeActionKind.RefactorInline),xt.set(ie.CodeActionKind.RefactorRewrite,G.CodeActionKind.RefactorRewrite),xt.set(ie.CodeActionKind.Source,G.CodeActionKind.Source),xt.set(ie.CodeActionKind.SourceOrganizeImports,G.CodeActionKind.SourceOrganizeImports);function yn(l){if(l==null)return;let q=xt.get(l);if(q)return q;let U=l.split(".");q=G.CodeActionKind.Empty;for(let ee of U)q=q.append(ee);return q}function en(l){if(l!=null)return l.map(q=>yn(q))}async function lr(l,q){if(l==null)return;let U=new LL.default(l.title,l.data);return l.kind!==void 0&&(U.kind=yn(l.kind)),l.diagnostics!==void 0&&(U.diagnostics=c(l.diagnostics)),l.edit!==void 0&&(U.edit=await Gt(l.edit,q)),l.command!==void 0&&(U.command=gt(l.command)),l.isPreferred!==void 0&&(U.isPreferred=l.isPreferred),l.disabled!==void 0&&(U.disabled={reason:l.disabled.reason}),U}function Tr(l,q){return Pe.mapAsync(l,async U=>ie.Command.is(U)?gt(U):lr(U,q),q)}function Bn(l){if(!l)return;let q=new xL.default(y(l.range));return l.command&&(q.command=gt(l.command)),l.data!==void 0&&l.data!==null&&(q.data=l.data),q}async function Rr(l,q){if(l)return Pe.map(l,Bn,q)}async function Gt(l,q){if(!l)return;let U=new Map;if(l.changeAnnotations!==void 0){let At=l.changeAnnotations;await Pe.forEach(Object.keys(At),$e=>{let fr=T(At[$e]);U.set($e,fr);},q);}let ee=At=>{if(At!==void 0)return U.get(At)},Rt=new G.WorkspaceEdit;if(l.documentChanges){let At=l.documentChanges;await Pe.forEach(At,$e=>{if(ie.CreateFile.is($e))Rt.createFile(i($e.uri),$e.options,ee($e.annotationId));else if(ie.RenameFile.is($e))Rt.renameFile(i($e.oldUri),i($e.newUri),$e.options,ee($e.annotationId));else if(ie.DeleteFile.is($e))Rt.deleteFile(i($e.uri),$e.options,ee($e.annotationId));else if(ie.TextDocumentEdit.is($e)){let fr=i($e.textDocument.uri);for(let Ve of $e.edits)ie.AnnotatedTextEdit.is(Ve)?Rt.replace(fr,y(Ve.range),Ve.newText,ee(Ve.annotationId)):Rt.replace(fr,y(Ve.range),Ve.newText);}else throw new Error(`Unknown workspace edit change received:
${JSON.stringify($e,void 0,4)}`)},q);}else if(l.changes){let At=l.changes;await Pe.forEach(Object.keys(At),$e=>{Rt.set(i($e),Ot(At[$e]));},q);}return Rt}function T(l){if(l!==void 0)return {label:l.label,needsConfirmation:!!l.needsConfirmation,description:l.description}}function M(l){let q=y(l.range),U=l.target?s(l.target):void 0,ee=new AL.default(q,U);return l.tooltip!==void 0&&(ee.tooltip=l.tooltip),l.data!==void 0&&l.data!==null&&(ee.data=l.data),ee}async function z(l,q){if(l)return Pe.map(l,M,q)}function J(l){return new G.Color(l.red,l.green,l.blue,l.alpha)}function Re(l){return new G.ColorInformation(y(l.range),J(l.color))}async function De(l,q){if(l)return Pe.map(l,Re,q)}function xe(l){let q=new G.ColorPresentation(l.label);return q.additionalTextEdits=Ot(l.additionalTextEdits),l.textEdit&&(q.textEdit=Bt(l.textEdit)),q}async function Ue(l,q){if(l)return Pe.map(l,xe,q)}function de(l){if(l)switch(l){case ie.FoldingRangeKind.Comment:return G.FoldingRangeKind.Comment;case ie.FoldingRangeKind.Imports:return G.FoldingRangeKind.Imports;case ie.FoldingRangeKind.Region:return G.FoldingRangeKind.Region}}function Ee(l){return new G.FoldingRange(l.startLine,l.endLine,de(l.kind))}async function me(l,q){if(l)return Pe.map(l,Ee,q)}function He(l){return new G.SelectionRange(y(l.range),l.parent?He(l.parent):void 0)}async function ut(l,q){return Array.isArray(l)?Pe.map(l,He,q):[]}function Tt(l){return ie.InlineValueText.is(l)?new G.InlineValueText(y(l.range),l.text):ie.InlineValueVariableLookup.is(l)?new G.InlineValueVariableLookup(y(l.range),l.variableName,l.caseSensitiveLookup):new G.InlineValueEvaluatableExpression(y(l.range),l.expression)}async function Vr(l,q){return Array.isArray(l)?Pe.map(l,Tt,q):[]}async function Br(l,q){let U=typeof l.label=="string"?l.label:await Pe.map(l.label,m,q),ee=new $L.default(w(l.position),U);return l.kind!==void 0&&(ee.kind=l.kind),l.textEdits!==void 0&&(ee.textEdits=await It(l.textEdits,q)),l.tooltip!==void 0&&(ee.tooltip=L(l.tooltip)),l.paddingLeft!==void 0&&(ee.paddingLeft=l.paddingLeft),l.paddingRight!==void 0&&(ee.paddingRight=l.paddingRight),l.data!==void 0&&(ee.data=l.data),ee}function m(l){let q=new G.InlayHintLabelPart(l.value);return l.location!==void 0&&(q.location=Nt(l.location)),l.tooltip!==void 0&&(q.tooltip=L(l.tooltip)),l.command!==void 0&&(q.command=gt(l.command)),q}function L(l){return typeof l=="string"?l:N(l)}async function Z(l,q){if(Array.isArray(l))return Pe.mapAsync(l,Br,q)}function ke(l){if(l===null)return;let q=new FL.default(yt(l.kind),l.name,l.detail||"",s(l.uri),y(l.range),y(l.selectionRange),l.data);return l.tags!==void 0&&(q.tags=Vn(l.tags)),q}async function I(l,q){if(l!==null)return Pe.map(l,ke,q)}async function v(l,q){return new G.CallHierarchyIncomingCall(ke(l.from),await b(l.fromRanges,q))}async function R(l,q){if(l!==null)return Pe.mapAsync(l,v,q)}async function P(l,q){return new G.CallHierarchyOutgoingCall(ke(l.to),await b(l.fromRanges,q))}async function S(l,q){if(l!==null)return Pe.mapAsync(l,P,q)}async function g(l,q){if(l!=null)return new G.SemanticTokens(new Uint32Array(l.data),l.resultId)}function x(l){return new G.SemanticTokensEdit(l.start,l.deleteCount,l.data!==void 0?new Uint32Array(l.data):void 0)}async function j(l,q){if(l!=null)return new G.SemanticTokensEdits(l.edits.map(x),l.resultId)}function oe(l){return l}async function Xe(l,q){if(l!=null)return new G.LinkedEditingRanges(await b(l.ranges,q),Ke(l.wordPattern))}function Ke(l){if(l!=null)return new RegExp(l)}function tn(l){if(l===null)return;let q=new ML.default(yt(l.kind),l.name,l.detail||"",s(l.uri),y(l.range),y(l.selectionRange),l.data);return l.tags!==void 0&&(q.tags=Vn(l.tags)),q}async function vn(l,q){if(l!==null)return Pe.map(l,tn,q)}function zn(l){if(Mn.string(l))return l;if(ie.RelativePattern.is(l)){if(ie.URI.is(l.baseUri))return new G.RelativePattern(s(l.baseUri),l.pattern);if(ie.WorkspaceFolder.is(l.baseUri)){let q=G.workspace.getWorkspaceFolder(s(l.baseUri.uri));return q!==void 0?new G.RelativePattern(q,l.pattern):void 0}}}async function ge(l,q){if(!l)return;if(Array.isArray(l))return Pe.map(l,Rt=>dr(Rt),q);let U=l,ee=await Pe.map(U.items,Rt=>dr(Rt),q);return new G.InlineCompletionList(ee)}function dr(l){let q;typeof l.insertText=="string"?q=l.insertText:q=new G.SnippetString(l.insertText.value);let U;l.command&&(U=gt(l.command));let ee=new G.InlineCompletionItem(q,y(l.range),U);return l.filterText&&(ee.filterText=l.filterText),ee}return {asUri:s,asDocumentSelector:o,asDiagnostics:a,asDiagnostic:u,asRange:y,asRanges:b,asPosition:w,asDiagnosticSeverity:C,asDiagnosticTag:p,asHover:A,asCompletionResult:H,asCompletionItem:Ce,asTextEdit:Bt,asTextEdits:It,asSignatureHelp:Hn,asSignatureInformations:ir,asSignatureInformation:ze,asParameterInformations:Zt,asParameterInformation:zt,asDeclarationResult:Hr,asDefinitionResult:sr,asLocation:Nt,asReferences:Kr,asDocumentHighlights:ar,asDocumentHighlight:Kn,asDocumentHighlightKind:Wn,asSymbolKind:yt,asSymbolTag:Dr,asSymbolTags:Vn,asSymbolInformations:cr,asSymbolInformation:Pn,asDocumentSymbols:Wr,asDocumentSymbol:En,asCommand:gt,asCommands:Mt,asCodeAction:lr,asCodeActionKind:yn,asCodeActionKinds:en,asCodeActionResult:Tr,asCodeLens:Bn,asCodeLenses:Rr,asWorkspaceEdit:Gt,asDocumentLink:M,asDocumentLinks:z,asFoldingRangeKind:de,asFoldingRange:Ee,asFoldingRanges:me,asColor:J,asColorInformation:Re,asColorInformations:De,asColorPresentation:xe,asColorPresentations:Ue,asSelectionRange:He,asSelectionRanges:ut,asInlineValue:Tt,asInlineValues:Vr,asInlayHint:Br,asInlayHints:Z,asSemanticTokensLegend:oe,asSemanticTokens:g,asSemanticTokensEdit:x,asSemanticTokensEdits:j,asCallHierarchyItem:ke,asCallHierarchyItems:I,asCallHierarchyIncomingCall:v,asCallHierarchyIncomingCalls:R,asCallHierarchyOutgoingCall:P,asCallHierarchyOutgoingCalls:S,asLinkedEditingRanges:Xe,asTypeHierarchyItem:tn,asTypeHierarchyItems:vn,asGlobPattern:zn,asInlineCompletionResult:ge,asInlineCompletionItem:dr}}rl.createConverter=UL;});var tt=E(jn=>{d();Object.defineProperty(jn,"__esModule",{value:!0});jn.generateUuid=jn.parse=jn.isUUID=jn.v4=jn.empty=void 0;var ca=class{constructor(e){this._value=e;}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}},ua=class n extends ca{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return n._oneOf(n._chars)}constructor(){super([n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),"-","4",n._randomHex(),n._randomHex(),n._randomHex(),"-",n._oneOf(n._timeHighBits),n._randomHex(),n._randomHex(),n._randomHex(),"-",n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex(),n._randomHex()].join(""));}};ua._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];ua._timeHighBits=["8","9","a","b"];jn.empty=new ca("00000000-0000-0000-0000-000000000000");function cP(){return new ua}jn.v4=cP;var HL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function uP(n){return HL.test(n)}jn.isUUID=uP;function KL(n){if(!uP(n))throw new Error("invalid uuid");return new ca(n)}jn.parse=KL;function WL(){return cP().asHex()}jn.generateUuid=WL;});var Jg=E(il=>{d();Object.defineProperty(il,"__esModule",{value:!0});il.ProgressPart=void 0;var lP=Y("vscode"),dP=se(),fP=Fn(),Yg=class{constructor(e,t,r){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(dP.WorkDoneProgress.type,this._token,i=>{switch(i.kind){case"begin":this.begin(i);break;case"report":this.report(i);break;case"end":this.done(),r&&r(this);break}});}begin(e){this._infinite=e.percentage===void 0,this._lspProgressDisposable!==void 0&&lP.window.withProgress({location:lP.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},async(t,r)=>{if(this._lspProgressDisposable!==void 0)return this._progress=t,this._cancellationToken=r,this._tokenDisposable=this._cancellationToken.onCancellationRequested(()=>{this._client.sendNotification(dP.WorkDoneProgressCancelNotification.type,{token:this._token});}),this.report(e),new Promise((i,s)=>{this._resolve=i,this._reject=s;})});}report(e){if(this._infinite&&fP.string(e.message))this._progress!==void 0&&this._progress.report({message:e.message});else if(fP.number(e.percentage)){let t=Math.max(0,Math.min(e.percentage,100)),r=Math.max(0,t-this._reported);this._reported+=r,this._progress!==void 0&&this._progress.report({message:e.message,increment:r});}}cancel(){this.cleanup(),this._reject!==void 0&&(this._reject(),this._resolve=void 0,this._reject=void 0);}done(){this.cleanup(),this._resolve!==void 0&&(this._resolve(),this._resolve=void 0,this._reject=void 0);}cleanup(){this._lspProgressDisposable!==void 0&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),this._tokenDisposable!==void 0&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0;}};il.ProgressPart=Yg;});var Te=E(kt=>{d();Object.defineProperty(kt,"__esModule",{value:!0});kt.WorkspaceFeature=kt.TextDocumentLanguageFeature=kt.TextDocumentEventFeature=kt.DynamicDocumentFeature=kt.DynamicFeature=kt.StaticFeature=kt.ensure=kt.LSPCancellationError=void 0;var Yi=Y("vscode"),Xg=se(),Jt=Fn(),hP=tt(),Qg=class extends Yi.CancellationError{constructor(e){super(),this.data=e;}};kt.LSPCancellationError=Qg;function VL(n,e){return n[e]===void 0&&(n[e]={}),n[e]}kt.ensure=VL;var pP;(function(n){function e(t){let r=t;return r!=null&&Jt.func(r.fillClientCapabilities)&&Jt.func(r.initialize)&&Jt.func(r.getState)&&Jt.func(r.clear)&&(r.fillInitializeParams===void 0||Jt.func(r.fillInitializeParams))}n.is=e;})(pP||(kt.StaticFeature=pP={}));var gP;(function(n){function e(t){let r=t;return r!=null&&Jt.func(r.fillClientCapabilities)&&Jt.func(r.initialize)&&Jt.func(r.getState)&&Jt.func(r.clear)&&(r.fillInitializeParams===void 0||Jt.func(r.fillInitializeParams))&&Jt.func(r.register)&&Jt.func(r.unregister)&&r.registrationType!==void 0}n.is=e;})(gP||(kt.DynamicFeature=gP={}));var la=class{constructor(e){this._client=e;}getState(){let e=this.getDocumentSelectors(),t=0;for(let i of e){t++;for(let s of Yi.workspace.textDocuments)if(Yi.languages.match(i,s)>0)return {kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}let r=t>0;return {kind:"document",id:this.registrationType.method,registrations:r,matches:!1}}};kt.DynamicDocumentFeature=la;var Zg=class extends la{static textDocumentFilter(e,t){for(let r of e)if(Yi.languages.match(r,t)>0)return !0;return !1}constructor(e,t,r,i,s,o,a){super(e),this._event=t,this._type=r,this._middleware=i,this._createParams=s,this._textDocument=o,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new Yi.EventEmitter;}getStateInfo(){return [this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event(t=>{this.callback(t).catch(r=>{this._client.error(`Sending document notification ${this._type.method} failed.`,r);});})),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)));}async callback(e){let t=async r=>{let i=this._createParams(r);await this._client.sendNotification(this._type,i),this.notificationSent(this.getTextDocument(r),this._type,i);};if(this.matches(e)){let r=this._middleware();return r?r(e,i=>t(i)):t(e)}}matches(e){return this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))?!1:!this._selectorFilter||this._selectorFilter(this._selectors.values(),e)}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,r){this._onNotificationSent.fire({textDocument:e,type:t,params:r});}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0);}clear(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0);}getProvider(e){for(let t of this._selectors.values())if(Yi.languages.match(t,e)>0)return {send:r=>this.callback(r)}}};kt.TextDocumentEventFeature=Zg;var em=class extends la{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map;}*getDocumentSelectors(){for(let e of this._registrations.values()){let t=e.data.registerOptions.documentSelector;t!==null&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t));}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]});}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose();}clear(){this._registrations.forEach(e=>{e.disposable.dispose();}),this._registrations.clear();}getRegistration(e,t){if(t){if(Xg.TextDocumentRegistrationOptions.is(t)){let r=Xg.StaticRegistrationOptions.hasId(t)?t.id:hP.generateUuid(),i=t.documentSelector??e;if(i)return [r,Object.assign({},t,{documentSelector:i})]}else if(Jt.boolean(t)&&t===!0||Xg.WorkDoneProgressOptions.is(t)){if(!e)return [void 0,void 0];let r=Jt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return [hP.generateUuid(),r]}}else return [void 0,void 0];return [void 0,void 0]}getRegistrationOptions(e,t){if(!(!e||!t))return Jt.boolean(t)&&t===!0?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(let t of this._registrations.values()){let r=t.data.registerOptions.documentSelector;if(r!==null&&Yi.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(r),e)>0)return t.provider}}getAllProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};kt.TextDocumentLanguageFeature=em;var tm=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map;}getState(){let e=this._registrations.size>0;return {kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){let t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]});}unregister(e){let t=this._registrations.get(e);t!==void 0&&t.disposable.dispose();}clear(){this._registrations.forEach(e=>{e.disposable.dispose();}),this._registrations.clear();}getProviders(){let e=[];for(let t of this._registrations.values())e.push(t.provider);return e}};kt.WorkspaceFeature=tm;});var yP=E((_4,mP)=>{d();var BL=typeof process=="object"&&process&&process.platform==="win32";mP.exports=BL?{sep:"\\"}:{sep:"/"};});var CP=E((T4,SP)=>{d();SP.exports=wP;function wP(n,e,t){n instanceof RegExp&&(n=vP(n,t)),e instanceof RegExp&&(e=vP(e,t));var r=bP(n,e,t);return r&&{start:r[0],end:r[1],pre:t.slice(0,r[0]),body:t.slice(r[0]+n.length,r[1]),post:t.slice(r[1]+e.length)}}function vP(n,e){var t=e.match(n);return t?t[0]:null}wP.range=bP;function bP(n,e,t){var r,i,s,o,a,c=t.indexOf(n),u=t.indexOf(e,c+1),f=c;if(c>=0&&u>0){if(n===e)return [c,u];for(r=[],s=t.length;f>=0&&!a;)f==c?(r.push(f),c=t.indexOf(n,f+1)):r.length==1?a=[r.pop(),u]:(i=r.pop(),i<s&&(s=i,o=u),u=t.indexOf(e,f+1)),f=c<u&&c>=0?c:u;r.length&&(a=[s,o]);}return a}});var qP=E((P4,kP)=>{d();var _P=CP();kP.exports=YL;var DP="\0SLASH"+Math.random()+"\0",TP="\0OPEN"+Math.random()+"\0",rm="\0CLOSE"+Math.random()+"\0",RP="\0COMMA"+Math.random()+"\0",PP="\0PERIOD"+Math.random()+"\0";function nm(n){return parseInt(n,10)==n?parseInt(n,10):n.charCodeAt(0)}function zL(n){return n.split("\\\\").join(DP).split("\\{").join(TP).split("\\}").join(rm).split("\\,").join(RP).split("\\.").join(PP)}function GL(n){return n.split(DP).join("\\").split(TP).join("{").split(rm).join("}").split(RP).join(",").split(PP).join(".")}function EP(n){if(!n)return [""];var e=[],t=_P("{","}",n);if(!t)return n.split(",");var r=t.pre,i=t.body,s=t.post,o=r.split(",");o[o.length-1]+="{"+i+"}";var a=EP(s);return s.length&&(o[o.length-1]+=a.shift(),o.push.apply(o,a)),e.push.apply(e,o),e}function YL(n){return n?(n.substr(0,2)==="{}"&&(n="\\{\\}"+n.substr(2)),da(zL(n),!0).map(GL)):[]}function JL(n){return "{"+n+"}"}function XL(n){return /^-?0\d/.test(n)}function QL(n,e){return n<=e}function ZL(n,e){return n>=e}function da(n,e){var t=[],r=_P("{","}",n);if(!r)return [n];var i=r.pre,s=r.post.length?da(r.post,!1):[""];if(/\$$/.test(r.pre))for(var o=0;o<s.length;o++){var a=i+"{"+r.body+"}"+s[o];t.push(a);}else {var c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(r.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(r.body),f=c||u,h=r.body.indexOf(",")>=0;if(!f&&!h)return r.post.match(/,.*\}/)?(n=r.pre+"{"+r.body+rm+r.post,da(n)):[n];var p;if(f)p=r.body.split(/\.\./);else if(p=EP(r.body),p.length===1&&(p=da(p[0],!1).map(JL),p.length===1))return s.map(function(Ce){return r.pre+p[0]+Ce});var w;if(f){var y=nm(p[0]),b=nm(p[1]),C=Math.max(p[0].length,p[1].length),k=p.length==3?Math.abs(nm(p[2])):1,O=QL,N=b<y;N&&(k*=-1,O=ZL);var A=p.some(XL);w=[];for(var H=y;O(H,b);H+=k){var $;if(u)$=String.fromCharCode(H),$==="\\"&&($="");else if($=String(H),A){var W=C-$.length;if(W>0){var K=new Array(W+1).join("0");H<0?$="-"+K+$.slice(1):$=K+$;}}w.push($);}}else {w=[];for(var te=0;te<p.length;te++)w.push.apply(w,da(p[te],!1));}for(var te=0;te<w.length;te++)for(var o=0;o<s.length;o++){var a=i+w[te]+s[o];(!e||f||a)&&t.push(a);}}return t}});var ol=E((q4,cm)=>{d();var Cn=cm.exports=(n,e,t={})=>(sl(e),!t.nocomment&&e.charAt(0)==="#"?!1:new Bs(e,t).match(n));cm.exports=Cn;var om=yP();Cn.sep=om.sep;var er=Symbol("globstar **");Cn.GLOBSTAR=er;var eF=qP(),IP={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},am="[^/]",im=am+"*?",tF="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",nF="(?:(?!(?:\\/|^)\\.).)*?",xP=n=>n.split("").reduce((e,t)=>(e[t]=!0,e),{}),OP=xP("().*{}+?[]^$\\!"),rF=xP("[.("),NP=/\/+/;Cn.filter=(n,e={})=>(t,r,i)=>Cn(t,n,e);var Si=(n,e={})=>{let t={};return Object.keys(n).forEach(r=>t[r]=n[r]),Object.keys(e).forEach(r=>t[r]=e[r]),t};Cn.defaults=n=>{if(!n||typeof n!="object"||!Object.keys(n).length)return Cn;let e=Cn,t=(r,i,s)=>e(r,i,Si(n,s));return t.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Si(n,s));}},t.Minimatch.defaults=r=>e.defaults(Si(n,r)).Minimatch,t.filter=(r,i)=>e.filter(r,Si(n,i)),t.defaults=r=>e.defaults(Si(n,r)),t.makeRe=(r,i)=>e.makeRe(r,Si(n,i)),t.braceExpand=(r,i)=>e.braceExpand(r,Si(n,i)),t.match=(r,i,s)=>e.match(r,i,Si(n,s)),t};Cn.braceExpand=(n,e)=>AP(n,e);var AP=(n,e={})=>(sl(n),e.nobrace||!/\{(?:(?!\{).)*\}/.test(n)?[n]:eF(n)),iF=1024*64,sl=n=>{if(typeof n!="string")throw new TypeError("invalid pattern");if(n.length>iF)throw new TypeError("pattern is too long")},sm=Symbol("subparse");Cn.makeRe=(n,e)=>new Bs(n,e||{}).makeRe();Cn.match=(n,e,t={})=>{let r=new Bs(e,t);return n=n.filter(i=>r.match(i)),r.options.nonull&&!n.length&&n.push(e),n};var sF=n=>n.replace(/\\(.)/g,"$1"),oF=n=>n.replace(/\\([^-\]])/g,"$1"),aF=n=>n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),cF=n=>n.replace(/[[\]\\]/g,"\\$&"),Bs=class{constructor(e,t){sl(e),t||(t={}),this.options=t,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!t.windowsPathsNoEscape||t.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make();}debug(){}make(){let e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let r=this.globSet=this.braceExpand();t.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,r),r=this.globParts=r.map(i=>i.split(NP)),this.debug(this.pattern,r),r=r.map((i,s,o)=>i.map(this.parse,this)),this.debug(this.pattern,r),r=r.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,r),this.set=r;}parseNegate(){if(this.options.nonegate)return;let e=this.pattern,t=!1,r=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)t=!t,r++;r&&(this.pattern=e.slice(r)),this.negate=t;}matchOne(e,t,r){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,c=t.length;s<a&&o<c;s++,o++){this.debug("matchOne loop");var u=t[o],f=e[s];if(this.debug(t,u,f),u===!1)return !1;if(u===er){this.debug("GLOBSTAR",[t,u,f]);var h=s,p=o+1;if(p===c){for(this.debug("** at the end");s<a;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return !1;return !0}for(;h<a;){var w=e[h];if(this.debug(`
globstar while`,e,h,t,p,w),this.matchOne(e.slice(h),t.slice(p),r))return this.debug("globstar found match!",h,a,w),!0;if(w==="."||w===".."||!i.dot&&w.charAt(0)==="."){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++;}return !!(r&&(this.debug(`
>>> no match, partial?`,e,h,t,p),h===a))}var y;if(typeof u=="string"?(y=f===u,this.debug("string match",u,f,y)):(y=f.match(u),this.debug("pattern match",u,f,y)),!y)return !1}if(s===a&&o===c)return !0;if(s===a)return r;if(o===c)return s===a-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return AP(this.pattern,this.options)}parse(e,t){sl(e);let r=this.options;if(e==="**")if(r.noglobstar)e="*";else return er;if(e==="")return "";let i="",s=!1,o=!1,a=[],c=[],u,f=!1,h=-1,p=-1,w,y,b,C=e.charAt(0)===".",k=r.dot||C,O=()=>C?"":k?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",N=W=>W.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",A=()=>{if(u){switch(u){case"*":i+=im,s=!0;break;case"?":i+=am,s=!0;break;default:i+="\\"+u;break}this.debug("clearStateChar %j %j",u,i),u=!1;}};for(let W=0,K;W<e.length&&(K=e.charAt(W));W++){if(this.debug("%s	%s %s %j",e,W,i,K),o){if(K==="/")return !1;OP[K]&&(i+="\\"),i+=K,o=!1;continue}switch(K){case"/":return !1;case"\\":if(f&&e.charAt(W+1)==="-"){i+=K;continue}A(),o=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,W,i,K),f){this.debug("  in class"),K==="!"&&W===p+1&&(K="^"),i+=K;continue}this.debug("call clearStateChar %j",u),A(),u=K,r.noext&&A();continue;case"(":{if(f){i+="(";continue}if(!u){i+="\\(";continue}let te={type:u,start:W-1,reStart:i.length,open:IP[u].open,close:IP[u].close};this.debug(this.pattern,"	",te),a.push(te),i+=te.open,te.start===0&&te.type!=="!"&&(C=!0,i+=N(e.slice(W+1))),this.debug("plType %j %j",u,i),u=!1;continue}case")":{let te=a[a.length-1];if(f||!te){i+="\\)";continue}a.pop(),A(),s=!0,y=te,i+=y.close,y.type==="!"&&c.push(Object.assign(y,{reEnd:i.length}));continue}case"|":{let te=a[a.length-1];if(f||!te){i+="\\|";continue}A(),i+="|",te.start===0&&te.type!=="!"&&(C=!0,i+=N(e.slice(W+1)));continue}case"[":if(A(),f){i+="\\"+K;continue}f=!0,p=W,h=i.length,i+=K;continue;case"]":if(W===p+1||!f){i+="\\"+K;continue}w=e.substring(p+1,W);try{RegExp("["+cF(oF(w))+"]"),i+=K;}catch{i=i.substring(0,h)+"(?:$.)";}s=!0,f=!1;continue;default:A(),OP[K]&&!(K==="^"&&f)&&(i+="\\"),i+=K;break}}for(f&&(w=e.slice(p+1),b=this.parse(w,sm),i=i.substring(0,h)+"\\["+b[0],s=s||b[1]),y=a.pop();y;y=a.pop()){let W;W=i.slice(y.reStart+y.open.length),this.debug("setting tail",i,y),W=W.replace(/((?:\\{2}){0,64})(\\?)\|/g,(te,Ce,_e)=>(_e||(_e="\\"),Ce+Ce+_e+"|")),this.debug(`tail=%j
   %s`,W,W,y,i);let K=y.type==="*"?im:y.type==="?"?am:"\\"+y.type;s=!0,i=i.slice(0,y.reStart)+K+"\\("+W;}A(),o&&(i+="\\\\");let H=rF[i.charAt(0)];for(let W=c.length-1;W>-1;W--){let K=c[W],te=i.slice(0,K.reStart),Ce=i.slice(K.reStart,K.reEnd-8),_e=i.slice(K.reEnd),he=i.slice(K.reEnd-8,K.reEnd)+_e,Rn=te.split(")").length,Bt=te.split("(").length-Rn,It=_e;for(let Hn=0;Hn<Bt;Hn++)It=It.replace(/\)[+*?]?/,"");_e=It;let Ot=_e===""&&t!==sm?"(?:$|\\/)":"";i=te+Ce+_e+Ot+he;}if(i!==""&&s&&(i="(?=.)"+i),H&&(i=O()+i),t===sm)return [i,s];if(r.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return sF(e);let $=r.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",$),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;let e=this.set;if(!e.length)return this.regexp=!1,this.regexp;let t=this.options,r=t.noglobstar?im:t.dot?tF:nF,i=t.nocase?"i":"",s=e.map(o=>(o=o.map(a=>typeof a=="string"?aF(a):a===er?er:a._src).reduce((a,c)=>(a[a.length-1]===er&&c===er||a.push(c),a),[]),o.forEach((a,c)=>{a!==er||o[c-1]===er||(c===0?o.length>1?o[c+1]="(?:\\/|"+r+"\\/)?"+o[c+1]:o[c]=r:c===o.length-1?o[c-1]+="(?:\\/|"+r+")?":(o[c-1]+="(?:\\/|\\/"+r+"\\/)"+o[c+1],o[c+1]=er));}),o.filter(a=>a!==er).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i);}catch{this.regexp=!1;}return this.regexp}match(e,t=this.partial){if(this.debug("match",e,this.pattern),this.comment)return !1;if(this.empty)return e==="";if(e==="/"&&t)return !0;let r=this.options;om.sep!=="/"&&(e=e.split(om.sep).join("/")),e=e.split(NP),this.debug(this.pattern,"split",e);let i=this.set;this.debug(this.pattern,"set",i);let s;for(let o=e.length-1;o>=0&&(s=e[o],!s);o--);for(let o=0;o<i.length;o++){let a=i[o],c=e;if(r.matchBase&&a.length===1&&(c=[s]),this.matchOne(c,a,t))return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}static defaults(e){return Cn.defaults(e).Minimatch}};Cn.Minimatch=Bs;});var mm=E(Ci=>{d();Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DiagnosticFeature=Ci.DiagnosticPullMode=Ci.vsdiag=void 0;var uF=ol(),ve=Y("vscode"),pt=se(),lF=tt(),um=Te();function al(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var $n;(function(n){(function(t){t.full="full",t.unChanged="unChanged";})(n.DocumentDiagnosticReportKind||(n.DocumentDiagnosticReportKind={}));})($n||(Ci.vsdiag=$n={}));var cl;(function(n){n.onType="onType",n.onSave="onSave";})(cl||(Ci.DiagnosticPullMode=cl={}));var Wt;(function(n){n.active="open",n.reschedule="reschedule",n.outDated="drop";})(Wt||(Wt={}));var lm=class n{constructor(){this.open=new Set,this._onOpen=new ve.EventEmitter,this._onClose=new ve.EventEmitter,n.fillTabResources(this.open);let e=t=>{if(t.closed.length===0&&t.opened.length===0)return;let r=this.open,i=new Set;n.fillTabResources(i);let s=new Set,o=new Set(i);for(let a of r.values())i.has(a)?o.delete(a):s.add(a);if(this.open=i,s.size>0){let a=new Set;for(let c of s)a.add(ve.Uri.parse(c));this._onClose.fire(a);}if(o.size>0){let a=new Set;for(let c of o)a.add(ve.Uri.parse(c));this._onOpen.fire(a);}};ve.window.tabGroups.onDidChangeTabs!==void 0?this.disposable=ve.window.tabGroups.onDidChangeTabs(e):this.disposable={dispose:()=>{}};}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose();}isActive(e){return e instanceof ve.Uri?ve.window.activeTextEditor?.document.uri===e:ve.window.activeTextEditor?.document===e}isVisible(e){let t=e instanceof ve.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){let e=new Set;return n.fillTabResources(new Set,e),e}static fillTabResources(e,t){let r=e??new Set;for(let i of ve.window.tabGroups.all)for(let s of i.tabs){let o=s.input,a;o instanceof ve.TabInputText?a=o.uri:o instanceof ve.TabInputTextDiff?a=o.modified:o instanceof ve.TabInputCustom&&(a=o.uri),a!==void 0&&!r.has(a.toString())&&(r.add(a.toString()),t!==void 0&&t.add(a));}}},Dt;(function(n){n[n.document=1]="document",n[n.workspace=2]="workspace";})(Dt||(Dt={}));var Ar;(function(n){function e(t){return t instanceof ve.Uri?t.toString():t.uri.toString()}n.asKey=e;})(Ar||(Ar={}));var dm=class{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map;}track(e,t,r){let i=e===Dt.document?this.documentPullStates:this.workspacePullStates,[s,o,a]=t instanceof ve.Uri?[t.toString(),t,r]:[t.uri.toString(),t.uri,t.version],c=i.get(s);return c===void 0&&(c={document:o,pulledVersion:a,resultId:void 0},i.set(s,c)),c}update(e,t,r,i){let s=e===Dt.document?this.documentPullStates:this.workspacePullStates,[o,a,c,u]=t instanceof ve.Uri?[t.toString(),t,r,i]:[t.uri.toString(),t.uri,t.version,r],f=s.get(o);f===void 0?(f={document:a,pulledVersion:c,resultId:u},s.set(o,f)):(f.pulledVersion=c,f.resultId=u);}unTrack(e,t){let r=Ar.asKey(t);(e===Dt.document?this.documentPullStates:this.workspacePullStates).delete(r);}tracks(e,t){let r=Ar.asKey(t);return (e===Dt.document?this.documentPullStates:this.workspacePullStates).has(r)}getResultId(e,t){let r=Ar.asKey(t);return (e===Dt.document?this.documentPullStates:this.workspacePullStates).get(r)?.resultId}getAllResultIds(){let e=[];for(let[t,r]of this.workspacePullStates)this.documentPullStates.has(t)&&(r=this.documentPullStates.get(t)),r.resultId!==void 0&&e.push({uri:t,value:r.resultId});return e}},fm=class{constructor(e,t,r){this.client=e,this.tabs=t,this.options=r,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new ve.EventEmitter,this.provider=this.createProvider(),this.diagnostics=ve.languages.createDiagnosticCollection(r.identifier),this.openRequests=new Map,this.documentStates=new dm,this.workspaceErrorCounter=0;}knows(e,t){let r=t instanceof ve.Uri?t:t.uri;return this.documentStates.tracks(e,t)||this.openRequests.has(r.toString())}forget(e,t){this.documentStates.unTrack(e,t);}pull(e,t){if(this.isDisposed)return;let r=e instanceof ve.Uri?e:e.uri;this.pullAsync(e).then(()=>{t&&t();},i=>{this.client.error(`Document pull failed for text document ${r.toString()}`,i,!1);});}async pullAsync(e,t){if(this.isDisposed)return;let r=e instanceof ve.Uri,i=r?e:e.uri,s=i.toString();t=r?t:e.version;let o=this.openRequests.get(s),a=r?this.documentStates.track(Dt.document,e,t):this.documentStates.track(Dt.document,e);if(o===void 0){let c=new ve.CancellationTokenSource;this.openRequests.set(s,{state:Wt.active,document:e,version:t,tokenSource:c});let u,f;try{u=await this.provider.provideDiagnostics(e,a.resultId,c.token)??{kind:$n.DocumentDiagnosticReportKind.full,items:[]};}catch(h){if(h instanceof um.LSPCancellationError&&pt.DiagnosticServerCancellationData.is(h.data)&&h.data.retriggerRequest===!1&&(f={state:Wt.outDated,document:e}),f===void 0&&h instanceof ve.CancellationError)f={state:Wt.reschedule,document:e};else throw h}if(f=f??this.openRequests.get(s),f===void 0){this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),this.diagnostics.delete(i);return}if(this.openRequests.delete(s),!this.tabs.isVisible(e)){this.documentStates.unTrack(Dt.document,e);return}if(f.state===Wt.outDated)return;u!==void 0&&(u.kind===$n.DocumentDiagnosticReportKind.full&&this.diagnostics.set(i,u.items),a.pulledVersion=t,a.resultId=u.resultId),f.state===Wt.reschedule&&this.pull(e);}else o.state===Wt.active?(o.tokenSource.cancel(),this.openRequests.set(s,{state:Wt.reschedule,document:o.document})):o.state===Wt.outDated&&this.openRequests.set(s,{state:Wt.reschedule,document:o.document});}forgetDocument(e){let t=e instanceof ve.Uri?e:e.uri,r=t.toString(),i=this.openRequests.get(r);this.options.workspaceDiagnostics?i!==void 0?this.openRequests.set(r,{state:Wt.reschedule,document:e}):this.pull(e,()=>{this.forget(Dt.document,e);}):(i!==void 0&&(i.state===Wt.active&&i.tokenSource.cancel(),this.openRequests.set(r,{state:Wt.outDated,document:e})),this.diagnostics.delete(t),this.forget(Dt.document,e));}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then(()=>{this.workspaceTimeout=(0, pt.RAL)().timer.setTimeout(()=>{this.pullWorkspace();},2e3);},e=>{!(e instanceof um.LSPCancellationError)&&!pt.DiagnosticServerCancellationData.is(e.data)&&(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0, pt.RAL)().timer.setTimeout(()=>{this.pullWorkspace();},2e3));});}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;this.workspaceCancellation!==void 0&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new ve.CancellationTokenSource;let e=this.documentStates.getAllResultIds().map(t=>({uri:this.client.protocol2CodeConverter.asUri(t.uri),value:t.value}));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,t=>{if(!(!t||this.isDisposed))for(let r of t.items)r.kind===$n.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(Dt.document,r.uri)||this.diagnostics.set(r.uri,r.items)),this.documentStates.update(Dt.workspace,r.uri,r.version??void 0,r.resultId);});}createProvider(){let e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(t,r,i)=>{let s=(a,c,u)=>{let f={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(a instanceof ve.Uri?a:a.uri)},previousResultId:c};return this.isDisposed===!0||!this.client.isRunning()?{kind:$n.DocumentDiagnosticReportKind.full,items:[]}:this.client.sendRequest(pt.DocumentDiagnosticRequest.type,f,u).then(async h=>h==null||this.isDisposed||u.isCancellationRequested?{kind:$n.DocumentDiagnosticReportKind.full,items:[]}:h.kind===pt.DocumentDiagnosticReportKind.Full?{kind:$n.DocumentDiagnosticReportKind.full,resultId:h.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(h.items,u)}:{kind:$n.DocumentDiagnosticReportKind.unChanged,resultId:h.resultId},h=>this.client.handleFailedRequest(pt.DocumentDiagnosticRequest.type,u,h,{kind:$n.DocumentDiagnosticReportKind.full,items:[]}))},o=this.client.middleware;return o.provideDiagnostics?o.provideDiagnostics(t,r,i,s):s(t,r,i)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(t,r,i)=>{let s=async u=>u.kind===pt.DocumentDiagnosticReportKind.Full?{kind:$n.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version,items:await this.client.protocol2CodeConverter.asDiagnostics(u.items,r)}:{kind:$n.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(u.uri),resultId:u.resultId,version:u.version},o=u=>{let f=[];for(let h of u)f.push({uri:this.client.code2ProtocolConverter.asUri(h.uri),value:h.value});return f},a=(u,f)=>{let h=(0, lF.generateUuid)(),p=this.client.onProgress(pt.WorkspaceDiagnosticRequest.partialResult,h,async y=>{if(y==null){i(null);return}let b={items:[]};for(let C of y.items)try{b.items.push(await s(C));}catch(k){this.client.error("Converting workspace diagnostics failed.",k);}i(b);}),w={identifier:this.options.identifier,previousResultIds:o(u),partialResultToken:h};return this.isDisposed===!0||!this.client.isRunning()?{items:[]}:this.client.sendRequest(pt.WorkspaceDiagnosticRequest.type,w,f).then(async y=>{if(f.isCancellationRequested)return {items:[]};let b={items:[]};for(let C of y.items)b.items.push(await s(C));return p.dispose(),i(b),{items:[]}},y=>(p.dispose(),this.client.handleFailedRequest(pt.DocumentDiagnosticRequest.type,f,y,{items:[]})))},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(t,r,i,a):a(t,r)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(let[e,t]of this.openRequests)t.state===Wt.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:Wt.outDated,document:t.document});this.diagnostics.dispose();}},hm=class{constructor(e){this.diagnosticRequestor=e,this.documents=new pt.LinkedMap,this.isDisposed=!1;}add(e){if(this.isDisposed===!0)return;let t=Ar.asKey(e);this.documents.has(t)||(this.documents.set(t,e,pt.Touch.Last),this.trigger());}remove(e){let t=Ar.asKey(e);this.documents.delete(t),this.documents.size===0?this.stop():t===this.endDocumentKey()&&(this.endDocument=this.documents.last);}trigger(){if(this.isDisposed!==!0){if(this.intervalHandle!==void 0){this.endDocument=this.documents.last;return}this.endDocument=this.documents.last,this.intervalHandle=(0, pt.RAL)().timer.setInterval(()=>{let e=this.documents.first;if(e!==void 0){let t=Ar.asKey(e);this.diagnosticRequestor.pull(e),this.documents.set(t,e,pt.Touch.Last),t===this.endDocumentKey()&&this.stop();}},200);}}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear();}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0;}endDocumentKey(){return this.endDocument!==void 0?Ar.asKey(this.endDocument):void 0}},pm=class{constructor(e,t,r){let i=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},s=e.protocol2CodeConverter.asDocumentSelector(r.documentSelector),o=[],a=y=>{let b=r.documentSelector;if(i.match!==void 0)return i.match(b,y);for(let C of b)if(pt.TextDocumentFilter.is(C)){if(typeof C=="string"||C.language!==void 0&&C.language!=="*"||C.scheme!==void 0&&C.scheme!=="*"&&C.scheme!==y.scheme)return !1;if(C.pattern!==void 0){let k=new uF.Minimatch(C.pattern,{noext:!0});if(!k.makeRe()||!k.match(y.fsPath))return !1}}return !0},c=y=>y instanceof ve.Uri?a(y):ve.languages.match(s,y)>0&&t.isVisible(y),u=y=>y instanceof ve.Uri?this.activeTextDocument?.uri.toString()===y.toString():this.activeTextDocument===y;this.diagnosticRequestor=new fm(e,t,r),this.backgroundScheduler=new hm(this.diagnosticRequestor);let f=y=>{!c(y)||!r.interFileDependencies||u(y)||this.backgroundScheduler.add(y);};this.activeTextDocument=ve.window.activeTextEditor?.document,ve.window.onDidChangeActiveTextEditor(y=>{let b=this.activeTextDocument;this.activeTextDocument=y?.document,b!==void 0&&f(b),this.activeTextDocument!==void 0&&this.backgroundScheduler.remove(this.activeTextDocument);});let h=e.getFeature(pt.DidOpenTextDocumentNotification.method);o.push(h.onNotificationSent(y=>{let b=y.textDocument;this.diagnosticRequestor.knows(Dt.document,b)||c(b)&&this.diagnosticRequestor.pull(b,()=>{f(b);});})),o.push(t.onOpen(y=>{for(let b of y){if(this.diagnosticRequestor.knows(Dt.document,b))continue;let C=b.toString(),k;for(let O of ve.workspace.textDocuments)if(C===O.uri.toString()){k=O;break}k!==void 0&&c(k)&&this.diagnosticRequestor.pull(k,()=>{f(k);});}}));let p=new Set;for(let y of ve.workspace.textDocuments)c(y)&&(this.diagnosticRequestor.pull(y,()=>{f(y);}),p.add(y.uri.toString()));if(i.onTabs===!0)for(let y of t.getTabResources())!p.has(y.toString())&&c(y)&&this.diagnosticRequestor.pull(y,()=>{f(y);});if(i.onChange===!0){let y=e.getFeature(pt.DidChangeTextDocumentNotification.method);o.push(y.onNotificationSent(async b=>{let C=b.textDocument;(i.filter===void 0||!i.filter(C,cl.onType))&&this.diagnosticRequestor.knows(Dt.document,C)&&this.diagnosticRequestor.pull(C,()=>{this.backgroundScheduler.trigger();});}));}if(i.onSave===!0){let y=e.getFeature(pt.DidSaveTextDocumentNotification.method);o.push(y.onNotificationSent(b=>{let C=b.textDocument;(i.filter===void 0||!i.filter(C,cl.onSave))&&this.diagnosticRequestor.knows(Dt.document,C)&&this.diagnosticRequestor.pull(b.textDocument,()=>{this.backgroundScheduler.trigger();});}));}let w=e.getFeature(pt.DidCloseTextDocumentNotification.method);o.push(w.onNotificationSent(y=>{this.cleanUpDocument(y.textDocument);})),t.onClose(y=>{for(let b of y)this.cleanUpDocument(b);}),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(()=>{for(let y of ve.workspace.textDocuments)c(y)&&this.diagnosticRequestor.pull(y);}),r.workspaceDiagnostics===!0&&r.identifier!=="da348dc5-c30a-4515-9d98-31ff3be38d14"&&this.diagnosticRequestor.pullWorkspace(),this.disposable=ve.Disposable.from(...o,this.backgroundScheduler,this.diagnosticRequestor);}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(Dt.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e));}},gm=class extends um.TextDocumentLanguageFeature{constructor(e){super(e,pt.DocumentDiagnosticRequest.type);}fillClientCapabilities(e){let t=al(al(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,al(al(e,"workspace"),"diagnostics").refreshSupport=!0;}initialize(e,t){this._client.onRequest(pt.DiagnosticRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeDiagnosticsEmitter.fire();});let[i,s]=this.getRegistration(t,e.diagnosticProvider);!i||!s||this.register({id:i,registerOptions:s});}clear(){this.tabs!==void 0&&(this.tabs.dispose(),this.tabs=void 0),super.clear();}registerLanguageProvider(e){this.tabs===void 0&&(this.tabs=new lm);let t=new pm(this._client,this.tabs,e);return [t.disposable,t]}};Ci.DiagnosticFeature=gm;});var MP=E(fl=>{d();Object.defineProperty(fl,"__esModule",{value:!0});fl.NotebookDocumentSyncFeature=void 0;var Vt=Y("vscode"),dF=ol(),Lr=se(),fF=tt(),LP=Fn();function FP(n,e){return n[e]===void 0&&(n[e]={}),n[e]}var zs;(function(n){(function(t){function r(p,w){return {version:p.version,uri:w.asUri(p.uri)}}t.asVersionedNotebookDocumentIdentifier=r;function i(p,w,y){let b=Lr.NotebookDocument.create(y.asUri(p.uri),p.notebookType,p.version,s(w,y));return Object.keys(p.metadata).length>0&&(b.metadata=o(p.metadata)),b}t.asNotebookDocument=i;function s(p,w){return p.map(y=>a(y,w))}t.asNotebookCells=s;function o(p){return u(new Set,p)}t.asMetadata=o;function a(p,w){let y=Lr.NotebookCell.create(c(p.kind),w.asUri(p.document.uri));return Object.keys(p.metadata).length>0&&(y.metadata=o(p.metadata)),p.executionSummary!==void 0&&LP.number(p.executionSummary.executionOrder)&&LP.boolean(p.executionSummary.success)&&(y.executionSummary={executionOrder:p.executionSummary.executionOrder,success:p.executionSummary.success}),y}t.asNotebookCell=a;function c(p){switch(p){case Vt.NotebookCellKind.Markup:return Lr.NotebookCellKind.Markup;case Vt.NotebookCellKind.Code:return Lr.NotebookCellKind.Code}}function u(p,w){if(p.has(w))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(w)){let y=[];for(let b of w)if(b!==null&&typeof b=="object"||Array.isArray(b))y.push(u(p,b));else {if(b instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");y.push(b);}return y}else {let y=Object.keys(w),b=Object.create(null);for(let C of y){let k=w[C];if(k!==null&&typeof k=="object"||Array.isArray(k))b[C]=u(p,k);else {if(k instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");b[C]=k;}}return b}}function f(p,w){let y=w.asChangeTextDocumentParams(p,p.document.uri,p.document.version);return {document:y.textDocument,changes:y.contentChanges}}t.asTextContentChange=f;function h(p,w){let y=Object.create(null);if(p.metadata&&(y.metadata=n.c2p.asMetadata(p.metadata)),p.cells!==void 0){let b=Object.create(null),C=p.cells;C.structure&&(b.structure={array:{start:C.structure.array.start,deleteCount:C.structure.array.deleteCount,cells:C.structure.array.cells!==void 0?C.structure.array.cells.map(k=>n.c2p.asNotebookCell(k,w)):void 0},didOpen:C.structure.didOpen!==void 0?C.structure.didOpen.map(k=>w.asOpenTextDocumentParams(k.document).textDocument):void 0,didClose:C.structure.didClose!==void 0?C.structure.didClose.map(k=>w.asCloseTextDocumentParams(k.document).textDocument):void 0}),C.data!==void 0&&(b.data=C.data.map(k=>n.c2p.asNotebookCell(k,w))),C.textContent!==void 0&&(b.textContent=C.textContent.map(k=>n.c2p.asTextContentChange(k,w))),Object.keys(b).length>0&&(y.cells=b);}return y}t.asNotebookDocumentChangeEvent=h;})(n.c2p||(n.c2p={}));})(zs||(zs={}));var ym;(function(n){function e(a,c,u){let f=a.length,h=c.length,p=0;for(;p<h&&p<f&&t(a[p],c[p],u);)p++;if(p<h&&p<f){let w=f-1,y=h-1;for(;w>=0&&y>=0&&t(a[w],c[y],u);)w--,y--;let b=w+1-p,C=p===y+1?void 0:c.slice(p,y+1);return C!==void 0?{start:p,deleteCount:b,cells:C}:{start:p,deleteCount:b}}else return p<h?{start:p,deleteCount:0,cells:c.slice(p)}:p<f?{start:p,deleteCount:f-p}:void 0}n.computeDiff=e;function t(a,c,u=!0){return a.kind!==c.kind||a.document.uri.toString()!==c.document.uri.toString()||a.document.languageId!==c.document.languageId||!r(a.executionSummary,c.executionSummary)?!1:!u||u&&s(a.metadata,c.metadata)}function r(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.executionOrder===c.executionOrder&&a.success===c.success&&i(a.timing,c.timing)}function i(a,c){return a===c?!0:a===void 0||c===void 0?!1:a.startTime===c.startTime&&a.endTime===c.endTime}function s(a,c){if(a===c)return !0;if(a==null||c===null||c===void 0||typeof a!=typeof c||typeof a!="object")return !1;let u=Array.isArray(a),f=Array.isArray(c);if(u!==f)return !1;if(u&&f){if(a.length!==c.length)return !1;for(let h=0;h<a.length;h++)if(!s(a[h],c[h]))return !1}if(o(a)&&o(c)){let h=Object.keys(a),p=Object.keys(c);if(h.length!==p.length||(h.sort(),p.sort(),!s(h,p)))return !1;for(let w=0;w<h.length;w++){let y=h[w];if(!s(a[y],c[y]))return !1}return !0}return !1}function o(a){return a!==null&&typeof a=="object"}n.isObjectLiteral=o;})(ym||(ym={}));var vm;(function(n){function e(t,r){if(typeof t=="string")return t==="*"||r.notebookType===t;if(t.notebookType!==void 0&&t.notebookType!=="*"&&r.notebookType!==t.notebookType)return !1;let i=r.uri;if(t.scheme!==void 0&&t.scheme!=="*"&&i.scheme!==t.scheme)return !1;if(t.pattern!==void 0){let s=new dF.Minimatch(t.pattern,{noext:!0});if(!s.makeRe()||!s.match(i.fsPath))return !1}return !0}n.matchNotebook=e;})(vm||(vm={}));var ul;(function(n){function e(r){let i=r.notebookSelector,s=[];for(let o of i){let a=(typeof o.notebook=="string"?o.notebook:o.notebook?.notebookType)??"*",c=typeof o.notebook=="string"?void 0:o.notebook?.scheme,u=typeof o.notebook=="string"?void 0:o.notebook?.pattern;if(o.cells!==void 0)for(let f of o.cells)s.push(t(a,c,u,f.language));else s.push(t(a,c,u,void 0));}return s}n.asDocumentSelector=e;function t(r,i,s,o){return i===void 0&&s===void 0?{notebook:r,language:o}:{notebook:{notebookType:r,scheme:i,pattern:s},language:o}}})(ul||(ul={}));var ll;(function(n){function e(t){return {cells:t,uris:new Set(t.map(r=>r.document.uri.toString()))}}n.create=e;})(ll||(ll={}));var Gs=class{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(ul.asDocumentSelector(t)),Vt.workspace.onDidOpenNotebookDocument(r=>{this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);},void 0,this.disposables);for(let r of Vt.workspace.notebookDocuments)this.notebookDidOpen.add(r.uri.toString()),this.didOpen(r);Vt.workspace.onDidChangeNotebookDocument(r=>this.didChangeNotebookDocument(r),void 0,this.disposables),this.options.save===!0&&Vt.workspace.onDidSaveNotebookDocument(r=>this.didSave(r),void 0,this.disposables),Vt.workspace.onDidCloseNotebookDocument(r=>{this.didClose(r),this.notebookDidOpen.delete(r.uri.toString());},void 0,this.disposables);}getState(){for(let e of Vt.workspace.notebookDocuments)if(this.getMatchingCells(e)!==void 0)return {kind:"document",id:"$internal",registrations:!0,matches:!0};return {kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return "notebook"}handles(e){return Vt.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(Vt.languages.match(this.selector,t.document)===0||!this.notebookDidOpen.has(e.uri.toString()))return;let r=this.notebookSyncInfo.get(e.uri.toString()),i=this.cellMatches(e,t);if(r!==void 0){let s=r.uris.has(t.document.uri.toString());if(i&&s||!i&&!s)return;if(i){let o=this.getMatchingCells(e);if(o!==void 0){let a=this.asNotebookDocumentChangeEvent(e,void 0,r,o);a!==void 0&&this.doSendChange(a,o).catch(()=>{});}}}else i&&this.doSendOpen(e,[t]).catch(()=>{});}didChangeNotebookCellTextDocument(e,t){Vt.languages.match(this.selector,t.document)!==0&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch(()=>{});}didCloseNotebookCellTextDocument(e,t){let r=this.notebookSyncInfo.get(e.uri.toString());if(r===void 0)return;let i=t.document.uri,s=r.cells.findIndex(o=>o.document.uri.toString()===i.toString());if(s!==-1)if(s===0&&r.cells.length===1)this.doSendClose(e,r.cells).catch(()=>{});else {let o=r.cells.slice(),a=o.splice(s,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:s,deleteCount:1},didClose:a}}},o).catch(()=>{});}}dispose(){for(let e of this.disposables)e.dispose();}didOpen(e,t=this.getMatchingCells(e),r=this.notebookSyncInfo.get(e.uri.toString())){if(r!==void 0)if(t!==void 0){let i=this.asNotebookDocumentChangeEvent(e,void 0,r,t);i!==void 0&&this.doSendChange(i,t).catch(()=>{});}else this.doSendClose(e,[]).catch(()=>{});else {if(t===void 0)return;this.doSendOpen(e,t).catch(()=>{});}}didChangeNotebookDocument(e){let t=e.notebook,r=this.notebookSyncInfo.get(t.uri.toString());if(r===void 0){if(e.contentChanges.length===0)return;let i=this.getMatchingCells(t);if(i===void 0)return;this.didOpen(t,i,r);}else {let i=this.getMatchingCells(t);if(i===void 0){this.didClose(t,r);return}let s=this.asNotebookDocumentChangeEvent(e.notebook,e,r,i);s!==void 0&&this.doSendChange(s,i).catch(()=>{});}}didSave(e){this.notebookSyncInfo.get(e.uri.toString())!==void 0&&this.doSendSave(e).catch(()=>{});}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(t===void 0)return;let r=e.getCells().filter(i=>t.uris.has(i.document.uri.toString()));this.doSendClose(e,r).catch(()=>{});}async sendDidOpenNotebookDocument(e){let t=this.getMatchingCells(e);if(t!==void 0)return this.doSendOpen(e,t)}async doSendOpen(e,t){let r=async(s,o)=>{let a=zs.c2p.asNotebookDocument(s,o,this.client.code2ProtocolConverter),c=o.map(u=>this.client.code2ProtocolConverter.asTextDocumentItem(u.document));try{await this.client.sendNotification(Lr.DidOpenNotebookDocumentNotification.type,{notebookDocument:a,cellTextDocuments:c});}catch(u){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",u),u}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),ll.create(t)),i?.didOpen!==void 0?i.didOpen(e,t,r):r(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){let r=async s=>{try{await this.client.sendNotification(Lr.DidChangeNotebookDocumentNotification.type,{notebookDocument:zs.c2p.asVersionedNotebookDocumentIdentifier(s.notebook,this.client.code2ProtocolConverter),change:zs.c2p.asNotebookDocumentChangeEvent(s,this.client.code2ProtocolConverter)});}catch(o){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",o),o}},i=this.client.middleware?.notebooks;return e.cells?.structure!==void 0&&this.notebookSyncInfo.set(e.notebook.uri.toString(),ll.create(t??[])),i?.didChange!==void 0?i?.didChange(e,r):r(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){let t=async i=>{try{await this.client.sendNotification(Lr.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(i.uri)}});}catch(s){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",s),s}},r=this.client.middleware?.notebooks;return r?.didSave!==void 0?r.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){let r=async(s,o)=>{try{await this.client.sendNotification(Lr.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(s.uri)},cellTextDocuments:o.map(a=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(a.document))});}catch(a){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",a),a}},i=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),i?.didClose!==void 0?i.didClose(e,t,r):r(e,t)}asNotebookDocumentChangeEvent(e,t,r,i){if(t!==void 0&&t.notebook!==e)throw new Error("Notebook must be identical");let s={notebook:e};t?.metadata!==void 0&&(s.metadata=zs.c2p.asMetadata(t.metadata));let o;if(t?.cellChanges!==void 0&&t.cellChanges.length>0){let a=[];o=new Set(i.map(c=>c.document.uri.toString()));for(let c of t.cellChanges)o.has(c.cell.document.uri.toString())&&(c.executionSummary!==void 0||c.metadata!==void 0)&&a.push(c.cell);a.length>0&&(s.cells=s.cells??{},s.cells.data=a);}if((t?.contentChanges!==void 0&&t.contentChanges.length>0||t===void 0)&&r!==void 0&&i!==void 0){let a=r.cells,c=i,u=ym.computeDiff(a,c,!1),f,h;if(u!==void 0){f=u.cells===void 0?new Map:new Map(u.cells.map(y=>[y.document.uri.toString(),y])),h=u.deleteCount===0?new Map:new Map(a.slice(u.start,u.start+u.deleteCount).map(y=>[y.document.uri.toString(),y]));for(let y of Array.from(h.keys()))f.has(y)&&(h.delete(y),f.delete(y));s.cells=s.cells??{};let p=[],w=[];if(f.size>0||h.size>0){for(let y of f.values())p.push(y);for(let y of h.values())w.push(y);}s.cells.structure={array:u,didOpen:p,didClose:w};}}return Object.keys(s).length>1?s:void 0}getMatchingCells(e,t=e.getCells()){if(this.options.notebookSelector!==void 0){for(let r of this.options.notebookSelector)if(r.notebook===void 0||vm.matchNotebook(r.notebook,e)){let i=this.filterCells(e,t,r.cells);return i.length===0?void 0:i}}}cellMatches(e,t){let r=this.getMatchingCells(e,[t]);return r!==void 0&&r[0]===t}filterCells(e,t,r){let i=r!==void 0?t.filter(s=>{let o=s.document.languageId;return r.some(a=>a.language==="*"||o===a.language)}):t;return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells=="function"?this.client.clientOptions.notebookDocumentOptions.filterCells(e,i):i}},dl=class n{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=Lr.NotebookDocumentSyncRegistrationType.type,Vt.workspace.onDidOpenTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof Gs&&s.didOpenNotebookCellTextDocument(r,i);}),Vt.workspace.onDidChangeTextDocument(t=>{if(t.contentChanges.length===0)return;let r=t.document;if(r.uri.scheme!==n.CellScheme)return;let[i]=this.findNotebookDocumentAndCell(r);if(i!==void 0)for(let s of this.registrations.values())s instanceof Gs&&s.didChangeNotebookCellTextDocument(i,t);}),Vt.workspace.onDidCloseTextDocument(t=>{if(t.uri.scheme!==n.CellScheme)return;let[r,i]=this.findNotebookDocumentAndCell(t);if(!(r===void 0||i===void 0))for(let s of this.registrations.values())s instanceof Gs&&s.didCloseNotebookCellTextDocument(r,i);});}getState(){if(this.registrations.size===0)return {kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(let e of this.registrations.values()){let t=e.getState();if(t.kind==="document"&&t.registrations===!0&&t.matches===!0)return {kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return {kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){let t=FP(FP(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0;}preInitialize(e){let t=e.notebookDocumentSync;t!==void 0&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(ul.asDocumentSelector(t)));}initialize(e){let t=e.notebookDocumentSync;if(t===void 0)return;let r=t.id??fF.generateUuid();this.register({id:r,registerOptions:t});}register(e){let t=new Gs(this.client,e.registerOptions);this.registrations.set(e.id,t);}unregister(e){let t=this.registrations.get(e);t&&t.dispose();}clear(){for(let e of this.registrations.values())e.dispose();this.registrations.clear();}handles(e){if(e.uri.scheme!==n.CellScheme)return !1;if(this.dedicatedChannel!==void 0&&Vt.languages.match(this.dedicatedChannel,e)>0)return !0;for(let t of this.registrations.values())if(t.handles(e))return !0;return !1}getProvider(e){for(let t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){let t=e.uri.toString();for(let r of Vt.workspace.notebookDocuments)for(let i of r.getCells())if(i.document.uri.toString()===t)return [r,i];return [void 0,void 0]}};fl.NotebookDocumentSyncFeature=dl;dl.CellScheme="vscode-notebook-cell";});var $P=E(_i=>{d();Object.defineProperty(_i,"__esModule",{value:!0});_i.SyncConfigurationFeature=_i.toJSONObject=_i.ConfigurationFeature=void 0;var Ys=Y("vscode"),fa=se(),hF=Fn(),pF=tt(),jP=Te(),wm=class{constructor(e){this._client=e;}getState(){return {kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0;}initialize(){let e=this._client;e.onRequest(fa.ConfigurationRequest.type,(t,r)=>{let i=o=>{let a=[];for(let c of o.items){let u=c.scopeUri!==void 0&&c.scopeUri!==null?this._client.protocol2CodeConverter.asUri(c.scopeUri):void 0;a.push(this.getConfiguration(u,c.section!==null?c.section:void 0));}return a},s=e.middleware.workspace;return s&&s.configuration?s.configuration(t,r,i):i(t)});}getConfiguration(e,t){let r=null;if(t){let i=t.lastIndexOf(".");if(i===-1)r=Ji(Ys.workspace.getConfiguration(void 0,e).get(t));else {let s=Ys.workspace.getConfiguration(t.substr(0,i),e);s&&(r=Ji(s.get(t.substr(i+1))));}}else {let i=Ys.workspace.getConfiguration(void 0,e);r={};for(let s of Object.keys(i))i.has(s)&&(r[s]=Ji(i.get(s)));}return r===void 0&&(r=null),r}clear(){}};_i.ConfigurationFeature=wm;function Ji(n){if(n){if(Array.isArray(n))return n.map(Ji);if(typeof n=="object"){let e=Object.create(null);for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Ji(n[t]));return e}}return n}_i.toJSONObject=Ji;var bm=class{constructor(e){this._client=e,this.isCleared=!1,this._listeners=new Map;}getState(){return {kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return fa.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0, jP.ensure)((0, jP.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0;}initialize(){this.isCleared=!1;let e=this._client.clientOptions.synchronize?.configurationSection;e!==void 0&&this.register({id:pF.generateUuid(),registerOptions:{section:e}});}register(e){let t=Ys.workspace.onDidChangeConfiguration(r=>{this.onDidChangeConfiguration(e.registerOptions.section,r);});this._listeners.set(e.id,t),e.registerOptions.section!==void 0&&this.onDidChangeConfiguration(e.registerOptions.section,void 0);}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose());}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear(),this.isCleared=!0;}onDidChangeConfiguration(e,t){if(this.isCleared)return;let r;if(hF.string(e)?r=[e]:r=e,r!==void 0&&t!==void 0&&!r.some(a=>t.affectsConfiguration(a)))return;let i=async o=>o===void 0?this._client.sendNotification(fa.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(fa.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(o)}),s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(r,i):i(r)).catch(o=>{this._client.error(`Sending notification ${fa.DidChangeConfigurationNotification.type.method} failed`,o);});}extractSettingsInformation(e){function t(s,o){let a=s;for(let c=0;c<o.length-1;c++){let u=a[o[c]];u||(u=Object.create(null),a[o[c]]=u),a=u;}return a}let r=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,i=Object.create(null);for(let s=0;s<e.length;s++){let o=e[s],a=o.indexOf("."),c=null;if(a>=0?c=Ys.workspace.getConfiguration(o.substr(0,a),r).get(o.substr(a+1)):c=Ys.workspace.getConfiguration(void 0,r).get(o),c){let u=e[s].split(".");t(i,u)[u[u.length-1]]=Ji(c);}}return i}};_i.SyncConfigurationFeature=bm;});var UP=E(hn=>{d();Object.defineProperty(hn,"__esModule",{value:!0});hn.DidSaveTextDocumentFeature=hn.WillSaveWaitUntilFeature=hn.WillSaveFeature=hn.DidChangeTextDocumentFeature=hn.DidCloseTextDocumentFeature=hn.DidOpenTextDocumentFeature=void 0;var _n=Y("vscode"),Be=se(),ot=Te(),Js=tt(),Sm=class extends ot.TextDocumentEventFeature{constructor(e,t){super(e,_n.workspace.onDidOpenTextDocument,Be.DidOpenTextDocumentNotification.type,()=>e.middleware.didOpen,r=>e.code2ProtocolConverter.asOpenTextDocumentParams(r),r=>r,ot.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t;}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:Js.generateUuid(),registerOptions:{documentSelector:t}});}get registrationType(){return Be.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;let t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);_n.workspace.textDocuments.forEach(r=>{let i=r.uri.toString();if(!this._syncedDocuments.has(i)&&_n.languages.match(t,r)>0&&!this._client.hasDedicatedTextSynchronizationFeature(r)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));(s.didOpen?s.didOpen(r,o):o(r)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a);}),this._syncedDocuments.set(i,r);}});}getTextDocument(e){return e}notificationSent(e,t,r){this._syncedDocuments.set(e.uri.toString(),e),super.notificationSent(e,t,r);}};hn.DidOpenTextDocumentFeature=Sm;var Cm=class extends ot.TextDocumentEventFeature{constructor(e,t,r){super(e,_n.workspace.onDidCloseTextDocument,Be.DidCloseTextDocumentNotification.type,()=>e.middleware.didClose,i=>e.code2ProtocolConverter.asCloseTextDocumentParams(i),i=>i,ot.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t,this._pendingTextDocumentChanges=r;}get registrationType(){return Be.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.openClose&&this.register({id:Js.generateUuid(),registerOptions:{documentSelector:t}});}async callback(e){await super.callback(e),this._pendingTextDocumentChanges.delete(e.uri.toString());}getTextDocument(e){return e}notificationSent(e,t,r){this._syncedDocuments.delete(e.uri.toString()),super.notificationSent(e,t,r);}unregister(e){let t=this._selectors.get(e);super.unregister(e);let r=this._selectors.values();this._syncedDocuments.forEach(i=>{if(_n.languages.match(t,i)>0&&!this._selectorFilter(r,i)&&!this._client.hasDedicatedTextSynchronizationFeature(i)){let s=this._client.middleware,o=a=>this._client.sendNotification(this._type,this._createParams(a));this._syncedDocuments.delete(i.uri.toString()),(s.didClose?s.didClose(i,o):o(i)).catch(a=>{this._client.error(`Sending document notification ${this._type.method} failed`,a);});}});}};hn.DidCloseTextDocumentFeature=Cm;var _m=class extends ot.DynamicDocumentFeature{constructor(e,t){super(e),this._changeData=new Map,this._onNotificationSent=new _n.EventEmitter,this._onPendingChangeAdded=new _n.EventEmitter,this._pendingTextDocumentChanges=t,this._syncKind=Be.TextDocumentSyncKind.None;}get onNotificationSent(){return this._onNotificationSent.event}get onPendingChangeAdded(){return this._onPendingChangeAdded.event}get syncKind(){return this._syncKind}get registrationType(){return Be.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.change!==void 0&&r.change!==Be.TextDocumentSyncKind.None&&this.register({id:Js.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:r.change})});}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=_n.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}),this.updateSyncKind(e.registerOptions.syncKind));}*getDocumentSelectors(){for(let e of this._changeData.values())yield e.documentSelector;}async callback(e){if(e.contentChanges.length===0)return;let t=e.document.uri,r=e.document.version,i=[];for(let s of this._changeData.values())if(_n.languages.match(s.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let o=this._client.middleware;if(s.syncKind===Be.TextDocumentSyncKind.Incremental){let a=async c=>{let u=this._client.code2ProtocolConverter.asChangeTextDocumentParams(c,t,r);await this._client.sendNotification(Be.DidChangeTextDocumentNotification.type,u),this.notificationSent(c.document,Be.DidChangeTextDocumentNotification.type,u);};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e));}else if(s.syncKind===Be.TextDocumentSyncKind.Full){let a=async c=>{let u=c.document.uri.toString();this._pendingTextDocumentChanges.set(u,c.document),this._onPendingChangeAdded.fire();};i.push(o.didChange?o.didChange(e,c=>a(c)):a(e));}}return Promise.all(i).then(void 0,s=>{throw this._client.error(`Sending document notification ${Be.DidChangeTextDocumentNotification.type.method} failed`,s),s})}notificationSent(e,t,r){this._onNotificationSent.fire({textDocument:e,type:t,params:r});}unregister(e){if(this._changeData.delete(e),this._changeData.size===0)this._listener&&(this._listener.dispose(),this._listener=void 0),this._syncKind=Be.TextDocumentSyncKind.None;else {this._syncKind=Be.TextDocumentSyncKind.None;for(let t of this._changeData.values())if(this.updateSyncKind(t.syncKind),this._syncKind===Be.TextDocumentSyncKind.Full)break}}clear(){this._pendingTextDocumentChanges.clear(),this._changeData.clear(),this._syncKind=Be.TextDocumentSyncKind.None,this._listener&&(this._listener.dispose(),this._listener=void 0);}getPendingDocumentChanges(e){if(this._pendingTextDocumentChanges.size===0)return [];let t;if(e.size===0)t=Array.from(this._pendingTextDocumentChanges.values()),this._pendingTextDocumentChanges.clear();else {t=[];for(let r of this._pendingTextDocumentChanges)e.has(r[0])||(t.push(r[1]),this._pendingTextDocumentChanges.delete(r[0]));}return t}getProvider(e){for(let t of this._changeData.values())if(_n.languages.match(t.documentSelector,e)>0)return {send:r=>this.callback(r)}}updateSyncKind(e){if(this._syncKind!==Be.TextDocumentSyncKind.Full)switch(e){case Be.TextDocumentSyncKind.Full:this._syncKind=e;break;case Be.TextDocumentSyncKind.Incremental:this._syncKind===Be.TextDocumentSyncKind.None&&(this._syncKind=Be.TextDocumentSyncKind.Incremental);break}}};hn.DidChangeTextDocumentFeature=_m;var Dm=class extends ot.TextDocumentEventFeature{constructor(e){super(e,_n.workspace.onWillSaveTextDocument,Be.WillSaveTextDocumentNotification.type,()=>e.middleware.willSave,t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t),t=>t.document,(t,r)=>ot.TextDocumentEventFeature.textDocumentFilter(t,r.document));}get registrationType(){return Be.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){let t=(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization");t.willSave=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSave&&this.register({id:Js.generateUuid(),registerOptions:{documentSelector:t}});}getTextDocument(e){return e.document}};hn.WillSaveFeature=Dm;var Tm=class extends ot.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map;}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return Be.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){let t=(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization");t.willSaveWaitUntil=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;t&&r&&r.willSaveWaitUntil&&this.register({id:Js.generateUuid(),registerOptions:{documentSelector:t}});}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=_n.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)));}callback(e){if(ot.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,r=i=>this._client.sendRequest(Be.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(i)).then(async s=>{let o=await this._client.protocol2CodeConverter.asTextEdits(s);return o===void 0?[]:o});e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,r):r(e));}}unregister(e){this._selectors.delete(e),this._selectors.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0);}clear(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0);}};hn.WillSaveWaitUntilFeature=Tm;var Rm=class extends ot.TextDocumentEventFeature{constructor(e){super(e,_n.workspace.onDidSaveTextDocument,Be.DidSaveTextDocumentNotification.type,()=>e.middleware.didSave,t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText),t=>t,ot.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1;}get registrationType(){return Be.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0, ot.ensure)((0, ot.ensure)(e,"textDocument"),"synchronization").didSave=!0;}initialize(e,t){let r=e.resolvedTextDocumentSync;if(t&&r&&r.save){let i=typeof r.save=="boolean"?{includeText:!1}:{includeText:!!r.save.includeText};this.register({id:Js.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},i)});}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e);}getTextDocument(e){return e}};hn.DidSaveTextDocumentFeature=Rm;});var HP=E(hl=>{d();Object.defineProperty(hl,"__esModule",{value:!0});hl.CompletionItemFeature=void 0;var gF=Y("vscode"),we=se(),Pm=Te(),mF=tt(),yF=[we.CompletionItemKind.Text,we.CompletionItemKind.Method,we.CompletionItemKind.Function,we.CompletionItemKind.Constructor,we.CompletionItemKind.Field,we.CompletionItemKind.Variable,we.CompletionItemKind.Class,we.CompletionItemKind.Interface,we.CompletionItemKind.Module,we.CompletionItemKind.Property,we.CompletionItemKind.Unit,we.CompletionItemKind.Value,we.CompletionItemKind.Enum,we.CompletionItemKind.Keyword,we.CompletionItemKind.Snippet,we.CompletionItemKind.Color,we.CompletionItemKind.File,we.CompletionItemKind.Reference,we.CompletionItemKind.Folder,we.CompletionItemKind.EnumMember,we.CompletionItemKind.Constant,we.CompletionItemKind.Struct,we.CompletionItemKind.Event,we.CompletionItemKind.Operator,we.CompletionItemKind.TypeParameter],Em=class extends Pm.TextDocumentLanguageFeature{constructor(e){super(e,we.CompletionRequest.type),this.labelDetailsSupport=new Map;}fillClientCapabilities(e){let t=(0, Pm.ensure)((0, Pm.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[we.MarkupKind.Markdown,we.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[we.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[we.InsertTextMode.asIs,we.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=we.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:yF},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode","data"]};}initialize(e,t){let r=this.getRegistrationOptions(t,e.completionProvider);r&&this.register({id:mF.generateUuid(),registerOptions:r});}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);let r=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,o={provideCompletionItems:(a,c,u,f)=>{let h=this._client,p=this._client.middleware,w=(y,b,C,k)=>h.sendRequest(we.CompletionRequest.type,h.code2ProtocolConverter.asCompletionParams(y,b,C),k).then(O=>k.isCancellationRequested?null:h.protocol2CodeConverter.asCompletionResult(O,i,k),O=>h.handleFailedRequest(we.CompletionRequest.type,k,O,null));return p.provideCompletionItem?p.provideCompletionItem(a,c,f,u,w):w(a,c,f,u)},resolveCompletionItem:e.resolveProvider?(a,c)=>{let u=this._client,f=this._client.middleware,h=(p,w)=>u.sendRequest(we.CompletionResolveRequest.type,u.code2ProtocolConverter.asCompletionItem(p,!!this.labelDetailsSupport.get(t)),w).then(y=>w.isCancellationRequested?null:u.protocol2CodeConverter.asCompletionItem(y),y=>u.handleFailedRequest(we.CompletionResolveRequest.type,w,y,p));return f.resolveCompletionItem?f.resolveCompletionItem(a,c,h):h(a,c)}:void 0};return [gF.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),o,...r),o]}};hl.CompletionItemFeature=Em;});var KP=E(pl=>{d();Object.defineProperty(pl,"__esModule",{value:!0});pl.HoverFeature=void 0;var vF=Y("vscode"),ha=se(),km=Te(),wF=tt(),qm=class extends km.TextDocumentLanguageFeature{constructor(e){super(e,ha.HoverRequest.type);}fillClientCapabilities(e){let t=(0, km.ensure)((0, km.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[ha.MarkupKind.Markdown,ha.MarkupKind.PlainText];}initialize(e,t){let r=this.getRegistrationOptions(t,e.hoverProvider);r&&this.register({id:wF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideHover:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(ha.HoverRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asHover(w),w=>a.handleFailedRequest(ha.HoverRequest.type,p,w,null)),u=a.middleware;return u.provideHover?u.provideHover(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return vF.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};pl.HoverFeature=qm;});var WP=E(gl=>{d();Object.defineProperty(gl,"__esModule",{value:!0});gl.DefinitionFeature=void 0;var bF=Y("vscode"),Im=se(),Om=Te(),SF=tt(),Nm=class extends Om.TextDocumentLanguageFeature{constructor(e){super(e,Im.DefinitionRequest.type);}fillClientCapabilities(e){let t=(0, Om.ensure)((0, Om.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.definitionProvider);r&&this.register({id:SF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDefinition:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(Im.DefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,p),w=>a.handleFailedRequest(Im.DefinitionRequest.type,p,w,null)),u=a.middleware;return u.provideDefinition?u.provideDefinition(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return bF.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};gl.DefinitionFeature=Nm;});var BP=E(ml=>{d();Object.defineProperty(ml,"__esModule",{value:!0});ml.SignatureHelpFeature=void 0;var VP=Y("vscode"),pa=se(),xm=Te(),CF=tt(),Am=class extends xm.TextDocumentLanguageFeature{constructor(e){super(e,pa.SignatureHelpRequest.type);}fillClientCapabilities(e){let t=(0, xm.ensure)((0, xm.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[pa.MarkupKind.Markdown,pa.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.signatureHelpProvider);r&&this.register({id:CF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t={provideSignatureHelp:(r,i,s,o)=>{let a=this._client,c=(f,h,p,w)=>a.sendRequest(pa.SignatureHelpRequest.type,a.code2ProtocolConverter.asSignatureHelpParams(f,h,p),w).then(y=>w.isCancellationRequested?null:a.protocol2CodeConverter.asSignatureHelp(y,w),y=>a.handleFailedRequest(pa.SignatureHelpRequest.type,w,y,null)),u=a.middleware;return u.provideSignatureHelp?u.provideSignatureHelp(r,i,o,s,c):c(r,i,o,s)}};return [this.registerProvider(e,t),t]}registerProvider(e,t){let r=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(e.retriggerCharacters===void 0){let i=e.triggerCharacters||[];return VP.languages.registerSignatureHelpProvider(r,t,...i)}else {let i={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return VP.languages.registerSignatureHelpProvider(r,t,i)}}};ml.SignatureHelpFeature=Am;});var zP=E(yl=>{d();Object.defineProperty(yl,"__esModule",{value:!0});yl.DocumentHighlightFeature=void 0;var _F=Y("vscode"),Lm=se(),Fm=Te(),DF=tt(),Mm=class extends Fm.TextDocumentLanguageFeature{constructor(e){super(e,Lm.DocumentHighlightRequest.type);}fillClientCapabilities(e){(0, Fm.ensure)((0, Fm.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentHighlightProvider);r&&this.register({id:DF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentHighlights:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(Lm.DocumentHighlightRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDocumentHighlights(w,p),w=>a.handleFailedRequest(Lm.DocumentHighlightRequest.type,p,w,null)),u=a.middleware;return u.provideDocumentHighlights?u.provideDocumentHighlights(i,s,o,c):c(i,s,o)}};return [_F.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};yl.DocumentHighlightFeature=Mm;});var Um=E(Cr=>{d();Object.defineProperty(Cr,"__esModule",{value:!0});Cr.DocumentSymbolFeature=Cr.SupportedSymbolTags=Cr.SupportedSymbolKinds=void 0;var TF=Y("vscode"),Ne=se(),jm=Te(),RF=tt();Cr.SupportedSymbolKinds=[Ne.SymbolKind.File,Ne.SymbolKind.Module,Ne.SymbolKind.Namespace,Ne.SymbolKind.Package,Ne.SymbolKind.Class,Ne.SymbolKind.Method,Ne.SymbolKind.Property,Ne.SymbolKind.Field,Ne.SymbolKind.Constructor,Ne.SymbolKind.Enum,Ne.SymbolKind.Interface,Ne.SymbolKind.Function,Ne.SymbolKind.Variable,Ne.SymbolKind.Constant,Ne.SymbolKind.String,Ne.SymbolKind.Number,Ne.SymbolKind.Boolean,Ne.SymbolKind.Array,Ne.SymbolKind.Object,Ne.SymbolKind.Key,Ne.SymbolKind.Null,Ne.SymbolKind.EnumMember,Ne.SymbolKind.Struct,Ne.SymbolKind.Event,Ne.SymbolKind.Operator,Ne.SymbolKind.TypeParameter];Cr.SupportedSymbolTags=[Ne.SymbolTag.Deprecated];var $m=class extends jm.TextDocumentLanguageFeature{constructor(e){super(e,Ne.DocumentSymbolRequest.type);}fillClientCapabilities(e){let t=(0, jm.ensure)((0, jm.ensure)(e,"textDocument"),"documentSymbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:Cr.SupportedSymbolKinds},t.hierarchicalDocumentSymbolSupport=!0,t.tagSupport={valueSet:Cr.SupportedSymbolTags},t.labelSupport=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentSymbolProvider);r&&this.register({id:RF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentSymbols:(s,o)=>{let a=this._client,c=async(f,h)=>{try{let p=await a.sendRequest(Ne.DocumentSymbolRequest.type,a.code2ProtocolConverter.asDocumentSymbolParams(f),h);if(h.isCancellationRequested||p===void 0||p===null)return null;if(p.length===0)return [];{let w=p[0];return Ne.DocumentSymbol.is(w)?await a.protocol2CodeConverter.asDocumentSymbols(p,h):await a.protocol2CodeConverter.asSymbolInformations(p,h)}}catch(p){return a.handleFailedRequest(Ne.DocumentSymbolRequest.type,h,p,null)}},u=a.middleware;return u.provideDocumentSymbols?u.provideDocumentSymbols(s,o,c):c(s,o)}},i=e.label!==void 0?{label:e.label}:void 0;return [TF.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,i),r]}};Cr.DocumentSymbolFeature=$m;});var YP=E(vl=>{d();Object.defineProperty(vl,"__esModule",{value:!0});vl.WorkspaceSymbolFeature=void 0;var PF=Y("vscode"),ga=se(),Hm=Te(),GP=Um(),EF=tt(),Km=class extends Hm.WorkspaceFeature{constructor(e){super(e,ga.WorkspaceSymbolRequest.type);}fillClientCapabilities(e){let t=(0, Hm.ensure)((0, Hm.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:GP.SupportedSymbolKinds},t.tagSupport={valueSet:GP.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]};}initialize(e){e.workspaceSymbolProvider&&this.register({id:EF.generateUuid(),registerOptions:e.workspaceSymbolProvider===!0?{workDoneProgress:!1}:e.workspaceSymbolProvider});}registerLanguageProvider(e){let t={provideWorkspaceSymbols:(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(ga.WorkspaceSymbolRequest.type,{query:c},u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformations(f,u),f=>s.handleFailedRequest(ga.WorkspaceSymbolRequest.type,u,f,null)),a=s.middleware;return a.provideWorkspaceSymbols?a.provideWorkspaceSymbols(r,i,o):o(r,i)},resolveWorkspaceSymbol:e.resolveProvider===!0?(r,i)=>{let s=this._client,o=(c,u)=>s.sendRequest(ga.WorkspaceSymbolResolveRequest.type,s.code2ProtocolConverter.asWorkspaceSymbol(c),u).then(f=>u.isCancellationRequested?null:s.protocol2CodeConverter.asSymbolInformation(f),f=>s.handleFailedRequest(ga.WorkspaceSymbolResolveRequest.type,u,f,null)),a=s.middleware;return a.resolveWorkspaceSymbol?a.resolveWorkspaceSymbol(r,i,o):o(r,i)}:void 0};return [PF.languages.registerWorkspaceSymbolProvider(t),t]}};vl.WorkspaceSymbolFeature=Km;});var JP=E(wl=>{d();Object.defineProperty(wl,"__esModule",{value:!0});wl.ReferencesFeature=void 0;var kF=Y("vscode"),Wm=se(),Vm=Te(),qF=tt(),Bm=class extends Vm.TextDocumentLanguageFeature{constructor(e){super(e,Wm.ReferencesRequest.type);}fillClientCapabilities(e){(0, Vm.ensure)((0, Vm.ensure)(e,"textDocument"),"references").dynamicRegistration=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.referencesProvider);r&&this.register({id:qF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideReferences:(i,s,o,a)=>{let c=this._client,u=(h,p,w,y)=>c.sendRequest(Wm.ReferencesRequest.type,c.code2ProtocolConverter.asReferenceParams(h,p,w),y).then(b=>y.isCancellationRequested?null:c.protocol2CodeConverter.asReferences(b,y),b=>c.handleFailedRequest(Wm.ReferencesRequest.type,y,b,null)),f=c.middleware;return f.provideReferences?f.provideReferences(i,s,o,a,u):u(i,s,o,a)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return kF.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};wl.ReferencesFeature=Bm;});var XP=E(bl=>{d();Object.defineProperty(bl,"__esModule",{value:!0});bl.CodeActionFeature=void 0;var IF=Y("vscode"),Dn=se(),OF=tt(),zm=Te(),Gm=class extends zm.TextDocumentLanguageFeature{constructor(e){super(e,Dn.CodeActionRequest.type);}fillClientCapabilities(e){let t=(0, zm.ensure)((0, zm.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[Dn.CodeActionKind.Empty,Dn.CodeActionKind.QuickFix,Dn.CodeActionKind.Refactor,Dn.CodeActionKind.RefactorExtract,Dn.CodeActionKind.RefactorInline,Dn.CodeActionKind.RefactorRewrite,Dn.CodeActionKind.Source,Dn.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.codeActionProvider);r&&this.register({id:OF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideCodeActions:(i,s,o,a)=>{let c=this._client,u=async(h,p,w,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),range:c.code2ProtocolConverter.asRange(p),context:c.code2ProtocolConverter.asCodeActionContextSync(w)};return c.sendRequest(Dn.CodeActionRequest.type,b,y).then(C=>y.isCancellationRequested||C===null||C===void 0?null:c.protocol2CodeConverter.asCodeActionResult(C,y),C=>c.handleFailedRequest(Dn.CodeActionRequest.type,y,C,null))},f=c.middleware;return f.provideCodeActions?f.provideCodeActions(i,s,o,a,u):u(i,s,o,a)},resolveCodeAction:e.resolveProvider?(i,s)=>{let o=this._client,a=this._client.middleware,c=async(u,f)=>o.sendRequest(Dn.CodeActionResolveRequest.type,o.code2ProtocolConverter.asCodeActionSync(u),f).then(h=>f.isCancellationRequested?u:o.protocol2CodeConverter.asCodeAction(h,f),h=>o.handleFailedRequest(Dn.CodeActionResolveRequest.type,f,h,u));return a.resolveCodeAction?a.resolveCodeAction(i,s,c):c(i,s)}:void 0};return [IF.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),r]}};bl.CodeActionFeature=Gm;});var ZP=E(Sl=>{d();Object.defineProperty(Sl,"__esModule",{value:!0});Sl.CodeLensFeature=void 0;var QP=Y("vscode"),Xs=se(),NF=tt(),ma=Te(),Ym=class extends ma.TextDocumentLanguageFeature{constructor(e){super(e,Xs.CodeLensRequest.type);}fillClientCapabilities(e){(0, ma.ensure)((0, ma.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0, ma.ensure)((0, ma.ensure)(e,"workspace"),"codeLens").refreshSupport=!0;}initialize(e,t){this._client.onRequest(Xs.CodeLensRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeCodeLensEmitter.fire();});let i=this.getRegistrationOptions(t,e.codeLensProvider);i&&this.register({id:NF.generateUuid(),registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r=new QP.EventEmitter,i={onDidChangeCodeLenses:r.event,provideCodeLenses:(s,o)=>{let a=this._client,c=(f,h)=>a.sendRequest(Xs.CodeLensRequest.type,a.code2ProtocolConverter.asCodeLensParams(f),h).then(p=>h.isCancellationRequested?null:a.protocol2CodeConverter.asCodeLenses(p,h),p=>a.handleFailedRequest(Xs.CodeLensRequest.type,h,p,null)),u=a.middleware;return u.provideCodeLenses?u.provideCodeLenses(s,o,c):c(s,o)},resolveCodeLens:e.resolveProvider?(s,o)=>{let a=this._client,c=(f,h)=>a.sendRequest(Xs.CodeLensResolveRequest.type,a.code2ProtocolConverter.asCodeLens(f),h).then(p=>h.isCancellationRequested?f:a.protocol2CodeConverter.asCodeLens(p),p=>a.handleFailedRequest(Xs.CodeLensResolveRequest.type,h,p,f)),u=a.middleware;return u.resolveCodeLens?u.resolveCodeLens(s,o,c):c(s,o)}:void 0};return [QP.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:r}]}};Sl.CodeLensFeature=Ym;});var e0=E(Di=>{d();Object.defineProperty(Di,"__esModule",{value:!0});Di.DocumentOnTypeFormattingFeature=Di.DocumentRangeFormattingFeature=Di.DocumentFormattingFeature=void 0;var Cl=Y("vscode"),tr=se(),Zm=tt(),Fr=Te(),Qs;(function(n){function e(t){let r=Cl.workspace.getConfiguration("files",t);return {trimTrailingWhitespace:r.get("trimTrailingWhitespace"),trimFinalNewlines:r.get("trimFinalNewlines"),insertFinalNewline:r.get("insertFinalNewline")}}n.fromConfiguration=e;})(Qs||(Qs={}));var Jm=class extends Fr.TextDocumentLanguageFeature{constructor(e){super(e,tr.DocumentFormattingRequest.type);}fillClientCapabilities(e){(0, Fr.ensure)((0, Fr.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentFormattingProvider);r&&this.register({id:Zm.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentFormattingEdits:(i,s,o)=>{let a=this._client,c=(f,h,p)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),options:a.code2ProtocolConverter.asFormattingOptions(h,Qs.fromConfiguration(f))};return a.sendRequest(tr.DocumentFormattingRequest.type,w,p).then(y=>p.isCancellationRequested?null:a.protocol2CodeConverter.asTextEdits(y,p),y=>a.handleFailedRequest(tr.DocumentFormattingRequest.type,p,y,null))},u=a.middleware;return u.provideDocumentFormattingEdits?u.provideDocumentFormattingEdits(i,s,o,c):c(i,s,o)}};return [Cl.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Di.DocumentFormattingFeature=Jm;var Xm=class extends Fr.TextDocumentLanguageFeature{constructor(e){super(e,tr.DocumentRangeFormattingRequest.type);}fillClientCapabilities(e){let t=(0, Fr.ensure)((0, Fr.ensure)(e,"textDocument"),"rangeFormatting");t.dynamicRegistration=!0,t.rangesSupport=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);r&&this.register({id:Zm.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentRangeFormattingEdits:(i,s,o,a)=>{let c=this._client,u=(h,p,w,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),range:c.code2ProtocolConverter.asRange(p),options:c.code2ProtocolConverter.asFormattingOptions(w,Qs.fromConfiguration(h))};return c.sendRequest(tr.DocumentRangeFormattingRequest.type,b,y).then(C=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(C,y),C=>c.handleFailedRequest(tr.DocumentRangeFormattingRequest.type,y,C,null))},f=c.middleware;return f.provideDocumentRangeFormattingEdits?f.provideDocumentRangeFormattingEdits(i,s,o,a,u):u(i,s,o,a)}};return e.rangesSupport&&(r.provideDocumentRangesFormattingEdits=(i,s,o,a)=>{let c=this._client,u=(h,p,w,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),ranges:c.code2ProtocolConverter.asRanges(p),options:c.code2ProtocolConverter.asFormattingOptions(w,Qs.fromConfiguration(h))};return c.sendRequest(tr.DocumentRangesFormattingRequest.type,b,y).then(C=>y.isCancellationRequested?null:c.protocol2CodeConverter.asTextEdits(C,y),C=>c.handleFailedRequest(tr.DocumentRangesFormattingRequest.type,y,C,null))},f=c.middleware;return f.provideDocumentRangesFormattingEdits?f.provideDocumentRangesFormattingEdits(i,s,o,a,u):u(i,s,o,a)}),[Cl.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Di.DocumentRangeFormattingFeature=Xm;var Qm=class extends Fr.TextDocumentLanguageFeature{constructor(e){super(e,tr.DocumentOnTypeFormattingRequest.type);}fillClientCapabilities(e){(0, Fr.ensure)((0, Fr.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);r&&this.register({id:Zm.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideOnTypeFormattingEdits:(s,o,a,c,u)=>{let f=this._client,h=(w,y,b,C,k)=>{let O={textDocument:f.code2ProtocolConverter.asTextDocumentIdentifier(w),position:f.code2ProtocolConverter.asPosition(y),ch:b,options:f.code2ProtocolConverter.asFormattingOptions(C,Qs.fromConfiguration(w))};return f.sendRequest(tr.DocumentOnTypeFormattingRequest.type,O,k).then(N=>k.isCancellationRequested?null:f.protocol2CodeConverter.asTextEdits(N,k),N=>f.handleFailedRequest(tr.DocumentOnTypeFormattingRequest.type,k,N,null))},p=f.middleware;return p.provideOnTypeFormattingEdits?p.provideOnTypeFormattingEdits(s,o,a,c,u,h):h(s,o,a,c,u)}},i=e.moreTriggerCharacter||[];return [Cl.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r,e.firstTriggerCharacter,...i),r]}};Di.DocumentOnTypeFormattingFeature=Qm;});var n0=E(_l=>{d();Object.defineProperty(_l,"__esModule",{value:!0});_l.RenameFeature=void 0;var xF=Y("vscode"),Xi=se(),AF=tt(),t0=Fn(),ey=Te(),ty=class extends ey.TextDocumentLanguageFeature{constructor(e){super(e,Xi.RenameRequest.type);}fillClientCapabilities(e){let t=(0, ey.ensure)((0, ey.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=Xi.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.renameProvider);r&&(t0.boolean(e.renameProvider)&&(r.prepareProvider=!1),this.register({id:AF.generateUuid(),registerOptions:r}));}registerLanguageProvider(e){let t=e.documentSelector,r={provideRenameEdits:(i,s,o,a)=>{let c=this._client,u=(h,p,w,y)=>{let b={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),position:c.code2ProtocolConverter.asPosition(p),newName:w};return c.sendRequest(Xi.RenameRequest.type,b,y).then(C=>y.isCancellationRequested?null:c.protocol2CodeConverter.asWorkspaceEdit(C,y),C=>c.handleFailedRequest(Xi.RenameRequest.type,y,C,null,!1))},f=c.middleware;return f.provideRenameEdits?f.provideRenameEdits(i,s,o,a,u):u(i,s,o,a)},prepareRename:e.prepareProvider?(i,s,o)=>{let a=this._client,c=(f,h,p)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),position:a.code2ProtocolConverter.asPosition(h)};return a.sendRequest(Xi.PrepareRenameRequest.type,w,p).then(y=>p.isCancellationRequested?null:Xi.Range.is(y)?a.protocol2CodeConverter.asRange(y):this.isDefaultBehavior(y)?y.defaultBehavior===!0?null:Promise.reject(new Error("The element can't be renamed.")):y&&Xi.Range.is(y.range)?{range:a.protocol2CodeConverter.asRange(y.range),placeholder:y.placeholder}:Promise.reject(new Error("The element can't be renamed.")),y=>{throw typeof y.message=="string"?new Error(y.message):new Error("The element can't be renamed.")})},u=a.middleware;return u.prepareRename?u.prepareRename(i,s,o,c):c(i,s,o)}:void 0};return [this.registerProvider(t,r),r]}registerProvider(e,t){return xF.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){let t=e;return t&&t0.boolean(t.defaultBehavior)}};_l.RenameFeature=ty;});var r0=E(Dl=>{d();Object.defineProperty(Dl,"__esModule",{value:!0});Dl.DocumentLinkFeature=void 0;var LF=Y("vscode"),ya=se(),ny=Te(),FF=tt(),ry=class extends ny.TextDocumentLanguageFeature{constructor(e){super(e,ya.DocumentLinkRequest.type);}fillClientCapabilities(e){let t=(0, ny.ensure)((0, ny.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.documentLinkProvider);r&&this.register({id:FF.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDocumentLinks:(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(ya.DocumentLinkRequest.type,o.code2ProtocolConverter.asDocumentLinkParams(u),f).then(h=>f.isCancellationRequested?null:o.protocol2CodeConverter.asDocumentLinks(h,f),h=>o.handleFailedRequest(ya.DocumentLinkRequest.type,f,h,null)),c=o.middleware;return c.provideDocumentLinks?c.provideDocumentLinks(i,s,a):a(i,s)},resolveDocumentLink:e.resolveProvider?(i,s)=>{let o=this._client,a=(u,f)=>o.sendRequest(ya.DocumentLinkResolveRequest.type,o.code2ProtocolConverter.asDocumentLink(u),f).then(h=>f.isCancellationRequested?u:o.protocol2CodeConverter.asDocumentLink(h),h=>o.handleFailedRequest(ya.DocumentLinkResolveRequest.type,f,h,u)),c=o.middleware;return c.resolveDocumentLink?c.resolveDocumentLink(i,s,a):a(i,s)}:void 0};return [LF.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Dl.DocumentLinkFeature=ry;});var s0=E(Tl=>{d();Object.defineProperty(Tl,"__esModule",{value:!0});Tl.ExecuteCommandFeature=void 0;var MF=Y("vscode"),iy=se(),jF=tt(),i0=Te(),sy=class{constructor(e){this._client=e,this._commands=new Map;}getState(){return {kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return iy.ExecuteCommandRequest.type}fillClientCapabilities(e){(0, i0.ensure)((0, i0.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0;}initialize(e){e.executeCommandProvider&&this.register({id:jF.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)});}register(e){let t=this._client,r=t.middleware,i=(s,o)=>{let a={command:s,arguments:o};return t.sendRequest(iy.ExecuteCommandRequest.type,a).then(void 0,c=>t.handleFailedRequest(iy.ExecuteCommandRequest.type,void 0,c,void 0))};if(e.registerOptions.commands){let s=[];for(let o of e.registerOptions.commands)s.push(MF.commands.registerCommand(o,(...a)=>r.executeCommand?r.executeCommand(o,a,i):i(o,a)));this._commands.set(e.id,s);}}unregister(e){let t=this._commands.get(e);t&&t.forEach(r=>r.dispose());}clear(){this._commands.forEach(e=>{e.forEach(t=>t.dispose());}),this._commands.clear();}};Tl.ExecuteCommandFeature=sy;});var o0=E(Pl=>{d();Object.defineProperty(Pl,"__esModule",{value:!0});Pl.FileSystemWatcherFeature=void 0;var $F=Y("vscode"),Qi=se(),Rl=Te(),oy=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map;}getState(){return {kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return Qi.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0, Rl.ensure)((0, Rl.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0, Rl.ensure)((0, Rl.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0;}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;let t=[];for(let r of e.registerOptions.watchers){let i=this._client.protocol2CodeConverter.asGlobPattern(r.globPattern);if(i===void 0)continue;let s=!0,o=!0,a=!0;r.kind!==void 0&&r.kind!==null&&(s=(r.kind&Qi.WatchKind.Create)!==0,o=(r.kind&Qi.WatchKind.Change)!==0,a=(r.kind&Qi.WatchKind.Delete)!==0);let c=$F.workspace.createFileSystemWatcher(i,!s,!o,!a);this.hookListeners(c,s,o,a,t),t.push(c);}this._watchers.set(e.id,t);}registerRaw(e,t){let r=[];for(let i of t)this.hookListeners(i,!0,!0,!0,r);this._watchers.set(e,r);}hookListeners(e,t,r,i,s){t&&e.onDidCreate(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Qi.FileChangeType.Created}),null,s),r&&e.onDidChange(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Qi.FileChangeType.Changed}),null,s),i&&e.onDidDelete(o=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(o),type:Qi.FileChangeType.Deleted}),null,s);}unregister(e){let t=this._watchers.get(e);if(t)for(let r of t)r.dispose();}clear(){this._watchers.forEach(e=>{for(let t of e)t.dispose();}),this._watchers.clear();}};Pl.FileSystemWatcherFeature=oy;});var a0=E(El=>{d();Object.defineProperty(El,"__esModule",{value:!0});El.ColorProviderFeature=void 0;var UF=Y("vscode"),va=se(),ay=Te(),cy=class extends ay.TextDocumentLanguageFeature{constructor(e){super(e,va.DocumentColorRequest.type);}fillClientCapabilities(e){(0, ay.ensure)((0, ay.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.colorProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideColorPresentations:(i,s,o)=>{let a=this._client,c=(f,h,p)=>{let w={color:f,textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(h.document),range:a.code2ProtocolConverter.asRange(h.range)};return a.sendRequest(va.ColorPresentationRequest.type,w,p).then(y=>p.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(y,p),y=>a.handleFailedRequest(va.ColorPresentationRequest.type,p,y,null))},u=a.middleware;return u.provideColorPresentations?u.provideColorPresentations(i,s,o,c):c(i,s,o)},provideDocumentColors:(i,s)=>{let o=this._client,a=(u,f)=>{let h={textDocument:o.code2ProtocolConverter.asTextDocumentIdentifier(u)};return o.sendRequest(va.DocumentColorRequest.type,h,f).then(p=>f.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(p,f),p=>o.handleFailedRequest(va.DocumentColorRequest.type,f,p,null))},c=o.middleware;return c.provideDocumentColors?c.provideDocumentColors(i,s,a):a(i,s)}};return [UF.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};El.ColorProviderFeature=cy;});var c0=E(kl=>{d();Object.defineProperty(kl,"__esModule",{value:!0});kl.ImplementationFeature=void 0;var HF=Y("vscode"),uy=se(),ly=Te(),dy=class extends ly.TextDocumentLanguageFeature{constructor(e){super(e,uy.ImplementationRequest.type);}fillClientCapabilities(e){let t=(0, ly.ensure)((0, ly.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.implementationProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideImplementation:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(uy.ImplementationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,p),w=>a.handleFailedRequest(uy.ImplementationRequest.type,p,w,null)),u=a.middleware;return u.provideImplementation?u.provideImplementation(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return HF.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};kl.ImplementationFeature=dy;});var u0=E(ql=>{d();Object.defineProperty(ql,"__esModule",{value:!0});ql.TypeDefinitionFeature=void 0;var KF=Y("vscode"),fy=se(),wa=Te(),hy=class extends wa.TextDocumentLanguageFeature{constructor(e){super(e,fy.TypeDefinitionRequest.type);}fillClientCapabilities(e){(0, wa.ensure)((0, wa.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0, wa.ensure)((0, wa.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeDefinitionProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideTypeDefinition:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(fy.TypeDefinitionRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDefinitionResult(w,p),w=>a.handleFailedRequest(fy.TypeDefinitionRequest.type,p,w,null)),u=a.middleware;return u.provideTypeDefinition?u.provideTypeDefinition(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return KF.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};ql.TypeDefinitionFeature=hy;});var l0=E(Zs=>{d();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.WorkspaceFoldersFeature=Zs.arrayDiff=void 0;var WF=tt(),Il=Y("vscode"),ba=se();function py(n,e){if(n!=null)return n[e]}function gy(n,e){return n.filter(t=>e.indexOf(t)<0)}Zs.arrayDiff=gy;var my=class{constructor(e){this._client=e,this._listeners=new Map;}getState(){return {kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return ba.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){let t=Il.workspace.workspaceFolders;this.initializeWithFolders(t),t===void 0?e.workspaceFolders=null:e.workspaceFolders=t.map(r=>this.asProtocol(r));}initializeWithFolders(e){this._initialFolders=e;}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0;}initialize(e){let t=this._client;t.onRequest(ba.WorkspaceFoldersRequest.type,s=>{let o=()=>{let c=Il.workspace.workspaceFolders;return c===void 0?null:c.map(f=>this.asProtocol(f))},a=t.middleware.workspace;return a&&a.workspaceFolders?a.workspaceFolders(s,o):o()});let r=py(py(py(e,"workspace"),"workspaceFolders"),"changeNotifications"),i;typeof r=="string"?i=r:r===!0&&(i=WF.generateUuid()),i&&this.register({id:i,registerOptions:void 0});}sendInitialEvent(e){let t;if(this._initialFolders&&e){let r=gy(this._initialFolders,e),i=gy(e,this._initialFolders);(i.length>0||r.length>0)&&(t=this.doSendEvent(i,r));}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));t!==void 0&&t.catch(r=>{this._client.error(`Sending notification ${ba.DidChangeWorkspaceFoldersNotification.type.method} failed`,r);});}doSendEvent(e,t){let r={event:{added:e.map(i=>this.asProtocol(i)),removed:t.map(i=>this.asProtocol(i))}};return this._client.sendNotification(ba.DidChangeWorkspaceFoldersNotification.type,r)}register(e){let t=e.id,r=this._client,i=Il.workspace.onDidChangeWorkspaceFolders(s=>{let o=u=>this.doSendEvent(u.added,u.removed),a=r.middleware.workspace;(a&&a.didChangeWorkspaceFolders?a.didChangeWorkspaceFolders(s,o):o(s)).catch(u=>{this._client.error(`Sending notification ${ba.DidChangeWorkspaceFoldersNotification.type.method} failed`,u);});});this._listeners.set(t,i),this.sendInitialEvent(Il.workspace.workspaceFolders);}unregister(e){let t=this._listeners.get(e);t!==void 0&&(this._listeners.delete(e),t.dispose());}clear(){for(let e of this._listeners.values())e.dispose();this._listeners.clear();}asProtocol(e){return e===void 0?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}};Zs.WorkspaceFoldersFeature=my;});var f0=E(Ol=>{d();Object.defineProperty(Ol,"__esModule",{value:!0});Ol.FoldingRangeFeature=void 0;var d0=Y("vscode"),Zi=se(),Sa=Te(),yy=class extends Sa.TextDocumentLanguageFeature{constructor(e){super(e,Zi.FoldingRangeRequest.type);}fillClientCapabilities(e){let t=(0, Sa.ensure)((0, Sa.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[Zi.FoldingRangeKind.Comment,Zi.FoldingRangeKind.Imports,Zi.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1},(0, Sa.ensure)((0, Sa.ensure)(e,"workspace"),"foldingRange").refreshSupport=!0;}initialize(e,t){this._client.onRequest(Zi.FoldingRangeRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeFoldingRange.fire();});let[r,i]=this.getRegistration(t,e.foldingRangeProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r=new d0.EventEmitter,i={onDidChangeFoldingRanges:r.event,provideFoldingRanges:(s,o,a)=>{let c=this._client,u=(h,p,w)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h)};return c.sendRequest(Zi.FoldingRangeRequest.type,y,w).then(b=>w.isCancellationRequested?null:c.protocol2CodeConverter.asFoldingRanges(b,w),b=>c.handleFailedRequest(Zi.FoldingRangeRequest.type,w,b,null))},f=c.middleware;return f.provideFoldingRanges?f.provideFoldingRanges(s,o,a,u):u(s,o,a)}};return [d0.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeFoldingRange:r}]}};Ol.FoldingRangeFeature=yy;});var h0=E(Nl=>{d();Object.defineProperty(Nl,"__esModule",{value:!0});Nl.DeclarationFeature=void 0;var VF=Y("vscode"),vy=se(),wy=Te(),by=class extends wy.TextDocumentLanguageFeature{constructor(e){super(e,vy.DeclarationRequest.type);}fillClientCapabilities(e){let t=(0, wy.ensure)((0, wy.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.declarationProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideDeclaration:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(vy.DeclarationRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asDeclarationResult(w,p),w=>a.handleFailedRequest(vy.DeclarationRequest.type,p,w,null)),u=a.middleware;return u.provideDeclaration?u.provideDeclaration(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return VF.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Nl.DeclarationFeature=by;});var p0=E(xl=>{d();Object.defineProperty(xl,"__esModule",{value:!0});xl.SelectionRangeFeature=void 0;var BF=Y("vscode"),Sy=se(),Cy=Te(),_y=class extends Cy.TextDocumentLanguageFeature{constructor(e){super(e,Sy.SelectionRangeRequest.type);}fillClientCapabilities(e){let t=(0, Cy.ensure)((0, Cy.ensure)(e,"textDocument"),"selectionRange");t.dynamicRegistration=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.selectionRangeProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideSelectionRanges:(i,s,o)=>{let a=this._client,c=async(f,h,p)=>{let w={textDocument:a.code2ProtocolConverter.asTextDocumentIdentifier(f),positions:a.code2ProtocolConverter.asPositionsSync(h,p)};return a.sendRequest(Sy.SelectionRangeRequest.type,w,p).then(y=>p.isCancellationRequested?null:a.protocol2CodeConverter.asSelectionRanges(y,p),y=>a.handleFailedRequest(Sy.SelectionRangeRequest.type,p,y,null))},u=a.middleware;return u.provideSelectionRanges?u.provideSelectionRanges(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return BF.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};xl.SelectionRangeFeature=_y;});var m0=E(Al=>{d();Object.defineProperty(Al,"__esModule",{value:!0});Al.ProgressFeature=void 0;var g0=se(),zF=Jg();function GF(n,e){return n[e]===void 0&&(n[e]=Object.create(null)),n[e]}var Dy=class{constructor(e){this._client=e,this.activeParts=new Set;}getState(){return {kind:"window",id:g0.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){GF(e,"window").workDoneProgress=!0;}initialize(){let e=this._client,t=i=>{this.activeParts.delete(i);},r=i=>{this.activeParts.add(new zF.ProgressPart(this._client,i.token,t));};e.onRequest(g0.WorkDoneProgressCreateRequest.type,r);}clear(){for(let e of this.activeParts)e.done();this.activeParts.clear();}};Al.ProgressFeature=Dy;});var y0=E(Ll=>{d();Object.defineProperty(Ll,"__esModule",{value:!0});Ll.CallHierarchyFeature=void 0;var YF=Y("vscode"),es=se(),Ty=Te(),Ry=class{constructor(e){this.client=e,this.middleware=e.middleware;}prepareCallHierarchy(e,t,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(es.CallHierarchyPrepareRequest.type,f,u).then(h=>u.isCancellationRequested?null:i.protocol2CodeConverter.asCallHierarchyItems(h,u),h=>i.handleFailedRequest(es.CallHierarchyPrepareRequest.type,u,h,null))};return s.prepareCallHierarchy?s.prepareCallHierarchy(e,t,r,o):o(e,t,r)}provideCallHierarchyIncomingCalls(e,t){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(es.CallHierarchyIncomingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyIncomingCalls(u,a),u=>r.handleFailedRequest(es.CallHierarchyIncomingCallsRequest.type,a,u,null))};return i.provideCallHierarchyIncomingCalls?i.provideCallHierarchyIncomingCalls(e,t,s):s(e,t)}provideCallHierarchyOutgoingCalls(e,t){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asCallHierarchyItem(o)};return r.sendRequest(es.CallHierarchyOutgoingCallsRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyOutgoingCalls(u,a),u=>r.handleFailedRequest(es.CallHierarchyOutgoingCallsRequest.type,a,u,null))};return i.provideCallHierarchyOutgoingCalls?i.provideCallHierarchyOutgoingCalls(e,t,s):s(e,t)}},Py=class extends Ty.TextDocumentLanguageFeature{constructor(e){super(e,es.CallHierarchyPrepareRequest.type);}fillClientCapabilities(e){let t=e,r=(0, Ty.ensure)((0, Ty.ensure)(t,"textDocument"),"callHierarchy");r.dynamicRegistration=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.callHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=this._client,r=new Ry(t);return [YF.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};Ll.CallHierarchyFeature=Py;});var v0=E(Ml=>{d();Object.defineProperty(Ml,"__esModule",{value:!0});Ml.SemanticTokensFeature=void 0;var Fl=Y("vscode"),ue=se(),Ca=Te(),JF=Fn(),Ey=class extends Ca.TextDocumentLanguageFeature{constructor(e){super(e,ue.SemanticTokensRegistrationType.type);}fillClientCapabilities(e){let t=(0, Ca.ensure)((0, Ca.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[ue.SemanticTokenTypes.namespace,ue.SemanticTokenTypes.type,ue.SemanticTokenTypes.class,ue.SemanticTokenTypes.enum,ue.SemanticTokenTypes.interface,ue.SemanticTokenTypes.struct,ue.SemanticTokenTypes.typeParameter,ue.SemanticTokenTypes.parameter,ue.SemanticTokenTypes.variable,ue.SemanticTokenTypes.property,ue.SemanticTokenTypes.enumMember,ue.SemanticTokenTypes.event,ue.SemanticTokenTypes.function,ue.SemanticTokenTypes.method,ue.SemanticTokenTypes.macro,ue.SemanticTokenTypes.keyword,ue.SemanticTokenTypes.modifier,ue.SemanticTokenTypes.comment,ue.SemanticTokenTypes.string,ue.SemanticTokenTypes.number,ue.SemanticTokenTypes.regexp,ue.SemanticTokenTypes.operator,ue.SemanticTokenTypes.decorator],t.tokenModifiers=[ue.SemanticTokenModifiers.declaration,ue.SemanticTokenModifiers.definition,ue.SemanticTokenModifiers.readonly,ue.SemanticTokenModifiers.static,ue.SemanticTokenModifiers.deprecated,ue.SemanticTokenModifiers.abstract,ue.SemanticTokenModifiers.async,ue.SemanticTokenModifiers.modification,ue.SemanticTokenModifiers.documentation,ue.SemanticTokenModifiers.defaultLibrary],t.formats=[ue.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0, Ca.ensure)((0, Ca.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0;}initialize(e,t){this._client.onRequest(ue.SemanticTokensRefreshRequest.type,async()=>{for(let o of this.getAllProviders())o.onDidChangeSemanticTokensEmitter.fire();});let[i,s]=this.getRegistration(t,e.semanticTokensProvider);!i||!s||this.register({id:i,registerOptions:s});}registerLanguageProvider(e){let t=e.documentSelector,r=JF.boolean(e.full)?e.full:e.full!==void 0,i=e.full!==void 0&&typeof e.full!="boolean"&&e.full.delta===!0,s=new Fl.EventEmitter,o=r?{onDidChangeSemanticTokens:s.event,provideDocumentSemanticTokens:(w,y)=>{let b=this._client,C=b.middleware,k=(O,N)=>{let A={textDocument:b.code2ProtocolConverter.asTextDocumentIdentifier(O)};return b.sendRequest(ue.SemanticTokensRequest.type,A,N).then(H=>N.isCancellationRequested?null:b.protocol2CodeConverter.asSemanticTokens(H,N),H=>b.handleFailedRequest(ue.SemanticTokensRequest.type,N,H,null))};return C.provideDocumentSemanticTokens?C.provideDocumentSemanticTokens(w,y,k):k(w,y)},provideDocumentSemanticTokensEdits:i?(w,y,b)=>{let C=this._client,k=C.middleware,O=(N,A,H)=>{let $={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(N),previousResultId:A};return C.sendRequest(ue.SemanticTokensDeltaRequest.type,$,H).then(async W=>H.isCancellationRequested?null:ue.SemanticTokens.is(W)?await C.protocol2CodeConverter.asSemanticTokens(W,H):await C.protocol2CodeConverter.asSemanticTokensEdits(W,H),W=>C.handleFailedRequest(ue.SemanticTokensDeltaRequest.type,H,W,null))};return k.provideDocumentSemanticTokensEdits?k.provideDocumentSemanticTokensEdits(w,y,b,O):O(w,y,b)}:void 0}:void 0,c=e.range===!0?{provideDocumentRangeSemanticTokens:(w,y,b)=>{let C=this._client,k=C.middleware,O=(N,A,H)=>{let $={textDocument:C.code2ProtocolConverter.asTextDocumentIdentifier(N),range:C.code2ProtocolConverter.asRange(A)};return C.sendRequest(ue.SemanticTokensRangeRequest.type,$,H).then(W=>H.isCancellationRequested?null:C.protocol2CodeConverter.asSemanticTokens(W,H),W=>C.handleFailedRequest(ue.SemanticTokensRangeRequest.type,H,W,null))};return k.provideDocumentRangeSemanticTokens?k.provideDocumentRangeSemanticTokens(w,y,b,O):O(w,y,b)}}:void 0,u=[],f=this._client,h=f.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=f.protocol2CodeConverter.asDocumentSelector(t);return o!==void 0&&u.push(Fl.languages.registerDocumentSemanticTokensProvider(p,o,h)),c!==void 0&&u.push(Fl.languages.registerDocumentRangeSemanticTokensProvider(p,c,h)),[new Fl.Disposable(()=>u.forEach(w=>w.dispose())),{range:c,full:o,onDidChangeSemanticTokensEmitter:s}]}};Ml.SemanticTokensFeature=Ey;});var S0=E(pn=>{d();Object.defineProperty(pn,"__esModule",{value:!0});pn.WillDeleteFilesFeature=pn.WillRenameFilesFeature=pn.WillCreateFilesFeature=pn.DidDeleteFilesFeature=pn.DidRenameFilesFeature=pn.DidCreateFilesFeature=void 0;var Un=Y("vscode"),XF=ol(),Mr=se(),QF=tt();function w0(n,e){return n[e]===void 0&&(n[e]={}),n[e]}function ZF(n,e){return n[e]}function b0(n,e,t){n[e]=t;}var _a=class n{constructor(e,t,r,i,s){this._client=e,this._event=t,this._registrationType=r,this._clientCapability=i,this._serverCapability=s,this._filters=new Map;}getState(){return {kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){let t=w0(w0(e,"workspace"),"fileOperations");b0(t,"dynamicRegistration",!0),b0(t,this._clientCapability,!0);}initialize(e){let t=e.workspace?.fileOperations,r=t!==void 0?ZF(t,this._serverCapability):void 0;if(r?.filters!==void 0)try{this.register({id:QF.generateUuid(),registerOptions:{filters:r.filters}});}catch(i){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${i}`);}}register(e){this._listener||(this._listener=this._event(this.send,this));let t=e.registerOptions.filters.map(r=>{let i=new XF.Minimatch(r.pattern.glob,n.asMinimatchOptions(r.pattern.options));if(!i.makeRe())throw new Error(`Invalid pattern ${r.pattern.glob}!`);return {scheme:r.scheme,matcher:i,kind:r.pattern.matches}});this._filters.set(e.id,t);}unregister(e){this._filters.delete(e),this._filters.size===0&&this._listener&&(this._listener.dispose(),this._listener=void 0);}clear(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0);}getFileType(e){return n.getFileType(e)}async filter(e,t){let r=await Promise.all(e.files.map(async s=>{let o=t(s),a=o.fsPath.replace(/\\/g,"/");for(let c of this._filters.values())for(let u of c)if(!(u.scheme!==void 0&&u.scheme!==o.scheme)){if(u.matcher.match(a)){if(u.kind===void 0)return !0;let f=await this.getFileType(o);if(f===void 0)return this._client.error(`Failed to determine file type for ${o.toString()}.`),!0;if(f===Un.FileType.File&&u.kind===Mr.FileOperationPatternKind.file||f===Un.FileType.Directory&&u.kind===Mr.FileOperationPatternKind.folder)return !0}else if(u.kind===Mr.FileOperationPatternKind.folder&&await n.getFileType(o)===Un.FileType.Directory&&u.matcher.match(`${a}/`))return !0}return !1})),i=e.files.filter((s,o)=>r[o]);return {...e,files:i}}static async getFileType(e){try{return (await Un.workspace.fs.stat(e)).type}catch{return}}static asMinimatchOptions(e){let t={dot:!0};return e?.ignoreCase===!0&&(t.nocase=!0),t}},jl=class extends _a{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s),this._notificationType=r,this._accessUri=o,this._createParams=a;}async send(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=async i=>this._client.sendNotification(this._notificationType,this._createParams(i));return this.doSend(t,r)}}},$l=class extends jl{constructor(){super(...arguments),this._fsPathFileTypes=new Map;}async getFileType(e){let t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);let r=await _a.getFileType(e);return r&&this._fsPathFileTypes.set(t,r),r}async cacheFileTypes(e,t){await this.filter(e,t);}clearFileTypeCache(){this._fsPathFileTypes.clear();}unregister(e){super.unregister(e),this.filterSize()===0&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0);}clear(){super.clear(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0);}},ky=class extends jl{constructor(e){super(e,Un.workspace.onDidCreateFiles,Mr.DidCreateFilesNotification.type,"didCreate","didCreate",t=>t,e.code2ProtocolConverter.asDidCreateFilesParams);}doSend(e,t){let r=this._client.middleware.workspace;return r?.didCreateFiles?r.didCreateFiles(e,t):t(e)}};pn.DidCreateFilesFeature=ky;var qy=class extends $l{constructor(e){super(e,Un.workspace.onDidRenameFiles,Mr.DidRenameFilesNotification.type,"didRename","didRename",t=>t.oldUri,e.code2ProtocolConverter.asDidRenameFilesParams);}register(e){this._willListener||(this._willListener=Un.workspace.onWillRenameFiles(this.willRename,this)),super.register(e);}willRename(e){e.waitUntil(this.cacheFileTypes(e,t=>t.oldUri));}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didRenameFiles?r.didRenameFiles(e,t):t(e)}};pn.DidRenameFilesFeature=qy;var Iy=class extends $l{constructor(e){super(e,Un.workspace.onDidDeleteFiles,Mr.DidDeleteFilesNotification.type,"didDelete","didDelete",t=>t,e.code2ProtocolConverter.asDidDeleteFilesParams);}register(e){this._willListener||(this._willListener=Un.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e);}willDelete(e){e.waitUntil(this.cacheFileTypes(e,t=>t));}doSend(e,t){this.clearFileTypeCache();let r=this._client.middleware.workspace;return r?.didDeleteFiles?r.didDeleteFiles(e,t):t(e)}};pn.DidDeleteFilesFeature=Iy;var Da=class extends _a{constructor(e,t,r,i,s,o,a){super(e,t,r,i,s),this._requestType=r,this._accessUri=o,this._createParams=a;}async send(e){let t=this.waitUntil(e);e.waitUntil(t);}async waitUntil(e){let t=await this.filter(e,this._accessUri);if(t.files.length){let r=i=>this._client.sendRequest(this._requestType,this._createParams(i),i.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,r)}else return}},Oy=class extends Da{constructor(e){super(e,Un.workspace.onWillCreateFiles,Mr.WillCreateFilesRequest.type,"willCreate","willCreate",t=>t,e.code2ProtocolConverter.asWillCreateFilesParams);}doSend(e,t){let r=this._client.middleware.workspace;return r?.willCreateFiles?r.willCreateFiles(e,t):t(e)}};pn.WillCreateFilesFeature=Oy;var Ny=class extends Da{constructor(e){super(e,Un.workspace.onWillRenameFiles,Mr.WillRenameFilesRequest.type,"willRename","willRename",t=>t.oldUri,e.code2ProtocolConverter.asWillRenameFilesParams);}doSend(e,t){let r=this._client.middleware.workspace;return r?.willRenameFiles?r.willRenameFiles(e,t):t(e)}};pn.WillRenameFilesFeature=Ny;var xy=class extends Da{constructor(e){super(e,Un.workspace.onWillDeleteFiles,Mr.WillDeleteFilesRequest.type,"willDelete","willDelete",t=>t,e.code2ProtocolConverter.asWillDeleteFilesParams);}doSend(e,t){let r=this._client.middleware.workspace;return r?.willDeleteFiles?r.willDeleteFiles(e,t):t(e)}};pn.WillDeleteFilesFeature=xy;});var C0=E(Ul=>{d();Object.defineProperty(Ul,"__esModule",{value:!0});Ul.LinkedEditingFeature=void 0;var eM=Y("vscode"),Ay=se(),Ly=Te(),Fy=class extends Ly.TextDocumentLanguageFeature{constructor(e){super(e,Ay.LinkedEditingRangeRequest.type);}fillClientCapabilities(e){let t=(0, Ly.ensure)((0, Ly.ensure)(e,"textDocument"),"linkedEditingRange");t.dynamicRegistration=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.linkedEditingRangeProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r={provideLinkedEditingRanges:(i,s,o)=>{let a=this._client,c=(f,h,p)=>a.sendRequest(Ay.LinkedEditingRangeRequest.type,a.code2ProtocolConverter.asTextDocumentPositionParams(f,h),p).then(w=>p.isCancellationRequested?null:a.protocol2CodeConverter.asLinkedEditingRanges(w,p),w=>a.handleFailedRequest(Ay.LinkedEditingRangeRequest.type,p,w,null)),u=a.middleware;return u.provideLinkedEditingRange?u.provideLinkedEditingRange(i,s,o,c):c(i,s,o)}};return [this.registerProvider(t,r),r]}registerProvider(e,t){return eM.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Ul.LinkedEditingFeature=Fy;});var _0=E(Hl=>{d();Object.defineProperty(Hl,"__esModule",{value:!0});Hl.TypeHierarchyFeature=void 0;var tM=Y("vscode"),ts=se(),My=Te(),jy=class{constructor(e){this.client=e,this.middleware=e.middleware;}prepareTypeHierarchy(e,t,r){let i=this.client,s=this.middleware,o=(a,c,u)=>{let f=i.code2ProtocolConverter.asTextDocumentPositionParams(a,c);return i.sendRequest(ts.TypeHierarchyPrepareRequest.type,f,u).then(h=>u.isCancellationRequested?null:i.protocol2CodeConverter.asTypeHierarchyItems(h,u),h=>i.handleFailedRequest(ts.TypeHierarchyPrepareRequest.type,u,h,null))};return s.prepareTypeHierarchy?s.prepareTypeHierarchy(e,t,r,o):o(e,t,r)}provideTypeHierarchySupertypes(e,t){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(ts.TypeHierarchySupertypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(ts.TypeHierarchySupertypesRequest.type,a,u,null))};return i.provideTypeHierarchySupertypes?i.provideTypeHierarchySupertypes(e,t,s):s(e,t)}provideTypeHierarchySubtypes(e,t){let r=this.client,i=this.middleware,s=(o,a)=>{let c={item:r.code2ProtocolConverter.asTypeHierarchyItem(o)};return r.sendRequest(ts.TypeHierarchySubtypesRequest.type,c,a).then(u=>a.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(u,a),u=>r.handleFailedRequest(ts.TypeHierarchySubtypesRequest.type,a,u,null))};return i.provideTypeHierarchySubtypes?i.provideTypeHierarchySubtypes(e,t,s):s(e,t)}},$y=class extends My.TextDocumentLanguageFeature{constructor(e){super(e,ts.TypeHierarchyPrepareRequest.type);}fillClientCapabilities(e){let t=(0, My.ensure)((0, My.ensure)(e,"textDocument"),"typeHierarchy");t.dynamicRegistration=!0;}initialize(e,t){let[r,i]=this.getRegistration(t,e.typeHierarchyProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=this._client,r=new jy(t);return [tM.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),r),r]}};Hl.TypeHierarchyFeature=$y;});var T0=E(Wl=>{d();Object.defineProperty(Wl,"__esModule",{value:!0});Wl.InlineValueFeature=void 0;var D0=Y("vscode"),Kl=se(),Ta=Te(),Uy=class extends Ta.TextDocumentLanguageFeature{constructor(e){super(e,Kl.InlineValueRequest.type);}fillClientCapabilities(e){(0, Ta.ensure)((0, Ta.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0, Ta.ensure)((0, Ta.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0;}initialize(e,t){this._client.onRequest(Kl.InlineValueRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlineValues.fire();});let[r,i]=this.getRegistration(t,e.inlineValueProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r=new D0.EventEmitter,i={onDidChangeInlineValues:r.event,provideInlineValues:(s,o,a,c)=>{let u=this._client,f=(p,w,y,b)=>{let C={textDocument:u.code2ProtocolConverter.asTextDocumentIdentifier(p),range:u.code2ProtocolConverter.asRange(w),context:u.code2ProtocolConverter.asInlineValueContext(y)};return u.sendRequest(Kl.InlineValueRequest.type,C,b).then(k=>b.isCancellationRequested?null:u.protocol2CodeConverter.asInlineValues(k,b),k=>u.handleFailedRequest(Kl.InlineValueRequest.type,b,k,null))},h=u.middleware;return h.provideInlineValues?h.provideInlineValues(s,o,a,c,f):f(s,o,a,c)}};return [this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:r}]}registerProvider(e,t){return D0.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Wl.InlineValueFeature=Uy;});var P0=E(Vl=>{d();Object.defineProperty(Vl,"__esModule",{value:!0});Vl.InlayHintsFeature=void 0;var R0=Y("vscode"),eo=se(),Ra=Te(),Hy=class extends Ra.TextDocumentLanguageFeature{constructor(e){super(e,eo.InlayHintRequest.type);}fillClientCapabilities(e){let t=(0, Ra.ensure)((0, Ra.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0, Ra.ensure)((0, Ra.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0;}initialize(e,t){this._client.onRequest(eo.InlayHintRefreshRequest.type,async()=>{for(let s of this.getAllProviders())s.onDidChangeInlayHints.fire();});let[r,i]=this.getRegistration(t,e.inlayHintProvider);!r||!i||this.register({id:r,registerOptions:i});}registerLanguageProvider(e){let t=e.documentSelector,r=new R0.EventEmitter,i={onDidChangeInlayHints:r.event,provideInlayHints:(s,o,a)=>{let c=this._client,u=async(h,p,w)=>{let y={textDocument:c.code2ProtocolConverter.asTextDocumentIdentifier(h),range:c.code2ProtocolConverter.asRange(p)};try{let b=await c.sendRequest(eo.InlayHintRequest.type,y,w);return w.isCancellationRequested?null:c.protocol2CodeConverter.asInlayHints(b,w)}catch(b){return c.handleFailedRequest(eo.InlayHintRequest.type,w,b,null)}},f=c.middleware;return f.provideInlayHints?f.provideInlayHints(s,o,a,u):u(s,o,a)}};return i.resolveInlayHint=e.resolveProvider===!0?(s,o)=>{let a=this._client,c=async(f,h)=>{try{let p=await a.sendRequest(eo.InlayHintResolveRequest.type,a.code2ProtocolConverter.asInlayHint(f),h);if(h.isCancellationRequested)return null;let w=a.protocol2CodeConverter.asInlayHint(p,h);return h.isCancellationRequested?null:w}catch(p){return a.handleFailedRequest(eo.InlayHintResolveRequest.type,h,p,null)}},u=a.middleware;return u.resolveInlayHint?u.resolveInlayHint(s,o,c):c(s,o)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:r}]}registerProvider(e,t){return R0.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}};Vl.InlayHintsFeature=Hy;});var E0=E(Bl=>{d();Object.defineProperty(Bl,"__esModule",{value:!0});Bl.InlineCompletionItemFeature=void 0;var nM=Y("vscode"),Ky=se(),Wy=Te(),rM=tt(),Vy=class extends Wy.TextDocumentLanguageFeature{constructor(e){super(e,Ky.InlineCompletionRequest.type);}fillClientCapabilities(e){let t=(0, Wy.ensure)((0, Wy.ensure)(e,"textDocument"),"inlineCompletion");t.dynamicRegistration=!0;}initialize(e,t){let r=this.getRegistrationOptions(t,e.inlineCompletionProvider);r&&this.register({id:rM.generateUuid(),registerOptions:r});}registerLanguageProvider(e){let t=e.documentSelector,r={provideInlineCompletionItems:(i,s,o,a)=>{let c=this._client,u=this._client.middleware,f=(h,p,w,y)=>c.sendRequest(Ky.InlineCompletionRequest.type,c.code2ProtocolConverter.asInlineCompletionParams(h,p,w),y).then(b=>y.isCancellationRequested?null:c.protocol2CodeConverter.asInlineCompletionResult(b,y),b=>c.handleFailedRequest(Ky.InlineCompletionRequest.type,y,b,null));return u.provideInlineCompletionItems?u.provideInlineCompletionItems(i,s,o,a,f):f(i,s,o,a)}};return [nM.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),r),r]}};Bl.InlineCompletionItemFeature=Vy;});var Xy=E(qt=>{d();Object.defineProperty(qt,"__esModule",{value:!0});qt.ProposedFeatures=qt.BaseLanguageClient=qt.MessageTransports=qt.SuspendMode=qt.State=qt.CloseAction=qt.ErrorAction=qt.RevealOutputChannelOn=void 0;var Me=Y("vscode"),V=se(),iM=iP(),sM=aP(),rr=Fn(),zl=Zu(),k0=tt(),oM=Jg(),nr=Te(),aM=mm(),q0=MP(),I0=$P(),to=UP(),cM=HP(),uM=KP(),lM=WP(),dM=BP(),fM=zP(),hM=Um(),pM=YP(),gM=JP(),mM=XP(),yM=ZP(),By=e0(),vM=n0(),wM=r0(),bM=s0(),SM=o0(),CM=a0(),_M=c0(),DM=u0(),TM=l0(),RM=f0(),PM=h0(),EM=p0(),kM=m0(),qM=y0(),IM=v0(),no=S0(),OM=C0(),NM=_0(),xM=T0(),AM=P0(),LM=E0(),ns;(function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error",n[n.Never=4]="Never";})(ns||(qt.RevealOutputChannelOn=ns={}));var Ea;(function(n){n[n.Continue=1]="Continue",n[n.Shutdown=2]="Shutdown";})(Ea||(qt.ErrorAction=Ea={}));var Ti;(function(n){n[n.DoNotRestart=1]="DoNotRestart",n[n.Restart=2]="Restart";})(Ti||(qt.CloseAction=Ti={}));var Pa;(function(n){n[n.Stopped=1]="Stopped",n[n.Starting=3]="Starting",n[n.Running=2]="Running";})(Pa||(qt.State=Pa={}));var O0;(function(n){n.off="off",n.on="on";})(O0||(qt.SuspendMode=O0={}));var zy;(function(n){function e(t){return t==null?!1:typeof t=="boolean"||typeof t=="object"&&t!==null&&rr.stringArray(t.enabledCommands)?t:!1}n.sanitizeIsTrusted=e;})(zy||(zy={}));var Gy=class{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[];}error(e,t,r){return r&&r<=3?{action:Ea.Continue}:{action:Ea.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:Ti.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=3*60*1e3?{action:Ti.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:Ti.Restart})}},pe;(function(n){n.Initial="initial",n.Starting="starting",n.StartFailed="startFailed",n.Running="running",n.Stopping="stopping",n.Stopped="stopped";})(pe||(pe={}));var N0;(function(n){function e(t){return t&&V.MessageReader.is(t.reader)&&V.MessageWriter.is(t.writer)}n.is=e;})(N0||(qt.MessageTransports=N0={}));var ka=class n{constructor(e,t,r){this._traceFormat=V.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new zl.Semaphore(1),this._id=e,this._name=t,r=r||{};let i={isTrusted:!1,supportHtml:!1};r.markdown!==void 0&&(i.isTrusted=zy.sanitizeIsTrusted(r.markdown.isTrusted),i.supportHtml=r.markdown.supportHtml===!0),this._clientOptions={documentSelector:r.documentSelector??[],synchronize:r.synchronize??{},diagnosticCollectionName:r.diagnosticCollectionName,outputChannelName:r.outputChannelName??this._name,revealOutputChannelOn:r.revealOutputChannelOn??ns.Error,stdioEncoding:r.stdioEncoding??"utf8",initializationOptions:r.initializationOptions,initializationFailedHandler:r.initializationFailedHandler,progressOnInitialization:!!r.progressOnInitialization,errorHandler:r.errorHandler??this.createDefaultErrorHandler(r.connectionOptions?.maxRestartCount),middleware:r.middleware??{},uriConverters:r.uriConverters,workspaceFolder:r.workspaceFolder,connectionOptions:r.connectionOptions,markdown:i,diagnosticPullOptions:r.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:r.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=pe.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,r.outputChannel?(this._outputChannel=r.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=r.traceOutputChannel,this._diagnostics=void 0,this._pendingOpenNotifications=new Set,this._pendingChangeSemaphore=new zl.Semaphore(1),this._pendingChangeDelayer=new zl.Delayer(250),this._fileEvents=[],this._fileEventDelayer=new zl.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new V.Emitter,this._stateChangeEmitter=new V.Emitter,this._trace=V.Trace.Off,this._tracer={log:(s,o)=>{rr.string(s)?this.logTrace(s,o):this.logObjectTrace(s);}},this._c2p=iM.createConverter(r.uriConverters?r.uriConverters.code2Protocol:void 0),this._p2c=sM.createConverter(r.uriConverters?r.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures();}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=Me.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let r=this.getPublicState();r!==t&&this._stateChangeEmitter.fire({oldState:t,newState:r});}getPublicState(){switch(this.$state){case pe.Starting:return Pa.Starting;case pe.Running:return Pa.Running;default:return Pa.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===pe.StartFailed||this.$state===pe.Stopping||this.$state===pe.Stopped)return Promise.reject(new V.ResponseError(V.ErrorCodes.ConnectionInactive,"Client is not running"));let r=await this.$start();this._didChangeTextDocumentFeature.syncKind===V.TextDocumentSyncKind.Full&&await this.sendPendingFullTextDocumentChanges(r);let i=this._clientOptions.middleware?.sendRequest;if(i!==void 0){let s,o;return t.length===1?V.CancellationToken.is(t[0])?o=t[0]:s=t[0]:t.length===2&&(s=t[0],o=t[1]),i(e,s,o,(a,c,u)=>{let f=[];return c!==void 0&&f.push(c),u!==void 0&&f.push(u),r.sendRequest(a,...f)})}else return r.sendRequest(e,...t)}onRequest(e,t){let r=typeof e=="string"?e:e.method;this._requestHandlers.set(r,t);let i=this.activeConnection(),s;return i!==void 0?(this._requestDisposables.set(r,i.onRequest(e,t)),s={dispose:()=>{let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r));}}):(this._pendingRequestHandlers.set(r,t),s={dispose:()=>{this._pendingRequestHandlers.delete(r);let o=this._requestDisposables.get(r);o!==void 0&&(o.dispose(),this._requestDisposables.delete(r));}}),{dispose:()=>{this._requestHandlers.delete(r),s.dispose();}}}async sendNotification(e,t){if(this.$state===pe.StartFailed||this.$state===pe.Stopping||this.$state===pe.Stopped)return Promise.reject(new V.ResponseError(V.ErrorCodes.ConnectionInactive,"Client is not running"));let r=this._didChangeTextDocumentFeature.syncKind===V.TextDocumentSyncKind.Full,i;r&&typeof e!="string"&&e.method===V.DidOpenTextDocumentNotification.method&&(i=t?.textDocument.uri,this._pendingOpenNotifications.add(i));let s=await this.$start();r&&await this.sendPendingFullTextDocumentChanges(s),i!==void 0&&this._pendingOpenNotifications.delete(i);let o=this._clientOptions.middleware?.sendNotification;return o?o(e,s.sendNotification.bind(s),t):s.sendNotification(e,t)}onNotification(e,t){let r=typeof e=="string"?e:e.method;this._notificationHandlers.set(r,t);let i=this.activeConnection(),s;return i!==void 0?(this._notificationDisposables.set(r,i.onNotification(e,t)),s={dispose:()=>{let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r));}}):(this._pendingNotificationHandlers.set(r,t),s={dispose:()=>{this._pendingNotificationHandlers.delete(r);let o=this._notificationDisposables.get(r);o!==void 0&&(o.dispose(),this._notificationDisposables.delete(r));}}),{dispose:()=>{this._notificationHandlers.delete(r),s.dispose();}}}async sendProgress(e,t,r){if(this.$state===pe.StartFailed||this.$state===pe.Stopping||this.$state===pe.Stopped)return Promise.reject(new V.ResponseError(V.ErrorCodes.ConnectionInactive,"Client is not running"));try{return (await this.$start()).sendProgress(e,t,r)}catch(i){throw this.error(`Sending progress for token ${t} failed.`,i),i}}onProgress(e,t,r){this._progressHandlers.set(t,{type:e,handler:r});let i=this.activeConnection(),s,o=this._clientOptions.middleware?.handleWorkDoneProgress,a=V.WorkDoneProgress.is(e)&&o!==void 0?c=>{o(t,c,()=>r(c));}:r;return i!==void 0?(this._progressDisposables.set(t,i.onProgress(e,t,a)),s={dispose:()=>{let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t));}}):(this._pendingProgressHandlers.set(t,{type:e,handler:r}),s={dispose:()=>{this._pendingProgressHandlers.delete(t);let c=this._progressDisposables.get(t);c!==void 0&&(c.dispose(),this._progressDisposables.delete(t));}}),{dispose:()=>{this._progressHandlers.delete(t),s.dispose();}}}createDefaultErrorHandler(e){if(e!==void 0&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Gy(this,e??4)}async setTrace(e){this._trace=e;let t=this.activeConnection();t!==void 0&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat});}data2String(e){if(e instanceof V.ResponseError){let t=e;return `  Message: ${t.message}
  Code: ${t.code} ${t.data?`
`+t.data.toString():""}`}return e instanceof Error?rr.string(e.stack)?e.stack:e.message:rr.string(e)?e:e.toString()}debug(e,t,r=!0){this.logOutputMessage(V.MessageType.Debug,ns.Debug,"Debug",e,t,r);}info(e,t,r=!0){this.logOutputMessage(V.MessageType.Info,ns.Info,"Info",e,t,r);}warn(e,t,r=!0){this.logOutputMessage(V.MessageType.Warning,ns.Warn,"Warn",e,t,r);}error(e,t,r=!0){this.logOutputMessage(V.MessageType.Error,ns.Error,"Error",e,t,r);}logOutputMessage(e,t,r,i,s,o){this.outputChannel.appendLine(`[${r.padEnd(5)} - ${new Date().toLocaleTimeString()}] ${i}`),s!=null&&this.outputChannel.appendLine(this.data2String(s)),(o==="force"||o&&this._clientOptions.revealOutputChannelOn<=t)&&this.showNotificationMessage(e,i);}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===V.MessageType.Error?Me.window.showErrorMessage:e===V.MessageType.Warning?Me.window.showWarningMessage:Me.window.showInformationMessage)(t,"Go to output").then(i=>{i!==void 0&&this.outputChannel.show(!0);});}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${new Date().toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t));}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${new Date().toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${new Date().toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`);}needsStart(){return this.$state===pe.Initial||this.$state===pe.Stopping||this.$state===pe.Stopped}needsStop(){return this.$state===pe.Starting||this.$state===pe.Running}activeConnection(){return this.$state===pe.Running&&this._connection!==void 0?this._connection:void 0}isRunning(){return this.$state===pe.Running}async start(){if(this._disposed==="disposing"||this._disposed==="disposed")throw new Error("Client got disposed and can't be restarted.");if(this.$state===pe.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(this._onStart!==void 0)return this._onStart;let[e,t,r]=this.createOnStartPromise();this._onStart=e,this._diagnostics===void 0&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?Me.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):Me.languages.createDiagnosticCollection());for(let[i,s]of this._notificationHandlers)this._pendingNotificationHandlers.has(i)||this._pendingNotificationHandlers.set(i,s);for(let[i,s]of this._requestHandlers)this._pendingRequestHandlers.has(i)||this._pendingRequestHandlers.set(i,s);for(let[i,s]of this._progressHandlers)this._pendingProgressHandlers.has(i)||this._pendingProgressHandlers.set(i,s);this.$state=pe.Starting;try{let i=await this.createConnection();i.onNotification(V.LogMessageNotification.type,s=>{switch(s.type){case V.MessageType.Error:this.error(s.message,void 0,!1);break;case V.MessageType.Warning:this.warn(s.message,void 0,!1);break;case V.MessageType.Info:this.info(s.message,void 0,!1);break;case V.MessageType.Debug:this.debug(s.message,void 0,!1);break;default:this.outputChannel.appendLine(s.message);}}),i.onNotification(V.ShowMessageNotification.type,s=>{switch(s.type){case V.MessageType.Error:Me.window.showErrorMessage(s.message);break;case V.MessageType.Warning:Me.window.showWarningMessage(s.message);break;case V.MessageType.Info:Me.window.showInformationMessage(s.message);break;default:Me.window.showInformationMessage(s.message);}}),i.onRequest(V.ShowMessageRequest.type,s=>{let o;switch(s.type){case V.MessageType.Error:o=Me.window.showErrorMessage;break;case V.MessageType.Warning:o=Me.window.showWarningMessage;break;case V.MessageType.Info:o=Me.window.showInformationMessage;break;default:o=Me.window.showInformationMessage;}let a=s.actions||[];return o(s.message,...a)}),i.onNotification(V.TelemetryEventNotification.type,s=>{this._telemetryEmitter.fire(s);}),i.onRequest(V.ShowDocumentRequest.type,async s=>{let o=async c=>{let u=this.protocol2CodeConverter.asUri(c.uri);try{if(c.external===!0)return {success:await Me.env.openExternal(u)};{let f={};return c.selection!==void 0&&(f.selection=this.protocol2CodeConverter.asRange(c.selection)),c.takeFocus===void 0||c.takeFocus===!1?f.preserveFocus=!0:c.takeFocus===!0&&(f.preserveFocus=!1),await Me.window.showTextDocument(u,f),{success:!0}}}catch{return {success:!1}}},a=this._clientOptions.middleware.window?.showDocument;return a!==void 0?a(s,o):o(s)}),i.listen(),await this.initialize(i),t();}catch(i){this.$state=pe.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,i,"force"),r(i);}return this._onStart}createOnStartPromise(){let e,t;return [new Promise((i,s)=>{e=i,t=s;}),e,t]}async initialize(e){this.refreshTrace(e,!1);let t=this._clientOptions.initializationOptions,[r,i]=this._clientOptions.workspaceFolder!==void 0?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:Me.env.appName,version:Me.version},locale:this.getLocale(),rootPath:r||null,rootUri:r?this._c2p.asUri(Me.Uri.file(r)):null,capabilities:this.computeClientCapabilities(),initializationOptions:rr.func(t)?t():t,trace:V.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),this._clientOptions.progressOnInitialization){let o=k0.generateUuid(),a=new oM.ProgressPart(e,o);s.workDoneToken=o;try{let c=await this.doInitialize(e,s);return a.done(),c}catch(c){throw a.cancel(),c}}else return this.doInitialize(e,s)}async doInitialize(e,t){try{let r=await e.initialize(t);if(r.capabilities.positionEncoding!==void 0&&r.capabilities.positionEncoding!==V.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${r.capabilities.positionEncoding}) received from server ${this.name}`);this._initializeResult=r,this.$state=pe.Running;let i;rr.number(r.capabilities.textDocumentSync)?r.capabilities.textDocumentSync===V.TextDocumentSyncKind.None?i={openClose:!1,change:V.TextDocumentSyncKind.None,save:void 0}:i={openClose:!0,change:r.capabilities.textDocumentSync,save:{includeText:!1}}:r.capabilities.textDocumentSync!==void 0&&r.capabilities.textDocumentSync!==null&&(i=r.capabilities.textDocumentSync),this._capabilities=Object.assign({},r.capabilities,{resolvedTextDocumentSync:i}),e.onNotification(V.PublishDiagnosticsNotification.type,s=>this.handleDiagnostics(s)),e.onRequest(V.RegistrationRequest.type,s=>this.handleRegistrationRequest(s)),e.onRequest("client/registerFeature",s=>this.handleRegistrationRequest(s)),e.onRequest(V.UnregistrationRequest.type,s=>this.handleUnregistrationRequest(s)),e.onRequest("client/unregisterFeature",s=>this.handleUnregistrationRequest(s)),e.onRequest(V.ApplyWorkspaceEditRequest.type,s=>this.handleApplyWorkspaceEdit(s));for(let[s,o]of this._pendingNotificationHandlers)this._notificationDisposables.set(s,e.onNotification(s,o));this._pendingNotificationHandlers.clear();for(let[s,o]of this._pendingRequestHandlers)this._requestDisposables.set(s,e.onRequest(s,o));this._pendingRequestHandlers.clear();for(let[s,o]of this._pendingProgressHandlers)this._progressDisposables.set(s,e.onProgress(o.type,s,o.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(V.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),r}catch(r){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(r)?this.initialize(e):this.stop():r instanceof V.ResponseError&&r.data&&r.data.retry?Me.window.showErrorMessage(r.message,{title:"Retry",id:"retry"}).then(i=>{i&&i.id==="retry"?this.initialize(e):this.stop();}):(r&&r.message&&Me.window.showErrorMessage(r.message),this.error("Server initialization failed.",r),this.stop()),r}}_clientGetRootPath(){let e=Me.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed";}}async shutdown(e,t){if(this.$state===pe.Stopped||this.$state===pe.Initial)return;if(this.$state===pe.Stopping){if(this._onStop!==void 0)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}let r=this.activeConnection();if(r===void 0||this.$state!==pe.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=pe.Stopping,this.cleanUp(e);let i=new Promise(o=>{(0, V.RAL)().timer.setTimeout(o,t);}),s=(async o=>(await o.shutdown(),await o.exit(),o))(r);return this._onStop=Promise.race([i,s]).then(o=>{if(o!==void 0)o.end(),o.dispose();else throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out")},o=>{throw this.error("Stopping server failed",o,!1),o}).finally(()=>{this.$state=pe.Stopped,e==="stop"&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear();})}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();let t=this._listeners.splice(0,this._listeners.length);for(let r of t)r.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(let r of Array.from(this._features.entries()).map(i=>i[1]).reverse())r.clear();e==="stop"&&this._diagnostics!==void 0&&(this._diagnostics.dispose(),this._diagnostics=void 0),this._idleInterval!==void 0&&(this._idleInterval.dispose(),this._idleInterval=void 0);}cleanUpChannel(){this._outputChannel!==void 0&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0);}notifyFileEvent(e){let t=this;async function r(s){return t._fileEvents.push(s),t._fileEventDelayer.trigger(async()=>{await t.sendNotification(V.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents}),t._fileEvents=[];})}let i=this.clientOptions.middleware?.workspace;(i?.didChangeWatchedFile?i.didChangeWatchedFile(e,r):r(e)).catch(s=>{t.error("Notify file events failed.",s);});}async sendPendingFullTextDocumentChanges(e){return this._pendingChangeSemaphore.lock(async()=>{try{let t=this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);if(t.length===0)return;for(let r of t){let i=this.code2ProtocolConverter.asChangeTextDocumentParams(r);await e.sendNotification(V.DidChangeTextDocumentNotification.type,i),this._didChangeTextDocumentFeature.notificationSent(r,V.DidChangeTextDocumentNotification.type,i);}}catch(t){throw this.error("Sending pending changes failed",t,!1),t}})}triggerPendingChangeDelivery(){this._pendingChangeDelayer.trigger(async()=>{let e=this.activeConnection();if(e===void 0){this.triggerPendingChangeDelivery();return}await this.sendPendingFullTextDocumentChanges(e);}).catch(e=>this.error("Delivering pending changes failed",e,!1));}handleDiagnostics(e){if(!this._diagnostics)return;let t=e.uri;this._diagnosticQueueState.state==="busy"&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue();}triggerDiagnosticQueue(){(0, V.RAL)().timer.setImmediate(()=>{this.workDiagnosticQueue();});}workDiagnosticQueue(){if(this._diagnosticQueueState.state==="busy")return;let e=this._diagnosticQueue.entries().next();if(e.done===!0)return;let[t,r]=e.value;this._diagnosticQueue.delete(t);let i=new Me.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:i},this._p2c.asDiagnostics(r,i.token).then(s=>{if(!i.token.isCancellationRequested){let o=this._p2c.asUri(t),a=this.clientOptions.middleware;a.handleDiagnostics?a.handleDiagnostics(o,s,(c,u)=>this.setDiagnostics(c,u)):this.setDiagnostics(o,s);}}).finally(()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue();});}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t);}getLocale(){return Me.env.language}async $start(){if(this.$state===pe.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();let e=this.activeConnection();if(e===void 0)throw new Error("Starting server failed");return e}async createConnection(){let e=(i,s,o)=>{this.handleConnectionError(i,s,o).catch(a=>this.error("Handling connection error failed",a));},t=()=>{this.handleConnectionClosed().catch(i=>this.error("Handling connection close failed",i));},r=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=FM(r.reader,r.writer,e,t,this._clientOptions.connectionOptions),this._connection}async handleConnectionClosed(){if(this.$state===pe.Stopped)return;try{this._connection!==void 0&&this._connection.dispose();}catch{}let e={action:Ti.DoNotRestart};if(this.$state!==pe.Stopping)try{e=await this._clientOptions.errorHandler.closed();}catch{}this._connection=void 0,e.action===Ti.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,e.handled===!0?!1:"force"),this.cleanUp("stop"),this.$state===pe.Starting?this.$state=pe.StartFailed:this.$state=pe.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===Ti.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart.",!e.handled),this.cleanUp("restart"),this.$state=pe.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch(t=>this.error("Restarting server failed",t,"force")));}async handleConnectionError(e,t,r){let i=await this._clientOptions.errorHandler.error(e,t,r);i.action===Ea.Shutdown?(this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}
Shutting down server.`,void 0,i.handled===!0?!1:"force"),this.stop().catch(s=>{this.error("Stopping server failed",s,!1);})):this.error(i.message??`Client ${this._name}: connection to server is erroring.
${e.message}`,void 0,i.handled===!0?!1:"force");}hookConfigurationChanged(e){this._listeners.push(Me.workspace.onDidChangeConfiguration(()=>{this.refreshTrace(e,!0);}));}refreshTrace(e,t=!1){let r=Me.workspace.getConfiguration(this._id),i=V.Trace.Off,s=V.TraceFormat.Text;if(r){let o=r.get("trace.server","off");typeof o=="string"?i=V.Trace.fromString(o):(i=V.Trace.fromString(r.get("trace.server.verbosity","off")),s=V.TraceFormat.fromString(r.get("trace.server.format","text")));}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch(o=>{this.error("Updating trace failed with error",o,!1);});}hookFileEvents(e){let t=this._clientOptions.synchronize.fileEvents;if(!t)return;let r;rr.array(t)?r=t:r=[t],r&&this._dynamicFeatures.get(V.DidChangeWatchedFilesNotification.type.method).registerRaw(k0.generateUuid(),r);}registerFeatures(e){for(let t of e)this.registerFeature(t);}registerFeature(e){if(this._features.push(e),nr.DynamicFeature.is(e)){let t=e.registrationType;this._dynamicFeatures.set(t.method,e);}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){let t=this.getFeature(V.NotebookDocumentSyncRegistrationType.method);return t===void 0||!(t instanceof q0.NotebookDocumentSyncFeature)?!1:t.handles(e)}registerBuiltinFeatures(){let e=new Map;this.registerFeature(new I0.ConfigurationFeature(this)),this.registerFeature(new to.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this._didChangeTextDocumentFeature=new to.DidChangeTextDocumentFeature(this,e),this._didChangeTextDocumentFeature.onPendingChangeAdded(()=>{this.triggerPendingChangeDelivery();}),this.registerFeature(this._didChangeTextDocumentFeature),this.registerFeature(new to.WillSaveFeature(this)),this.registerFeature(new to.WillSaveWaitUntilFeature(this)),this.registerFeature(new to.DidSaveTextDocumentFeature(this)),this.registerFeature(new to.DidCloseTextDocumentFeature(this,this._syncedDocuments,e)),this.registerFeature(new SM.FileSystemWatcherFeature(this,t=>this.notifyFileEvent(t))),this.registerFeature(new cM.CompletionItemFeature(this)),this.registerFeature(new uM.HoverFeature(this)),this.registerFeature(new dM.SignatureHelpFeature(this)),this.registerFeature(new lM.DefinitionFeature(this)),this.registerFeature(new gM.ReferencesFeature(this)),this.registerFeature(new fM.DocumentHighlightFeature(this)),this.registerFeature(new hM.DocumentSymbolFeature(this)),this.registerFeature(new pM.WorkspaceSymbolFeature(this)),this.registerFeature(new mM.CodeActionFeature(this)),this.registerFeature(new yM.CodeLensFeature(this)),this.registerFeature(new By.DocumentFormattingFeature(this)),this.registerFeature(new By.DocumentRangeFormattingFeature(this)),this.registerFeature(new By.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new vM.RenameFeature(this)),this.registerFeature(new wM.DocumentLinkFeature(this)),this.registerFeature(new bM.ExecuteCommandFeature(this)),this.registerFeature(new I0.SyncConfigurationFeature(this)),this.registerFeature(new DM.TypeDefinitionFeature(this)),this.registerFeature(new _M.ImplementationFeature(this)),this.registerFeature(new CM.ColorProviderFeature(this)),this.clientOptions.workspaceFolder===void 0&&this.registerFeature(new TM.WorkspaceFoldersFeature(this)),this.registerFeature(new RM.FoldingRangeFeature(this)),this.registerFeature(new PM.DeclarationFeature(this)),this.registerFeature(new EM.SelectionRangeFeature(this)),this.registerFeature(new kM.ProgressFeature(this)),this.registerFeature(new qM.CallHierarchyFeature(this)),this.registerFeature(new IM.SemanticTokensFeature(this)),this.registerFeature(new OM.LinkedEditingFeature(this)),this.registerFeature(new no.DidCreateFilesFeature(this)),this.registerFeature(new no.DidRenameFilesFeature(this)),this.registerFeature(new no.DidDeleteFilesFeature(this)),this.registerFeature(new no.WillCreateFilesFeature(this)),this.registerFeature(new no.WillRenameFilesFeature(this)),this.registerFeature(new no.WillDeleteFilesFeature(this)),this.registerFeature(new NM.TypeHierarchyFeature(this)),this.registerFeature(new xM.InlineValueFeature(this)),this.registerFeature(new AM.InlayHintsFeature(this)),this.registerFeature(new aM.DiagnosticFeature(this)),this.registerFeature(new q0.NotebookDocumentSyncFeature(this));}registerProposedFeatures(){this.registerFeatures(Jy.createAll(this));}fillInitializeParams(e){for(let t of this._features)rr.func(t.fillInitializeParams)&&t.fillInitializeParams(e);}computeClientCapabilities(){let e={};(0, nr.ensure)(e,"workspace").applyEdit=!0;let t=(0, nr.ensure)((0, nr.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[V.ResourceOperationKind.Create,V.ResourceOperationKind.Rename,V.ResourceOperationKind.Delete],t.failureHandling=V.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};let r=(0, nr.ensure)((0, nr.ensure)(e,"textDocument"),"publishDiagnostics");r.relatedInformation=!0,r.versionSupport=!1,r.tagSupport={valueSet:[V.DiagnosticTag.Unnecessary,V.DiagnosticTag.Deprecated]},r.codeDescriptionSupport=!0,r.dataSupport=!0;let i=(0, nr.ensure)(e,"window"),s=(0, nr.ensure)(i,"showMessage");s.messageActionItem={additionalPropertiesSupport:!0};let o=(0, nr.ensure)(i,"showDocument");o.support=!0;let a=(0, nr.ensure)(e,"general");a.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(n.RequestsToCancelOnContentModified)},a.regularExpressions={engine:"ECMAScript",version:"ES2020"},a.markdown={parser:"marked",version:"1.1.0"},a.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(a.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let c of this._features)c.fillClientCapabilities(e);return e}initializeFeatures(e){let t=this._clientOptions.documentSelector;for(let r of this._features)rr.func(r.preInitialize)&&r.preInitialize(this._capabilities,t);for(let r of this._features)r.initialize(this._capabilities,t);}async handleRegistrationRequest(e){let t=this.clientOptions.middleware?.handleRegisterCapability;return t?t(e,r=>this.doRegisterCapability(r)):this.doRegisterCapability(e)}async doRegisterCapability(e){if(!this.isRunning()){for(let t of e.registrations)this._ignoredRegistrations.add(t.id);return}for(let t of e.registrations){let r=this._dynamicFeatures.get(t.method);if(r===void 0)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));let i=t.registerOptions??{};i.documentSelector=i.documentSelector??this._clientOptions.documentSelector;let s={id:t.id,registerOptions:i};try{r.register(s);}catch(o){return Promise.reject(o)}}}async handleUnregistrationRequest(e){let t=this.clientOptions.middleware?.handleUnregisterCapability;return t?t(e,r=>this.doUnregisterCapability(r)):this.doUnregisterCapability(e)}async doUnregisterCapability(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;let r=this._dynamicFeatures.get(t.method);if(!r)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));r.unregister(t.id);}}async handleApplyWorkspaceEdit(e){let t=e.edit,r=await this.workspaceEditLock.lock(()=>this._p2c.asWorkspaceEdit(t)),i=new Map;Me.workspace.textDocuments.forEach(o=>i.set(o.uri.toString(),o));let s=!1;if(t.documentChanges){for(let o of t.documentChanges)if(V.TextDocumentEdit.is(o)&&o.textDocument.version&&o.textDocument.version>=0){let a=this._p2c.asUri(o.textDocument.uri).toString(),c=i.get(a);if(c&&c.version!==o.textDocument.version){s=!0;break}}}return s?Promise.resolve({applied:!1}):rr.asPromise(Me.workspace.applyEdit(r).then(o=>({applied:o})))}handleFailedRequest(e,t,r,i,s=!0){if(r instanceof V.ResponseError){if(r.code===V.ErrorCodes.PendingResponseRejected||r.code===V.ErrorCodes.ConnectionInactive)return i;if(r.code===V.LSPErrorCodes.RequestCancelled||r.code===V.LSPErrorCodes.ServerCancelled){if(t!==void 0&&t.isCancellationRequested)return i;throw r.data!==void 0?new nr.LSPCancellationError(r.data):new Me.CancellationError}else if(r.code===V.LSPErrorCodes.ContentModified){if(n.RequestsToCancelOnContentModified.has(e.method)||n.CancellableResolveCalls.has(e.method))throw new Me.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,r,s),r}};qt.BaseLanguageClient=ka;ka.RequestsToCancelOnContentModified=new Set([V.SemanticTokensRequest.method,V.SemanticTokensRangeRequest.method,V.SemanticTokensDeltaRequest.method]);ka.CancellableResolveCalls=new Set([V.CompletionResolveRequest.method,V.CodeLensResolveRequest.method,V.CodeActionResolveRequest.method,V.InlayHintResolveRequest.method,V.DocumentLinkResolveRequest.method,V.WorkspaceSymbolResolveRequest.method]);var Yy=class{error(e){(0, V.RAL)().console.error(e);}warn(e){(0, V.RAL)().console.warn(e);}info(e){(0, V.RAL)().console.info(e);}log(e){(0, V.RAL)().console.log(e);}};function FM(n,e,t,r,i){let s=new Yy,o=(0, V.createProtocolConnection)(n,e,s,i);return o.onError(c=>{t(c[0],c[1],c[2]);}),o.onClose(r),{listen:()=>o.listen(),sendRequest:o.sendRequest,onRequest:o.onRequest,hasPendingResponse:o.hasPendingResponse,sendNotification:o.sendNotification,onNotification:o.onNotification,onProgress:o.onProgress,sendProgress:o.sendProgress,trace:(c,u,f)=>{let h={sendNotification:!1,traceFormat:V.TraceFormat.Text};return f===void 0?o.trace(c,u,h):(rr.boolean(f),o.trace(c,u,f))},initialize:c=>o.sendRequest(V.InitializeRequest.type,c),shutdown:()=>o.sendRequest(V.ShutdownRequest.type,void 0),exit:()=>o.sendNotification(V.ExitNotification.type),end:()=>o.end(),dispose:()=>o.dispose()}}var Jy;(function(n){function e(t){return [new LM.InlineCompletionItemFeature(t)]}n.createAll=e;})(Jy||(qt.ProposedFeatures=Jy={}));});var A0=E(Gl=>{d();Object.defineProperty(Gl,"__esModule",{value:!0});Gl.terminate=void 0;var x0=Y("child_process"),MM=Y("path"),jM=process.platform==="win32",$M=process.platform==="darwin",UM=process.platform==="linux";function HM(n,e){if(jM)try{let i={stdio:["pipe","pipe","ignore"]};return e&&(i.cwd=e),x0.execFileSync("taskkill",["/T","/F","/PID",n.pid.toString()],i),!0}catch{return !1}else if(UM||$M)try{var t=(0,MM.join)(__dirname,"terminateProcess.sh"),r=x0.spawnSync(t,[n.pid.toString()]);return !r.error}catch{return !1}else return n.kill("SIGKILL"),!0}Gl.terminate=HM;});var Qy=E((Q3,L0)=>{d();L0.exports=se();});var qa=E((eG,F0)=>{d();var KM=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{};F0.exports=KM;});var Yl=E((nG,M0)=>{d();var WM="2.0.0",VM=Number.MAX_SAFE_INTEGER||9007199254740991,BM=16,zM=250,GM=["major","premajor","minor","preminor","patch","prepatch","prerelease"];M0.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:BM,MAX_SAFE_BUILD_LENGTH:zM,MAX_SAFE_INTEGER:VM,RELEASE_TYPES:GM,SEMVER_SPEC_VERSION:WM,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};});var Jl=E((jr,j0)=>{d();var{MAX_SAFE_COMPONENT_LENGTH:Zy,MAX_SAFE_BUILD_LENGTH:YM,MAX_LENGTH:JM}=Yl(),XM=qa();jr=j0.exports={};var QM=jr.re=[],ZM=jr.safeRe=[],X=jr.src=[],Q=jr.t={},ej=0,ev="[a-zA-Z0-9-]",tj=[["\\s",1],["\\d",JM],[ev,YM]],nj=n=>{for(let[e,t]of tj)n=n.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return n},le=(n,e,t)=>{let r=nj(e),i=ej++;XM(n,i,e),Q[n]=i,X[i]=e,QM[i]=new RegExp(e,t?"g":void 0),ZM[i]=new RegExp(r,t?"g":void 0);};le("NUMERICIDENTIFIER","0|[1-9]\\d*");le("NUMERICIDENTIFIERLOOSE","\\d+");le("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${ev}*`);le("MAINVERSION",`(${X[Q.NUMERICIDENTIFIER]})\\.(${X[Q.NUMERICIDENTIFIER]})\\.(${X[Q.NUMERICIDENTIFIER]})`);le("MAINVERSIONLOOSE",`(${X[Q.NUMERICIDENTIFIERLOOSE]})\\.(${X[Q.NUMERICIDENTIFIERLOOSE]})\\.(${X[Q.NUMERICIDENTIFIERLOOSE]})`);le("PRERELEASEIDENTIFIER",`(?:${X[Q.NUMERICIDENTIFIER]}|${X[Q.NONNUMERICIDENTIFIER]})`);le("PRERELEASEIDENTIFIERLOOSE",`(?:${X[Q.NUMERICIDENTIFIERLOOSE]}|${X[Q.NONNUMERICIDENTIFIER]})`);le("PRERELEASE",`(?:-(${X[Q.PRERELEASEIDENTIFIER]}(?:\\.${X[Q.PRERELEASEIDENTIFIER]})*))`);le("PRERELEASELOOSE",`(?:-?(${X[Q.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${X[Q.PRERELEASEIDENTIFIERLOOSE]})*))`);le("BUILDIDENTIFIER",`${ev}+`);le("BUILD",`(?:\\+(${X[Q.BUILDIDENTIFIER]}(?:\\.${X[Q.BUILDIDENTIFIER]})*))`);le("FULLPLAIN",`v?${X[Q.MAINVERSION]}${X[Q.PRERELEASE]}?${X[Q.BUILD]}?`);le("FULL",`^${X[Q.FULLPLAIN]}$`);le("LOOSEPLAIN",`[v=\\s]*${X[Q.MAINVERSIONLOOSE]}${X[Q.PRERELEASELOOSE]}?${X[Q.BUILD]}?`);le("LOOSE",`^${X[Q.LOOSEPLAIN]}$`);le("GTLT","((?:<|>)?=?)");le("XRANGEIDENTIFIERLOOSE",`${X[Q.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);le("XRANGEIDENTIFIER",`${X[Q.NUMERICIDENTIFIER]}|x|X|\\*`);le("XRANGEPLAIN",`[v=\\s]*(${X[Q.XRANGEIDENTIFIER]})(?:\\.(${X[Q.XRANGEIDENTIFIER]})(?:\\.(${X[Q.XRANGEIDENTIFIER]})(?:${X[Q.PRERELEASE]})?${X[Q.BUILD]}?)?)?`);le("XRANGEPLAINLOOSE",`[v=\\s]*(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:\\.(${X[Q.XRANGEIDENTIFIERLOOSE]})(?:${X[Q.PRERELEASELOOSE]})?${X[Q.BUILD]}?)?)?`);le("XRANGE",`^${X[Q.GTLT]}\\s*${X[Q.XRANGEPLAIN]}$`);le("XRANGELOOSE",`^${X[Q.GTLT]}\\s*${X[Q.XRANGEPLAINLOOSE]}$`);le("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Zy}})(?:\\.(\\d{1,${Zy}}))?(?:\\.(\\d{1,${Zy}}))?`);le("COERCE",`${X[Q.COERCEPLAIN]}(?:$|[^\\d])`);le("COERCEFULL",X[Q.COERCEPLAIN]+`(?:${X[Q.PRERELEASE]})?(?:${X[Q.BUILD]})?(?:$|[^\\d])`);le("COERCERTL",X[Q.COERCE],!0);le("COERCERTLFULL",X[Q.COERCEFULL],!0);le("LONETILDE","(?:~>?)");le("TILDETRIM",`(\\s*)${X[Q.LONETILDE]}\\s+`,!0);jr.tildeTrimReplace="$1~";le("TILDE",`^${X[Q.LONETILDE]}${X[Q.XRANGEPLAIN]}$`);le("TILDELOOSE",`^${X[Q.LONETILDE]}${X[Q.XRANGEPLAINLOOSE]}$`);le("LONECARET","(?:\\^)");le("CARETTRIM",`(\\s*)${X[Q.LONECARET]}\\s+`,!0);jr.caretTrimReplace="$1^";le("CARET",`^${X[Q.LONECARET]}${X[Q.XRANGEPLAIN]}$`);le("CARETLOOSE",`^${X[Q.LONECARET]}${X[Q.XRANGEPLAINLOOSE]}$`);le("COMPARATORLOOSE",`^${X[Q.GTLT]}\\s*(${X[Q.LOOSEPLAIN]})$|^$`);le("COMPARATOR",`^${X[Q.GTLT]}\\s*(${X[Q.FULLPLAIN]})$|^$`);le("COMPARATORTRIM",`(\\s*)${X[Q.GTLT]}\\s*(${X[Q.LOOSEPLAIN]}|${X[Q.XRANGEPLAIN]})`,!0);jr.comparatorTrimReplace="$1$2$3";le("HYPHENRANGE",`^\\s*(${X[Q.XRANGEPLAIN]})\\s+-\\s+(${X[Q.XRANGEPLAIN]})\\s*$`);le("HYPHENRANGELOOSE",`^\\s*(${X[Q.XRANGEPLAINLOOSE]})\\s+-\\s+(${X[Q.XRANGEPLAINLOOSE]})\\s*$`);le("STAR","(<|>)?=?\\s*\\*");le("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");le("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$");});var Xl=E((sG,$0)=>{d();var rj=Object.freeze({loose:!0}),ij=Object.freeze({}),sj=n=>n?typeof n!="object"?rj:n:ij;$0.exports=sj;});var W0=E((aG,K0)=>{d();var U0=/^[0-9]+$/,H0=(n,e)=>{let t=U0.test(n),r=U0.test(e);return t&&r&&(n=+n,e=+e),n===e?0:t&&!r?-1:r&&!t?1:n<e?-1:1},oj=(n,e)=>H0(e,n);K0.exports={compareIdentifiers:H0,rcompareIdentifiers:oj};});var Ia=E((uG,G0)=>{d();var Ql=qa(),{MAX_LENGTH:V0,MAX_SAFE_INTEGER:Zl}=Yl(),{safeRe:B0,t:z0}=Jl(),aj=Xl(),{compareIdentifiers:ro}=W0(),tv=class n{constructor(e,t){if(t=aj(t),e instanceof n){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version;}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>V0)throw new TypeError(`version is longer than ${V0} characters`);Ql("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let r=e.trim().match(t.loose?B0[z0.LOOSE]:B0[z0.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Zl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Zl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Zl||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Zl)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format();}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Ql("SemVer.compare",this.version,this.options,e),!(e instanceof n)){if(typeof e=="string"&&e===this.version)return 0;e=new n(e,this.options);}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof n||(e=new n(e,this.options)),ro(this.major,e.major)||ro(this.minor,e.minor)||ro(this.patch,e.patch)}comparePre(e){if(e instanceof n||(e=new n(e,this.options)),this.prerelease.length&&!e.prerelease.length)return -1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let r=this.prerelease[t],i=e.prerelease[t];if(Ql("prerelease compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return -1;if(r===i)continue;return ro(r,i)}while(++t)}compareBuild(e){e instanceof n||(e=new n(e,this.options));let t=0;do{let r=this.build[t],i=e.build[t];if(Ql("build compare",t,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return -1;if(r===i)continue;return ro(r,i)}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,r),this.inc("pre",t,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,r),this.inc("pre",t,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!t&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else {let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(t===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i);}}if(t){let s=[t,i];r===!1&&(s=[t]),ro(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s;}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};G0.exports=tv;});var X0=E((dG,J0)=>{d();var Y0=Ia(),cj=(n,e,t=!1)=>{if(n instanceof Y0)return n;try{return new Y0(n,e)}catch(r){if(!t)return null;throw r}};J0.exports=cj;});var Z0=E((hG,Q0)=>{d();var nv=class{constructor(){this.max=1e3,this.map=new Map;}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i);}this.map.set(e,t);}return this}};Q0.exports=nv;});var rs=E((gG,tE)=>{d();var eE=Ia(),uj=(n,e,t)=>new eE(n,t).compare(new eE(e,t));tE.exports=uj;});var rE=E((yG,nE)=>{d();var lj=rs(),dj=(n,e,t)=>lj(n,e,t)===0;nE.exports=dj;});var sE=E((wG,iE)=>{d();var fj=rs(),hj=(n,e,t)=>fj(n,e,t)!==0;iE.exports=hj;});var aE=E((SG,oE)=>{d();var pj=rs(),gj=(n,e,t)=>pj(n,e,t)>0;oE.exports=gj;});var uE=E((_G,cE)=>{d();var mj=rs(),yj=(n,e,t)=>mj(n,e,t)>=0;cE.exports=yj;});var dE=E((TG,lE)=>{d();var vj=rs(),wj=(n,e,t)=>vj(n,e,t)<0;lE.exports=wj;});var hE=E((PG,fE)=>{d();var bj=rs(),Sj=(n,e,t)=>bj(n,e,t)<=0;fE.exports=Sj;});var gE=E((kG,pE)=>{d();var Cj=rE(),_j=sE(),Dj=aE(),Tj=uE(),Rj=dE(),Pj=hE(),Ej=(n,e,t,r)=>{switch(e){case"===":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n===t;case"!==":return typeof n=="object"&&(n=n.version),typeof t=="object"&&(t=t.version),n!==t;case"":case"=":case"==":return Cj(n,t,r);case"!=":return _j(n,t,r);case">":return Dj(n,t,r);case">=":return Tj(n,t,r);case"<":return Rj(n,t,r);case"<=":return Pj(n,t,r);default:throw new TypeError(`Invalid operator: ${e}`)}};pE.exports=Ej;});var CE=E((IG,SE)=>{d();var Oa=Symbol("SemVer ANY"),sv=class n{static get ANY(){return Oa}constructor(e,t){if(t=mE(t),e instanceof n){if(e.loose===!!t.loose)return e;e=e.value;}e=e.trim().split(/\s+/).join(" "),iv("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Oa?this.value="":this.value=this.operator+this.semver.version,iv("comp",this);}parse(e){let t=this.options.loose?yE[vE.COMPARATORLOOSE]:yE[vE.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new wE(r[2],this.options.loose):this.semver=Oa;}toString(){return this.value}test(e){if(iv("Comparator.test",e,this.options.loose),this.semver===Oa||e===Oa)return !0;if(typeof e=="string")try{e=new wE(e,this.options);}catch{return !1}return rv(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new bE(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new bE(this.value,t).test(e.semver):(t=mE(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||rv(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||rv(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};SE.exports=sv;var mE=Xl(),{safeRe:yE,t:vE}=Jl(),rv=gE(),iv=qa(),wE=Ia(),bE=ov();});var ov=E((NG,RE)=>{d();var kj=/\s+/g,av=class n{constructor(e,t){if(t=Ij(t),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof cv)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(kj," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!DE(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&Mj(i[0])){this.set=[i];break}}}this.formatted=void 0;}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let t=this.set[e];for(let r=0;r<t.length;r++)r>0&&(this.formatted+=" "),this.formatted+=t[r].toString().trim();}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&Lj)|(this.options.loose&&Fj))+":"+e,i=_E.get(r);if(i)return i;let s=this.options.loose,o=s?gn[Xt.HYPHENRANGELOOSE]:gn[Xt.HYPHENRANGE];e=e.replace(o,Gj(this.options.includePrerelease)),Je("hyphen replace",e),e=e.replace(gn[Xt.COMPARATORTRIM],Nj),Je("comparator trim",e),e=e.replace(gn[Xt.TILDETRIM],xj),Je("tilde trim",e),e=e.replace(gn[Xt.CARETTRIM],Aj),Je("caret trim",e);let a=e.split(" ").map(h=>jj(h,this.options)).join(" ").split(/\s+/).map(h=>zj(h,this.options));s&&(a=a.filter(h=>(Je("loose invalid filter",h,this.options),!!h.match(gn[Xt.COMPARATORLOOSE])))),Je("range list",a);let c=new Map,u=a.map(h=>new cv(h,this.options));for(let h of u){if(DE(h))return [h];c.set(h.value,h);}c.size>1&&c.has("")&&c.delete("");let f=[...c.values()];return _E.set(r,f),f}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>TE(r,t)&&e.set.some(i=>TE(i,t)&&r.every(s=>i.every(o=>s.intersects(o,t)))))}test(e){if(!e)return !1;if(typeof e=="string")try{e=new Oj(e,this.options);}catch{return !1}for(let t=0;t<this.set.length;t++)if(Yj(this.set[t],e,this.options))return !0;return !1}};RE.exports=av;var qj=Z0(),_E=new qj,Ij=Xl(),cv=CE(),Je=qa(),Oj=Ia(),{safeRe:gn,t:Xt,comparatorTrimReplace:Nj,tildeTrimReplace:xj,caretTrimReplace:Aj}=Jl(),{FLAG_INCLUDE_PRERELEASE:Lj,FLAG_LOOSE:Fj}=Yl(),DE=n=>n.value==="<0.0.0-0",Mj=n=>n.value==="",TE=(n,e)=>{let t=!0,r=n.slice(),i=r.pop();for(;t&&r.length;)t=r.every(s=>i.intersects(s,e)),i=r.pop();return t},jj=(n,e)=>(Je("comp",n,e),n=Hj(n,e),Je("caret",n),n=$j(n,e),Je("tildes",n),n=Wj(n,e),Je("xrange",n),n=Bj(n,e),Je("stars",n),n),Qt=n=>!n||n.toLowerCase()==="x"||n==="*",$j=(n,e)=>n.trim().split(/\s+/).map(t=>Uj(t,e)).join(" "),Uj=(n,e)=>{let t=e.loose?gn[Xt.TILDELOOSE]:gn[Xt.TILDE];return n.replace(t,(r,i,s,o,a)=>{Je("tilde",n,r,i,s,o,a);let c;return Qt(i)?c="":Qt(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:Qt(o)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:a?(Je("replaceTilde pr",a),c=`>=${i}.${s}.${o}-${a} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${o} <${i}.${+s+1}.0-0`,Je("tilde return",c),c})},Hj=(n,e)=>n.trim().split(/\s+/).map(t=>Kj(t,e)).join(" "),Kj=(n,e)=>{Je("caret",n,e);let t=e.loose?gn[Xt.CARETLOOSE]:gn[Xt.CARET],r=e.includePrerelease?"-0":"";return n.replace(t,(i,s,o,a,c)=>{Je("caret",n,i,s,o,a,c);let u;return Qt(s)?u="":Qt(o)?u=`>=${s}.0.0${r} <${+s+1}.0.0-0`:Qt(a)?s==="0"?u=`>=${s}.${o}.0${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.0${r} <${+s+1}.0.0-0`:c?(Je("replaceCaret pr",c),s==="0"?o==="0"?u=`>=${s}.${o}.${a}-${c} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}-${c} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a}-${c} <${+s+1}.0.0-0`):(Je("no pr"),s==="0"?o==="0"?u=`>=${s}.${o}.${a}${r} <${s}.${o}.${+a+1}-0`:u=`>=${s}.${o}.${a}${r} <${s}.${+o+1}.0-0`:u=`>=${s}.${o}.${a} <${+s+1}.0.0-0`),Je("caret return",u),u})},Wj=(n,e)=>(Je("replaceXRanges",n,e),n.split(/\s+/).map(t=>Vj(t,e)).join(" ")),Vj=(n,e)=>{n=n.trim();let t=e.loose?gn[Xt.XRANGELOOSE]:gn[Xt.XRANGE];return n.replace(t,(r,i,s,o,a,c)=>{Je("xRange",n,r,i,s,o,a,c);let u=Qt(s),f=u||Qt(o),h=f||Qt(a),p=h;return i==="="&&p&&(i=""),c=e.includePrerelease?"-0":"",u?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&p?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(c="-0"),r=`${i+s}.${o}.${a}${c}`):f?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:h&&(r=`>=${s}.${o}.0${c} <${s}.${+o+1}.0-0`),Je("xRange return",r),r})},Bj=(n,e)=>(Je("replaceStars",n,e),n.trim().replace(gn[Xt.STAR],"")),zj=(n,e)=>(Je("replaceGTE0",n,e),n.trim().replace(gn[e.includePrerelease?Xt.GTE0PRE:Xt.GTE0],"")),Gj=n=>(e,t,r,i,s,o,a,c,u,f,h,p)=>(Qt(r)?t="":Qt(i)?t=`>=${r}.0.0${n?"-0":""}`:Qt(s)?t=`>=${r}.${i}.0${n?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${n?"-0":""}`,Qt(u)?c="":Qt(f)?c=`<${+u+1}.0.0-0`:Qt(h)?c=`<${u}.${+f+1}.0-0`:p?c=`<=${u}.${f}.${h}-${p}`:n?c=`<${u}.${f}.${+h+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Yj=(n,e,t)=>{for(let r=0;r<n.length;r++)if(!n[r].test(e))return !1;if(e.prerelease.length&&!t.includePrerelease){for(let r=0;r<n.length;r++)if(Je(n[r].semver),n[r].semver!==cv.ANY&&n[r].semver.prerelease.length>0){let i=n[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return !0}return !1}return !0};});var EE=E((AG,PE)=>{d();var Jj=ov(),Xj=(n,e,t)=>{try{e=new Jj(e,t);}catch{return !1}return e.test(n)};PE.exports=Xj;});var qE=E(Tn=>{d();var Qj=Tn&&Tn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),uv=Tn&&Tn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Qj(e,n,t);};Object.defineProperty(Tn,"__esModule",{value:!0});Tn.DiagnosticPullMode=Tn.vsdiag=void 0;uv(se(),Tn);uv(Te(),Tn);var kE=mm();Object.defineProperty(Tn,"vsdiag",{enumerable:!0,get:function(){return kE.vsdiag}});Object.defineProperty(Tn,"DiagnosticPullMode",{enumerable:!0,get:function(){return kE.DiagnosticPullMode}});uv(Xy(),Tn);});var vv=E(mn=>{d();var Zj=mn&&mn.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),NE=mn&&mn.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Zj(e,n,t);};Object.defineProperty(mn,"__esModule",{value:!0});mn.SettingMonitor=mn.LanguageClient=mn.TransportKind=void 0;var $r=Y("child_process"),lv=Y("fs"),dv=Y("path"),Pi=Y("vscode"),nt=Fn(),IE=Xy(),e$=A0(),at=Qy(),t$=X0(),n$=EE();NE(Qy(),mn);NE(qE(),mn);var OE="^1.82.0",ct;(function(n){n[n.stdio=0]="stdio",n[n.ipc=1]="ipc",n[n.pipe=2]="pipe",n[n.socket=3]="socket";})(ct||(mn.TransportKind=ct={}));var Ri;(function(n){function e(t){let r=t;return r&&r.kind===ct.socket&&nt.number(r.port)}n.isSocket=e;})(Ri||(Ri={}));var fv;(function(n){function e(t){return nt.string(t.command)}n.is=e;})(fv||(fv={}));var hv;(function(n){function e(t){return nt.string(t.module)}n.is=e;})(hv||(hv={}));var pv;(function(n){function e(t){let r=t;return r&&r.writer!==void 0&&r.reader!==void 0}n.is=e;})(pv||(pv={}));var gv;(function(n){function e(t){let r=t;return r&&r.process!==void 0&&typeof r.detached=="boolean"}n.is=e;})(gv||(gv={}));var mv=class extends IE.BaseLanguageClient{constructor(e,t,r,i,s){let o,a,c,u,f;nt.string(t)?(o=e,a=t,c=r,u=i,f=!!s):(o=e.toLowerCase(),a=e,c=t,u=r,f=i),f===void 0&&(f=!1),super(o,a,u),this._serverOptions=c,this._forceDebug=f,this._isInDebugMode=f;try{this.checkVersion();}catch(h){throw nt.string(h.message)&&this.outputChannel.appendLine(h.message),h}}checkVersion(){let e=t$(Pi.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${Pi.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!n$(e,OE))throw new Error(`The language client requires VS Code version ${OE} but received version ${Pi.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise(e=>setTimeout(e,1e3)),await this.start()):await this.start();}stop(e=2e3){return super.stop(e).finally(()=>{if(this._serverProcess){let t=this._serverProcess;this._serverProcess=void 0,(this._isDetached===void 0||!this._isDetached)&&this.checkProcessDied(t),this._isDetached=void 0;}})}checkProcessDied(e){!e||e.pid===void 0||setTimeout(()=>{try{e.pid!==void 0&&(process.kill(e.pid,0),(0,e$.terminate)(e));}catch{}},2e3);}handleConnectionClosed(){return this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),e.processId===null&&(e.processId=process.pid);}createMessageTransports(e){function t(f,h){if(!f&&!h)return;let p=Object.create(null);return Object.keys(process.env).forEach(w=>p[w]=process.env[w]),h&&(p.ELECTRON_RUN_AS_NODE="1",p.ELECTRON_NO_ASAR="1"),f&&Object.keys(f).forEach(w=>p[w]=f[w]),p}let r=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],i=["--debug","--debug-brk","--inspect","--inspect-brk"];function s(){let f=process.execArgv;return f?f.some(h=>r.some(p=>h.startsWith(p))||i.some(p=>h===p)):!1}function o(f){if(f.stdin===null||f.stdout===null||f.stderr===null)throw new Error("Process created without stdio streams")}let a=this._serverOptions;if(nt.func(a))return a().then(f=>{if(IE.MessageTransports.is(f))return this._isDetached=!!f.detached,f;if(pv.is(f))return this._isDetached=!!f.detached,{reader:new at.StreamMessageReader(f.reader),writer:new at.StreamMessageWriter(f.writer)};{let h;return gv.is(f)?(h=f.process,this._isDetached=f.detached):(h=f,this._isDetached=!1),h.stderr.on("data",p=>this.outputChannel.append(nt.string(p)?p:p.toString(e))),{reader:new at.StreamMessageReader(h.stdout),writer:new at.StreamMessageWriter(h.stdin)}}});let c,u=a;return u.run||u.debug?this._forceDebug||s()?(c=u.debug,this._isInDebugMode=!0):(c=u.run,this._isInDebugMode=!1):c=a,this._getServerWorkingDir(c.options).then(f=>{if(hv.is(c)&&c.module){let h=c,p=h.transport||ct.stdio;if(h.runtime){let w=[],y=h.options??Object.create(null);y.execArgv&&y.execArgv.forEach(O=>w.push(O)),w.push(h.module),h.args&&h.args.forEach(O=>w.push(O));let b=Object.create(null);b.cwd=f,b.env=t(y.env,!1);let C=this._getRuntimePath(h.runtime,f),k;if(p===ct.ipc?(b.stdio=[null,null,null,"ipc"],w.push("--node-ipc")):p===ct.stdio?w.push("--stdio"):p===ct.pipe?(k=(0, at.generateRandomPipeName)(),w.push(`--pipe=${k}`)):Ri.isSocket(p)&&w.push(`--socket=${p.port}`),w.push(`--clientProcessId=${process.pid.toString()}`),p===ct.ipc||p===ct.stdio){let O=$r.spawn(C,w,b);return !O||!O.pid?io(O,`Launching server using runtime ${C} failed.`):(this._serverProcess=O,O.stderr.on("data",N=>this.outputChannel.append(nt.string(N)?N:N.toString(e))),p===ct.ipc?(O.stdout.on("data",N=>this.outputChannel.append(nt.string(N)?N:N.toString(e))),Promise.resolve({reader:new at.IPCMessageReader(O),writer:new at.IPCMessageWriter(O)})):Promise.resolve({reader:new at.StreamMessageReader(O.stdout),writer:new at.StreamMessageWriter(O.stdin)}))}else {if(p===ct.pipe)return (0, at.createClientPipeTransport)(k).then(O=>{let N=$r.spawn(C,w,b);return !N||!N.pid?io(N,`Launching server using runtime ${C} failed.`):(this._serverProcess=N,N.stderr.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))});if(Ri.isSocket(p))return (0, at.createClientSocketTransport)(p.port).then(O=>{let N=$r.spawn(C,w,b);return !N||!N.pid?io(N,`Launching server using runtime ${C} failed.`):(this._serverProcess=N,N.stderr.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),O.onConnected().then(A=>({reader:A[0],writer:A[1]})))})}}else {let w;return new Promise((y,b)=>{let C=(h.args&&h.args.slice())??[];p===ct.ipc?C.push("--node-ipc"):p===ct.stdio?C.push("--stdio"):p===ct.pipe?(w=(0, at.generateRandomPipeName)(),C.push(`--pipe=${w}`)):Ri.isSocket(p)&&C.push(`--socket=${p.port}`),C.push(`--clientProcessId=${process.pid.toString()}`);let k=h.options??Object.create(null);if(k.env=t(k.env,!0),k.execArgv=k.execArgv||[],k.cwd=f,k.silent=!0,p===ct.ipc||p===ct.stdio){let O=$r.fork(h.module,C||[],k);o(O),this._serverProcess=O,O.stderr.on("data",N=>this.outputChannel.append(nt.string(N)?N:N.toString(e))),p===ct.ipc?(O.stdout.on("data",N=>this.outputChannel.append(nt.string(N)?N:N.toString(e))),y({reader:new at.IPCMessageReader(this._serverProcess),writer:new at.IPCMessageWriter(this._serverProcess)})):y({reader:new at.StreamMessageReader(O.stdout),writer:new at.StreamMessageWriter(O.stdin)});}else p===ct.pipe?(0, at.createClientPipeTransport)(w).then(O=>{let N=$r.fork(h.module,C||[],k);o(N),this._serverProcess=N,N.stderr.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),O.onConnected().then(A=>{y({reader:A[0],writer:A[1]});},b);},b):Ri.isSocket(p)&&(0, at.createClientSocketTransport)(p.port).then(O=>{let N=$r.fork(h.module,C||[],k);o(N),this._serverProcess=N,N.stderr.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),N.stdout.on("data",A=>this.outputChannel.append(nt.string(A)?A:A.toString(e))),O.onConnected().then(A=>{y({reader:A[0],writer:A[1]});},b);},b);})}}else if(fv.is(c)&&c.command){let h=c,p=c.args!==void 0?c.args.slice(0):[],w,y=c.transport;if(y===ct.stdio)p.push("--stdio");else if(y===ct.pipe)w=(0, at.generateRandomPipeName)(),p.push(`--pipe=${w}`);else if(Ri.isSocket(y))p.push(`--socket=${y.port}`);else if(y===ct.ipc)throw new Error("Transport kind ipc is not support for command executable");let b=Object.assign({},h.options);if(b.cwd=b.cwd||f,y===void 0||y===ct.stdio){let C=$r.spawn(h.command,p,b);return !C||!C.pid?io(C,`Launching server using command ${h.command} failed.`):(C.stderr.on("data",k=>this.outputChannel.append(nt.string(k)?k:k.toString(e))),this._serverProcess=C,this._isDetached=!!b.detached,Promise.resolve({reader:new at.StreamMessageReader(C.stdout),writer:new at.StreamMessageWriter(C.stdin)}))}else {if(y===ct.pipe)return (0, at.createClientPipeTransport)(w).then(C=>{let k=$r.spawn(h.command,p,b);return !k||!k.pid?io(k,`Launching server using command ${h.command} failed.`):(this._serverProcess=k,this._isDetached=!!b.detached,k.stderr.on("data",O=>this.outputChannel.append(nt.string(O)?O:O.toString(e))),k.stdout.on("data",O=>this.outputChannel.append(nt.string(O)?O:O.toString(e))),C.onConnected().then(O=>({reader:O[0],writer:O[1]})))});if(Ri.isSocket(y))return (0, at.createClientSocketTransport)(y.port).then(C=>{let k=$r.spawn(h.command,p,b);return !k||!k.pid?io(k,`Launching server using command ${h.command} failed.`):(this._serverProcess=k,this._isDetached=!!b.detached,k.stderr.on("data",O=>this.outputChannel.append(nt.string(O)?O:O.toString(e))),k.stdout.on("data",O=>this.outputChannel.append(nt.string(O)?O:O.toString(e))),C.onConnected().then(O=>({reader:O[0],writer:O[1]})))})}}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(a,null,4)))}).finally(()=>{this._serverProcess!==void 0&&this._serverProcess.on("exit",(f,h)=>{f!==null&&this.error(`Server process exited with code ${f}.`,void 0,!1),h!==null&&this.error(`Server process exited with signal ${h}.`,void 0,!1);});})}_getRuntimePath(e,t){if(dv.isAbsolute(e))return e;let r=this._mainGetRootPath();if(r!==void 0){let i=dv.join(r,e);if(lv.existsSync(i))return i}if(t!==void 0){let i=dv.join(t,e);if(lv.existsSync(i))return i}return e}_mainGetRootPath(){let e=Pi.workspace.workspaceFolders;if(!e||e.length===0)return;let t=e[0];if(t.uri.scheme==="file")return t.uri.fsPath}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise(r=>{lv.lstat(t,(i,s)=>{r(!i&&s.isDirectory()?t:void 0);});}):Promise.resolve(void 0)}};mn.LanguageClient=mv;var yv=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[];}start(){return Pi.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new Pi.Disposable(()=>{this._client.needsStop()&&this._client.stop();})}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,r=e>=0?this._setting.substr(e+1):void 0,i=r?Pi.workspace.getConfiguration(t).get(r,!1):Pi.workspace.getConfiguration(t);i&&this._client.needsStart()?this._client.start().catch(s=>this._client.error("Start failed after configuration change",s,"force")):!i&&this._client.needsStop()&&this._client.stop().catch(s=>this._client.error("Stop failed after configuration change",s,"force"));}};mn.SettingMonitor=yv;function io(n,e){return n===null?Promise.reject(e):new Promise((t,r)=>{n.on("error",i=>{r(`${e} ${i}`);}),setImmediate(()=>r(e));})}});var AE=E(je=>{d();var r$=je&&je.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),i$=je&&je.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&r$(e,n,t);};Object.defineProperty(je,"__esModule",{value:!0});je.currentLabsVersion=je.middleware=je.getTsdk=je.activateTsVersionStatusItem=je.activateTsConfigStatusItem=je.activateReloadProjects=je.activateFindFileReferences=je.activateWriteVirtualFiles=je.activateDocumentDropEdit=je.activateAutoInsertion=void 0;je.parseServerCommand=so;je.createLabsInfo=d$;var Ur=Y("vscode"),s$=RR();Object.defineProperty(je,"activateAutoInsertion",{enumerable:!0,get:function(){return s$.activate}});var o$=PR();Object.defineProperty(je,"activateDocumentDropEdit",{enumerable:!0,get:function(){return o$.activate}});var a$=ER();Object.defineProperty(je,"activateWriteVirtualFiles",{enumerable:!0,get:function(){return a$.activate}});var c$=FR();Object.defineProperty(je,"activateFindFileReferences",{enumerable:!0,get:function(){return c$.activate}});var u$=MR();Object.defineProperty(je,"activateReloadProjects",{enumerable:!0,get:function(){return u$.activate}});var l$=UR();Object.defineProperty(je,"activateTsConfigStatusItem",{enumerable:!0,get:function(){return l$.activate}});var xE=GR();Object.defineProperty(je,"activateTsVersionStatusItem",{enumerable:!0,get:function(){return xE.activate}});Object.defineProperty(je,"getTsdk",{enumerable:!0,get:function(){return xE.getTsdk}});i$(vv(),je);je.middleware={async provideCodeActions(n,e,t,r,i){let s=await i(n,e,t,r);return s=s?.map(o=>o instanceof Ur.CodeAction?(o.command&&(o.command=so(o.command)),o):so(o)),s},async resolveCodeAction(n,e,t){let r=await t(n,e);return r?.command&&(r.command=so(r.command)),r},async provideCodeLenses(n,e,t){let r=await t(n,e);return r=r?.map(i=>(i.command&&(i.command=so(i.command)),i)),r},async resolveCodeLens(n,e,t){let r=await t(n,e);return r?.command&&(r.command=so(r.command)),r}};function so(n){return n.command==="editor.action.rename"&&n.arguments?{...n,arguments:[[Ur.Uri.parse(n.arguments[0]),new Ur.Position(n.arguments[1].line,n.arguments[1].character)]]}:n.command==="editor.action.showReferences"&&n.arguments?{...n,arguments:[Ur.Uri.parse(n.arguments[0]),new Ur.Position(n.arguments[1].line,n.arguments[1].character),n.arguments[2].map(e=>new Ur.Location(Ur.Uri.parse(e.uri),new Ur.Range(e.range.start.line,e.range.start.character,e.range.end.line,e.range.end.character)))]}:n}je.currentLabsVersion="2.3.1";function d$(n){let e=new Ur.EventEmitter,t={volarLabs:{version:je.currentLabsVersion,languageClients:[],languageServerProtocol:n,onDidAddLanguageClient:e.event}};return {extensionExports:t,addLanguageClient(r){t.volarLabs.languageClients.push(r),e.fire(r);}}}});var FE=E((KG,LE)=>{d();LE.exports=vv();});var ME=E(is=>{d();var f$=is&&is.__createBinding||(Object.create?function(n,e,t,r){r===void 0&&(r=t);var i=Object.getOwnPropertyDescriptor(e,t);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(n,r,i);}:function(n,e,t,r){r===void 0&&(r=t),n[r]=e[t];}),h$=is&&is.__exportStar||function(n,e){for(var t in n)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&f$(e,n,t);};Object.defineProperty(is,"__esModule",{value:!0});h$(FE(),is);});d();d();d();function GE(n,e){let t=new Set(n.split(","));return r=>t.has(r)}var YE={},Ka=()=>{};var JE=(n,e)=>{let t=n.indexOf(e);t>-1&&n.splice(t,1);},XE=Object.prototype.hasOwnProperty,Wa=(n,e)=>XE.call(n,e),hr=Array.isArray,ao=n=>Xa(n)==="[object Map]",QE=n=>Xa(n)==="[object Set]",Pr=n=>typeof n=="function",ZE=n=>typeof n=="string",fo=n=>typeof n=="symbol",Oi=n=>n!==null&&typeof n=="object",ek=n=>(Oi(n)||Pr(n))&&Pr(n.then)&&Pr(n.catch),tk=Object.prototype.toString,Xa=n=>tk.call(n),nk=n=>Xa(n).slice(8,-1),rk=n=>Xa(n)==="[object Object]",md=n=>ZE(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Xr=(n,e)=>!Object.is(n,e),sk=(n,e,t,r=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:r,value:t});};var wn,rd=class{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=wn,!e&&wn&&(this.index=(wn.scopes||(wn.scopes=[])).push(this)-1);}get active(){return this._active}run(e){if(this._active){let t=wn;try{return wn=this,e()}finally{wn=t;}}}on(){wn=this;}off(){wn=this.parent;}stop(e){if(this._active){let t,r;for(t=0,r=this.effects.length;t<r;t++)this.effects[t].stop();for(t=0,r=this.cleanups.length;t<r;t++)this.cleanups[t]();if(this.scopes)for(t=0,r=this.scopes.length;t<r;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){let i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index);}this.parent=void 0,this._active=!1;}}};function qv(n){return new rd(n)}function ok(n,e=wn){e&&e.active&&e.effects.push(n);}function Qa(){return wn}function Ni(n){wn&&wn.cleanups.push(n);}var qi,Va=class{constructor(e,t,r,i){this.fn=e,this.trigger=t,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,ok(this,i);}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,yd();for(let e=0;e<this._depsLength;e++){let t=this.deps[e];if(t.computed&&(ak(t.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),vd();}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0;}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=Yr,t=qi;try{return Yr=!0,qi=this,this._runnings++,_v(this),this.fn()}finally{Dv(this),this._runnings--,qi=t,Yr=e;}}stop(){this.active&&(_v(this),Dv(this),this.onStop&&this.onStop(),this.active=!1);}};function ak(n){return n.value}function _v(n){n._trackId++,n._depsLength=0;}function Dv(n){if(n.deps.length>n._depsLength){for(let e=n._depsLength;e<n.deps.length;e++)Iv(n.deps[e],n);n.deps.length=n._depsLength;}}function Iv(n,e){let t=n.get(e);t!==void 0&&e._trackId!==t&&(n.delete(e),n.size===0&&n.cleanup());}var Yr=!0,id=0,Ov=[];function yd(){Ov.push(Yr),Yr=!1;}function vd(){let n=Ov.pop();Yr=n===void 0?!0:n;}function wd(){id++;}function bd(){for(id--;!id&&sd.length;)sd.shift()();}function Nv(n,e,t){if(e.get(n)!==n._trackId){e.set(n,n._trackId);let i=n.deps[n._depsLength];i!==e?(i&&Iv(i,n),n.deps[n._depsLength++]=e):n._depsLength++;}}var sd=[];function xv(n,e,t){wd();for(let i of n.keys()){let s;i._dirtyLevel<e&&(s??(s=n.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(s??(s=n.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&sd.push(i.scheduler)));}bd();}var Av=(n,e)=>{let t=new Map;return t.cleanup=n,t.computed=e,t},Ba=new WeakMap,Ii=Symbol(""),od=Symbol("");function kn(n,e,t){if(Yr&&qi){let r=Ba.get(n);r||Ba.set(n,r=new Map);let i=r.get(t);i||r.set(t,i=Av(()=>r.delete(t))),Nv(qi,i);}}function Jr(n,e,t,r,i,s){let o=Ba.get(n);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(t==="length"&&hr(n)){let c=Number(r);o.forEach((u,f)=>{(f==="length"||!fo(f)&&f>=c)&&a.push(u);});}else switch(t!==void 0&&a.push(o.get(t)),e){case"add":hr(n)?md(t)&&a.push(o.get("length")):(a.push(o.get(Ii)),ao(n)&&a.push(o.get(od)));break;case"delete":hr(n)||(a.push(o.get(Ii)),ao(n)&&a.push(o.get(od)));break;case"set":ao(n)&&a.push(o.get(Ii));break}wd();for(let c of a)c&&xv(c,4);bd();}function ck(n,e){let t=Ba.get(n);return t&&t.get(e)}var uk=GE("__proto__,__v_isRef,__isVue"),Lv=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(fo)),Tv=lk();function lk(){let n={};return ["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){let r=Ae(this);for(let s=0,o=this.length;s<o;s++)kn(r,"get",s+"");let i=r[e](...t);return i===-1||i===!1?r[e](...t.map(Ae)):i};}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){yd(),wd();let r=Ae(this)[e].apply(this,t);return bd(),vd(),r};}),n}function dk(n){fo(n)||(n=String(n));let e=Ae(this);return kn(e,"has",n),e.hasOwnProperty(n)}var za=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t;}get(e,t,r){let i=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return !i;if(t==="__v_isReadonly")return i;if(t==="__v_isShallow")return s;if(t==="__v_raw")return r===(i?s?Ck:jv:s?Sk:Mv).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;let o=hr(e);if(!i){if(o&&Wa(Tv,t))return Reflect.get(Tv,t,r);if(t==="hasOwnProperty")return dk}let a=Reflect.get(e,t,r);return (fo(t)?Lv.has(t):uk(t))||(i||kn(e,"get",t),s)?a:qn(a)?o&&md(t)?a:a.value:Oi(a)?i?$v(a):Er(a):a}},ad=class extends za{constructor(e=!1){super(!1,e);}set(e,t,r,i){let s=e[t];if(!this._isShallow){let c=uo(s);if(!Ga(r)&&!uo(r)&&(s=Ae(s),r=Ae(r)),!hr(e)&&qn(s)&&!qn(r))return c?!1:(s.value=r,!0)}let o=hr(e)&&md(t)?Number(t)<e.length:Wa(e,t),a=Reflect.set(e,t,r,i);return e===Ae(i)&&(o?Xr(r,s)&&Jr(e,"set",t,r):Jr(e,"add",t,r)),a}deleteProperty(e,t){let r=Wa(e,t);e[t];let s=Reflect.deleteProperty(e,t);return s&&r&&Jr(e,"delete",t,void 0),s}has(e,t){let r=Reflect.has(e,t);return (!fo(t)||!Lv.has(t))&&kn(e,"has",t),r}ownKeys(e){return kn(e,"iterate",hr(e)?"length":Ii),Reflect.ownKeys(e)}},cd=class extends za{constructor(e=!1){super(!0,e);}set(e,t){return !0}deleteProperty(e,t){return !0}},fk=new ad,hk=new cd;var Sd=n=>n,Za=n=>Reflect.getPrototypeOf(n);function Aa(n,e,t=!1,r=!1){n=n.__v_raw;let i=Ae(n),s=Ae(e);t||(Xr(e,s)&&kn(i,"get",e),kn(i,"get",s));let{has:o}=Za(i),a=r?Sd:t?_d:lo;if(o.call(i,e))return a(n.get(e));if(o.call(i,s))return a(n.get(s));n!==i&&n.get(e);}function La(n,e=!1){let t=this.__v_raw,r=Ae(t),i=Ae(n);return e||(Xr(n,i)&&kn(r,"has",n),kn(r,"has",i)),n===i?t.has(n):t.has(n)||t.has(i)}function Fa(n,e=!1){return n=n.__v_raw,!e&&kn(Ae(n),"iterate",Ii),Reflect.get(n,"size",n)}function Rv(n){n=Ae(n);let e=Ae(this);return Za(e).has.call(e,n)||(e.add(n),Jr(e,"add",n,n)),this}function Pv(n,e){e=Ae(e);let t=Ae(this),{has:r,get:i}=Za(t),s=r.call(t,n);s||(n=Ae(n),s=r.call(t,n));let o=i.call(t,n);return t.set(n,e),s?Xr(e,o)&&Jr(t,"set",n,e):Jr(t,"add",n,e),this}function Ev(n){let e=Ae(this),{has:t,get:r}=Za(e),i=t.call(e,n);i||(n=Ae(n),i=t.call(e,n));r?r.call(e,n):void 0;let o=e.delete(n);return i&&Jr(e,"delete",n,void 0),o}function kv(){let n=Ae(this),e=n.size!==0,r=n.clear();return e&&Jr(n,"clear",void 0,void 0),r}function Ma(n,e){return function(r,i){let s=this,o=s.__v_raw,a=Ae(o),c=e?Sd:n?_d:lo;return !n&&kn(a,"iterate",Ii),o.forEach((u,f)=>r.call(i,c(u),c(f),s))}}function ja(n,e,t){return function(...r){let i=this.__v_raw,s=Ae(i),o=ao(s),a=n==="entries"||n===Symbol.iterator&&o,c=n==="keys"&&o,u=i[n](...r),f=t?Sd:e?_d:lo;return !e&&kn(s,"iterate",c?od:Ii),{next(){let{value:h,done:p}=u.next();return p?{value:h,done:p}:{value:a?[f(h[0]),f(h[1])]:f(h),done:p}},[Symbol.iterator](){return this}}}}function zr(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function pk(){let n={get(s){return Aa(this,s)},get size(){return Fa(this)},has:La,add:Rv,set:Pv,delete:Ev,clear:kv,forEach:Ma(!1,!1)},e={get(s){return Aa(this,s,!1,!0)},get size(){return Fa(this)},has:La,add:Rv,set:Pv,delete:Ev,clear:kv,forEach:Ma(!1,!0)},t={get(s){return Aa(this,s,!0)},get size(){return Fa(this,!0)},has(s){return La.call(this,s,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Ma(!0,!1)},r={get(s){return Aa(this,s,!0,!0)},get size(){return Fa(this,!0)},has(s){return La.call(this,s,!0)},add:zr("add"),set:zr("set"),delete:zr("delete"),clear:zr("clear"),forEach:Ma(!0,!0)};return ["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=ja(s,!1,!1),t[s]=ja(s,!0,!1),e[s]=ja(s,!1,!0),r[s]=ja(s,!0,!0);}),[n,t,e,r]}var[gk,mk,yk,vk]=pk();function Fv(n,e){let t=n?mk:gk;return (r,i,s)=>i==="__v_isReactive"?!n:i==="__v_isReadonly"?n:i==="__v_raw"?r:Reflect.get(Wa(t,i)&&i in r?t:r,i,s)}var wk={get:Fv(!1)};var bk={get:Fv(!0)};var Mv=new WeakMap,Sk=new WeakMap,jv=new WeakMap,Ck=new WeakMap;function _k(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dk(n){return n.__v_skip||!Object.isExtensible(n)?0:_k(nk(n))}function Er(n){return uo(n)?n:Uv(n,!1,fk,wk,Mv)}function $v(n){return Uv(n,!0,hk,bk,jv)}function Uv(n,e,t,r,i){if(!Oi(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;let s=i.get(n);if(s)return s;let o=Dk(n);if(o===0)return n;let a=new Proxy(n,o===2?r:t);return i.set(n,a),a}function Ua(n){return uo(n)?Ua(n.__v_raw):!!(n&&n.__v_isReactive)}function uo(n){return !!(n&&n.__v_isReadonly)}function Ga(n){return !!(n&&n.__v_isShallow)}function Ae(n){let e=n&&n.__v_raw;return e?Ae(e):n}function Cd(n){return Object.isExtensible(n)&&sk(n,"__v_skip",!0),n}var lo=n=>Oi(n)?Er(n):n,_d=n=>Oi(n)?$v(n):n;var Ya=class{constructor(e,t,r,i){this.getter=e,this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Va(()=>e(this._value),()=>Ha(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r;}get value(){let e=Ae(this);return (!e._cacheable||e.effect.dirty)&&Xr(e._value,e._value=e.effect.run())&&Ha(e,4),Hv(e),e.effect._dirtyLevel>=2&&Ha(e,2),e._value}set value(e){this._setter(e);}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e;}};function fe(n,e,t=!1){let r,i,s=Pr(n);return s?(r=n,i=Ka):(r=n.get,i=n.set),new Ya(r,i,s||!i,t)}function Hv(n){var e;Yr&&qi&&(n=Ae(n),Nv(qi,(e=n.dep)!=null?e:n.dep=Av(()=>n.dep=void 0,n instanceof Ya?n:void 0)));}function Ha(n,e=4,t){n=Ae(n);let r=n.dep;r&&xv(r,e);}function qn(n){return !!(n&&n.__v_isRef===!0)}function Ct(n){return Kv(n,!1)}function lt(n){return Kv(n,!0)}function Kv(n,e){return qn(n)?n:new ud(n,e)}var ud=class{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ae(e),this._value=t?e:lo(e);}get value(){return Hv(this),this._value}set value(e){let t=this.__v_isShallow||Ga(e)||uo(e);e=t?e:Ae(e),Xr(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:lo(e),Ha(this,4));}};function Tk(n){return qn(n)?n.value:n}function rt(n){return Pr(n)?n():Tk(n)}var ld=class{constructor(e,t,r){this._object=e,this._key=t,this._defaultValue=r,this.__v_isRef=!0;}get value(){let e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e;}get dep(){return ck(Ae(this._object),this._key)}},dd=class{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0;}get value(){return this._getter()}};function Wv(n,e,t){return qn(n)?n:Pr(n)?new dd(n):Oi(n)&&arguments.length>1?Rk(n,e,t):Ct(n)}function Rk(n,e,t){let r=n[e];return qn(r)?r:new ld(n,e,t)}var Pk={SKIP:"__v_skip",IS_REACTIVE:"__v_isReactive",IS_READONLY:"__v_isReadonly",IS_SHALLOW:"__v_isShallow",RAW:"__v_raw"};var fd=(n=>(n.ACTIVATED="a",n.DEACTIVATED="da",n))(fd||{}),Ei=(n=>(n[n.WATCH_GETTER=0]="WATCH_GETTER",n[n.WATCH_CALLBACK=1]="WATCH_CALLBACK",n[n.WATCH_CLEANUP=2]="WATCH_CLEANUP",n[n.APP_ERROR_HANDLER=3]="APP_ERROR_HANDLER",n[n.SCHEDULER=4]="SCHEDULER",n))(Ei||{});({[fd.ACTIVATED]:"activated hook",[fd.DEACTIVATED]:"deactivated hook",0:"watcher getter",1:"watcher callback",2:"watcher cleanup function",3:"app errorHandler",4:"scheduler flush"});function co(n,e,t,r){try{return r?n(...r):n()}catch(i){Vv(i,e,t);}}function hd(n,e,t,r){if(Pr(n)){let i=co(n,e,t,r);return i&&ek(i)&&i.catch(s=>{Vv(s,e,t);}),i}if(hr(n)){let i=[];for(let s=0;s<n.length;s++)i.push(hd(n[s],e,t,r));return i}}function Vv(n,e,t,r=!0){kk(n,t,null,r);}function kk(n,e,t,r=!0){console.error(n);}var Ja=!1,pd=!1,Gn=[],Gr=0,qk=Promise.resolve();function Ik(n){let e=Gr+1,t=Gn.length;for(;e<t;){let r=e+t>>>1,i=Gn[r],s=gd(i);s<n||s===n&&i.pre?e=r+1:t=r;}return e}function Ok(n){(!Gn.length||!Gn.includes(n,Ja&&n.allowRecurse?Gr+1:Gr))&&(n.id==null?Gn.push(n):Gn.splice(Ik(n.id),0,n),Nk());}function Nk(){!Ja&&!pd&&(pd=!0,qk.then(zv));}var gd=n=>n.id==null?1/0:n.id,xk=(n,e)=>{let t=gd(n)-gd(e);if(t===0){if(n.pre&&!e.pre)return -1;if(e.pre&&!n.pre)return 1}return t};function zv(n){pd=!1,Ja=!0,Gn.sort(xk);try{for(Gr=0;Gr<Gn.length;Gr++){let t=Gn[Gr];t&&t.active!==!1&&co(t,null,Ei.SCHEDULER);}}finally{Gr=0,Gn.length=0,Ja=!1,Gn.length&&zv();}}function Pt(n,e){return Gv(n,null,e)}var $a={};function dt(n,e,t){return Gv(n,e,t)}function Gv(n,e,{immediate:t,deep:r,flush:i,once:s,onTrack:o,onTrigger:a}=YE){if(e&&s){let $=e;e=(...W)=>{$(...W),H();};}let u=null,f=$=>r===!0?$:ki($,r===!1?1:void 0),h,p=!1,w=!1;if(qn(n)?(h=()=>n.value,p=Ga(n)):Ua(n)?(h=()=>f(n),p=!0):hr(n)?(w=!0,p=n.some($=>Ua($)||Ga($)),h=()=>n.map($=>{if(qn($))return $.value;if(Ua($))return f($);if(Pr($))return co($,u,Ei.WATCH_GETTER)})):Pr(n)?e?h=()=>co(n,u,Ei.WATCH_GETTER):h=()=>(y&&y(),hd(n,u,Ei.WATCH_CALLBACK,[b])):h=Ka,e&&r){let $=h;h=()=>ki($());}let y,b=$=>{y=N.onStop=()=>{co($,u,Ei.WATCH_CLEANUP),y=N.onStop=void 0;};},C=w?new Array(n.length).fill($a):$a,k=()=>{if(!(!N.active||!N.dirty))if(e){let $=N.run();(r||p||(w?$.some((W,K)=>Xr(W,C[K])):Xr($,C)))&&(y&&y(),hd(e,u,Ei.WATCH_CALLBACK,[$,C===$a?void 0:w&&C[0]===$a?[]:C,b]),C=$);}else N.run();};k.allowRecurse=!!e;let O;i==="sync"?O=k:(k.pre=!0,O=()=>Ok(k));let N=new Va(h,Ka,O),A=Qa(),H=()=>{N.stop(),A&&JE(A.effects,N);};return e?t?k():C=N.run():N.run(),H}function ki(n,e=1/0,t){if(e<=0||!Oi(n)||n[Pk.SKIP]||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,qn(n))ki(n.value,e,t);else if(hr(n))for(let r=0;r<n.length;r++)ki(n[r],e,t);else if(QE(n)||ao(n))n.forEach(r=>{ki(r,e,t);});else if(rk(n)){for(let r in n)ki(n[r],e,t);for(let r of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,r)&&ki(n[r],e,t);}return n}function Lk(n){return Qa()?(Ni(n),!0):!1}function Qv(n,e){let t=new Map;return (...r)=>{let i=e(...r),s=t.get(i);return s?s.refCount++:(s={data:n(...r),refCount:1},t.set(i,s)),Lk(()=>{--s.refCount===0&&t.delete(i);}),s.data}}function qe(n){let e;return ()=>e??(e=n())}var Fk=[];var Qr=lt(null),Td=qv();function Zv(n){return {activate:e=>(Qr.value=e,Td.run(()=>(ew.map(t=>t(e)),n()))),deactivate:()=>{Fk.map(e=>e()),Td.stop();}}}var ew=[];function Mk(n){Qr.value?n(Qr.value):ew.push(n);}function tw(n,e,t){let i=vscode.workspace.getConfiguration(n,t);function s(a,c){let u=lt(c),f=fe({get:()=>u.value,set:h=>{u.value=h,i.update(a,h);}});return f.update=async(h,p,w)=>{await i.update(a,h,p,w),f.value=h;},f.set=h=>{u.value=h;},f}let o=Object.fromEntries(Object.keys(e).map(a=>[a,s(a,i.get(a))]));return Mk(()=>{We(vscode.workspace.onDidChangeConfiguration(a=>{if(!a.affectsConfiguration(n))return;let c=vscode.workspace.getConfiguration(n);for(let u in e)a.affectsConfiguration(`${n}.${u}`)&&o[u].set(c.get(u));}));}),o}function jk(n,e=!1){let t=Qr.value;if(!t&&!e)throw new Error("Cannot get absolute path because the extension is not activated yet");return t?.asAbsolutePath(n)}function Rd(n,e=!1){return fe(()=>jk(rt(n),e))}function We(n){return (Qa()??Td).cleanups.push(n.dispose.bind(n)),n}var $k=qe(()=>{let n=lt(vscode.window.activeColorTheme);return We(vscode.window.onDidChangeActiveColorTheme(e=>{n.value=e;})),n}),as=qe(()=>{let n=lt(vscode.window.activeTextEditor);return We(vscode.window.onDidChangeActiveTextEditor(e=>{n.value=e;})),n});function it(n,e){We(vscode.commands.registerCommand(n,e));}function Uk(n){var e;let t=lt((e=rt(n))==null?void 0:e.state);return dt(n,()=>{var r;t.value=(r=rt(n))==null?void 0:r.state;}),We(vscode.window.onDidChangeTerminalState(r=>{r===rt(n)&&(t.value=r.state);})),fe(()=>t.value)}function nw(...n){let e=Ct(null);function t(){return !!e.value&&e.value.exitStatus==null}function r(){return t()?e.value:e.value=vscode.window.createTerminal(...n)}function i(a){r().sendText(a);}function s(){r().show();}function o(){t()&&(e.value.sendText(""),e.value.dispose(),e.value=null);}return Ni(o),{terminal:e,getIsActive:t,show:s,sendText:i,close:o,state:Uk(e)}}function Hk(n,e){let t=(r,i,s)=>{We(n(r,i,s));};return e?.forEach(r=>t(r)),t}function Pd(n,e=[]){let t=Array.isArray(n)?n:e??[],r=We(Array.isArray(n)||n==null?new vscode.EventEmitter:n),i=Hk(r.event,t);for(let s of t)i(s);return {event:r.event,fire:r.fire.bind(r),addListener:i}}var rw=qe(()=>{let n=$k();return fe(()=>n.value.kind===vscode.ColorThemeKind.Dark||n.value.kind===vscode.ColorThemeKind.HighContrast)});function Kk(n,e){return We(vscode.window.createOutputChannel(n,e))}function iw(n,e={}){let t=e.outputChannel??Kk(n),r=i=>(...s)=>{var o;t.appendLine((((o=e.getPrefix)==null?void 0:o.call(e,i))??"")+s.join(" "));};return {outputChannel:t,createLoggerFunc:r,info:r("INFO"),warn:r("WARN"),error:r("ERROR"),append:t.append.bind(t),appendLine:t.appendLine.bind(t),replace:t.replace.bind(t),clear:t.clear.bind(t),show:t.show.bind(t),hide:t.hide.bind(t)}}function Wk(n,e){var t;let r=lt(((t=rt(n))==null?void 0:t.selections)??[]);return dt(n,()=>{var i;r.value=((i=rt(n))==null?void 0:i.selections)??[];}),We(vscode.window.onDidChangeTextEditorSelection(i=>{let s=rt(n),o=rt(e);i.textEditor===s&&(!o||o.includes(i.kind))&&(r.value=i.selections);})),fe({get(){return r.value},set(i){r.value=i;let s=rt(n);s&&(s.selections=i);}})}function tc(n,e){let t=Wk(n,e);return fe({get(){return t.value[0]},set(r){t.value=t.value.toSpliced(0,1,r);}})}function sw(n,e){Pt(()=>{let t=rt(n);t&&(t.badge=rt(e));});}function ow(n,e){Pt(()=>{let t=rt(n);t&&(t.title=rt(e));});}var nc=Qv((n,e,t)=>{let r=Pd();dt(e,()=>r.fire()),t!=null&&t.watchSource&&dt(t.watchSource,()=>r.fire());let i=new WeakMap,s=We(vscode.window.createTreeView(n,{...t,treeDataProvider:{...t,onDidChangeTreeData:r.event,getTreeItem(o){return o.treeItem},getChildren(o){var a;return o?((a=o.children)==null||a.forEach(c=>i.set(c,o)),o.children):rt(e)},getParent(o){return i.get(o)}}}));return t!=null&&t.title&&ow(s,t.title),t!=null&&t.badge&&sw(s,t.badge),s},n=>n);function aw(n){var e;let t=Ct((e=rt(n))==null?void 0:e.visible);function r(){var i;t.value=(i=rt(n))==null?void 0:i.visible;}return Pt(i=>{let s=rt(n);if(s){let o=s.onDidChangeVisibility(r);i(()=>o.dispose());}}),Pt(r),fe(()=>!!t.value)}function Zr(n,e,t=!0){let r=qn(e)?e:typeof e=="function"?fe(e):Ct(e);return Pt(()=>{rt(t)&&vscode.commands.executeCommand("setContext",n,r.value);}),r}var cw=Qv((n,e,t)=>{let r=lt(),i=lt();We(vscode.window.registerWebviewViewProvider(n,{resolveWebviewView(c,u){r.value=c,i.value=u,t!=null&&t.onDidReceiveMessage&&c.webview.onDidReceiveMessage(t.onDidReceiveMessage);}},{webviewOptions:{retainContextWhenHidden:t?.retainContextWhenHidden}}));let s=Ct(0);function o(){s.value++;}if(Pt(()=>{r.value&&(r.value.webview.html=`${rt(e)}<!--${s.value}-->`);}),t!=null&&t.webviewOptions){let c=t.webviewOptions;Pt(()=>{r.value&&(r.value.webview.options=rt(c));});}t!=null&&t.title&&ow(r,t.title),t!=null&&t.badge&&sw(r,t.badge);function a(c){var u;return (u=r.value)==null?void 0:u.webview.postMessage(c)}return {view:r,context:i,postMessage:a,forceRefresh:o}},n=>n);d();d();function uw(n,e,t){return Math.min(t,Math.max(e,n))}function lw(n){return Array.from(new Set(n))}function Ed(...n){let e,t,r;n.length===1?(e=0,r=1,[t]=n):[e,t,r=1]=n;let i=[],s=e;for(;s<t;)i.push(s),s+=r||1;return i}function nn(n){return n.replace(/\\/g,"/")}function rc(n,e){return e.startsWith(n)?e:n+e}d();oo(lh());d();var JS=oo(lh());d();function YS(n,e){if(!e||e==="all"||e==="*")return Ed(1,n+1);if(e==="none")return [];let t=[];for(let r of e.split(/[,;]/g))if(!r.includes("-"))t.push(+r);else {let[i,s]=r.split("-",2);t.push(...Ed(+i,s?+s+1:n+1));}return lw(t).filter(r=>r<=n).sort((r,i)=>r-i)}d();function XS(n){return `${n.slides.map(hx).join(`
`).trim()}
`}function hx(n,e=0){return n.raw.startsWith("---")||e===0?n.raw:`---
${rc(`
`,n.raw)}`}function px(n,e){let t,r,i=n.replace(/^---.*\r?\n([\s\S]*?)---/,(o,a)=>(t="frontmatter",r=a,""));t!=="frontmatter"&&(i=i.replace(/^\s*```ya?ml([\s\S]*?)```/,(o,a)=>(t="yaml",r=a,"")));let s=r&&!e.noParseYAML?JS.default.parseDocument(r):void 0;return {type:t,raw:r,doc:s,data:s?.toJSON(),content:i}}function QS(n){return {katex:!!n.match(/\$.*?\$/)||!!n.match(/\$\$/),monaco:n.match(/\{monaco.*\}/)?mx(n):!1,tweet:!!n.match(/<Tweet\b/),mermaid:!!n.match(/^```mermaid/m)}}function gx(n,e={}){let t=px(n,e),r,i=t.data||{},s=t.content.trim(),o=Array.from(s.matchAll(/<!--([\s\S]*?)-->/g));if(o.length){let u=o[o.length-1];u.index!==void 0&&u.index+u[0].length>=s.length&&(r=u[1].trim(),s=s.slice(0,u.index).trim());}let a,c;if(i.title||i.name)a=i.title||i.name;else {let u=s.match(/^(#+) (.*)$/m);a=u?.[2]?.trim(),c=u?.[1]?.length;}return i.level&&(c=i.level||1),{raw:n,title:a,level:c,content:s,frontmatter:i,frontmatterStyle:t.type,frontmatterDoc:t.doc,frontmatterRaw:t.raw,note:r}}async function Xc(n,e,t,r={}){let i=n.split(r.preserveCR?`
`:/\r?\n/g),s=[],o=0,a=0;async function c(u){if(o===u)return;let f=i.slice(o,u).join(`
`),h={...gx(f,r),filepath:e,index:s.length,start:o,contentStart:a,end:u};s.push(h),o=u+1,a=u+1;}for(let u=0;u<i.length;u++){let f=i[u].trimEnd();if(f.startsWith("---")){await c(u);let h=i[u+1];if(f[3]!=="-"&&h?.trim()){for(o=u,u+=1;u<i.length&&i[u].trimEnd()!=="---";u++);a=u+1;}}else if(f.trimStart().startsWith("```")){let h=f.match(/^\s*`+/)[0],p=u+1;for(;p<i.length&&!i[p].startsWith(h);p++);p!==i.length&&(u=p);}}return o<=i.length-1&&await c(i.length),{filepath:e,raw:n,slides:s}}function mx(n){let e=new Set,t=new Set;return n.replace(/^```(\w+)\s*\{monaco([^}]*)\}\s*(\S[\s\S]*?)^```/gm,(r,i="ts",s,o)=>{i=i.trim();let a=s==="-run";if(["js","javascript","ts","typescript"].includes(i))for(let[,,c]of o.matchAll(/\s+from\s+(["'])([/.\w@-]+)\1/g))c&&("./".includes(c)||e.add(c),a&&t.add(c));return ""}),{types:Array.from(e),deps:Array.from(t)}}async function dh(n,e,t={},r){t[e]??Qc__default.default.readFileSync(e,"utf-8");let o={},a={},c=[];async function u(w,y,b,C){let k=o[w];if(!k){let N=t[w]??Qc__default.default.readFileSync(w,"utf-8");k=await Xc(N,w),o[w]=k,a[w]=new Set;}let O=C?.at(-1);for(let N of YS(k.slides.length,y)){let A=k.slides[N-1];try{await f(k,A,b,C);}catch(H){k.errors??=[],k.errors.push({row:A.start,message:`Error when loading slide: ${H}`});continue}O&&(O.imports??=[]).push(A);}return k}async function f(w,y,b,C){if(!(y.frontmatter.disabled||y.frontmatter.hide))if(y.frontmatter.src){let[k,O]=y.frontmatter.src.split("#"),N=nn(k.startsWith("/")?path.resolve(n,k.substring(1)):path.resolve(path.dirname(y.filepath),k));b={...y.frontmatter,...b},delete b.src,Qc__default.default.existsSync(N)?await u(N,O,b,C?[...C,y]:[y]):(w.errors??=[],w.errors.push({row:y.start,message:`Imported markdown file not found: ${N}`}));}else c.push({frontmatter:{...y.frontmatter,...b},content:y.content,frontmatterRaw:y.frontmatterRaw,note:y.note,title:y.title,level:y.level,index:c.length,importChain:C,source:y});}let h=await u(nn(e)),p={...h.slides[0]?.frontmatter};return c[0]?.title&&(p.title??=c[0].title),{slides:c,entry:h,headmatter:p,features:QS(c.map(w=>w.source.raw).join("")),markdownFiles:o,watchFiles:a}}async function Zc(n){let e=XS(n);return Qc__default.default.writeFileSync(n.filepath,e,"utf-8"),e}d();d();var bx=new Set([1,7,9,11,13,15,17,19,20,21,22,23,25,37,42,43,53,69,77,79,87,95,101,102,103,104,109,110,111,113,115,117,119,123,135,137,139,143,161,179,389,427,465,512,513,514,515,526,530,531,532,540,548,554,556,563,587,601,636,989,990,993,995,1719,1720,1723,2049,3659,4045,5060,5061,6e3,6566,6665,6666,6667,6668,6669,6697,10080]);function Sx(n){return bx.has(n)}function sC(n){return !Sx(n)}var Cx=Object.defineProperty,_x=(n,e,t)=>e in n?Cx(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Dx=(n,e,t)=>(_x(n,e+"",t),t),eu=class extends Error{constructor(e,t){super(e,t),this.message=e,Dx(this,"name","GetPortError");}};function Uo(n,e){n&&console.log(`[get-port] ${e}`);}function nC(n,e){if(e<n)return [];let t=[];for(let r=n;r<=e;r++)t.push(r);return t}function fh(n,e){return new Promise(t=>{let r=net.createServer();r.unref(),r.on("error",()=>{t(!1);}),r.listen({port:n,host:e},()=>{let{port:i}=r.address();r.close(()=>{t(sC(i)&&i);});});})}function Tx(n){let e=new Set(n);for(let t of Object.values(os.networkInterfaces()))for(let r of t||[])r.address&&!r.internal&&!r.address.startsWith("fe80::")&&e.add(r.address);return [...e]}async function rC(n,e){for(let t of n){let r=await fh(t,e);if(r)return r}}function tu(n){return n?`on host ${JSON.stringify(n)}`:"on any host"}var Rx=/^(?!-)[\d.:A-Za-z-]{1,63}(?<!-)$/;function Px(n,e,t){if(n&&!Rx.test(n)){let r=e?"0.0.0.0":"127.0.0.1";return Uo(t,`Invalid hostname: ${JSON.stringify(n)}. Using ${JSON.stringify(r)} as fallback.`),r}return n}async function oC(n={}){(typeof n=="number"||typeof n=="string")&&(n={port:Number.parseInt(n+"")||0});let e=Number(n.port??process.env.PORT),t=!!(n.port||n.ports?.length||n.portRange?.length),r={name:"default",random:e===0,ports:[],portRange:[],alternativePortRange:t?[]:[3e3,3100],verbose:!1,...n,port:e,host:Px(n.host??process.env.HOST,n.public,n.verbose)};if(r.random&&!t)return iC(r.host);let i=[r.port,...r.ports,...nC(...r.portRange)].filter(o=>o?sC(o)?!0:(Uo(r.verbose,`Ignoring unsafe port: ${o}`),!1):!1);i.length===0&&i.push(3e3);let s=await rC(i,r.host);if(!s&&r.alternativePortRange.length>0&&(s=await rC(nC(...r.alternativePortRange),r.host),i.length>0)){let o=`Unable to find an available port (tried ${i.join("-")} ${tu(r.host)}).`;s&&(o+=` Using alternative port ${s}.`),Uo(r.verbose,o);}if(!s&&n.random!==!1&&(s=await iC(r.host),s&&Uo(r.verbose,`Using random port ${s}`)),!s){let o=[r.port,r.portRange.join("-"),r.alternativePortRange.join("-")].filter(Boolean).join(", ");throw new eu(`Unable to find an available port ${tu(r.host)} (tried ${o})`)}return s}async function iC(n){let e=await Ex(0,n);if(e===!1)throw new eu(`Unable to find a random port ${tu(n)}`);return e}async function Ex(n,e=process.env.HOST,t){if(e||(e=Tx([void 0,"0.0.0.0"])),!Array.isArray(e))return fh(n,e);for(let r of e){let i=await fh(n,r);if(i===!1)return n<1024&&t&&Uo(t,`Unable to listen to the privileged port ${n} ${tu(r)}`),!1;n===0&&i!==0&&(n=i);}return n}d();d();function ui(n){return n.slides[0].title}function cC(n){return nw({name:ui(n.data),cwd:n.userRoot,iconPath:{light:vscode.Uri.file(Rd("dist/res/logo-mono.svg").value),dark:vscode.Uri.file(Rd("dist/res/logo-mono-dark.svg").value)},isTransient:!0})}d();var kx=/<meta name="slidev:version" content="([^"]+)">/,qx=/<meta charset="slidev:entry" content="([^"]+)">/;function nu(n,e){let t=Er({ready:!1,message:"",compatMode:!1,entry:null}),r=!1;async function i(){if(!n.value){t.ready=!1;return}if(r)return;r=!0;async function s(o){try{let a=await(await fetch(o)).text();if(!a.match(/slidev/i))return !1;t.compatMode=!a.match(kx);let c=a.match(qx)?.[1];if(c){if(e&&e.toLowerCase()!==c.toLowerCase())return !1;t.entry=c;}return !0}catch(a){t.message=String(a);}return !1}t.ready=await s(`http://[::1]:${n.value}`)||await s(`http://127.0.0.1:${n.value}`),r=!1;}return dt(n,i,{immediate:!0}),{state:t,refresh:i}}var hh=new Map;function Ho(n){let e=hh.get(n);if(e)return e;let{terminal:t,getIsActive:r,show:i,sendText:s,close:o}=cC(n),a=Wv(n,"port");async function c(){r()||(a.value??=await Ox(),s(`npm exec slidev -- --port ${a.value} ${JSON.stringify(path.basename(n.entry))}`));}function u(){o(),a.value=null;}let f={port:a,terminal:t,start:c,showTerminal:i,stop:u,...nu(a,n.entry)};return hh.set(n,f),f}async function Ox(){let n=[...hh.values()].map(t=>t.port.value??0),e=Math.max(3029,...n)+1;return await oC({portRange:[e,4e3]})}d();d();d();d();var{"force-enabled":bs,port:Nx,annotations:uC,"preview-sync":xx,include:Ss,exclude:lC}=tw("slidev",{"force-enabled":Boolean,port:Number,annotations:Boolean,"preview-sync":Boolean,include:Object,exclude:String}),li=Ct(Nx),Ir=Ct(xx);d();function ph(n){let e,t=Number.POSITIVE_INFINITY;for(let r of n){let i=[...r.matchAll(/\//g)].length;i<t&&(t=i,e=r);}return e}d();var On=iw("Slidev");var Fe=Er(new Map),gh=fe(()=>[...Fe.values()].flatMap(n=>Object.keys(n.data.markdownFiles))),wt=Ct(null),Yt=fe(()=>wt.value?Fe.get(wt.value):void 0),jt=fe(()=>Yt.value?.data);fe(()=>Yt.value?.userRoot);async function hC(){let n=new Set;for(let e of Ss.value)(await vscode.workspace.findFiles(e,lC.value)).forEach(t=>n.add(t.fsPath));for(let e of n){let t=nn(e);Fe.has(t)||(await mC(t))();}}async function Ko(){await hC();for(let n of Fe.values())Qc.existsSync(n.entry)||(Fe.delete(n.entry),wt.value===n.entry&&(wt.value=null));await mh();}function pC(){async function n(){await hC(),await mh();}n();let e=Ct(!1);Pt(()=>{Fe.size>0&&(e.value=!0);}),Zr("slidev:enabled",()=>{let i=bs.value==null?e.value:bs.value;return On.info(`Slidev ${i?"enabled":"disabled"}.`),i}),Zr("slidev:hasActiveProject",()=>!!wt.value);let t=null,r=vscode.workspace.createFileSystemWatcher("**/*.md");Ni(()=>r.dispose()),r.onDidChange(async i=>{let s=nn(i.fsPath);On.info(`File ${s} changed.`);let o=Date.now();t&&(t.cancelled=!0);let a=t={cancelled:!1},c=[];for(let u of Fe.values())if(u.data.markdownFiles[s]){if(Qc.existsSync(u.entry)){let f=Cd(await dh(u.userRoot,u.entry));c.push(()=>{u.data=f,On.info(`Project ${u.entry} updated.`);});}if(a.cancelled)return}c.map(u=>u()),On.info(`All affected Slidev projects updated in ${Date.now()-o}ms.`);}),r.onDidCreate(Ko),r.onDidDelete(Ko),dt(Ss,Ko);}async function gC(n){if(Fe.has(n)){vscode.window.showErrorMessage("Cannot add slides entry: This Markdown has already been a entry.");return}(await mC(n))(),mh();}async function mC(n){let e=path.dirname(n),t=Cd(await dh(e,n));return ()=>{let r=Fe.get(n);r?r.data=t:Fe.set(n,{entry:n,userRoot:e,data:t,port:null});}}async function mh(){if(!wt.value){let n=ph([...Fe.keys()].filter(t=>path.basename(t)==="slides.md"));if(n){wt.value=n;return}let e=ph(Fe.keys());e&&(wt.value=e);}}function Wo(n){if(!n)return null;let e=nn(n.uri.fsPath),t=Yt.value?.data.markdownFiles[e];if(t)return {project:Yt.value,md:t};for(let r of Fe.values()){let i=r.data.markdownFiles[e];if(i)return {project:r,md:i}}return null}function ru(n){return fe(()=>Wo(rt(n)))}var iu=qe(()=>{let n=as(),e=ru(()=>n.value?.document),t=fe(()=>e.value?.md),r=tc(n),i=Ct(0);return Pt(()=>{let s=t.value;if(!s||!n.value){i.value=0;return}let o=r.value.active.line+1,a=s.slides.find(c=>o<=c.end);i.value=a?a.index:s.slides.length-1;}),{markdown:t,index:i}});d();d();function yC(n){for(;;){let e=n.imports?.[0];if(e)n=e;else return n}}var Cs=qe(()=>{let n=as(),e=tc(n,[vscode.TextEditorSelectionChangeKind.Command,void 0]),t=Ct(1);return Pt(()=>{let r=jt.value,i=Wo(n.value?.document);if(!r||!i||!n.value)return;let s=e.value.active.line+1,o=i.md.slides.find(a=>a.start<=s&&s<=a.end);if(o){let a=yC(o);if(r.slides[t.value-1].source===a)return;let u=r.slides.findIndex(f=>f.source===a)+1;u&&(t.value=u);}}),t});d();async function vC(){return (await vscode.workspace.findFiles("**/*.md","**/{node_modules,.github}/**")).map(e=>nn(e.fsPath)).filter(e=>!Fe.has(e)).filter(e=>!["code_of_conduct.md","contributing.md","license.md","licence.md"].includes(path.basename(e).toLocaleLowerCase()))}d();d();d();function wC(n){let e=Yt.value,t=e?`Slidev server for <i>${ui(e.data)}</i> ${e.port?`not found on <code>http://localhost:${e.port}</code>`:"not started"}.`:Fe.size?"No active project":"No projects found",r=n?`(${n})`:"",i=e?e.port?"Please check the server status.":"Please start the server first.":Fe.size?"Please choose one first.":"Please add one first.",s=e?e.port?"":`<button onclick="sendCommand('start-dev')"> Start Dev Server </button>`:Fe.size?`<button onclick="sendCommand('choose-entry')"> Choose active project </button>`:`<button onclick="sendCommand('add-entry')"> Add markdown file </button>`;return `
  <head>
    <script>
      const vscode = acquireVsCodeApi()
      window.sendCommand = (command) => void vscode.postMessage({ type: 'command', command })
    </script>
    <style>
    button {
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
      border: none;
      padding: 8px 12px;
      flex-grow: 1;
    }
    button:hover {
      background: var(--vscode-button-secondaryHoverBackground);
    }
    code {
      font-size: 0.9em;
      font-family: var(--vscode-editor-font-family);
      background: var(--vscode-textBlockQuote-border);
      border-radius: 4px;
      padding: 3px 5px;
      text-wrap: nowrap;
    }
    .action-container {
      display: flex;
      flex-wrap: wrap;
      gap: 4px;
      justify-content: center;
      max-width: 180px;
      margin: 0 auto;
    }
    </style>
  </head>
  <body>
    <div style="text-align: center">
      <p> ${t} </p>
      <p> ${r} </p>
      <p> ${i} </p>
      <div class="action-container">
        ${s}
        <button onclick="sendCommand('config-port')"> Configure Port </button>
      </div>
    </div>
  </body>
  `}d();function bC(n){return `
  <head>
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src * 'unsafe-inline' 'unsafe-eval'; script-src * 'unsafe-inline' 'unsafe-eval'; connect-src * 'unsafe-inline'; img-src * data: blob: 'unsafe-inline'; frame-src *; style-src * 'unsafe-inline';"
    />
    <style>
    :root {
      overflow: hidden;
      --scale: 0.6;
    }
    body {
      padding: 0;
      width: 100vw;
      height: 100vh;
      overflow: visible;
    }
    iframe {
      border: none;
      width: calc(100% / var(--scale));
      height: calc(100% / var(--scale));
      transform: scale(var(--scale));
      transform-origin: 0 0;
    }
    </style>
  <head>
  <body>
    <iframe id="iframe" sandbox="allow-same-origin allow-scripts" src="http://localhost:${n}?embedded=true"></iframe>
    <script>
      const vscode = acquireVsCodeApi()
      const iframe = document.getElementById('iframe')
      window.addEventListener('message', ({ data }) => {
        if (data && data.target === 'slidev') {
          if (data.sender === 'vscode')
            iframe.contentWindow.postMessage(data, '*')
          else
            vscode.postMessage({
              ...data,
              type: 'update-state',
            })
        }
      })
    </script>
  </body>`}var SC=qe(()=>{let n=nu(li),e=fe(()=>Yt.value?Ho(Yt.value):null),t=fe(()=>e.value?.port.value),r=Zr("slidev:preview:compat",()=>!!e.value?.state.compatMode),i=Zr("slidev:preview:ready",()=>!!e.value?.state.ready),s=fe(()=>e.value?.state.message??""),o=fe(()=>i.value?bC(t.value):wC(s.value));function a(){e.value?.refresh(),!i.value&&e.value?.port.value!==li.value&&n.refresh();}let c=setInterval(a,4e3);return Ni(()=>clearInterval(c)),Pt(()=>{if(!i.value&&n.state.ready){let u=n.state.entry;if(!u)return;u.toLowerCase()===wt.value?.toLowerCase()?Yt.value.port=li.value:u&&Fe.has(u)&&vscode.window.showInformationMessage(`Slidev server detected on localhost:${li.value}.`,"Start Preview","Ignore").then(f=>{f==="Start Preview"&&(wt.value=n.state.entry);});}}),{port:t,ready:i,compatMode:r,message:s,html:o,refreshState:a}});var Nn=qe(()=>{let{port:n,ready:e,html:t,compatMode:r,refreshState:i}=SC(),s=Cs(),o=rw();Zr("slidev:preview:sync",Ir);let a=Er({no:0,clicks:0,hasNext:!0,hasPrev:!1}),c=Ct(""),{view:u,postMessage:f,forceRefresh:h}=cw("slidev-preview",t,{retainContextWhenHidden:!0,webviewOptions:{enableScripts:!0,localResourceRoots:[Qr.value.extensionUri]},async onDidReceiveMessage(C){C.type==="command"?vscode.commands.executeCommand(`slidev.${C.command}`):C.type==="update-state"&&(c.value===C.clientId?Object.assign(a,C.navState):(c.value=C.clientId,Ir.value&&c.value===C.clientId&&y("navigate",{no:s.value})));}}),p=Ct(0);function w(){i(),u.value&&(h(),On.info(`Webview refreshed. Current URL: http://localhost:${n.value}`),setTimeout(()=>p.value++,300));}dt([u,n],w);function y(C,k){f({target:"slidev",sender:"vscode",type:C,...k});}dt([p,Ir,s],([C,k,O])=>{k&&(r.value&&(a.no=O),y("navigate",{no:O,clicks:999999}));}),dt([p],()=>y("css-vars",{"--slidev-slide-container-background":"transparent"})),dt([p,o],([C,k])=>y("color-schema",{color:k?"dark":"light"})),Pt(()=>{if(u.value){let C=e.value&&a.no>0?` (${a.no}/${jt.value?.slides.length})`:"",k=r.value?" (compat mode)":"";u.value.title=`Preview${C}${k}`;}});function b(C,...k){return ()=>{r.value&&vscode.window.showErrorMessage("Unsupported operation: Slidev server too old."),y("navigate",{operation:C,args:k});}}return {view:u,refresh:w,retry:()=>!e.value&&w(),previewNavState:a,nextClick:b("next"),prevClick:b("prev"),nextSlide:b("nextSlide",!0),prevSlide:b("prevSlide",!0),openExternal:()=>{let C=a.clicks>0?`?clicks=${a.clicks}`:"",k=`http://localhost:${n.value}/${a.no}${C}`;return vscode.env.openExternal(vscode.Uri.parse(k))}}});function CC(){it("slidev.enable-extension",()=>bs.value=!0),it("slidev.disable-extension",()=>bs.value=!1),it("slidev.rescan-projects",Ko),it("slidev.choose-entry",async()=>{let e=await vscode.window.showQuickPick([...Fe.keys()],{title:"Choose active slides entry."});e&&(wt.value=e);}),it("slidev.add-entry",async()=>{let e=await vC(),t=await vscode.window.showQuickPick(e,{title:"Choose Markdown files to add as slides entries.",canPickMany:!0});if(t){for(let r of t)await gC(r);if(vscode.workspace.workspaceFolders){let r=vscode.workspace.workspaceFolders[0].uri.fsPath,i=t.map(s=>nn(path.relative(r,s)));Ss.update([...Ss.value,...i]);}}}),it("slidev.remove-entry",async e=>{let t=e.entry;wt.value===t&&(wt.value=null),Fe.delete(t);}),it("slidev.set-as-active",async e=>{wt.value=e.entry;}),it("slidev.stop-dev",async e=>{let{stop:t}=Ho(e);t();});async function n(e,t,r){let{markdown:i,index:s}=iu(),o=i.value?.filepath===e;if(o&&s.value===t)return;let a=jt.value?.markdownFiles[e]?.slides[t];if(!a)return;let c=vscode.Uri.file(e).with({fragment:o?void 0:`L${a.contentStart+1}`}),u=await vscode.window.showTextDocument(await vscode.workspace.openTextDocument(c)),f=new vscode.Position(a.contentStart,0);u.selection=new vscode.Selection(f,f);let h=new vscode.Position(a.start,0),p=new vscode.Position(a.end,0),w=new vscode.Range(h,p);u.revealRange(w,vscode.TextEditorRevealType.AtTop);let y=r?.();if(y){let b=Cs();b.value=y;}}it("slidev.goto",n),it("slidev.next",()=>{let{markdown:e,index:t}=iu(),r=Cs();n(e.value.filepath,t.value+1,()=>r.value+1);}),it("slidev.prev",()=>{let{markdown:e,index:t}=iu(),r=Cs();n(e.value.filepath,t.value-1,()=>r.value-1);}),it("slidev.refresh-preview",()=>{let{refresh:e}=Nn();e();}),it("slidev.config-port",async()=>{let e=await vscode.window.showInputBox({prompt:"Slidev Preview Port",value:li.value.toString(),validateInput:t=>t.match(/^\d+$/)?+t<1024||+t>65535?"Port should be between 1024 and 65535":null:"Port should be a number"});e&&(li.value=+e);}),it("slidev.start-dev",async()=>{let e=Yt.value;if(!e){vscode.window.showErrorMessage("Cannot start dev server: No active slides project.");return}let{start:t,showTerminal:r}=Ho(e);t(),r();let{retry:i}=Nn();setTimeout(i,3e3),setTimeout(i,5e3),setTimeout(i,7e3),setTimeout(i,9e3);}),it("slidev.open-in-browser",()=>Nn().openExternal()),it("slidev.preview-prev-click",()=>Nn().prevClick()),it("slidev.preview-next-click",()=>Nn().nextClick()),it("slidev.preview-prev-slide",()=>Nn().prevSlide()),it("slidev.preview-next-slide",()=>Nn().nextSlide()),it("slidev.enable-preview-sync",()=>Ir.value=!0),it("slidev.disable-preview-sync",()=>Ir.value=!1),it("slidev.remove-slide",async({slide:e})=>{let t=jt.value.markdownFiles[e.filepath];t.slides.splice(t.slides.indexOf(e),1),await Zc(t);});}d();d();function Ui(n){let e=vscode.workspace.workspaceFolders?.[0]?.uri.fsPath??"";return nn(path.relative(e,n))}var PC={color:new vscode.ThemeColor("panelTitle.inactiveForeground"),fontWeight:"bold",isWholeLine:!0,backgroundColor:"#8881"},_C=vscode.window.createTextEditorDecorationType({}),DC=vscode.window.createTextEditorDecorationType({...PC,borderStyle:"solid",borderWidth:"1px 0 0 0",borderColor:new vscode.ThemeColor("panelTitle.activeBorder")}),TC=vscode.window.createTextEditorDecorationType({isWholeLine:!0,backgroundColor:"#8881"}),Zx=vscode.window.createTextEditorDecorationType(PC),RC=vscode.window.createTextEditorDecorationType({isWholeLine:!0});function e1(n){let e=n.map(r=>r.index+1),t=[[e[0],e[0]]];for(let r=1;r<e.length;r++)t[t.length-1][1]+1===e[r]?t[t.length-1][1]=e[r]:t.push([e[r],e[r]]);return t.map(([r,i])=>r===i?`#${r}`:`#${r}-${i}`).join(", ")}var EC=qe(()=>{let n=as(),e=fe(()=>n.value?.document),t=ru(e);dt([n,e,t,Yt,uC],([r,i,s,o,a])=>{if(!r||!i||!s)return;if(!a){r.setDecorations(_C,[]),r.setDecorations(DC,[]),r.setDecorations(TC,[]),r.setDecorations(RC,[]);return}let{project:c,md:u}=s,f=c===o,h=i.getText();function p(O){let N=c.data.slides.filter(W=>W.source===O||W.importChain?.includes(O)),A=N?.length?e1(N):f?"(hidden)":"",H=O.index===0&&c.data.entry!==u?` (entry: ${Ui(c.entry)})`:"",$=O.index===0&&!f?" (inactive)":"";return ` ${A}${H}${$}`}let w=[],y=[],b=[],C=[];for(let O of u.slides){let N=O.frontmatterStyle==="frontmatter"?O.start:O.start-1,A=i.lineAt(uw(N,0,i.lineCount)),H=new vscode.Position(A.lineNumber,0),$=new vscode.Range(H,new vscode.Position(A.lineNumber,A.text.length));if((O.index===0&&!O.frontmatterStyle?w:y).push({range:$,renderOptions:{after:{contentText:p(O),fontWeight:"bold",color:new vscode.ThemeColor("panelTitle.activeBorder")}}}),O.frontmatterRaw!=null){let Ce=h.slice(i.offsetAt(H)).match(/^---[\s\S]*?\n---/);if(Ce&&Ce.index!=null){let _e=i.positionAt(i.offsetAt(H)+Ce.index+Ce[0].length).line;b.push({range:new vscode.Range(new vscode.Position(A.lineNumber+1,0),new vscode.Position(_e-1,0))}),_e!==H.line&&C.push({range:new vscode.Range(new vscode.Position(_e,0),new vscode.Position(_e,0))});}}}r.setDecorations(_C,w),r.setDecorations(DC,y),r.setDecorations(TC,b),r.setDecorations(Zx,C);let k=[];for(let O of u.errors??[])k.push({range:new vscode.Range(O.row,0,O.row,0),renderOptions:{after:{contentText:rc(O.message," "),color:new vscode.ThemeColor("editorError.foreground"),backgroundColor:new vscode.ThemeColor("editorError.background")}}});r.setDecorations(RC,k);},{immediate:!0});});d();d();var kC=qe(()=>{let n=Pd();dt(Fe,()=>n.fire(),{deep:!0}),We(vscode.languages.registerFoldingRangeProvider({scheme:"file",language:"markdown"},{onDidChangeFoldingRanges:n.event,async provideFoldingRanges(e){return Wo(e)?(await Xc(e.getText(),e.uri.fsPath))?.slides.map(r=>({start:Math.max(0,r.frontmatterStyle==="frontmatter"?r.start:r.start-1),end:r.end-1,kind:vscode.FoldingRangeKind.Region})):void 0}}));});d();d();function r1(n,e){return n.length===e.length&&n.every((t,r)=>t===e[r])}function qC(n,e,t){if(!n)return null;let r=n?.slides.find(i=>i.importChain?.includes(e)?!0:i.source!==e?!1:!t||r1(i.importChain??[],t))?.index;return r!=null?r+1:null}var ou="application/slidev.slide",a1={center:"symbol-constant",cover:"home",default:"window",end:"primitive-square",fact:"comment",full:"screen-full","iframe-left":"layout-sidebar-left","iframe-right":"layout-sidebar-right",iframe:"globe","image-left":"layout-sidebar-left","image-right":"layout-sidebar-right",image:"file-media",intro:"go-to-file",none:"layout-statusbar",quote:"quote",section:"symbol-module",statement:"megaphone","two-cols-header":"symbol-struct","two-cols":"split-horizontal"};function c1(n){let e=[],t=n.parent;for(;t;)e.unshift(t.slide),t=t.parent;return e}function NC(n){let e=n.slide;return [e.filepath,e.index,()=>qC(jt.value,e,c1(n))]}function u1(n){let e=n.slide,t=jt.value?.entry.slides.findIndex(s=>s===e)===0,r=e.frontmatter.layout||(t?"cover":"default"),i=e.imports?"link-external":a1[r]??"window";return {label:e.title,description:e.imports?Ui(e.imports[0].filepath):e.title?void 0:"(Untitled)",iconPath:new vscode.ThemeIcon(i),command:{command:"slidev.goto",title:"Goto",arguments:NC(n)},collapsibleState:e.imports?vscode.TreeItemCollapsibleState.Expanded:vscode.TreeItemCollapsibleState.None}}var xC=qe(()=>{let n=fe(()=>{function i(s,o){let a={parent:s,slide:o};return {...a,children:o.imports?.map(c=>i(a,c)),treeItem:u1(a)}}return jt.value?.entry.slides.map(s=>i(null,s))??[]}),e=nc("slidev-slides-tree",n,{canSelectMany:!0,dragAndDropController:{dragMimeTypes:[ou],dropMimeTypes:[ou],handleDrag(i,s){let o=jt.value;if(!o){vscode.window.showErrorMessage("Cannot drag and drop slides: No active slides project.");return}let a=i.map(c=>c.slide).filter(c=>c.filepath===o.entry.filepath);s.set(ou,new vscode.DataTransferItem(a));},async handleDrop(i,s){let o=s.get(ou)?.value;if(!o||!i)return;if(o.length===0){vscode.window.showErrorMessage("Cannot drag and drop slides: None of the selected slides are in the entry Markdown.");return}let a=jt.value,c=i.slide.index,u=a.entry.slides.map(f=>o.includes(f)?null:f);a.entry.slides=[...u.slice(0,c+1),...o,...u.slice(c+1)].filter(Boolean),await Zc(a.entry);}},showCollapseAll:!0,title:()=>jt.value?`Slides (${ui(jt.value)})`:"Slides"}),t=aw(e),{previewNavState:r}=Nn();return dt(()=>[t.value,r.no,jt.value,n.value],([i,s,o,a])=>{if(!i)return;let c=o?.slides[s-1];if(!c||!Ir.value)return;let u=(c.importChain??[]).concat(c.source),f=u.shift(),h=a?.find(p=>p.slide===f);for(;;){let p=u.shift();if(!p){h&&(e.reveal(h,{select:!0}),vscode.commands.executeCommand("slidev.goto",...NC(h)));return}if(h=h?.children?.find(w=>w.slide===p),!h)return}}),e});d();var l1=fe(()=>[...Fe.values()].every(n=>Object.keys(n.data.markdownFiles).length<=1));function d1(n){let e=wt.value===n.entry;return {label:ui(n.data),description:`${Ui(n.entry)}${n.port?` (port: ${n.port})`:""}`,resourceUri:vscode.Uri.file(n.entry),iconPath:new vscode.ThemeIcon(e?"eye":"eye-closed"),collapsibleState:l1.value?vscode.TreeItemCollapsibleState.None:e?vscode.TreeItemCollapsibleState.Expanded:vscode.TreeItemCollapsibleState.Collapsed,contextValue:`<project><${e?"active":"inactive"}><${n.port?"up":"down"}>`,command:{title:"Open",command:"vscode.open",arguments:[vscode.Uri.file(n.entry)]}}}function f1(n){return {description:Ui(n),resourceUri:vscode.Uri.file(n),iconPath:new vscode.ThemeIcon("file"),collapsibleState:vscode.TreeItemCollapsibleState.None,command:{title:"Open",command:"vscode.open",arguments:[vscode.Uri.file(n)]}}}var LC=qe(()=>{let n=fe(()=>[...Fe.values()].map(t=>({treeItem:d1(t),children:Object.keys(t.data.markdownFiles).filter(r=>r.toLowerCase()!==t.entry.toLowerCase()).map(r=>({treeItem:f1(r)}))})));return nc("slidev-projects-tree",n,{showCollapseAll:!0})});d();var jE=oo(AE(),1),Na=oo(ME(),1);var ss={};d();nd(ss,oo(bi(),1));function $E(){let n=vscode.Uri.joinPath(Qr.value.extensionUri,"dist","language-server.cjs"),e={execArgv:[]},t={execArgv:["--nolazy","--inspect=6009"]},r={run:{module:n.fsPath,transport:Na.TransportKind.ipc,options:e},debug:{module:n.fsPath,transport:Na.TransportKind.ipc,options:t}},i=fe(()=>gh.value.map(h=>({language:"markdown",pattern:h})));On.info("Starting Slidev language server...");let s=new Na.LanguageClient("slidev-language-server","Slidev Language Server",r,{documentSelector:i.value});async function o(h){h&&await s.stop(),s.clientOptions.documentSelector=i.value,await s.start();}let a;async function c(h){await a,a=o(h),await a;}let u=!1;dt(()=>gh.value.join(`
`),h=>{h.length===0&&!u||(u?vscode.window.setStatusBarMessage("Restarting Slidev language server...",c(!0)):c(!1),u=!0);});let f=(0, jE.createLabsInfo)(ss);return f.addLanguageClient(s),f.extensionExports}var {activate:d9,deactivate:f9}=Zv(()=>{pC(),CC(),LC(),xC(),Nn(),EC(),kC();let n=$E();return On.info("Slidev activated."),On.info(`Entry: ${wt.value}`),n});

exports.activate = d9;
exports.deactivate = f9;
//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map