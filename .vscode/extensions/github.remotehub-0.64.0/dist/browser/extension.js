var rc=Object.defineProperty;var a=(ge,l)=>rc(ge,"name",{value:l,configurable:!0});(()=>{var __webpack_modules__={850:(ge,l,S)=>{"use strict";S.r(l),S.d(l,{AppInsightsCore:()=>_t,BaseCore:()=>lr,BaseTelemetryPlugin:()=>Ln.i,CoreUtils:()=>ie.Tr,DiagnosticLogger:()=>Ne.AQ,ESPromise:()=>m,ESPromiseScheduler:()=>rr,EventHelper:()=>En.zB,EventLatency:()=>D,EventPersistence:()=>h,EventPropertyType:()=>_,EventsDiscardedReason:()=>rn.h,FullVersionString:()=>ie.vs,InternalAppInsightsCore:()=>Me.F,InternalBaseCore:()=>Yt.A,LoggingSeverity:()=>E.X,MinChannelPriorty:()=>tn,NotificationManager:()=>Wr.f,PerfEvent:()=>He.zn,PerfManager:()=>He.Jk,ProcessTelemetryContext:()=>un.Vi,TraceLevel:()=>b,Undefined:()=>ln.jA,Utils:()=>ie.cQ,ValueKind:()=>R,ValueSanitizer:()=>mn,Version:()=>ie.Gf,_ExtendedInternalMessageId:()=>y,_InternalLogMessage:()=>Ne.lQ,_InternalMessageId:()=>E.v,__getRegisteredEvents:()=>kr.um,_logInternalMessage:()=>Ne.L4,_throwInternal:()=>Ne.kP,_warnToConsole:()=>Ne.jV,addEventHandler:()=>kr.Ib,addEventListeners:()=>kr.yw,addPageHideEventListener:()=>kr.TJ,addPageShowEventListener:()=>kr.nD,addPageUnloadEventListener:()=>kr.c9,areCookiesSupported:()=>qn.p7,arrForEach:()=>w.tO,arrIndexOf:()=>w.UA,arrMap:()=>w.Mr,arrReduce:()=>w.Xz,attachEvent:()=>kr.pZ,cookieAvailable:()=>qn.p7,createCookieMgr:()=>qn.Nz,createEnumStyle:()=>p.By,createGuid:()=>ie.cm,createProcessTelemetryContext:()=>un.CD,createTraceParent:()=>On.SU,createUniqueNamespace:()=>si.J,createUnloadHandlerContainer:()=>ui.Y,dateNow:()=>w.m6,deleteCookie:()=>ie.kT,detachEvent:()=>kr.pD,disableCookies:()=>ie.oF,disallowsSameSiteNone:()=>qn.UY,doPerf:()=>He.Lm,dumpObj:()=>oe.eU,eventOff:()=>kr.QY,eventOn:()=>kr.XO,extend:()=>ie.l7,findW3cTraceParent:()=>On.lq,formatTraceParent:()=>On.aR,generateW3CId:()=>En.DO,getCommonSchemaMetaData:()=>ie.Vv,getConsole:()=>oe.dr,getCookie:()=>ie.ej,getCookieValue:()=>ie.Do,getCrypto:()=>oe.MX,getDocument:()=>oe.Me,getExceptionName:()=>w.jj,getFieldValueType:()=>ie.Sy,getGlobal:()=>q.Rd,getGlobalInst:()=>oe.a8,getHistory:()=>oe.s1,getIEVersion:()=>oe.sA,getISOString:()=>w.Y6,getJSON:()=>oe.xA,getLocation:()=>oe.k$,getMsCrypto:()=>oe.gz,getNavigator:()=>oe.jW,getPerformance:()=>oe.r,getSetValue:()=>w.qK,getTenantId:()=>ie.jM,getTime:()=>ie.hK,getWindow:()=>oe.Jj,hasDocument:()=>oe.Nv,hasHistory:()=>oe.fE,hasJSON:()=>oe.nS,hasNavigator:()=>oe.d6,hasOwnProperty:()=>w.nr,hasWindow:()=>oe.Ym,isArray:()=>w.kJ,isArrayValid:()=>ie.JT,isBeaconsSupported:()=>oe.MF,isBoolean:()=>w.jn,isChromium:()=>ie.mJ,isDate:()=>w.J_,isDocumentObjectAvailable:()=>ie.x9,isError:()=>w.VZ,isFetchSupported:()=>oe.JO,isFunction:()=>w.mf,isIE:()=>oe.w1,isLatency:()=>ie.r7,isNotTruthy:()=>w.F,isNullOrUndefined:()=>w.le,isNumber:()=>w.hj,isObject:()=>w.Kn,isReactNative:()=>oe.b$,isSampledFlag:()=>On.Pn,isString:()=>w.HD,isTruthy:()=>w.fQ,isTypeof:()=>w.Ym,isUint8ArrayAvailable:()=>ie.IZ,isUndefined:()=>w.o8,isValidSpanId:()=>On.Lc,isValidTraceId:()=>On.jN,isValidTraceParent:()=>On.J6,isValueAssigned:()=>ie.Sn,isValueKind:()=>ie.oS,isWindowObjectAvailable:()=>ie.dH,isXhrSupported:()=>oe.Z3,mergeEvtNamespace:()=>kr.jU,newGuid:()=>En.GW,newId:()=>Yn.pZ,normalizeJsName:()=>w.Gf,objCreate:()=>q.pu,objDefineAccessors:()=>w.l_,objForEachKey:()=>w.rW,objFreeze:()=>w.FL,objKeys:()=>w.FY,objSeal:()=>w.Xi,openXhr:()=>ie.ot,optimizeObject:()=>w.Ax,parseTraceParent:()=>On.j_,perfNow:()=>En.Jj,proxyAssign:()=>w.cf,proxyFunctionAs:()=>w.Oi,proxyFunctions:()=>w.Vb,random32:()=>Yn._l,randomValue:()=>Yn.az,removeEventHandler:()=>kr.C1,removeEventListeners:()=>kr.nJ,removePageHideEventListener:()=>kr.C9,removePageShowEventListener:()=>kr.Yl,removePageUnloadEventListener:()=>kr.JA,safeGetCookieMgr:()=>qn.JP,safeGetLogger:()=>Ne.vH,sanitizeProperty:()=>ie.yj,setCookie:()=>ie.d8,setEnableEnvMocks:()=>oe.dI,setProcessTelemetryTimings:()=>ie.if,setValue:()=>w.sO,strContains:()=>w._Q,strEndsWith:()=>w.Id,strFunction:()=>ln.cb,strObject:()=>ln.fK,strPrototype:()=>ln.hB,strStartsWith:()=>w.xe,strTrim:()=>w.nd,strUndefined:()=>ln.jA,throwError:()=>w._y,toISOString:()=>w.Y6,useXDomainRequest:()=>oe.cp});var v=S(1088),p=S(4873),w=S(6708),E=S(7310),R=(0,p.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),D=(0,p.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),_=(0,p.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),h=(0,p.By)({Normal:1,Critical:2}),b=(0,p.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),y=(0,w.FL)((0,v.uc)((0,v.uc)({},E.v),(0,p.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})));/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var x,P="undefined",F="constructor",Y="prototype",Q="function",fe="_dynInstFuncs",L="_isDynProxy",H="_dynClass",U="_dynCls$",I="_dynInstChk",k=I,B="_dfOpts",ee="_unknown_",V="__proto__",te="_dyn"+V,he="__dynProto$Gbl",be="_dynInstProto",re="useBaseInst",ye="setInstFuncs",z=Object,We=z.getPrototypeOf,ve=z.getOwnPropertyNames;function ue(){var W;return typeof globalThis!==P&&(W=globalThis),!W&&typeof self!==P&&(W=self),!W&&typeof window!==P&&(W=window),!W&&typeof S.g!==P&&(W=S.g),W||{}}a(ue,"_getGlobal");var J=ue(),pe=J[he]||(J[he]={o:(x={},x[ye]=!0,x[re]=!0,x),n:1e3});function Fe(W,Se){return W&&z[Y].hasOwnProperty.call(W,Se)}a(Fe,"_hasOwnProperty");function je(W){return W&&(W===z[Y]||W===Array[Y])}a(je,"_isObjectOrArrayPrototype");function ne(W){return je(W)||W===Function[Y]}a(ne,"_isObjectArrayOrFunctionPrototype");function Ke(W){var Se;if(W){if(We)return We(W);var Pe=W[V]||W[Y]||(W[F]?W[F][Y]:null);Se=W[te]||Pe,Fe(W,te)||(delete W[be],Se=W[te]=W[be]||W[te],W[be]=Pe)}return Se}a(Ke,"_getObjProto");function rt(W,Se){var Pe=[];if(ve)Pe=ve(W);else for(var Ge in W)typeof Ge=="string"&&Fe(W,Ge)&&Pe.push(Ge);if(Pe&&Pe.length>0)for(var lt=0;lt<Pe.length;lt++)Se(Pe[lt])}a(rt,"_forEachProp");function ot(W,Se,Pe){return Se!==F&&typeof W[Se]===Q&&(Pe||Fe(W,Se))}a(ot,"_isDynamicCandidate");function K(W){throw new TypeError("DynamicProto: "+W)}a(K,"_throwTypeError");function X(W){var Se={};return rt(W,function(Pe){!Se[Pe]&&ot(W,Pe,!1)&&(Se[Pe]=W[Pe])}),Se}a(X,"_getInstanceFuncs");function ae(W,Se){for(var Pe=W.length-1;Pe>=0;Pe--)if(W[Pe]===Se)return!0;return!1}a(ae,"_hasVisited");function we(W,Se,Pe,Ge){function lt(Nt,nr,Tt){var Vt=nr[Tt];if(Vt[L]&&Ge){var kt=Nt[fe]||{};kt[k]!==!1&&(Vt=(kt[nr[H]]||{})[Tt]||Vt)}return function(){return Vt.apply(Nt,arguments)}}a(lt,"_instFuncProxy");var it={};rt(Pe,function(Nt){it[Nt]=lt(Se,Pe,Nt)});for(var pt=Ke(W),Rt=[];pt&&!ne(pt)&&!ae(Rt,pt);)rt(pt,function(Nt){!it[Nt]&&ot(pt,Nt,!We)&&(it[Nt]=lt(Se,pt,Nt))}),Rt.push(pt),pt=Ke(pt);return it}a(we,"_getBaseFuncs");function ke(W,Se,Pe,Ge){var lt=null;if(W&&Fe(Pe,H)){var it=W[fe]||{};if(lt=(it[Pe[H]]||{})[Se],lt||K("Missing ["+Se+"] "+Q),!lt[I]&&it[k]!==!1){for(var pt=!Fe(W,Se),Rt=Ke(W),Nt=[];pt&&Rt&&!ne(Rt)&&!ae(Nt,Rt);){var nr=Rt[Se];if(nr){pt=nr===Ge;break}Nt.push(Rt),Rt=Ke(Rt)}try{pt&&(W[Se]=lt),lt[I]=1}catch(Tt){it[k]=!1}}}return lt}a(ke,"_getInstFunc");function Be(W,Se,Pe){var Ge=Se[W];return Ge===Pe&&(Ge=Ke(Se)[W]),typeof Ge!==Q&&K("["+W+"] is not a "+Q),Ge}a(Be,"_getProtoFunc");function _e(W,Se,Pe,Ge,lt){function it(Nt,nr){var Tt=a(function(){var Vt=ke(this,nr,Nt,Tt)||Be(nr,Nt,Tt);return Vt.apply(this,arguments)},"dynProtoProxy");return Tt[L]=1,Tt}if(a(it,"_createDynamicPrototype"),!je(W)){var pt=Pe[fe]=Pe[fe]||{},Rt=pt[Se]=pt[Se]||{};pt[k]!==!1&&(pt[k]=!!lt),rt(Pe,function(Nt){ot(Pe,Nt,!1)&&Pe[Nt]!==Ge[Nt]&&(Rt[Nt]=Pe[Nt],delete Pe[Nt],(!Fe(W,Nt)||W[Nt]&&!W[Nt][L])&&(W[Nt]=it(W,Nt)))})}}a(_e,"_populatePrototype");function Ie(W,Se){if(We){for(var Pe=[],Ge=Ke(Se);Ge&&!ne(Ge)&&!ae(Pe,Ge);){if(Ge===W)return!0;Pe.push(Ge),Ge=Ke(Ge)}return!1}return!0}a(Ie,"_checkPrototype");function Le(W,Se){return Fe(W,Y)?W.name||Se||ee:((W||{})[F]||{}).name||Se||ee}a(Le,"_getObjName");function et(W,Se,Pe,Ge){Fe(W,Y)||K("theClass is an invalid class definition.");var lt=W[Y];Ie(lt,Se)||K("["+Le(W)+"] not in hierarchy of ["+Le(Se)+"]");var it=null;Fe(lt,H)?it=lt[H]:(it=U+Le(W,"_")+"$"+pe.n,pe.n++,lt[H]=it);var pt=et[B],Rt=!!pt[re];Rt&&Ge&&Ge[re]!==void 0&&(Rt=!!Ge[re]);var Nt=X(Se),nr=we(lt,Se,Nt,Rt);Pe(Se,nr);var Tt=!!We&&!!pt[ye];Tt&&Ge&&(Tt=!!Ge[ye]),_e(lt,it,Se,Nt,Tt!==!1)}a(et,"dynamicProto"),et[B]=pe.o;var Ne=S(5018),He=S(9288),oe=S(7630),Me=S(5121),de=S(7984),ie=S(3599),Je=function(W){(0,v.ne)(Se,W);function Se(){var Pe=W.call(this)||this;return Pe.pluginVersionStringArr=[],et(Se,Pe,function(Ge,lt){(!Ge.logger||!Ge.logger.queue)&&(Ge.logger=new Ne.AQ({loggingLevelConsole:1})),Ge.initialize=function(it,pt,Rt,Nt){(0,He.Lm)(Ge,function(){return"AppInsightsCore.initialize"},function(){var nr=Ge.pluginVersionStringArr;if(it){it.endpointUrl||(it.endpointUrl=de.YT);var Tt=it.propertyStorageOverride;Tt&&(!Tt.getProperty||!Tt.setProperty)&&(0,w._y)("Invalid property storage override passed."),it.channels&&(0,w.tO)(it.channels,function(Ut){Ut&&(0,w.tO)(Ut,function(Lt){if(Lt.identifier&&Lt.version){var zr=Lt.identifier+"="+Lt.version;nr.push(zr)}})})}Ge.getWParam=function(){return typeof document!="undefined"||!!it.enableWParam?0:-1},pt&&(0,w.tO)(pt,function(Ut){if(Ut&&Ut.identifier&&Ut.version){var Lt=Ut.identifier+"="+Ut.version;nr.push(Lt)}}),Ge.pluginVersionString=nr.join(";"),Ge.pluginVersionStringArr=nr;try{lt.initialize(it,pt,Rt,Nt),Ge.pollInternalLogs("InternalLog")}catch(Ut){var Vt=Ge.logger,kt=(0,oe.eU)(Ut);kt.indexOf("channels")!==-1&&(kt+=`
 - Channels must be provided through config.channels only!`),(0,Ne.kP)(Vt,1,514,"SDK Initialization Failed - no telemetry will be sent: "+kt)}},function(){return{config:it,extensions:pt,logger:Rt,notificationManager:Nt}})},Ge.track=function(it){(0,He.Lm)(Ge,function(){return"AppInsightsCore.track"},function(){var pt=it;if(pt){pt.timings=pt.timings||{},pt.timings.trackStart=(0,ie.hK)(),(0,ie.r7)(pt.latency)||(pt.latency=1);var Rt=pt.ext=pt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=ie.vs;var Nt=pt.baseData=pt.baseData||{};Nt[de.o6]=Nt[de.o6]||{};var nr=Nt[de.o6];nr[de.p8]=nr[de.p8]||Ge.pluginVersionString||de.qS}lt.track(pt)},function(){return{item:it}},!it.sync)}}),Pe}return a(Se,"AppInsightsCore"),Se.__ieDyn=1,Se}(Me.F);const _t=Je;var Yt=S(6900),Tr=function(W){(0,v.ne)(Se,W);function Se(){var Pe=W.call(this)||this;return et(Se,Pe,function(Ge,lt){Ge.initialize=function(it,pt,Rt,Nt){it&&!it.endpointUrl&&(it.endpointUrl=de.YT),Ge.getWParam=function(){return ie.x9||!!it.enableWParam?0:-1};try{lt.initialize(it,pt,Rt,Nt)}catch(nr){(0,Ne.kP)(Ge.logger,1,514,"Initialization Failed: "+(0,oe.eU)(nr)+`
 - Note: Channels must be provided through config.channels only`)}},Ge.track=function(it){var pt=it;if(pt){var Rt=pt.ext=pt.ext||{};Rt.sdk=Rt.sdk||{},Rt.sdk.ver=ie.vs}lt.track(pt)}}),Pe}return a(Se,"BaseCore"),Se.__ieDyn=1,Se}(Yt.A);const lr=Tr;var Vr=w.mf;function N(W,Se,Pe){return function(Ge){W[Se]=Ge,Pe()}}a(N,"_createPromiseAllOnResolvedFunction");var d=function(){function W(Se){var Pe=0,Ge=null,lt=[];et(W,this,function(nr){nr.then=function(Tt,Vt){return new W(function(kt,Ut){it(Tt,Vt,kt,Ut)})},nr.catch=function(Tt){return nr.then(null,Tt)}});function it(nr,Tt,Vt,kt){lt.push(function(){var Ut;try{Pe===1?Ut=Vr(nr)?nr(Ge):Ge:Ut=Vr(Tt)?Tt(Ge):Ge,Ut instanceof W?Ut.then(Vt,kt):Pe===2&&!Vr(Tt)?kt(Ut):Vt(Ut)}catch(Lt){kt(Lt);return}}),Pe!==0&&pt()}a(it,"_enqueue");function pt(){if(lt.length>0){var nr=lt.slice();lt=[],setTimeout(function(){for(var Tt=0,Vt=nr.length;Tt<Vt;++Tt)try{nr[Tt]()}catch(kt){}},0)}}a(pt,"_processQueue");function Rt(nr){Pe===0&&(Ge=nr,Pe=1,pt())}a(Rt,"_resolve");function Nt(nr){Pe===0&&(Ge=nr,Pe=2,pt())}a(Nt,"_reject"),a(function(){if(!Vr(Se))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{Se(Rt,Nt)}catch(Tt){Nt(Tt)}},"_initialize")()}return a(W,"ESPromise"),W.resolve=function(Se){return Se instanceof W?Se:Se&&Vr(Se.then)?new W(function(Pe,Ge){try{Se.then(Pe,Ge)}catch(lt){Ge(lt)}}):new W(function(Pe){Pe(Se)})},W.reject=function(Se){return new W(function(Pe,Ge){Ge(Se)})},W.all=function(Se){if(!(!Se||!Se.length))return new W(function(Pe,Ge){try{for(var lt=[],it=0,pt=0;pt<Se.length;pt++){var Rt=Se[pt];Rt&&Vr(Rt.then)?(it++,Rt.then(N(lt,pt,function(){--it==0&&Pe(lt)}),Ge)):lt[pt]=Rt}it===0&&setTimeout(function(){Pe(lt)},0)}catch(Nt){Ge(Nt)}})},W.race=function(Se){return new W(function(Pe,Ge){if(!(!Se||!Se.length))try{for(var lt=a(function(pt){var Rt=Se[pt];Rt&&Vr(Rt.then)?Rt.then(Pe,Ge):setTimeout(function(){Pe(Rt)},0)},"_loop_1"),it=0;it<Se.length;it++)lt(it)}catch(pt){Ge(pt)}})},W}();const m=d;var q=S(2091),Ee=6e5,ce=0,Ce=[],vt=[],It=[];function Mt(){return new Date().getTime()}a(Mt,"_getTime");var Xt=function(){function W(Se,Pe){var Ge=0,lt=(Se||"<unnamed>")+"."+ce;ce++,et(W,this,function(Rt){var Nt=null,nr=0;Rt.scheduleEvent=function(Vt,kt,Ut){var Lt=lt+"."+nr;nr++,kt&&(Lt+="-("+kt+")");var zr=Lt+"{"+Ge+"}";Ge++;var Sr={evt:null,tm:Mt(),id:zr,isRunning:!1,isAborted:!1};return Nt?Sr.evt=vn(Sr,Nt):Sr.evt=cn(Sr),Nt=Sr,Nt.evt._schId=zr,Sr.evt;function Sn(Qt){for(var jr=Mt(),Ur=jr-Ee,Dr=Qt.length,Yr=0;Yr<Dr;){var bn=Qt[Yr];if(bn&&bn.tm<Ur){var Fn=null;bn.abort?(Fn="Aborting ["+bn.id+"] due to Excessive runtime ("+(jr-bn.tm)+" ms)",bn.abort(Fn)):Fn="Removing ["+bn.id+"] due to Excessive runtime ("+(jr-bn.tm)+" ms)",pt(Fn),Qt.splice(Yr,1),Dr--}else Yr++}}a(Sn,"_abortAndRemoveOldEvents");function Qr(Qt,jr){var Ur=!1,Dr=Tt(Ce,Qt);if(Dr||(Dr=Tt(It,Qt),Ur=!0),Dr){Dr.to&&(clearTimeout(Dr.to),Dr.to=null);var Yr=Mt()-Dr.tm;jr?Ur?pt("Timed out event ["+Qt+"] finally complete -- "+Yr+" ms"):it("Promise ["+Qt+"] Complete -- "+Yr+" ms"):(It.push(Dr),pt("Event ["+Qt+"] Timed out and removed -- "+Yr+" ms"))}else it("Failed to remove ["+Qt+"] from running queue");Nt&&Nt.id===Qt&&(Nt=null),Sn(Ce),Sn(vt),Sn(It)}a(Qr,"_cleanup");function pn(Qt,jr){return function(Ur){return Qr(Qt,!0),jr&&jr(Ur),Ur}}a(pn,"_removeScheduledEvent");function Wn(Qt,jr,Ur,Dr){jr.then(function(Yr){return Yr instanceof m?(it("Event ["+Qt+"] returned a promise -- waiting"),Wn(Qt,Yr,Ur,Dr),Yr):pn(Qt,Ur)(Yr)},pn(Qt,Dr))}a(Wn,"_waitForFinalResult");function zn(Qt,jr){var Ur=Qt.id;return new m(function(Dr,Yr){it("Event ["+Ur+"] Starting -- waited for "+(Qt.wTm||"--")+" ms"),Qt.isRunning=!0,Qt.abort=function(Fn){Qt.abort=null,Qt.isAborted=!0,Qr(Ur,!1),Yr(new Error(Fn))};var bn=jr(Ur);bn instanceof m?(Ut&&(Qt.to=setTimeout(function(){Qr(Ur,!1),Yr(new Error("Timed out after ["+Ut+"] ms"))},Ut)),Wn(Ur,bn,function(Fn){it("Event ["+Ur+"] Resolving after "+(Mt()-Qt.tm)+" ms"),Dr(Fn)},Yr)):(it("Promise ["+Ur+"] Auto completed as the start action did not return a promise"),Dr())})}a(zn,"_createScheduledEvent");function cn(Qt){var jr=Mt();return Qt.wTm=jr-Qt.tm,Qt.tm=jr,Qt.isAborted?m.reject(new Error("["+Lt+"] was aborted")):(Ce.push(Qt),zn(Qt,Vt))}a(cn,"_startWaitingEvent");function vn(Qt,jr){var Ur=new m(function(Dr,Yr){var bn=Mt()-jr.tm,Fn=jr.id;it("["+Lt+"] is waiting for ["+Fn+":"+bn+" ms] to complete before starting -- ["+vt.length+"] waiting and ["+Ce.length+"] running"),Qt.abort=function(Vn){Qt.abort=null,Tt(vt,Lt),Qt.isAborted=!0,Yr(new Error(Vn))},jr.evt.then(function(Vn){Tt(vt,Lt),cn(Qt).then(Dr,Yr)},function(Vn){Tt(vt,Lt),cn(Qt).then(Dr,Yr)})});return vt.push(Qt),Ur}a(vn,"_waitForPreviousEvent")};function Tt(Vt,kt){for(var Ut=0;Ut<Vt.length;Ut++)if(Vt[Ut].id===kt)return Vt.splice(Ut,1)[0];return null}a(Tt,"_removeQueuedEvent")});function it(Rt){var Nt=(0,q.Rd)();Nt&&Nt.QUnit&&console&&console.log("ESPromiseScheduler["+lt+"] "+Rt)}a(it,"_debugLog");function pt(Rt){(0,Ne.jV)(Pe,"ESPromiseScheduler["+lt+"] "+Rt)}a(pt,"_warnLog")}return a(W,"ESPromiseScheduler"),W.incomplete=function(){return Ce},W.waitingToStart=function(){return vt},W}();const rr=Xt;var mn=function(){function W(Se){var Pe=this,Ge={},lt=[],it=[];Se&&it.push(Se);function pt(Tt,Vt){var kt,Ut=Ge[Tt];if(Ut&&(kt=Ut[Vt]),!kt&&kt!==null){if((0,w.HD)(Tt)&&(0,w.HD)(Vt))if(it.length>0){for(var Lt=0;Lt<it.length;Lt++)if(it[Lt].handleField(Tt,Vt)){kt={canHandle:!0,fieldHandler:it[Lt]};break}}else lt.length===0&&(kt={canHandle:!0});if(!kt&&kt!==null){kt=null;for(var Lt=0;Lt<lt.length;Lt++)if(lt[Lt].handleField(Tt,Vt)){kt={canHandle:!0,handler:lt[Lt],fieldHandler:null};break}}Ut||(Ut=Ge[Tt]={}),Ut[Vt]=kt}return kt}a(pt,"_getFieldSanitizer"),Pe.addSanitizer=function(Tt){Tt&&(lt.push(Tt),Ge={})},Pe.addFieldSanitizer=function(Tt){Tt&&(it.push(Tt),Ge={})},Pe.handleField=function(Tt,Vt){var kt=pt(Tt,Vt);return kt?kt.canHandle:!1},Pe.value=function(Tt,Vt,kt,Ut){var Lt=pt(Tt,Vt);if(Lt&&Lt.canHandle){if(!Lt||!Lt.canHandle)return null;if(Lt.handler)return Lt.handler.value(Tt,Vt,kt,Ut);if(!(0,w.HD)(Vt)||(0,w.le)(kt)||kt===de.qS)return null;var zr=null,Sr=(0,ie.Sy)(kt);if((Sr&8192)==8192){var Sn=Sr&~8192;if(zr=kt,!(0,ie.Sn)(zr.value)||Sn!==1&&Sn!==2&&Sn!==3&&(Sn&4096)!=4096)return null}else Sr===1||Sr===2||Sr===3||(Sr&4096)==4096?zr=Nt(Tt,Vt,kt):Sr===4&&(zr=Nt(Tt,Vt,Ut?JSON.stringify(kt):kt));if(zr)return Rt(Lt,Tt,Vt,Sr,zr,Ut)}return null},Pe.property=function(Tt,Vt,kt,Ut){var Lt=pt(Tt,Vt);if(!Lt||!Lt.canHandle||!(0,w.HD)(Vt)||(0,w.le)(kt)||!(0,ie.Sn)(kt.value))return null;var zr=(0,ie.Sy)(kt.value);return zr===0?null:Rt(Lt,Tt,Vt,zr,kt,Ut)};function Rt(Tt,Vt,kt,Ut,Lt,zr){if(Tt.handler)return Tt.handler.property(Vt,kt,Lt,zr);if(!(0,w.le)(Lt.kind)){if((Ut&4096)==4096||!(0,ie.oS)(Lt.kind))return null;Lt.value=Lt.value.toString()}return nr(Tt.fieldHandler,Vt,kt,Ut,Lt)}a(Rt,"_handleProperty");function Nt(Tt,Vt,kt){return(0,ie.Sn)(kt)?{value:kt}:null}a(Nt,"_convertToProperty");function nr(Tt,Vt,kt,Ut,Lt){if(Lt&&Tt){var zr=Tt.getSanitizer(Vt,kt,Ut,Lt.kind,Lt.propertyType);if(zr)if(Ut===4){var Sr={},Sn=Lt.value;(0,w.rW)(Sn,function(pn,Wn){var zn=Vt+"."+kt;if((0,ie.Sn)(Wn)){var cn=Nt(zn,pn,Wn);cn=nr(Tt,zn,pn,(0,ie.Sy)(Wn),cn),cn&&(Sr[pn]=cn.value)}}),Lt.value=Sr}else{var Qr={path:Vt,name:kt,type:Ut,prop:Lt,sanitizer:Pe};Lt=zr.call(Pe,Qr)}}return Lt}a(nr,"_callFieldSanitizer")}return a(W,"ValueSanitizer"),W.getFieldType=ie.Sy,W}(),tn=100,Wr=S(1880),Ln=S(4063),un=S(1589),rn=S(5928),En=S(5843),kr=S(4869),Yn=S(4878),ln=S(4392),qn=S(3242),si=S(5883),ui=S(310),On=S(4206)},7984:(ge,l,S)=>{"use strict";S.d(l,{YT:()=>p,o6:()=>D,p8:()=>R,qS:()=>v});var v="",p="https://browser.events.data.microsoft.com/OneCollector/1.0/",w="pluginVersionString",E=w+"Arr",R="version",D="properties"},3599:(ge,l,S)=>{"use strict";S.d(l,{Do:()=>z,Gf:()=>x,IZ:()=>B,JT:()=>je,Sn:()=>I,Sy:()=>Ke,Tr:()=>ot,Vv:()=>te,cQ:()=>rt,cm:()=>We,d8:()=>be,dH:()=>U,ej:()=>ye,hK:()=>ue,if:()=>ne,jM:()=>k,kT:()=>re,l7:()=>ve,mJ:()=>K,oF:()=>he,oS:()=>J,ot:()=>X,r7:()=>ee,vs:()=>P,x9:()=>H,yj:()=>V});var v=S(7630),p=S(6708),w=S(3242),E=S(5843),R=S(4392),D=S(4869),_=S(4878),h=S(2091),b=S(7984),y,x="3.2.10",P="1DS-Web-JS-"+x,F="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Y="withCredentials",Q="timeout",fe=(y={},y[0]=0,y[2]=6,y[1]=1,y[3]=7,y[4096|2]=6,y[4096|1]=1,y[4096|3]=7,y),L=null,H=Boolean((0,v.Me)()),U=Boolean((0,v.Jj)());function I(ae){return!(ae===b.qS||(0,p.le)(ae))}a(I,"isValueAssigned");function k(ae){if(ae){var we=ae.indexOf("-");if(we>-1)return ae.substring(0,we)}return b.qS}a(k,"getTenantId");function B(){return L===null&&(L=!(0,p.o8)(Uint8Array)&&!Fe()&&!(0,v.b$)()),L}a(B,"isUint8ArrayAvailable");function ee(ae){return!!(ae&&(0,p.hj)(ae)&&ae>=1&&ae<=4)}a(ee,"isLatency");function V(ae,we,ke){if(!we&&!I(we)||typeof ae!="string")return null;var Be=typeof we;if(Be==="string"||Be==="number"||Be==="boolean"||(0,p.kJ)(we))we={value:we};else if(Be==="object"&&!R.CY.call(we,"value"))we={value:ke?JSON.stringify(we):we};else if((0,p.le)(we.value)||we.value===b.qS||!(0,p.HD)(we.value)&&!(0,p.hj)(we.value)&&!(0,p.jn)(we.value)&&!(0,p.kJ)(we.value))return null;if((0,p.kJ)(we.value)&&!je(we.value))return null;if(!(0,p.le)(we.kind)){if((0,p.kJ)(we.value)||!J(we.kind))return null;we.value=we.value.toString()}return we}a(V,"sanitizeProperty");function te(ae,we,ke){var Be=-1;if(!(0,p.o8)(ae))if(we>0&&(we===32?Be=1<<13:we<=13&&(Be=we<<5)),pe(ke))Be===-1&&(Be=0),Be|=ke;else{var _e=fe[Ke(ae)]||-1;Be!==-1&&_e!==-1?Be|=_e:_e===6&&(Be=_e)}return Be}a(te,"getCommonSchemaMetaData");function he(){(0,w.JP)(null).setEnabled(!1)}a(he,"disableCookies");function be(ae,we,ke){(0,w.p7)(null)&&(0,w.JP)(null).set(ae,we,ke*86400,null,"/")}a(be,"setCookie");function re(ae){(0,w.p7)(null)&&(0,w.JP)(null).del(ae)}a(re,"deleteCookie");function ye(ae){return(0,w.p7)(null)?z((0,w.JP)(null),ae):b.qS}a(ye,"getCookie");function z(ae,we,ke){ke===void 0&&(ke=!0);var Be;return ae&&(Be=ae.get(we),ke&&Be&&decodeURIComponent&&(Be=decodeURIComponent(Be))),Be||b.qS}a(z,"getCookieValue");function We(ae){ae===void 0&&(ae="D");var we=(0,E.GW)();return ae==="B"?we="{"+we+"}":ae==="P"?we="("+we+")":ae==="N"&&(we=we.replace(/-/g,b.qS)),we}a(We,"createGuid");function ve(ae,we,ke,Be,_e){var Ie={},Le=!1,et=0,Ne=arguments.length,He=Object[R.hB],oe=arguments;for(He.toString.call(oe[0])==="[object Boolean]"&&(Le=oe[0],et++);et<Ne;et++){var ae=oe[et];(0,p.rW)(ae,function(de,ie){Le&&ie&&(0,p.Kn)(ie)?(0,p.kJ)(ie)?(Ie[de]=Ie[de]||[],(0,p.tO)(ie,function(Je,_t){Je&&(0,p.Kn)(Je)?Ie[de][_t]=ve(!0,Ie[de][_t],Je):Ie[de][_t]=Je})):Ie[de]=ve(!0,Ie[de],ie):Ie[de]=ie})}return Ie}a(ve,"extend");var ue=E.Jj;function J(ae){return ae===0||ae>0&&ae<=13||ae===32}a(J,"isValueKind");function pe(ae){return ae>=0&&ae<=9}a(pe,"isDataType");function Fe(){var ae=(0,v.jW)();if(!(0,p.o8)(ae)&&ae.userAgent){var we=ae.userAgent.toLowerCase();if((we.indexOf("safari")>=0||we.indexOf("firefox")>=0)&&we.indexOf("chrome")<0)return!0}return!1}a(Fe,"isSafariOrFirefox");function je(ae){return ae.length>0}a(je,"isArrayValid");function ne(ae,we){var ke=ae;ke.timings=ke.timings||{},ke.timings.processTelemetryStart=ke.timings.processTelemetryStart||{},ke.timings.processTelemetryStart[we]=ue()}a(ne,"setProcessTelemetryTimings");function Ke(ae){var we=0;if(ae!=null){var ke=typeof ae;ke==="string"?we=1:ke==="number"?we=2:ke==="boolean"?we=3:ke===R.fK&&(we=4,(0,p.kJ)(ae)?(we=4096,ae.length>0&&(we|=Ke(ae[0]))):R.CY.call(ae,"value")&&(we=8192|Ke(ae.value)))}return we}a(Ke,"getFieldValueType");var rt={Version:x,FullVersionString:P,strUndefined:R.jA,strObject:R.fK,Undefined:R.jA,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,objKeys:p.FY,toISOString:p.Y6,isReactNative:v.b$,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,isFunction:p.mf,isArray:p.kJ,isObject:p.Kn,strTrim:p.nd,isDocumentObjectAvailable:H,isWindowObjectAvailable:U,isValueAssigned:I,getTenantId:k,isBeaconsSupported:v.MF,isUint8ArrayAvailable:B,isLatency:ee,sanitizeProperty:V,getISOString:p.Y6,useXDomainRequest:v.cp,getCommonSchemaMetaData:te,cookieAvailable:w.p7,disallowsSameSiteNone:w.UY,setCookie:be,deleteCookie:re,getCookie:ye,createGuid:We,extend:ve,getTime:ue,isValueKind:J,isArrayValid:je,objDefineAccessors:p.l_,addPageUnloadEventListener:D.c9,setProcessTelemetryTimings:ne,addEventHandler:D.Ib,getFieldValueType:Ke,strEndsWith:p.Id,objForEachKey:p.rW},ot={_canUseCookies:void 0,isTypeof:p.Ym,isUndefined:p.o8,isNullOrUndefined:p.le,hasOwnProperty:p.nr,isFunction:p.mf,isObject:p.Kn,isDate:p.J_,isArray:p.kJ,isError:p.VZ,isString:p.HD,isNumber:p.hj,isBoolean:p.jn,toISOString:p.Y6,arrForEach:p.tO,arrIndexOf:p.UA,arrMap:p.Mr,arrReduce:p.Xz,strTrim:p.nd,objCreate:h.pu,objKeys:p.FY,objDefineAccessors:p.l_,addEventHandler:D.Ib,dateNow:p.m6,isIE:v.w1,disableCookies:he,newGuid:E.GW,perfNow:E.Jj,newId:_.pZ,randomValue:_.az,random32:_._l,mwcRandomSeed:_.CN,mwcRandom32:_.F6,generateW3CId:E.DO};function K(){return!!(0,v.a8)("chrome")}a(K,"isChromium");function X(ae,we,ke,Be,_e,Ie){Be===void 0&&(Be=!1),_e===void 0&&(_e=!1);function Le(Ne,He,oe){try{Ne[He]=oe}catch(Me){}}a(Le,"_wrapSetXhrProp");var et=new XMLHttpRequest;return Be&&Le(et,F,Be),ke&&Le(et,Y,ke),et.open(ae,we,!_e),ke&&Le(et,Y,ke),!_e&&Ie&&Le(et,Q,Ie),et}a(X,"openXhr")},5229:(ge,l,S)=>{"use strict";S.r(l),S.d(l,{BE_PROFILE:()=>oe,NRT_PROFILE:()=>He,PostChannel:()=>Ri,RT_PROFILE:()=>Ne});var v=S(1088);/*!
 * Microsoft Dynamic Proto Utility, 1.1.7
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var p,w="undefined",E="constructor",R="prototype",D="function",_="_dynInstFuncs",h="_isDynProxy",b="_dynClass",y="_dynCls$",x="_dynInstChk",P=x,F="_dfOpts",Y="_unknown_",Q="__proto__",fe="_dyn"+Q,L="__dynProto$Gbl",H="_dynInstProto",U="useBaseInst",I="setInstFuncs",k=Object,B=k.getPrototypeOf,ee=k.getOwnPropertyNames;function V(){var ze;return typeof globalThis!==w&&(ze=globalThis),!ze&&typeof self!==w&&(ze=self),!ze&&typeof window!==w&&(ze=window),!ze&&typeof S.g!==w&&(ze=S.g),ze||{}}a(V,"_getGlobal");var te=V(),he=te[L]||(te[L]={o:(p={},p[I]=!0,p[U]=!0,p),n:1e3});function be(ze,st){return ze&&k[R].hasOwnProperty.call(ze,st)}a(be,"_hasOwnProperty");function re(ze){return ze&&(ze===k[R]||ze===Array[R])}a(re,"_isObjectOrArrayPrototype");function ye(ze){return re(ze)||ze===Function[R]}a(ye,"_isObjectArrayOrFunctionPrototype");function z(ze){var st;if(ze){if(B)return B(ze);var St=ze[Q]||ze[R]||(ze[E]?ze[E][R]:null);st=ze[fe]||St,be(ze,fe)||(delete ze[H],st=ze[fe]=ze[H]||ze[fe],ze[H]=St)}return st}a(z,"_getObjProto");function We(ze,st){var St=[];if(ee)St=ee(ze);else for(var ft in ze)typeof ft=="string"&&be(ze,ft)&&St.push(ft);if(St&&St.length>0)for(var Wt=0;Wt<St.length;Wt++)st(St[Wt])}a(We,"_forEachProp");function ve(ze,st,St){return st!==E&&typeof ze[st]===D&&(St||be(ze,st))}a(ve,"_isDynamicCandidate");function ue(ze){throw new TypeError("DynamicProto: "+ze)}a(ue,"_throwTypeError");function J(ze){var st={};return We(ze,function(St){!st[St]&&ve(ze,St,!1)&&(st[St]=ze[St])}),st}a(J,"_getInstanceFuncs");function pe(ze,st){for(var St=ze.length-1;St>=0;St--)if(ze[St]===st)return!0;return!1}a(pe,"_hasVisited");function Fe(ze,st,St,ft){function Wt(Kt,yr,br){var Jr=yr[br];if(Jr[h]&&ft){var Kr=Kt[_]||{};Kr[P]!==!1&&(Jr=(Kr[yr[b]]||{})[br]||Jr)}return function(){return Jr.apply(Kt,arguments)}}a(Wt,"_instFuncProxy");var Jt={};We(St,function(Kt){Jt[Kt]=Wt(st,St,Kt)});for(var Et=z(ze),tr=[];Et&&!ye(Et)&&!pe(tr,Et);)We(Et,function(Kt){!Jt[Kt]&&ve(Et,Kt,!B)&&(Jt[Kt]=Wt(st,Et,Kt))}),tr.push(Et),Et=z(Et);return Jt}a(Fe,"_getBaseFuncs");function je(ze,st,St,ft){var Wt=null;if(ze&&be(St,b)){var Jt=ze[_]||{};if(Wt=(Jt[St[b]]||{})[st],Wt||ue("Missing ["+st+"] "+D),!Wt[x]&&Jt[P]!==!1){for(var Et=!be(ze,st),tr=z(ze),Kt=[];Et&&tr&&!ye(tr)&&!pe(Kt,tr);){var yr=tr[st];if(yr){Et=yr===ft;break}Kt.push(tr),tr=z(tr)}try{Et&&(ze[st]=Wt),Wt[x]=1}catch(br){Jt[P]=!1}}}return Wt}a(je,"_getInstFunc");function ne(ze,st,St){var ft=st[ze];return ft===St&&(ft=z(st)[ze]),typeof ft!==D&&ue("["+ze+"] is not a "+D),ft}a(ne,"_getProtoFunc");function Ke(ze,st,St,ft,Wt){function Jt(Kt,yr){var br=a(function(){var Jr=je(this,yr,Kt,br)||ne(yr,Kt,br);return Jr.apply(this,arguments)},"dynProtoProxy");return br[h]=1,br}if(a(Jt,"_createDynamicPrototype"),!re(ze)){var Et=St[_]=St[_]||{},tr=Et[st]=Et[st]||{};Et[P]!==!1&&(Et[P]=!!Wt),We(St,function(Kt){ve(St,Kt,!1)&&St[Kt]!==ft[Kt]&&(tr[Kt]=St[Kt],delete St[Kt],(!be(ze,Kt)||ze[Kt]&&!ze[Kt][h])&&(ze[Kt]=Jt(ze,Kt)))})}}a(Ke,"_populatePrototype");function rt(ze,st){if(B){for(var St=[],ft=z(st);ft&&!ye(ft)&&!pe(St,ft);){if(ft===ze)return!0;St.push(ft),ft=z(ft)}return!1}return!0}a(rt,"_checkPrototype");function ot(ze,st){return be(ze,R)?ze.name||st||Y:((ze||{})[E]||{}).name||st||Y}a(ot,"_getObjName");function K(ze,st,St,ft){be(ze,R)||ue("theClass is an invalid class definition.");var Wt=ze[R];rt(Wt,st)||ue("["+ot(ze)+"] not in hierarchy of ["+ot(st)+"]");var Jt=null;be(Wt,b)?Jt=Wt[b]:(Jt=y+ot(ze,"_")+"$"+he.n,he.n++,Wt[b]=Jt);var Et=K[F],tr=!!Et[U];tr&&ft&&ft[U]!==void 0&&(tr=!!ft[U]);var Kt=J(st),yr=Fe(Wt,st,Kt,tr);St(st,yr);var br=!!B&&!!Et[I];br&&ft&&(br=!!ft[I]),Ke(Wt,Jt,st,Kt,br!==!1)}a(K,"dynamicProto"),K[F]=he.o;var X=S(9288),ae=S(4869),we=S(5883),ke=S(3599),Be=S(6708),_e=S(7630),Ie=S(5928),Le=S(5018),et=S(4063),Ne="REAL_TIME",He="NEAR_REAL_TIME",oe="BEST_EFFORT",Me="",de="POST",ie="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Je="drop",_t="send",Yt="requeue",Tr="rspFail",lr="oth",Vr="no-cache, no-store",N="application/x-json-stream",d="cache-control",m="content-type",q="kill-tokens",Ee="kill-duration",ce="kill-duration-seconds",Ce="time-delta-millis",vt="client-version",It="client-id",Mt="time-delta-to-apply-millis",Xt="upload-time",rr="apikey",mn="AuthMsaDeviceTicket",tn="AuthXToken",Wr="sdk-version",Ln="NoResponseBody",un="msfpc",rn="trace",En="user";function kr(ze){var st=(ze.ext||{}).intweb;return st&&(0,ke.Sn)(st[un])?st[un]:null}a(kr,"_getEventMsfpc");function Yn(ze){for(var st=null,St=0;st===null&&St<ze.length;St++)st=kr(ze[St]);return st}a(Yn,"_getMsfpc");var ln=function(){function ze(st,St){var ft=St?[].concat(St):[],Wt=this,Jt=Yn(ft);Wt.iKey=function(){return st},Wt.Msfpc=function(){return Jt||Me},Wt.count=function(){return ft.length},Wt.events=function(){return ft},Wt.addEvent=function(Et){return Et?(ft.push(Et),Jt||(Jt=kr(Et)),!0):!1},Wt.split=function(Et,tr){var Kt;if(Et<ft.length){var yr=ft.length-Et;(0,Be.le)(tr)||(yr=tr<yr?tr:yr),Kt=ft.splice(Et,yr),Jt=Yn(ft)}return new ze(st,Kt)}}return a(ze,"EventBatch"),ze.create=function(st,St){return new ze(st,St)},ze}(),qn=function(){function ze(){var st=!0,St=!0,ft=!0,Wt="use-collector-delta",Jt=!1;K(ze,this,function(Et){Et.allowRequestSending=function(){return st},Et.firstRequestSent=function(){ft&&(ft=!1,Jt||(st=!1))},Et.shouldAddClockSkewHeaders=function(){return St},Et.getClockSkewHeaderValue=function(){return Wt},Et.setClockSkew=function(tr){Jt||(tr?(Wt=tr,St=!0,Jt=!0):St=!1,st=!0)}})}return a(ze,"ClockSkewManager"),ze.__ieDyn=1,ze}();const si=qn;var ui=1e3,On=function(){function ze(){var st={};function St(ft){var Wt=[];return ft&&(0,Be.tO)(ft,function(Jt){Wt.push((0,Be.nd)(Jt))}),Wt}a(St,"_normalizeTenants"),K(ze,this,function(ft){ft.setKillSwitchTenants=function(Wt,Jt){if(Wt&&Jt)try{var Et=St(Wt.split(","));if(Jt==="this-request-only")return Et;for(var tr=parseInt(Jt,10)*ui,Kt=0;Kt<Et.length;++Kt)st[Et[Kt]]=(0,Be.m6)()+tr}catch(yr){return[]}return[]},ft.isTenantKilled=function(Wt){var Jt=st,Et=(0,Be.nd)(Wt);return Jt[Et]!==void 0&&Jt[Et]>(0,Be.m6)()?!0:(delete Jt[Et],!1)}})}return a(ze,"KillSwitch"),ze.__ieDyn=1,ze}();const W=On;var Se=S(4392),Pe=.8,Ge=1.2,lt=3e3,it=6e5;function pt(ze){return!(ze>=300&&ze<500&&ze!=408&&ze!=429||ze==501||ze==505)}a(pt,"retryPolicyShouldRetryForStatus");function Rt(ze){var st=0,St=lt*Pe,ft=lt*Ge,Wt=Math.floor(Math.random()*(ft-St))+St;return st=Math.pow(2,ze)*Wt,Math.min(st,it)}a(Rt,"retryPolicyGetMillisToBackoffForRetry");var Nt=20,nr=3984588,Tt=65e3,Vt=2e6,kt=Math.min(Vt,Tt),Ut="metadata",Lt="f",zr=/\./,Sr=function(){function ze(st,St,ft,Wt){var Jt="data",Et="baseData",tr="ext",Kt=!!Wt,yr=!0,br=St,Jr={};K(ze,this,function(Kr){Kr.createPayload=function(Bt,ir,_r,wr,j,Z){return{apiKeys:[],payloadBlob:Me,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Bt,isTeardown:ir,isSync:_r,isBeacon:wr,sendType:Z,sendReason:j}},Kr.appendPayload=function(Bt,ir,_r){var wr=Bt&&ir&&!Bt.overflow;return wr&&(0,X.Lm)(st,function(){return"Serializer:appendPayload"},function(){for(var j=ir.events(),Z=Bt.payloadBlob,Qe=Bt.numEvents,ht=!1,zt=[],$t=[],dr=Bt.isBeacon,vr=dr?Tt:nr,ar=dr?kt:Vt,gr=0,cr=0;gr<j.length;){var qt=j[gr];if(qt){if(Qe>=_r){Bt.overflow=ir.split(gr);break}var xt=Kr.getEventBlob(qt);if(xt&&xt.length<=ar){var Ar=xt.length,Rr=Z.length;if(Rr+Ar>vr){Bt.overflow=ir.split(gr);break}Z&&(Z+=`
`),Z+=xt,cr++,cr>Nt&&(Z.substr(0,1),cr=0),ht=!0,Qe++}else xt?zt.push(qt):$t.push(qt),j.splice(gr,1),gr--}gr++}if(zt&&zt.length>0&&Bt.sizeExceed.push(ln.create(ir.iKey(),zt)),$t&&$t.length>0&&Bt.failedEvts.push(ln.create(ir.iKey(),$t)),ht){Bt.batches.push(ir),Bt.payloadBlob=Z,Bt.numEvents=Qe;var Lr=ir.iKey();(0,Be.UA)(Bt.apiKeys,Lr)===-1&&Bt.apiKeys.push(Lr)}},function(){return{payload:Bt,theBatch:{iKey:ir.iKey(),evts:ir.events()},max:_r}}),wr},Kr.getEventBlob=function(Bt){try{return(0,X.Lm)(st,function(){return"Serializer.getEventBlob"},function(){var ir={};ir.name=Bt.name,ir.time=Bt.time,ir.ver=Bt.ver,ir.iKey="o:"+(0,ke.jM)(Bt.iKey);var _r={},wr=Bt[tr];wr&&(ir[tr]=_r,(0,Be.rW)(wr,function(Qe,ht){var zt=_r[Qe]={};Nr(ht,zt,"ext."+Qe,!0,null,null,!0)}));var j=ir[Jt]={};j.baseType=Bt.baseType;var Z=j[Et]={};return Nr(Bt.baseData,Z,Et,!1,[Et],function(Qe,ht,zt){Sn(_r,Qe,ht,zt)},yr),Nr(Bt.data,j,Jt,!1,[],function(Qe,ht,zt){Sn(_r,Qe,ht,zt)},yr),JSON.stringify(ir)},function(){return{item:Bt}})}catch(ir){return null}};function yn(Bt,ir){var _r=Jr[Bt];return _r===void 0&&(Bt.length>=7&&(_r=(0,Be.xe)(Bt,"ext.metadata")||(0,Be.xe)(Bt,"ext.web")),Jr[Bt]=_r),_r}a(yn,"_isReservedField");function Nr(Bt,ir,_r,wr,j,Z,Qe){(0,Be.rW)(Bt,function(ht,zt){var $t=null;if(zt||(0,ke.Sn)(zt)){var dr=_r,vr=ht,ar=j,gr=ir;if(Kt&&!wr&&zr.test(ht)){var cr=ht.split("."),qt=cr.length;if(qt>1){ar&&(ar=ar.slice());for(var xt=0;xt<qt-1;xt++){var Ar=cr[xt];gr=gr[Ar]=gr[Ar]||{},dr+="."+Ar,ar&&ar.push(Ar)}vr=cr[qt-1]}}var Rr=wr&&yn(dr,vr);if(!Rr&&br&&br.handleField(dr,vr)?$t=br.value(dr,vr,zt,ft):$t=(0,ke.yj)(vr,zt,ft),$t){var Lr=$t.value;if(gr[vr]=Lr,Z&&Z(ar,vr,$t),Qe&&typeof Lr=="object"&&!(0,Be.kJ)(Lr)){var Zr=ar;Zr&&(Zr=Zr.slice(),Zr.push(vr)),Nr(zt,Lr,dr+"."+vr,wr,Zr,Z,Qe)}}}})}a(Nr,"_processPathKeys")})}return a(ze,"Serializer"),ze.__ieDyn=1,ze}();function Sn(ze,st,St,ft){if(ft&&ze){var Wt=(0,ke.Vv)(ft.value,ft.kind,ft.propertyType);if(Wt>-1){var Jt=ze[Ut];Jt||(Jt=ze[Ut]={f:{}});var Et=Jt[Lt];if(Et||(Et=Jt[Lt]={}),st)for(var tr=0;tr<st.length;tr++){var Kt=st[tr];Et[Kt]||(Et[Kt]={f:{}});var yr=Et[Kt][Lt];yr||(yr=Et[Kt][Lt]={}),Et=yr}Et=Et[St]={},(0,Be.kJ)(ft.value)?Et.a={t:Wt}:Et.t=Wt}}}a(Sn,"_addJSONPropertyMetaData");var Qr,pn="sendAttempt",Wn="&"+Ln+"=true",zn=(Qr={},Qr[1]=Yt,Qr[100]=Yt,Qr[200]="sent",Qr[8004]=Je,Qr[8003]=Je,Qr),cn={},vn={};function Qt(ze,st,St){cn[ze]=st,St!==!1&&(vn[st]=ze)}a(Qt,"_addCollectorHeaderQsMapping"),Qt(mn,mn,!1),Qt(vt,vt),Qt(It,"Client-Id"),Qt(rr,rr),Qt(Mt,Mt),Qt(Xt,Xt),Qt(tn,tn);function jr(ze){try{return ze.responseText}catch(st){}return Me}a(jr,"_getResponseText");function Ur(ze,st){var St=!1;if(ze&&st){var ft=(0,Be.FY)(ze);if(ft&&ft.length>0)for(var Wt=st.toLowerCase(),Jt=0;Jt<ft.length;Jt++){var Et=ft[Jt];if(Et&&(0,Be.nr)(st,Et)&&Et.toLowerCase()===Wt){St=!0;break}}}return St}a(Ur,"_hasHeader");function Dr(ze,st,St,ft){st&&St&&St.length>0&&(ft&&cn[st]?(ze.hdrs[cn[st]]=St,ze.useHdrs=!0):ze.url+="&"+st+"="+St)}a(Dr,"_addRequestDetails");function Yr(ze,st){return st&&((0,Be.hj)(st)?ze=[st].concat(ze):(0,Be.kJ)(st)&&(ze=st.concat(ze))),ze}a(Yr,"_prependTransports");var bn=function(){function ze(st,St,ft,Wt,Jt){this._responseHandlers=[];var Et="?cors=true&"+m.toLowerCase()+"="+N,tr=new W,Kt=!1,yr=new si,br=!1,Jr=0,Kr,yn,Nr,Bt,ir=!0,_r=[],wr={},j=[],Z=null,Qe=!1,ht,zt=!1,$t=!1,dr,vr,ar,gr,cr;K(ze,this,function(qt){var xt=!0;qt.initialize=function(Te,at,ct,wt,Pt){var Ft;Pt||(Pt={}),Et=Te+Et,$t=(0,Be.o8)(Pt.avoidOptions)?!0:!Pt.avoidOptions,Bt=at,ht=at.getCookieMgr(),Qe=!Bt.config.disableEventTimings;var ur=!!Bt.config.enableCompoundKey;Kr=ct,yn=Kr.diagLog();var De=Pt.valueSanitizer,Xe=Pt.stringifyObjects;(0,Be.o8)(Pt.enableCompoundKey)||(ur=!!Pt.enableCompoundKey),dr=Pt.xhrTimeout,vr=!!Pt.disableXhrSync,ar=!!Pt.disableFetchKeepAlive,cr=Pt.addNoResponse!==!1,br=!(0,_e.b$)(),Z=new Sr(Bt,De,Xe,ur),(0,Be.le)(Pt.useSendBeacon)||(br=!!Pt.useSendBeacon);var Ze=wt,mt=Pt.alwaysUseXhrOverride?wt:null,Ht=Pt.alwaysUseXhrOverride?wt:null,er=[3,2];if(!wt){ir=!1;var Er=(0,_e.k$)();Er&&Er.protocol&&Er.protocol.toLowerCase()==="file:"&&(xt=!1);var xr=[];(0,_e.b$)()?(xr=[2,1],er=[2,1,3]):xr=[1,2,3],xr=Yr(xr,Pt.transports),wt=Ar(xr,!1),wt||(0,Le.jV)(yn,"No available transport to send events"),Ze=Ar(xr,!0)}mt||(er=Yr(er,Pt.unloadTransports),mt=Ar(er,!0)),gr=!ir&&(br&&(0,_e.MF)()||!ar&&(0,_e.JO)(!0)),Nr=(Ft={},Ft[0]=wt,Ft[1]=Ze||Ar([1,2,3],!0),Ft[2]=mt||Ze||Ar([1],!0),Ft[3]=Ht||Ar([2,3],!0)||Ze||Ar([1],!0),Ft)};function Ar(Te,at){for(var ct=0,wt=null,Pt=0;wt==null&&Pt<Te.length;)ct=Te[Pt],ct===1?(0,_e.cp)()?wt=Rr:(0,_e.Z3)()&&(wt=Zr):ct===2&&(0,_e.JO)(at)&&(!at||at&&!ar)?wt=Lr:br&&ct===3&&(0,_e.MF)()&&(wt=Mn),Pt++;return wt?{_transport:ct,_isSync:at,sendPOST:wt}:null}a(Ar,"_getSenderInterface"),qt._getDbgPlgTargets=function(){return[Nr[0],tr,Z,Nr]};function Rr(Te,at,ct){var wt=new XDomainRequest;wt.open(de,Te.urlString),Te.timeout&&(wt.timeout=Te.timeout),wt.onload=function(){var Pt=jr(wt);Zt(at,200,{},Pt),jn(Pt)},wt.onerror=function(){Zt(at,400,{})},wt.ontimeout=function(){Zt(at,500,{})},wt.onprogress=function(){},ct?wt.send(Te.data):Jt.set(function(){wt.send(Te.data)},0)}a(Rr,"_xdrSendPost");function Lr(Te,at,ct){var wt,Pt=Te.urlString,Ft=!1,ur=!1,De=(wt={body:Te.data,method:de},wt[ie]=!0,wt);ct&&(De.keepalive=!0,Te._sendReason===2&&(Ft=!0,cr&&(Pt+=Wn))),xt&&(De.credentials="include"),Te.headers&&(0,Be.FY)(Te.headers).length>0&&(De.headers=Te.headers),fetch(Pt,De).then(function(Xe){var Ze={},mt=Me,Ht=Xe.headers;Ht&&Ht.forEach(function(er,Er){Ze[Er]=er}),Xe.body&&Xe.text().then(function(er){mt=er}),ur||(ur=!0,Zt(at,Xe.status,Ze,mt),jn(mt))}).catch(function(Xe){ur||(ur=!0,Zt(at,0,{}))}),Ft&&!ur&&(ur=!0,Zt(at,200,{})),!ur&&Te.timeout>0&&Jt.set(function(){ur||(ur=!0,Zt(at,500,{}))},Te.timeout)}a(Lr,"_fetchSendPost");function Zr(Te,at,ct){var wt=Te.urlString;function Pt(Xe,Ze,mt){if(!Xe[mt]&&Ze&&Ze.getResponseHeader){var Ht=Ze.getResponseHeader(mt);Ht&&(Xe[mt]=(0,Be.nd)(Ht))}return Xe}a(Pt,"_appendHeader");function Ft(Xe){var Ze={};return Xe.getAllResponseHeaders?Ze=ki(Xe.getAllResponseHeaders()):(Ze=Pt(Ze,Xe,Ce),Ze=Pt(Ze,Xe,Ee),Ze=Pt(Ze,Xe,ce)),Ze}a(Ft,"_getAllResponseHeaders");function ur(Xe,Ze){Zt(at,Xe.status,Ft(Xe),Ze)}a(ur,"xhrComplete"),ct&&Te.disableXhrSync&&(ct=!1);var De=(0,ke.ot)(de,wt,xt,!0,ct,Te.timeout);(0,Be.rW)(Te.headers,function(Xe,Ze){De.setRequestHeader(Xe,Ze)}),De.onload=function(){var Xe=jr(De);ur(De,Xe),jn(Xe)},De.onerror=function(){ur(De)},De.ontimeout=function(){ur(De)},De.send(Te.data)}a(Zr,"_xhrSendPost");function Zt(Te,at,ct,wt){try{Te(at,ct,wt)}catch(Pt){(0,Le.kP)(yn,2,518,(0,_e.eU)(Pt))}}a(Zt,"_doOnComplete");function Mn(Te,at,ct){var wt=Te,Pt=200,Ft=wt._thePayload,ur=Te.urlString+(cr?Wn:Me);try{var De=(0,_e.jW)();if(!De.sendBeacon(ur,Te.data))if(Ft){var Xe=[];(0,Be.tO)(Ft.batches,function(Ze){if(Xe&&Ze&&Ze.count()>0){for(var mt=Ze.events(),Ht=0;Ht<mt.length;Ht++)if(!De.sendBeacon(ur,Z.getEventBlob(mt[Ht]))){Xe.push(Ze.split(Ht));break}}else Xe.push(Ze.split(0))}),hn(Xe,8003,Ft.sendType,!0)}else Pt=0}catch(Ze){(0,Le.jV)(yn,"Failed to send telemetry using sendBeacon API. Ex:"+(0,_e.eU)(Ze)),Pt=0}finally{Zt(at,Pt,{},Me)}}a(Mn,"_beaconSendPost");function _n(Te){return Te===2||Te===3}a(_n,"_isBeaconPayload");function Pr(Te){return zt&&_n(Te)&&(Te=2),Te}a(Pr,"_adjustSendType"),qt.addQueryStringParameter=function(Te,at){for(var ct=0;ct<_r.length;ct++)if(_r[ct].name===Te){_r[ct].value=at;return}_r.push({name:Te,value:at})},qt.addHeader=function(Te,at){wr[Te]=at},qt.canSendRequest=function(){return ii()&&yr.allowRequestSending()},qt.sendQueuedRequests=function(Te,at){(0,Be.o8)(Te)&&(Te=0),zt&&(Te=Pr(Te),at=2),Un(j,Te,0)&&ci(kn(),0,!1,Te,at||0)},qt.isCompletelyIdle=function(){return!Kt&&Jr===0&&j.length===0},qt.setUnloading=function(Te){zt=Te},qt.addBatch=function(Te){if(Te&&Te.count()>0){if(tr.isTenantKilled(Te.iKey()))return!1;j.push(Te)}return!0},qt.teardown=function(){j.length>0&&ci(kn(),0,!0,2,2)},qt.pause=function(){Kt=!0},qt.resume=function(){Kt=!1,qt.sendQueuedRequests(0,4)},qt.sendSynchronousBatch=function(Te,at,ct){Te&&Te.count()>0&&((0,Be.le)(at)&&(at=1),zt&&(at=Pr(at),ct=2),ci([Te],0,!1,at,ct||0))};function ii(){return!Kt&&Jr<St}a(ii,"_hasIdleConnection");function kn(){var Te=j;return j=[],Te}a(kn,"_clearQueue");function Un(Te,at,ct){var wt=!1;return Te&&Te.length>0&&!Kt&&Nr[at]&&Z&&(wt=at!==0||ii()&&(ct>0||yr.allowRequestSending())),wt}a(Un,"_canSendPayload");function yi(Te){var at={};return Te&&(0,Be.tO)(Te,function(ct,wt){at[wt]={iKey:ct.iKey(),evts:ct.events()}}),at}a(yi,"_createDebugBatches");function ci(Te,at,ct,wt,Pt){if(!(!Te||Te.length===0)){if(Kt){hn(Te,1,wt);return}wt=Pr(wt);try{var Ft=Te,ur=wt!==0;(0,X.Lm)(Bt,function(){return"HttpManager:_sendBatches"},function(De){De&&(Te=Te.slice(0));for(var Xe=[],Ze=null,mt=(0,ke.hK)(),Ht=Nr[wt]||(ur?Nr[1]:Nr[0]),er=Ht&&Ht._transport,Er=gr&&(zt||_n(wt)||er===3||Ht._isSync&&er===2);Un(Te,wt,at);){var xr=Te.shift();xr&&xr.count()>0&&(tr.isTenantKilled(xr.iKey())?Xe.push(xr):(Ze=Ze||Z.createPayload(at,ct,ur,Er,Pt,wt),Z.appendPayload(Ze,xr,st)?Ze.overflow!==null&&(Te=[Ze.overflow].concat(Te),Ze.overflow=null,bi(Ze,mt,(0,ke.hK)(),Pt),mt=(0,ke.hK)(),Ze=null):(bi(Ze,mt,(0,ke.hK)(),Pt),mt=(0,ke.hK)(),Te=[xr].concat(Te),Ze=null)))}Ze&&bi(Ze,mt,(0,ke.hK)(),Pt),Te.length>0&&(j=Te.concat(j)),hn(Xe,8004,wt)},function(){return{batches:yi(Ft),retryCount:at,isTeardown:ct,isSynchronous:ur,sendReason:Pt,useSendBeacon:_n(wt),sendType:wt}},!ur)}catch(De){(0,Le.kP)(yn,2,48,"Unexpected Exception sending batch: "+(0,_e.eU)(De))}}}a(ci,"_sendBatches");function fi(Te,at){var ct={url:Et,hdrs:{},useHdrs:!1};at?(ct.hdrs=(0,ke.l7)(ct.hdrs,wr),ct.useHdrs=(0,Be.FY)(ct.hdrs).length>0):(0,Be.rW)(wr,function(De,Xe){vn[De]?Dr(ct,vn[De],Xe,!1):(ct.hdrs[De]=Xe,ct.useHdrs=!0)}),Dr(ct,It,"NO_AUTH",at),Dr(ct,vt,ke.vs,at);var wt=Me;(0,Be.tO)(Te.apiKeys,function(De){wt.length>0&&(wt+=","),wt+=De}),Dr(ct,rr,wt,at),Dr(ct,Xt,(0,Be.m6)().toString(),at);var Pt=Qn(Te);if((0,ke.Sn)(Pt)&&(ct.url+="&ext.intweb.msfpc="+Pt),yr.shouldAddClockSkewHeaders()&&Dr(ct,Mt,yr.getClockSkewHeaderValue(),at),Bt.getWParam){var Ft=Bt.getWParam();Ft>=0&&(ct.url+="&w="+Ft)}for(var ur=0;ur<_r.length;ur++)ct.url+="&"+_r[ur].name+"="+_r[ur].value;return ct}a(fi,"_buildRequestDetails");function fn(Te,at,ct){Te[at]=Te[at]||{},Te[at][Kr.identifier]=ct}a(fn,"_setTimingValue");function bi(Te,at,ct,wt){if(Te&&Te.payloadBlob&&Te.payloadBlob.length>0){var Pt=!!qt.sendHook,Ft=Nr[Te.sendType];!_n(Te.sendType)&&Te.isBeacon&&Te.sendReason===2&&(Ft=Nr[2]||Nr[3]||Ft);var ur=$t;(Te.isBeacon||Ft._transport===3)&&(ur=!1);var De=fi(Te,ur);ur=ur||De.useHdrs;var Xe=(0,ke.hK)();(0,X.Lm)(Bt,function(){return"HttpManager:_doPayloadSend"},function(){for(var Ze=0;Ze<Te.batches.length;Ze++)for(var mt=Te.batches[Ze],Ht=mt.events(),er=0;er<Ht.length;er++){var Er=Ht[er];if(Qe){var xr=Er.timings=Er.timings||{};fn(xr,"sendEventStart",Xe),fn(xr,"serializationStart",at),fn(xr,"serializationCompleted",ct)}Er[pn]>0?Er[pn]++:Er[pn]=1}hn(Te.batches,1e3+(wt||0),Te.sendType,!0);var Gr={data:Te.payloadBlob,urlString:De.url,headers:De.hdrs,_thePayload:Te,_sendReason:wt,timeout:dr,disableXhrSync:vr,disableFetchKeepAlive:ar};ur&&(Ur(Gr.headers,d)||(Gr.headers[d]=Vr),Ur(Gr.headers,m)||(Gr.headers[m]=N));var Ci=null;Ft&&(Ci=a(function(Xi){yr.firstRequestSent();var Yi=a(function(di,Ui){ai(di,Ui,Te,wt)},"onComplete"),an=Te.isTeardown||Te.isSync;try{Ft.sendPOST(Xi,Yi,an),qt.sendListener&&qt.sendListener(Gr,Xi,an,Te.isBeacon)}catch(di){(0,Le.jV)(yn,"Unexpected exception sending payload. Ex:"+(0,_e.eU)(di)),Zt(Yi,0,{})}},"sender")),(0,X.Lm)(Bt,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Ci)if(Te.sendType===0&&Jr++,Pt&&!Te.isBeacon&&Ft._transport!==3){var Xi={data:Gr.data,urlString:Gr.urlString,headers:(0,ke.l7)({},Gr.headers),timeout:Gr.timeout,disableXhrSync:Gr.disableXhrSync,disableFetchKeepAlive:Gr.disableFetchKeepAlive},Yi=!1;(0,X.Lm)(Bt,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{qt.sendHook(Xi,function(an){Yi=!0,!ir&&!an._thePayload&&(an._thePayload=an._thePayload||Gr._thePayload,an._sendReason=an._sendReason||Gr._sendReason),Ci(an)},Te.isSync||Te.isTeardown)}catch(an){Yi||Ci(Gr)}})}else Ci(Gr)})},function(){return{thePayload:Te,serializationStart:at,serializationCompleted:ct,sendReason:wt}},Te.isSync)}Te.sizeExceed&&Te.sizeExceed.length>0&&hn(Te.sizeExceed,8003,Te.sendType),Te.failedEvts&&Te.failedEvts.length>0&&hn(Te.failedEvts,8002,Te.sendType)}a(bi,"_doPayloadSend");function xi(Te,at){Qe&&(0,Be.tO)(Te,function(ct){var wt=ct.timings=ct.timings||{};fn(wt,"sendEventCompleted",at)})}a(xi,"_addEventCompletedTimings");function ai(Te,at,ct,wt){var Pt=9e3,Ft=null,ur=!1,De=!1;try{var Xe=!0;if(typeof Te!==Se.jA){if(at){yr.setClockSkew(at[Ce]);var Ze=at[Ee]||at["kill-duration-seconds"];(0,Be.tO)(tr.setKillSwitchTenants(at[q],Ze),function(Ht){(0,Be.tO)(ct.batches,function(er){if(er.iKey()===Ht){Ft=Ft||[];var Er=er.split(0);ct.numEvents-=Er.count(),Ft.push(Er)}})})}if(Te==200||Te==204){Pt=200;return}(!pt(Te)||ct.numEvents<=0)&&(Xe=!1),Pt=9e3+Te%1e3}if(Xe){Pt=100;var mt=ct.retryCnt;ct.sendType===0&&(mt<ft?(ur=!0,Mi(function(){ct.sendType===0&&Jr--,ci(ct.batches,mt+1,ct.isTeardown,zt?2:ct.sendType,5)},zt,Rt(mt))):(De=!0,zt&&(Pt=8001)))}}finally{ur||(yr.setClockSkew(),Bn(ct,Pt,wt,De)),hn(Ft,8004,ct.sendType)}}a(ai,"_retryRequestIfNeeded");function Bn(Te,at,ct,wt){try{wt&&Kr._backOffTransmission(),at===200&&(!wt&&!Te.isSync&&Kr._clearBackOff(),oi(Te.batches)),hn(Te.batches,at,Te.sendType,!0)}finally{Te.sendType===0&&(Jr--,ct!==5&&qt.sendQueuedRequests(Te.sendType,ct))}}a(Bn,"_handleRequestFinished");function oi(Te){if(Qe){var at=(0,ke.hK)();(0,Be.tO)(Te,function(ct){ct&&ct.count()>0&&xi(ct.events(),at)})}}a(oi,"_addCompleteTimings");function Mi(Te,at,ct){at?Te():Jt.set(Te,ct)}a(Mi,"_doAction");function ki(Te){var at={};if((0,Be.HD)(Te)){var ct=(0,Be.nd)(Te).split(/[\r\n]+/);(0,Be.tO)(ct,function(wt){if(wt){var Pt=wt.indexOf(": ");if(Pt!==-1){var Ft=(0,Be.nd)(wt.substring(0,Pt)).toLowerCase(),ur=(0,Be.nd)(wt.substring(Pt+1));at[Ft]=ur}else at[(0,Be.nd)(wt)]=1}})}return at}a(ki,"_convertAllHeadersToMap");function Qn(Te){for(var at=0;at<Te.batches.length;at++){var ct=Te.batches[at].Msfpc();if(ct)return encodeURIComponent(ct)}return Me}a(Qn,"_getMsfpc");function jn(Te){var at=qt._responseHandlers;try{for(var ct=0;ct<at.length;ct++)try{at[ct](Te)}catch(Pt){(0,Le.kP)(yn,1,519,"Response handler failed: "+Pt)}if(Te){var wt=JSON.parse(Te);(0,ke.Sn)(wt.webResult)&&(0,ke.Sn)(wt.webResult[un])&&ht.set("MSFPC",wt.webResult[un],365*86400)}}catch(Pt){}}a(jn,"_handleCollectorResponse");function hn(Te,at,ct,wt){if(Te&&Te.length>0&&Wt){var Pt=Wt[hi(at)];if(Pt){var Ft=ct!==0;(0,X.Lm)(Bt,function(){return"HttpManager:_sendBatchesNotification"},function(){Mi(function(){try{Pt.call(Wt,Te,at,Ft,ct)}catch(ur){(0,Le.kP)(yn,1,74,"send request notification failed: "+ur)}},wt||Ft,0)},function(){return{batches:yi(Te),reason:at,isSync:Ft,sendSync:wt,sendType:ct}},!Ft)}}}a(hn,"_sendBatchesNotification");function hi(Te){var at=zn[Te];return(0,ke.Sn)(at)||(at=lr,Te>=9e3&&Te<=9999?at=Tr:Te>=8e3&&Te<=8999?at=Je:Te>=1e3&&Te<=1999&&(at=_t)),at}a(hi,"_getNotificationAction")})}return a(ze,"HttpManager"),ze.__ieDyn=1,ze}();function Fn(ze,st){for(var St=[],ft=2;ft<arguments.length;ft++)St[ft-2]=arguments[ft];return setTimeout(ze,st,St)}a(Fn,"defaultSetTimeout");function Vn(ze){clearTimeout(ze)}a(Vn,"defaultClearTimeout");function wi(ze,st){return{set:ze||Fn,clear:st||Vn}}a(wi,"createTimeoutWrapper");var ji=.25,Ei=500,ha=20,dt=6,Ki=2,Zi=4,xn=2,Si=1,li="eventsDiscarded",Nn="overrideInstrumentationKey",mi="maxEventRetryAttempts",Gi="maxUnloadEventRetryAttempts",Sa="addUnloadCb",ni=function(ze){(0,v.ne)(st,ze);function st(){var St=ze.call(this)||this;St.identifier="PostChannel",St.priority=1011,St.version="3.2.10";var ft,Wt=!1,Jt=[],Et=null,tr=!1,Kt=0,yr=500,br=0,Jr=1e4,Kr={},yn=Ne,Nr=null,Bt=null,ir=0,_r=0,wr,j,Z={},Qe,ht,zt=-1,$t,dr=!0,vr=!1,ar=dt,gr=Ki,cr,qt;return K(st,St,function(xt,Ar){ii(),xt._getDbgPlgTargets=function(){return[j]},xt.initialize=function(De,Xe,Ze){(0,X.Lm)(Xe,function(){return"PostChannel:initialize"},function(){var mt=Xe;Ar.initialize(De,Xe,Ze);try{var Ht=!!Xe[Sa];cr=(0,ae.jU)((0,we.J)(xt.identifier),Xe.evtNamespace&&Xe.evtNamespace());var er=xt._getTelCtx();De.extensionConfig[xt.identifier]=De.extensionConfig[xt.identifier]||{},ft=er.getExtCfg(xt.identifier),qt=wi(ft.setTimeoutOverride,ft.clearTimeoutOverride),dr=!ft.disableOptimizeObj&&(0,ke.mJ)(),Rr(mt),ft.eventsLimitInMem>0&&(Jr=ft.eventsLimitInMem),ft.immediateEventLimit>0&&(yr=ft.immediateEventLimit),ft.autoFlushEventsLimit>0&&(Qe=ft.autoFlushEventsLimit),(0,Be.hj)(ft[mi])&&(ar=ft[mi]),(0,Be.hj)(ft[Gi])&&(gr=ft[Gi]),ur(),ft.httpXHROverride&&ft.httpXHROverride.sendPOST&&(wr=ft.httpXHROverride),(0,ke.Sn)(De.anonCookieName)&&j.addQueryStringParameter("anoncknm",De.anonCookieName),j.sendHook=ft.payloadPreprocessor,j.sendListener=ft.payloadListener;var Er=ft.overrideEndpointUrl?ft.overrideEndpointUrl:De.endpointUrl;xt._notificationManager=Xe.getNotifyMgr(),j.initialize(Er,xt.core,xt,wr,ft);var xr=De.disablePageUnloadEvents||[];(0,ae.c9)(Lr,xr,cr),(0,ae.TJ)(Lr,xr,cr),(0,ae.nD)(Zr,De.disablePageShowEvents,cr)}catch(Gr){throw xt.setInitialized(!1),Gr}},function(){return{coreConfig:De,core:Xe,extensions:Ze}})},xt.processTelemetry=function(De,Xe){(0,ke.if)(De,xt.identifier),Xe=xt._getTelCtx(Xe);var Ze=Xe.getExtCfg(xt.identifier),mt=!!ft.disableTelemetry;Ze&&(mt=mt||!!Ze.disableTelemetry);var Ht=De;!mt&&!Wt&&(ft[Nn]&&(Ht.iKey=ft[Nn]),Ze&&Ze[Nn]&&(Ht.iKey=Ze[Nn]),Zt(Ht,!0),vr?yi(2,2):Pr()),xt.processNext(Ht,Xe)},xt._doTeardown=function(De,Xe){yi(2,2),Wt=!0,j.teardown(),(0,ae.JA)(null,cr),(0,ae.C9)(null,cr),(0,ae.Yl)(null,cr),ii()};function Rr(De){var Xe=De.getWParam;De.getWParam=function(){var Ze=0;return ft.ignoreMc1Ms0CookieProcessing&&(Ze=Ze|2),Ze|Xe()}}a(Rr,"_hookWParam");function Lr(De){var Xe=De||(0,_e.Jj)().event;Xe.type!=="beforeunload"&&(vr=!0,j.setUnloading(vr)),yi(2,2)}a(Lr,"_handleUnloadEvents");function Zr(De){vr=!1,j.setUnloading(vr)}a(Zr,"_handleShowEvents");function Zt(De,Xe){if(De.sendAttempt||(De.sendAttempt=0),De.latency||(De.latency=1),De.ext&&De.ext[rn]&&delete De.ext[rn],De.ext&&De.ext[En]&&De.ext[En].id&&delete De.ext[En].id,dr&&(ke.if,De.ext=(0,Be.Ax)(De.ext),De.baseData&&(De.baseData=(0,Be.Ax)(De.baseData)),De.data&&(De.data=(0,Be.Ax)(De.data))),De.sync){if(ir||tr)De.latency=3,De.sync=!1;else if(j){dr&&(De=(0,Be.Ax)(De)),j.sendSynchronousBatch(ln.create(De.iKey,[De]),De.sync===!0?1:De.sync,3);return}}var Ze=De.latency,mt=br,Ht=Jr;Ze===4&&(mt=Kt,Ht=yr);var er=!1;if(mt<Ht)er=!bi(De,Xe);else{var Er=1,xr=ha;Ze===4&&(Er=4,xr=1),er=!0,xi(De.iKey,De.latency,Er,xr)&&(er=!bi(De,Xe))}er&&hi(li,[De],Ie.h.QueueFull)}a(Zt,"_addEventToQueues"),xt.setEventQueueLimits=function(De,Xe){Jr=De>0?De:1e4,Qe=Xe>0?Xe:0,ur();var Ze=br>De;if(!Ze&&ht>0)for(var mt=1;!Ze&&mt<=3;mt++){var Ht=Z[mt];Ht&&Ht.batches&&(0,Be.tO)(Ht.batches,function(er){er&&er.count()>=ht&&(Ze=!0)})}fn(!0,Ze)},xt.pause=function(){Un(),tr=!0,j.pause()},xt.resume=function(){tr=!1,j.resume(),Pr()},xt.addResponseHandler=function(De){j._responseHandlers.push(De)},xt._loadTransmitProfiles=function(De){ki(),(0,Be.rW)(De,function(Xe,Ze){var mt=Ze.length;if(mt>=2){var Ht=mt>2?Ze[2]:0;if(Ze.splice(0,mt-2),Ze[1]<0&&(Ze[0]=-1),Ze[1]>0&&Ze[0]>0){var er=Ze[0]/Ze[1];Ze[0]=Math.ceil(er)*Ze[1]}Ht>=0&&Ze[1]>=0&&Ht>Ze[1]&&(Ht=Ze[1]),Ze.push(Ht),Kr[Xe]=Ze}})},xt.flush=function(De,Xe,Ze){if(De===void 0&&(De=!0),!tr)if(Ze=Ze||1,De)Et==null?(Un(),Bn(1,0,Ze),Et=kn(function(){Et=null,oi(Xe,Ze)},0)):Jt.push(Xe);else{var mt=Un();Mn(1,1,Ze),Xe!=null&&Xe(),mt&&Pr()}},xt.setMsaAuthTicket=function(De){j.addHeader(mn,De)},xt.hasEvents=_n,xt._setTransmitProfile=function(De){yn!==De&&Kr[De]!==void 0&&(Un(),yn=De,Pr())};function Mn(De,Xe,Ze){var mt=Bn(De,Xe,Ze);return j.sendQueuedRequests(Xe,Ze),mt}a(Mn,"_sendEventsForLatencyAndAbove");function _n(){return br>0}a(_n,"_hasEvents");function Pr(){if(zt>=0&&Bn(zt,0,$t)&&j.sendQueuedRequests(0,$t),Kt>0&&!Bt&&!tr){var De=Kr[yn][2];De>=0&&(Bt=kn(function(){Bt=null,Mn(4,0,1),Pr()},De))}var Xe=Kr[yn][1];!Nr&&!Et&&Xe>=0&&!tr&&(_n()?Nr=kn(function(){Nr=null,Mn(_r===0?3:1,0,1),_r++,_r%=2,Pr()},Xe):_r=0)}a(Pr,"_scheduleTimer"),xt._backOffTransmission=function(){ir<Zi&&(ir++,Un(),Pr())},xt._clearBackOff=function(){ir&&(ir=0,Un(),Pr())};function ii(){ft=null,Wt=!1,Jt=[],Et=null,tr=!1,Kt=0,yr=500,br=0,Jr=1e4,Kr={},yn=Ne,Nr=null,Bt=null,ir=0,_r=0,wr=null,Z={},Qe=void 0,ht=0,zt=-1,$t=null,dr=!0,vr=!1,ar=dt,gr=Ki,cr=null,qt=wi(),j=new bn(Ei,xn,Si,{requeue:jn,send:at,sent:ct,drop:wt,rspFail:Pt,oth:Ft},qt),Qn(),ci(),ur()}a(ii,"_initDefaults");function kn(De,Xe){Xe===0&&ir&&(Xe=1);var Ze=1e3;return ir&&(Ze=Rt(ir-1)),qt.set(De,Xe*Ze)}a(kn,"_createTimer");function Un(){return Nr!==null?(qt.clear(Nr),Nr=null,_r=0,!0):!1}a(Un,"_clearScheduledTimer");function yi(De,Xe){Un(),Et&&(qt.clear(Et),Et=null),tr||Mn(1,De,Xe)}a(yi,"_releaseAllQueues");function ci(){Z[4]={batches:[],iKeyMap:{}},Z[3]={batches:[],iKeyMap:{}},Z[2]={batches:[],iKeyMap:{}},Z[1]={batches:[],iKeyMap:{}}}a(ci,"_clearQueues");function fi(De,Xe,Ze){var mt=Z[Xe];mt||(Xe=1,mt=Z[Xe]);var Ht=mt.iKeyMap[De];return!Ht&&Ze&&(Ht=ln.create(De),mt.batches.push(Ht),mt.iKeyMap[De]=Ht),Ht}a(fi,"_getEventBatch");function fn(De,Xe){j.canSendRequest()&&!ir&&(Qe>0&&br>Qe&&(Xe=!0),Xe&&Et==null&&xt.flush(De,null,20))}a(fn,"_performAutoFlush");function bi(De,Xe){dr&&(De=(0,Be.Ax)(De));var Ze=De.latency,mt=fi(De.iKey,Ze,!0);return mt.addEvent(De)?(Ze!==4?(br++,Xe&&De.sendAttempt===0&&fn(!De.sync,ht>0&&mt.count()>=ht)):Kt++,!0):!1}a(bi,"_addEventToProperQueue");function xi(De,Xe,Ze,mt){for(;Ze<=Xe;){var Ht=fi(De,Xe,!0);if(Ht&&Ht.count()>0){var er=Ht.split(0,mt),Er=er.count();if(Er>0)return Ze===4?Kt-=Er:br-=Er,Te(li,[er],Ie.h.QueueFull),!0}Ze++}return ai(),!1}a(xi,"_dropEventWithLatencyOrLess");function ai(){for(var De=0,Xe=0,Ze=a(function(Ht){var er=Z[Ht];er&&er.batches&&(0,Be.tO)(er.batches,function(Er){Ht===4?De+=Er.count():Xe+=Er.count()})},"_loop_1"),mt=1;mt<=4;mt++)Ze(mt);br=Xe,Kt=De}a(ai,"_resetQueueCounts");function Bn(De,Xe,Ze){var mt=!1,Ht=Xe===0;return!Ht||j.canSendRequest()?(0,X.Lm)(xt.core,function(){return"PostChannel._queueBatches"},function(){for(var er=[],Er=4;Er>=De;){var xr=Z[Er];xr&&xr.batches&&xr.batches.length>0&&((0,Be.tO)(xr.batches,function(Gr){j.addBatch(Gr)?mt=mt||Gr&&Gr.count()>0:er=er.concat(Gr.events()),Er===4?Kt-=Gr.count():br-=Gr.count()}),xr.batches=[],xr.iKeyMap={}),Er--}er.length>0&&hi(li,er,Ie.h.KillSwitch),mt&&zt>=De&&(zt=-1,$t=0)},function(){return{latency:De,sendType:Xe,sendReason:Ze}},!Ht):(zt=zt>=0?Math.min(zt,De):De,$t=Math.max($t,Ze)),mt}a(Bn,"_queueBatches");function oi(De,Xe){Mn(1,0,Xe),ai(),Mi(function(){De&&De(),Jt.length>0?Et=kn(function(){Et=null,oi(Jt.shift(),Xe)},0):(Et=null,Pr())})}a(oi,"_flushImpl");function Mi(De){j.isCompletelyIdle()?De():Et=kn(function(){Et=null,Mi(De)},ji)}a(Mi,"_waitForIdleManager");function ki(){Un(),Qn(),yn=Ne,Pr()}a(ki,"_resetTransmitProfiles");function Qn(){Kr={},Kr[Ne]=[2,1,0],Kr[He]=[6,3,0],Kr[oe]=[18,9,0]}a(Qn,"_initializeProfiles");function jn(De,Xe){var Ze=[],mt=ar;vr&&(mt=gr),(0,Be.tO)(De,function(Ht){Ht&&Ht.count()>0&&(0,Be.tO)(Ht.events(),function(er){er&&(er.sync&&(er.latency=4,er.sync=!1),er.sendAttempt<mt?((0,ke.if)(er,xt.identifier),Zt(er,!1)):Ze.push(er))})}),Ze.length>0&&hi(li,Ze,Ie.h.NonRetryableStatus),vr&&yi(2,2)}a(jn,"_requeueEvents");function hn(De,Xe){var Ze=xt._notificationManager||{},mt=Ze[De];if(mt)try{mt.apply(Ze,Xe)}catch(Ht){(0,Le.kP)(xt.diagLog(),1,74,De+" notification failed: "+Ht)}}a(hn,"_callNotification");function hi(De,Xe){for(var Ze=[],mt=2;mt<arguments.length;mt++)Ze[mt-2]=arguments[mt];Xe&&Xe.length>0&&hn(De,[Xe].concat(Ze))}a(hi,"_notifyEvents");function Te(De,Xe){for(var Ze=[],mt=2;mt<arguments.length;mt++)Ze[mt-2]=arguments[mt];Xe&&Xe.length>0&&(0,Be.tO)(Xe,function(Ht){Ht&&Ht.count()>0&&hn(De,[Ht.events()].concat(Ze))})}a(Te,"_notifyBatchEvents");function at(De,Xe,Ze){De&&De.length>0&&hn("eventsSendRequest",[Xe>=1e3&&Xe<=1999?Xe-1e3:0,Ze!==!0])}a(at,"_sendingEvent");function ct(De,Xe){Te("eventsSent",De,Xe),Pr()}a(ct,"_eventsSentEvent");function wt(De,Xe){Te(li,De,Xe>=8e3&&Xe<=8999?Xe-8e3:Ie.h.Unknown)}a(wt,"_eventsDropped");function Pt(De){Te(li,De,Ie.h.NonRetryableStatus),Pr()}a(Pt,"_eventsResponseFail");function Ft(De,Xe){Te(li,De,Ie.h.Unknown),Pr()}a(Ft,"_otherEvent");function ur(){!ft||!ft.disableAutoBatchFlushLimit?ht=Math.max(Ei*(xn+1),Jr/6):ht=0}a(ur,"_setAutoLimits"),(0,Be.l_)(xt,"_setTimeoutOverride",function(){return qt.set},function(De){qt=wi(De,qt.clear)}),(0,Be.l_)(xt,"_clearTimeoutOverride",function(){return qt.clear},function(De){qt=wi(qt.set,De)})}),St}return a(st,"PostChannel"),st.__ieDyn=1,st}(et.i);const Ri=ni},4873:(ge,l,S)=>{"use strict";S.d(l,{By:()=>p,cc:()=>E});var v=S(6708);function p(R){var D={};return(0,v.rW)(R,function(_,h){D[_]=h,D[h]=_}),(0,v._A)(D)}a(p,"createEnumStyle");function w(R){var D={};return objForEachKey(R,function(_,h){D[_]=_,D[h]=_}),deepFreeze(D)}a(w,"createEnumMap");function E(R){var D={};return(0,v.rW)(R,function(_,h){D[_]=h[1],D[h[0]]=h[1]}),(0,v._A)(D)}a(E,"createValueMap")},5928:(ge,l,S)=>{"use strict";S.d(l,{h:()=>p});var v=S(4873),p=(0,v.By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7310:(ge,l,S)=>{"use strict";S.d(l,{X:()=>H,v:()=>U});var v=S(4873),p,w="Failed",E=w+"MonitorAjax",R="Track",D="Start",_="Stop",h="Event",b="AuthContext",y="Exception",x="Local",P="Session",F="Storage",Y="Browser",Q="Cannot",fe="Buffer",L="InstrumentationKey",H=(0,v.By)({CRITICAL:1,WARNING:2}),U=(0,v.By)((p={},p[Y+"DoesNotSupport"+x+F]=0,p[Y+Q+"Read"+x+F]=1,p[Y+Q+"Read"+P+F]=2,p[Y+Q+"Write"+x+F]=3,p[Y+Q+"Write"+P+F]=4,p[Y+w+"RemovalFrom"+x+F]=5,p[Y+w+"RemovalFrom"+P+F]=6,p[Q+"SendEmptyTelemetry"]=7,p.ClientPerformanceMathError=8,p["ErrorParsingAI"+P+"Cookie"]=9,p.ErrorPVCalc=10,p[y+"WhileLoggingError"]=11,p[w+"AddingTelemetryTo"+fe]=12,p[E+"Abort"]=13,p[E+"Dur"]=14,p[E+"Open"]=15,p[E+"RSC"]=16,p[E+"Send"]=17,p[E+"GetCorrelationHeader"]=18,p[w+"ToAddHandlerForOnBeforeUnload"]=19,p[w+"ToSendQueuedTelemetry"]=20,p[w+"ToReportDataLoss"]=21,p["Flush"+w]=22,p.MessageLimitPerPVExceeded=23,p.MissingRequiredFieldSpecification=24,p.NavigationTimingNotSupported=25,p.OnError=26,p[P+"RenewalDateIsZero"]=27,p.SenderNotInitialized=28,p[D+R+h+w]=29,p[_+R+h+w]=30,p[D+R+w]=31,p[_+R+w]=32,p.TelemetrySampledAndNotSent=33,p[R+h+w]=34,p[R+y+w]=35,p[R+"Metric"+w]=36,p[R+"PV"+w]=37,p[R+"PV"+w+"Calc"]=38,p[R+"Trace"+w]=39,p["Transmission"+w]=40,p[w+"ToSet"+F+fe]=41,p[w+"ToRestore"+F+fe]=42,p.InvalidBackendResponse=43,p[w+"ToFixDepricatedValues"]=44,p.InvalidDurationValue=45,p.TelemetryEnvelopeInvalid=46,p.CreateEnvelopeError=47,p[Q+"SerializeObject"]=48,p[Q+"SerializeObjectNonSerializable"]=49,p.CircularReferenceDetected=50,p["Clear"+b+w]=51,p[y+"Truncated"]=52,p.IllegalCharsInName=53,p.ItemNotInArray=54,p.MaxAjaxPerPVExceeded=55,p.MessageTruncated=56,p.NameTooLong=57,p.SampleRateOutOfRange=58,p["Set"+b+w]=59,p["Set"+b+w+"AccountName"]=60,p.StringValueTooLong=61,p.StartCalledMoreThanOnce=62,p.StopCalledWithoutStart=63,p["TelemetryInitializer"+w]=64,p.TrackArgumentsNotSpecified=65,p.UrlTooLong=66,p[P+F+fe+"Full"]=67,p[Q+"AccessCookie"]=68,p.IdTooLong=69,p.InvalidEvent=70,p[E+"SetRequestHeader"]=71,p["Send"+Y+"InfoOnUserInit"]=72,p["Plugin"+y]=73,p["Notification"+y]=74,p.SnippetScriptLoadFailure=99,p["Invalid"+L]=100,p[Q+"ParseAiBlobValue"]=101,p.InvalidContentBlob=102,p[R+"PageAction"+h+w]=103,p[w+"AddingCustomDefinedRequestContext"]=104,p["InMemory"+F+fe+"Full"]=105,p[L+"Deprecation"]=106,p))},5121:(ge,l,S)=>{"use strict";S.d(l,{F:()=>y});var v=S(1088),p=S(1679),w=S(8096),E=S(6900),R=S(5018),D=S(6708),_=S(6041),h=S(1880),b=S(9288),y=function(x){(0,v.ne)(P,x);function P(){var F=x.call(this)||this;return(0,p.Z)(P,F,function(Y,Q){Y[w.VL]=function(H,U,I,k){Q[w.VL](H,U,I||new R.AQ(H),k||new h.f(H))},Y.track=function(H){(0,b.Lm)(Y[_.kl](),function(){return"AppInsightsCore:track"},function(){H===null&&(L(H),(0,D._y)("Invalid telemetry item")),fe(H),Q.track(H)},function(){return{item:H}},!H.sync)};function fe(H){(0,D.le)(H[w.I])&&(L(H),(0,D._y)("telemetry name required"))}a(fe,"_validateTelemetryItem");function L(H){var U=Y[w.tb]();U&&U[_.$F]([H],2)}a(L,"_notifyInvalidEvent")}),F}return a(P,"AppInsightsCore"),P.__ieDyn=1,P}(E.A)},6900:(ge,l,S)=>{"use strict";S.d(l,{A:()=>ve});var v=S(1088),p=S(1679),w=S(2091),E=S(8096),R=S(6708),D=S(6041),_=S(1589),h=S(3833),b=500,y="Channel has invalid priority - ";function x(ue,J,pe){J&&(0,R.kJ)(J)&&J[E.R5]>0&&(J=J.sort(function(Fe,je){return Fe[D.yi]-je[D.yi]}),(0,R.tO)(J,function(Fe){Fe[D.yi]<b&&(0,R._y)(y+Fe[E.pZ])}),ue[E.MW]({queue:(0,R.FL)(J),chain:(0,_.jV)(J,pe[E.TC],pe)}))}a(x,"_addChannelQueue");function P(ue,J){function pe(){return(0,_.CD)(null,J[E.TC],J,null)}a(pe,"_getTelCtx");function Fe(K,X,ae,we){var ke=K?K[E.R5]+1:1;function Be(){ke--,ke===0&&(we&&we(),we=null)}a(Be,"_runChainOnComplete"),ke>0&&(0,R.tO)(K,function(_e){if(_e&&_e.queue[E.R5]>0){var Ie=_e.chain,Le=X[E.zV](Ie);Le[E.Fc](Be),ae(Le)}else ke--}),Be()}a(Fe,"_processChannelQueue");function je(K,X){var ae=X||{reason:0};return Fe(ue,K,function(we){we[E.uL](ae)},function(){K[E.uL](ae)}),!0}a(je,"_doUpdate");function ne(K,X){var ae=X||{reason:0,isAsync:!1};return Fe(ue,K,function(we){we[E.uL](ae)},function(){K[E.uL](ae),rt=!1}),!0}a(ne,"_doTeardown");function Ke(K){var X=null;return ue&&ue[E.R5]>0&&(0,R.tO)(ue,function(ae){if(ae&&ae.queue[E.R5]>0&&((0,R.tO)(ae.queue,function(we){if(we[E.pZ]===K)return X=we,-1}),X))return-1}),X}a(Ke,"_getChannel");var rt=!1,ot={identifier:"ChannelControllerPlugin",priority:b,initialize:function(K,X,ae,we){rt=!0,(0,R.tO)(ue,function(ke){ke&&ke.queue[E.R5]>0&&(0,h.bP)((0,_.CD)(ke.chain,K,X),ae)})},isInitialized:function(){return rt},processTelemetry:function(K,X){Fe(ue,X||pe(),function(ae){ae[E.uL](K)},function(){X[E.uL](K)})},update:je,pause:function(){Fe(ue,pe(),function(K){K.iterate(function(X){X.pause&&X.pause()})},null)},resume:function(){Fe(ue,pe(),function(K){K.iterate(function(X){X.resume&&X.resume()})},null)},teardown:ne,getChannel:Ke,flush:function(K,X,ae,we){var ke=1,Be=!1,_e=null;we=we||5e3;function Ie(){ke--,Be&&ke===0&&(_e&&(clearTimeout(_e),_e=null),X&&X(Be),X=null)}return a(Ie,"doCallback"),Fe(ue,pe(),function(Le){Le.iterate(function(et){if(et[E.kL]){ke++;var Ne=!1;et[E.kL](K,function(){Ne=!0,Ie()},ae)||Ne||(K&&_e==null?_e=setTimeout(function(){_e=null,Ie()},we):Ie())}})},function(){Be=!0,Ie()}),!0},_setQueue:function(K){ue=K}};return ot}a(P,"createChannelControllerPlugin");function F(ue,J,pe){var Fe=[];if(ue&&(0,R.tO)(ue,function(ne){return x(Fe,ne,pe)}),J){var je=[];(0,R.tO)(J,function(ne){ne[D.yi]>b&&je[E.MW](ne)}),x(Fe,je,pe)}return Fe}a(F,"createChannelQueues");var Y=S(3242),Q=S(5883),fe=S(7158),L=S(5018),H=S(9288),U=S(4063),I=S(7630),k=function(ue){(0,v.ne)(J,ue);function J(){var pe=ue.call(this)||this;pe.identifier="TelemetryInitializerPlugin",pe.priority=199;var Fe,je;ne(),(0,p.Z)(J,pe,function(Ke,rt){Ke.addTelemetryInitializer=function(ot){var K={id:Fe++,fn:ot};je[E.MW](K);var X={remove:function(){(0,R.tO)(je,function(ae,we){if(ae.id===K.id)return je[E.cb](we,1),-1})}};return X},Ke[D.hL]=function(ot,K){for(var X=!1,ae=je[E.R5],we=0;we<ae;++we){var ke=je[we];if(ke)try{if(ke.fn[E.ZV](null,[ot])===!1){X=!0;break}}catch(Be){(0,L.kP)(K[E.mc](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,R.jj)(Be),{exception:(0,I.eU)(Be)},!0)}}X||Ke[E.uL](ot,K)},Ke[E.F3]=function(){ne()}});function ne(){Fe=0,je=[]}return a(ne,"_initDefaults"),pe}return a(J,"TelemetryInitializerPlugin"),J.__ieDyn=1,J}(U.i),B=S(310),ee="Plugins must provide initialize method",V="_notificationManager",te="SDK is still unloading...",he="SDK is not initialized",be={loggingLevelConsole:1};function re(ue,J){return new H.Jk(J)}a(re,"_createPerfManager");function ye(ue,J,pe){var Fe,je=[],ne={};return(0,R.tO)(pe,function(Ke){((0,R.le)(Ke)||(0,R.le)(Ke[E.VL]))&&(0,R._y)(ee);var rt=Ke[D.yi],ot=Ke[E.pZ];Ke&&rt&&((0,R.le)(ne[rt])?ne[rt]=ot:(0,L.jV)(ue,"Two extensions have same priority #"+rt+" - "+ne[rt]+", "+ot)),(!rt||rt<J)&&je[E.MW](Ke)}),Fe={all:pe},Fe[D.oV]=je,Fe}a(ye,"_validateExtensions");function z(ue,J){var pe=!1;return(0,R.tO)(J,function(Fe){if(Fe===ue)return pe=!0,-1}),pe}a(z,"_isPluginPresent");function We(){var ue;return(0,w.pu)((ue={},ue[E.g]=function(J){},ue[E.n7]=function(J){},ue[D.uC]=function(J){},ue[D.$F]=function(J,pe){},ue[D.f_]=function(J,pe){},ue))}a(We,"_createDummyNotificationManager");var ve=function(){function ue(){var J,pe,Fe,je,ne,Ke,rt,ot,K,X,ae,we,ke,Be,_e,Ie,Le,et,Ne,He,oe=0;(0,p.Z)(ue,this,function(Me){de(),Me[E.yl]=function(){return pe},Me[E.VL]=function(ce,Ce,vt,It){Be&&(0,R._y)(te),Me[E.yl]()&&(0,R._y)("Core should not be initialized more than once"),J=ce||{},Me[E.TC]=J,(0,R.le)(ce[E.p$])&&(0,R._y)("Please provide instrumentation key"),je=It,Me[V]=It,N(),d(),m(),vt&&(Me[E.eZ]=vt);var Mt=(0,R.qK)(J,D.js,[]);K=[],K[E.MW].apply(K,(0,v.$h)((0,v.$h)([],Ce,!1),Mt,!1)),we=(0,R.qK)(J,D.Z,[]),Je(null),(!ke||ke[E.R5]===0)&&(0,R._y)("No "+D.Z+" available"),pe=!0,Me.releaseQueue()},Me.getTransmissionControls=function(){var ce=[];return ke&&(0,R.tO)(ke,function(Ce){ce[E.MW](Ce.queue)}),(0,R.FL)(ce)},Me.track=function(ce){ce.iKey=ce.iKey||J[E.p$],ce[E.Z_]=ce[E.Z_]||(0,R.Y6)(new Date),ce.ver=ce.ver||"4.0",!Be&&Me[E.yl]()?ie()[E.uL](ce):Fe[E.MW](ce)},Me[E.SD]=ie,Me[E.tb]=function(){return je||(je=We(),Me[V]=je),je},Me[E.g]=function(ce){je&&je[E.g](ce)},Me[E.n7]=function(ce){je&&je[E.n7](ce)},Me.getCookieMgr=function(){return rt||(rt=(0,Y.Nz)(J,Me[E.eZ])),rt},Me.setCookieMgr=function(ce){rt=ce},Me[D.kl]=function(){if(!ne&&!Ke&&(0,R.v4)(J.enablePerfMgr)){var ce=(0,R.v4)(J[D.DN]);(0,R.mf)(ce)&&(Ke=ce(Me,Me[E.tb]()))}return ne||Ke||(0,H.j5)()},Me.setPerfMgr=function(ce){ne=ce},Me.eventCnt=function(){return Fe[E.R5]},Me.releaseQueue=function(){if(pe&&Fe[E.R5]>0){var ce=Fe;Fe=[],(0,R.tO)(ce,function(Ce){ie()[E.uL](Ce)})}},Me.pollInternalLogs=function(ce){Ie=ce||null;var Ce=(0,R.v4)(J.diagnosticLogInterval);return(!Ce||!(Ce>0))&&(Ce=1e4),oe&&clearInterval(oe),oe=setInterval(function(){lr()},Ce),oe},Me[E.LS]=function(){oe&&(clearInterval(oe),oe=0,lr())},(0,R.Vb)(Me,function(){return _e},["addTelemetryInitializer"]),Me.unload=function(ce,Ce,vt){var It;ce===void 0&&(ce=!0),pe||(0,R._y)(he),Be&&(0,R._y)(te);var Mt=(It={reason:50},It[E.d]=ce,It.flushComplete=!1,It),Xt=(0,_.Bt)(Yt(),Me);Xt[E.Fc](function(){de(),Ce&&Ce(Mt)},Me);function rr(mn){Mt.flushComplete=mn,Be=!0,et.run(Xt,Mt),Me[E.LS](),Xt[E.uL](Mt)}a(rr,"_doUnload"),Vr(ce,rr,6,vt)||rr(!1)},Me[E.TO]=_t,Me.addPlugin=function(ce,Ce,vt,It){if(!ce){It&&It(!1),Ee(ee);return}var Mt=_t(ce[E.pZ]);if(Mt&&!Ce){It&&It(!1),Ee("Plugin ["+ce[E.pZ]+"] is already loaded!");return}var Xt={reason:16};function rr(Wr){K[E.MW](ce),Xt.added=[ce],Je(Xt),It&&It(!0)}if(a(rr,"_addPlugin"),Mt){var mn=[Mt.plugin],tn={reason:2,isAsync:!!vt};Tr(mn,tn,function(Wr){Wr?(Xt.removed=mn,Xt.reason|=32,rr(!0)):It&&It(!1)})}else rr(!1)},Me.evtNamespace=function(){return Le},Me[E.kL]=Vr,Me.getTraceCtx=function(ce){return He||(He=(0,h.Yn)()),He},Me.setTraceCtx=function(ce){He=ce||null},(0,R.Oi)(Me,"addUnloadCb",function(){return et},"add");function de(){pe=!1,J=(0,R.mm)(!0,{},be),Me[E.TC]=J,Me[E.eZ]=new L.AQ(J),Me[E.iC]=[],_e=new k,Fe=[],je=null,ne=null,Ke=null,rt=null,ot=null,X=null,K=[],ae=null,we=null,ke=null,Be=!1,Ie=null,Le=(0,Q.J)("AIBaseCore",!0),et=(0,B.Y)(),He=null}a(de,"_initDefaults");function ie(){return(0,_.CD)(Yt(),J,Me)}a(ie,"_createTelCtx");function Je(ce){var Ce=ye(Me[E.eZ],b,K);X=Ce[D.oV],ot=null;var vt=Ce.all;if(ke=(0,R.FL)(F(we,vt,Me)),ae){var It=(0,R.UA)(vt,ae);It!==-1&&vt[E.cb](It,1),It=(0,R.UA)(X,ae),It!==-1&&X[E.cb](It,1),ae._setQueue(ke)}else ae=P(ke,Me);vt[E.MW](ae),X[E.MW](ae),Me[E.iC]=(0,h.AA)(vt),ae[E.VL](J,Me,vt),(0,h.bP)(ie(),vt),Me[E.iC]=(0,R.FL)((0,h.AA)(X||[])).slice(),ce&&q(ce)}a(Je,"_initPluginChain");function _t(ce){var Ce,vt=null,It=null;return(0,R.tO)(Me[E.iC],function(Mt){if(Mt[E.pZ]===ce&&Mt!==ae&&Mt!==_e)return It=Mt,-1}),!It&&ae&&(It=ae.getChannel(ce)),It&&(vt=(Ce={plugin:It},Ce[E.$h]=function(Mt){(0,h.OY)(It)[D.mE]=!Mt},Ce.isEnabled=function(){var Mt=(0,h.OY)(It);return!Mt[E.fi]&&!Mt[D.mE]},Ce.remove=function(Mt,Xt){var rr;Mt===void 0&&(Mt=!0);var mn=[It],tn=(rr={reason:1},rr[E.d]=Mt,rr);Tr(mn,tn,function(Wr){Wr&&Je({reason:32,removed:mn}),Xt&&Xt(Wr)})},Ce)),vt}a(_t,"_getPlugin");function Yt(){if(!ot){var ce=(X||[]).slice();(0,R.UA)(ce,_e)===-1&&ce[E.MW](_e),ot=(0,_.jV)((0,h.AA)(ce),J,Me)}return ot}a(Yt,"_getPluginChain");function Tr(ce,Ce,vt){if(ce&&ce[E.R5]>0){var It=(0,_.jV)(ce,J,Me),Mt=(0,_.Bt)(It,Me);Mt[E.Fc](function(){var Xt=!1,rr=[];(0,R.tO)(K,function(tn,Wr){z(tn,ce)?Xt=!0:rr[E.MW](tn)}),K=rr;var mn=[];we&&((0,R.tO)(we,function(tn,Wr){var Ln=[];(0,R.tO)(tn,function(un){z(un,ce)?Xt=!0:Ln[E.MW](un)}),mn[E.MW](Ln)}),we=mn),vt&&vt(Xt)}),Mt[E.uL](Ce)}else vt(!1)}a(Tr,"_removePlugins");function lr(){var ce=Me[E.eZ]?Me[E.eZ].queue:[];ce&&((0,R.tO)(ce,function(Ce){var vt,It=(vt={},vt[E.I]=Ie||"InternalMessageId: "+Ce[E.Gc],vt.iKey=(0,R.v4)(J[E.p$]),vt.time=(0,R.Y6)(new Date),vt.baseType=L.lQ.dataType,vt.baseData={message:Ce[E.gU]},vt);Me.track(It)}),ce[E.R5]=0)}a(lr,"_flushInternalLogs");function Vr(ce,Ce,vt,It){return ae?ae[E.kL](ce,Ce,vt||6,It):(Ce&&Ce(!1),!0)}a(Vr,"_flushChannels");function N(){var ce=(0,R.v4)(J.disableDbgExt);ce===!0&&Ne&&(je[E.n7](Ne),Ne=null),je&&!Ne&&ce!==!0&&(Ne=(0,fe.p)(J),je[E.g](Ne))}a(N,"_initDebugListener");function d(){var ce=(0,R.v4)(J.enablePerfMgr);!ce&&Ke&&(Ke=null),ce&&(0,R.qK)(J,D.DN,re)}a(d,"_initPerfManager");function m(){var ce=(0,R.qK)(J,D.Zh,{});ce.NotificationManager=je}a(m,"_initExtConfig");function q(ce){var Ce=(0,_.xy)(Yt(),Me);(!Me._updateHook||Me._updateHook(Ce,ce)!==!0)&&Ce[E.uL](ce)}a(q,"_doUpdate");function Ee(ce){var Ce=Me[E.eZ];Ce?(0,L.kP)(Ce,2,73,ce):(0,R._y)(ce)}a(Ee,"_logOrThrowError")})}return a(ue,"BaseCore"),ue.__ieDyn=1,ue}()},4063:(ge,l,S)=>{"use strict";S.d(l,{i:()=>h});var v=S(1679),p=S(8096),w=S(6708),E=S(6041),R=S(1589),D=S(310),_="getPlugin",h=function(){function b(){var y=this,x,P,F,Y,Q;H(),(0,v.Z)(b,y,function(U){U[p.VL]=function(I,k,B,ee){L(I,k,ee),x=!0},U[p.fi]=function(I,k){var B,ee=U[E.oV];if(!ee||I&&ee!==I[E.oV]())return;var V,te=!1,he=I||(0,R.Bt)(null,ee,F&&F[_]?F[_]():F),be=k||(B={reason:0},B[p.d]=!1,B);function re(){if(!te){te=!0,Y.run(he,k);var ye=Q;Q=[],(0,w.tO)(ye,function(z){z.rm()}),V===!0&&he[p.uL](be),H()}}return a(re,"_unloadCallback"),!U[p.F3]||U[p.F3](he,be,re)!==!0?re():V=!0,V},U[p.Tu]=function(I,k){var B=U[E.oV];if(!B||I&&B!==I[E.oV]())return;var ee,V=!1,te=I||(0,R.xy)(null,B,F&&F[_]?F[_]():F),he=k||{reason:0};function be(){V||(V=!0,L(te.getCfg(),te.core(),te[p.W2]()))}return a(be,"_updateCallback"),!U._doUpdate||U._doUpdate(te,he,be)!==!0?be():ee=!0,ee},U._addHook=function(I){I&&((0,w.kJ)(I)?Q=Q.concat(I):Q[p.MW](I))},(0,w.Oi)(U,"_addUnloadCb",function(){return Y},"add")}),y[p.mc]=function(U){return fe(U)[p.mc]()},y[p.yl]=function(){return x},y.setInitialized=function(U){x=U},y[p.Jd]=function(U){F=U},y[p.uL]=function(U,I){I?I[p.uL](U):F&&(0,w.mf)(F[E.hL])&&F[E.hL](U,null)},y._getTelCtx=fe;function fe(U){U===void 0&&(U=null);var I=U;if(!I){var k=P||(0,R.CD)(null,{},y[E.oV]);F&&F[_]?I=k[p.zV](null,F[_]):I=k[p.zV](null,F)}return I}a(fe,"_getTelCtx");function L(U,I,k){U&&(0,w.sO)(U,E.Zh,[],null,w.le),!k&&I&&(k=I[p.SD]()[p.W2]());var B=F;F&&F[_]&&(B=F[_]()),y[E.oV]=I,P=(0,R.CD)(k,U,I,B)}a(L,"_setDefaults");function H(){x=!1,y[E.oV]=null,P=null,F=null,Q=[],Y=(0,D.Y)()}a(H,"_initDefaults")}return a(b,"BaseTelemetryPlugin"),b.__ieDyn=1,b}()},3242:(ge,l,S)=>{"use strict";S.d(l,{JP:()=>te,Nz:()=>he,UY:()=>ue,kj:()=>I,p7:()=>be});var v=S(8096),p=S(5018),w=S(7630),E=S(6708),R=S(6041),D="toGMTString",_="toUTCString",h="cookie",b="expires",y="enabled",x="isCookieUseDisabled",P="disableCookiesUsage",F="_ckMgr",Y=null,Q=null,fe=null,L=(0,w.Me)(),H={},U={};function I(J,pe){var Fe=he[F]||U[F];return Fe||(Fe=he[F]=he(J,pe),U[F]=Fe),Fe}a(I,"_gblCookieMgr");function k(J){return J?J.isEnabled():!0}a(k,"_isMgrEnabled");function B(J){var pe=J[v.Lk]=J[v.Lk]||{};if((0,E.sO)(pe,"domain",J.cookieDomain,E.BX,E.le),(0,E.sO)(pe,"path",J.cookiePath||"/",null,E.le),(0,E.le)(pe[y])){var Fe=void 0;(0,E.o8)(J[x])||(Fe=!J[x]),(0,E.o8)(J[P])||(Fe=!J[P]),pe[y]=Fe}return pe}a(B,"_createCookieMgrConfig");function ee(J,pe){return pe&&J&&(0,E.kJ)(J.ignoreCookies)?J.ignoreCookies[v.ou](pe)!==-1:!1}a(ee,"_isIgnoredCookie");function V(J,pe){return pe&&J&&(0,E.kJ)(J.blockedCookies)&&J.blockedCookies[v.ou](pe)!==-1?!0:ee(J,pe)}a(V,"_isBlockedCookie");function te(J,pe){var Fe;if(J)Fe=J.getCookieMgr();else if(pe){var je=pe[v.Lk];je[F]?Fe=je[F]:Fe=he(pe)}return Fe||(Fe=I(pe,(J||{})[v.eZ])),Fe}a(te,"safeGetCookieMgr");function he(J,pe){var Fe,je=B(J||U),ne=je.path||"/",Ke=je.domain,rt=je[y]!==!1,ot=(Fe={isEnabled:function(){var K=rt&&be(pe),X=U[F];return K&&X&&ot!==X&&(K=k(X)),K}},Fe[v.$h]=function(K){rt=K!==!1},Fe.set=function(K,X,ae,we,ke){var Be=!1;if(k(ot)&&!V(je,K)){var _e={},Ie=(0,E.nd)(X||R.qS),Le=Ie[v.ou](";");if(Le!==-1&&(Ie=(0,E.nd)(X[v.zc](0,Le)),_e=re(X[v.zc](Le+1))),(0,E.sO)(_e,"domain",we||Ke,E.fQ,E.o8),!(0,E.le)(ae)){var et=(0,w.w1)();if((0,E.o8)(_e[b])){var Ne=(0,E.m6)(),He=Ne+ae*1e3;if(He>0){var oe=new Date;oe.setTime(He),(0,E.sO)(_e,b,ye(oe,et?D:_)||ye(oe,et?D:_)||R.qS,E.fQ)}}et||(0,E.sO)(_e,"max-age",R.qS+ae,null,E.o8)}var Me=(0,w.k$)();Me&&Me.protocol==="https:"&&((0,E.sO)(_e,"secure",null,null,E.o8),Q===null&&(Q=!ue(((0,w.jW)()||{})[v.qV])),Q&&(0,E.sO)(_e,"SameSite","None",null,E.o8)),(0,E.sO)(_e,"path",ke||ne,null,E.o8);var de=je.setCookie||ve;de(K,z(Ie,_e)),Be=!0}return Be},Fe.get=function(K){var X=R.qS;return k(ot)&&!ee(je,K)&&(X=(je.getCookie||We)(K)),X},Fe.del=function(K,X){var ae=!1;return k(ot)&&(ae=ot.purge(K,X)),ae},Fe.purge=function(K,X){var ae,we=!1;if(be(pe)){var ke=(ae={},ae.path=X||"/",ae[b]="Thu, 01 Jan 1970 00:00:01 GMT",ae);(0,w.w1)()||(ke["max-age"]="0");var Be=je.delCookie||ve;Be(K,z(R.qS,ke)),we=!0}return we},Fe);return ot[F]=ot,ot}a(he,"createCookieMgr");function be(J){if(Y===null){Y=!1;try{var pe=L||{};Y=pe[h]!==void 0}catch(Fe){(0,p.kP)(J,2,68,"Cannot access document.cookie - "+(0,E.jj)(Fe),{exception:(0,w.eU)(Fe)})}}return Y}a(be,"areCookiesSupported");function re(J){var pe={};if(J&&J[v.R5]){var Fe=(0,E.nd)(J)[v.w6](";");(0,E.tO)(Fe,function(je){if(je=(0,E.nd)(je||R.qS),je){var ne=je[v.ou]("=");ne===-1?pe[je]=null:pe[(0,E.nd)(je[v.zc](0,ne))]=(0,E.nd)(je[v.zc](ne+1))}})}return pe}a(re,"_extractParts");function ye(J,pe){return(0,E.mf)(J[pe])?J[pe]():null}a(ye,"_formatDate");function z(J,pe){var Fe=J||R.qS;return(0,E.rW)(pe,function(je,ne){Fe+="; "+je+((0,E.le)(ne)?R.qS:"="+ne)}),Fe}a(z,"_formatCookieValue");function We(J){var pe=R.qS;if(L){var Fe=L[h]||R.qS;fe!==Fe&&(H=re(Fe),fe=Fe),pe=(0,E.nd)(H[J]||R.qS)}return pe}a(We,"_getCookieValue");function ve(J,pe){L&&(L[h]=J+"="+pe)}a(ve,"_setCookieValue");function ue(J){return(0,E.HD)(J)?!!((0,E._Q)(J,"CPU iPhone OS 12")||(0,E._Q)(J,"iPad; CPU OS 12")||(0,E._Q)(J,"Macintosh; Intel Mac OS X 10_14")&&(0,E._Q)(J,"Version/")&&(0,E._Q)(J,"Safari")||(0,E._Q)(J,"Macintosh; Intel Mac OS X 10_14")&&(0,E.Id)(J,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||(0,E._Q)(J,"Chrome/5")||(0,E._Q)(J,"Chrome/6")||(0,E._Q)(J,"UnrealEngine")&&!(0,E._Q)(J,"Chrome")||(0,E._Q)(J,"UCBrowser/12")||(0,E._Q)(J,"UCBrowser/11")):!1}a(ue,"uaDisallowsSameSiteNone")},5843:(ge,l,S)=>{"use strict";S.d(l,{DO:()=>Q,GW:()=>P,Jj:()=>F,Tr:()=>fe,d8:()=>ee,ej:()=>B,kT:()=>V,oF:()=>I,vn:()=>k,zB:()=>H});var v=S(2091),p=S(8096),w=S(3242),E=S(7630),R=S(4869),D=S(6708),_=S(6041),h=S(4878),b=null,y,x=null;function P(){var te=Q();return te[p.zc](0,8)+"-"+te[p.zc](8,12)+"-"+te[p.zc](12,16)+"-"+te[p.zc](16,20)+"-"+te[p.zc](20)}a(P,"newGuid");function F(){var te=(0,E.r)();return te&&te.now?te.now():(0,D.m6)()}a(F,"perfNow");function Y(te,he){if(te&&he){var be=te[_DYN_LENGTH],re=be-he[_DYN_LENGTH];return te[_DYN_SUBSTRING](re>=0?re:0,be)===he}return!1}a(Y,"strEndsWith");function Q(){for(var te=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],he=_.qS,be,re=0;re<4;re++)be=(0,h._l)(),he+=te[be&15]+te[be>>4&15]+te[be>>8&15]+te[be>>12&15]+te[be>>16&15]+te[be>>20&15]+te[be>>24&15]+te[be>>28&15];var ye=te[8+((0,h._l)()&3)|0];return he[p.Jn](0,8)+he[p.Jn](9,4)+"4"+he[p.Jn](13,3)+ye+he[p.Jn](16,3)+he[p.Jn](19,12)}a(Q,"generateW3CId");var fe={_canUseCookies:void 0,isTypeof:D.Ym,isUndefined:D.o8,isNullOrUndefined:D.le,hasOwnProperty:D.nr,isFunction:D.mf,isObject:D.Kn,isDate:D.J_,isArray:D.kJ,isError:D.VZ,isString:D.HD,isNumber:D.hj,isBoolean:D.jn,toISOString:D.Y6,arrForEach:D.tO,arrIndexOf:D.UA,arrMap:D.Mr,arrReduce:D.Xz,strTrim:D.nd,objCreate:v.pu,objKeys:D.FY,objDefineAccessors:D.l_,addEventHandler:R.Ib,dateNow:D.m6,isIE:E.w1,disableCookies:I,newGuid:P,perfNow:F,newId:h.pZ,randomValue:h.az,random32:h._l,mwcRandomSeed:h.CN,mwcRandom32:h.F6,generateW3CId:Q},L=/[xy]/g,H={Attach:R.pZ,AttachEvent:R.pZ,Detach:R.pD,DetachEvent:R.pD};function U(te,he){var be=(0,w.kj)(te,he),re=fe._canUseCookies;return b===null&&(b=[],y=re,(0,D.l_)(fe,"_canUseCookies",function(){return y},function(ye){y=ye,(0,D.tO)(b,function(z){z[p.$h](ye)})})),(0,D.UA)(b,be)===-1&&b[p.MW](be),(0,D.jn)(re)&&be[p.$h](re),(0,D.jn)(y)&&be[p.$h](y),be}a(U,"_legacyCookieMgr");function I(){U()[p.$h](!1)}a(I,"disableCookies");function k(te){return U(null,te).isEnabled()}a(k,"canUseCookies");function B(te,he){return U(null,te).get(he)}a(B,"getCookie");function ee(te,he,be,re){U(null,te).set(he,be,null,re)}a(ee,"setCookie");function V(te,he){return U(null,te).del(he)}a(V,"deleteCookie")},5883:(ge,l,S)=>{"use strict";S.d(l,{J:()=>F,K:()=>Y});var v=S(4392),p=S(8096),w=S(6708),E=S(6041),R=S(4878),D=v.RJ,_="2.8.12",h="."+(0,R.pZ)(6),b=0;function y(Q,fe,L){if(D)try{return D(Q,fe,{value:L,enumerable:!1,configurable:!0}),!0}catch(H){}return!1}a(y,"_createAccessor");function x(Q){return Q[p.xv]===1||Q[p.xv]===9||!+Q[p.xv]}a(x,"_canAcceptData");function P(Q,fe){var L=fe[Q.id];if(!L){L={};try{x(fe)&&(y(fe,Q.id,L)||(fe[Q.id]=L))}catch(H){}}return L}a(P,"_getCache");function F(Q,fe){return fe===void 0&&(fe=!1),(0,w.Gf)(Q+b+++(fe?"."+_:E.qS)+h)}a(F,"createUniqueNamespace");function Y(Q){var fe={id:F("_aiData-"+(Q||E.qS)+"."+_),accept:function(L){return x(L)},get:function(L,H,U,I){var k=L[fe.id];return k?k[(0,w.Gf)(H)]:(I&&(k=P(fe,L),k[(0,w.Gf)(H)]=U),U)},kill:function(L,H){if(L&&L[H])try{delete L[H]}catch(U){}}};return fe}a(Y,"createElmNodeData")},7158:(ge,l,S)=>{"use strict";S.d(l,{j:()=>h,p:()=>b});var v=S(8096),p=S(7630),w=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],E=null,R;function D(y,x){return function(){var P=arguments,F=h(x);if(F){var Y=F.listener;Y&&Y[y]&&Y[y][v.ZV](Y,P)}}}a(D,"_listenerProxyFunc");function _(){var y=(0,p.a8)("Microsoft");return y&&(E=y.ApplicationInsights),E}a(_,"_getExtensionNamespace");function h(y){var x=E;return!x&&y.disableDbgExt!==!0&&(x=E||_()),x?x.ChromeDbgExt:null}a(h,"getDebugExt");function b(y){if(!R){R={};for(var x=0;x<w[v.R5];x++)R[w[x]]=D(w[x],y)}return R}a(b,"getDebugListener")},5018:(ge,l,S)=>{"use strict";S.d(l,{AQ:()=>Y,L4:()=>H,jV:()=>L,kP:()=>fe,lQ:()=>P,vH:()=>F});var v=S(1679),p=S(8096),w=S(7158),E=S(7630),R=S(6708),D=S(6041),_="AI (Internal): ",h="AI: ",b="AITR_";function y(U){return U?'"'+U[p.i7](/\"/g,D.qS)+'"':D.qS}a(y,"_sanitizeDiagnosticText");function x(U,I){var k=(0,E.dr)();if(k){var B="log";k[U]&&(B=U),(0,R.mf)(k[B])&&k[B](I)}}a(x,"_logToConsole");var P=function(){function U(I,k,B,ee){B===void 0&&(B=!1);var V=this;V[p.Gc]=I,V[p.gU]=(B?h:_)+I;var te=D.qS;(0,E.nS)()&&(te=(0,E.xA)().stringify(ee));var he=(k?" message:"+y(k):D.qS)+(ee?" props:"+y(te):D.qS);V[p.gU]+=he}return a(U,"_InternalLogMessage"),U.dataType="MessageData",U}();function F(U,I){return(U||{})[p.eZ]||new Y(I)}a(F,"safeGetLogger");var Y=function(){function U(I){this.identifier="DiagnosticLogger",this.queue=[];var k=0,B={},ee,V,te,he;(0,v.Z)(U,this,function(be){ye(I||{}),be.consoleLoggingLevel=function(){return ee},be.telemetryLoggingLevel=function(){return V},be.maxInternalMessageLimit=function(){return te},be[p.Fr]=function(){return he},be.throwInternal=function(ve,ue,J,pe,Fe){Fe===void 0&&(Fe=!1);var je=new P(ue,J,Fe,pe);if(he)throw(0,E.eU)(je);var ne=ve===1?D.ys:D.cL;if((0,R.o8)(je[p.gU]))We("throw"+(ve===1?"Critical":"Warning"),je);else{if(Fe){var Ke=+je[p.Gc];!B[Ke]&&ee>=ve&&(be[ne](je[p.gU]),B[Ke]=!0)}else ee>=ve&&be[ne](je[p.gU]);re(ve,je)}},be[D.cL]=function(ve){x("warn",ve),We("warning",ve)},be[D.ys]=function(ve){x("error",ve),We("error",ve)},be.resetInternalMessageCount=function(){k=0,B={}},be[p.jk]=re;function re(ve,ue){if(!z()){var J=!0,pe=b+ue[p.Gc];if(B[pe]?J=!1:B[pe]=!0,J&&(ve<=V&&(be.queue[p.MW](ue),k++,We(ve===1?"error":"warn",ue)),k===te)){var Fe="Internal events throttle limit per PageView reached for this app.",je=new P(23,Fe,!1);be.queue[p.MW](je),ve===1?be[D.ys](Fe):be[D.cL](Fe)}}}a(re,"_logInternalMessage");function ye(ve){ee=(0,R.v4)(ve.loggingLevelConsole,0),V=(0,R.v4)(ve.loggingLevelTelemetry,1),te=(0,R.v4)(ve.maxMessageLimit,25),he=(0,R.v4)(ve.enableDebug,(0,R.v4)(ve[p.Fr],!1))}a(ye,"_setDefaultsFromConfig");function z(){return k>=te}a(z,"_areInternalMessagesThrottled");function We(ve,ue){var J=(0,w.j)(I||{});J&&J[p.mc]&&J[p.mc](ve,ue)}a(We,"_debugExtMsg")})}return a(U,"DiagnosticLogger"),U.__ieDyn=1,U}();function Q(U){return U||new Y}a(Q,"_getLogger");function fe(U,I,k,B,ee,V){V===void 0&&(V=!1),Q(U).throwInternal(I,k,B,ee,V)}a(fe,"_throwInternal");function L(U,I){Q(U)[D.cL](I)}a(L,"_warnToConsole");function H(U,I,k){Q(U)[p.jk](I,k)}a(H,"_logInternalMessage")},7630:(ge,l,S)=>{"use strict";S.d(l,{JO:()=>Le,Jj:()=>z,MF:()=>Ie,MX:()=>K,Me:()=>ve,Nv:()=>We,Ym:()=>ye,Z3:()=>Ne,a8:()=>re,b$:()=>ae,cp:()=>et,d6:()=>ue,dI:()=>be,dr:()=>ne,eU:()=>Be,ed:()=>oe,fE:()=>pe,gz:()=>X,jW:()=>J,k$:()=>je,nS:()=>rt,pI:()=>Me,r:()=>Ke,s1:()=>Fe,sA:()=>ke,w1:()=>we,xA:()=>ot});var v=S(4392),p=S(2091),w=S(8096),E=S(6708),R=S(6041),D="window",_="document",h="documentMode",b="navigator",y="history",x="location",P="console",F="performance",Y="JSON",Q="crypto",fe="msCrypto",L="ReactNative",H="msie",U="trident/",I="XMLHttpRequest",k=null,B=null,ee=!1,V=null,te=null;function he(de,ie){var Je=!1;if(de){try{if(Je=ie in de,!Je){var _t=de[v.hB];_t&&(Je=ie in _t)}}catch(Tr){}if(!Je)try{var Yt=new de;Je=!(0,E.o8)(Yt[ie])}catch(Tr){}}return Je}a(he,"_hasProperty");function be(de){ee=de}a(be,"setEnableEnvMocks");function re(de){var ie=(0,p.Rd)();return ie&&ie[de]?ie[de]:de===D&&ye()?window:null}a(re,"getGlobalInst");function ye(){return Boolean(typeof window===v.fK&&window)}a(ye,"hasWindow");function z(){return ye()?window:re(D)}a(z,"getWindow");function We(){return Boolean(typeof document===v.fK&&document)}a(We,"hasDocument");function ve(){return We()?document:re(_)}a(ve,"getDocument");function ue(){return Boolean(typeof navigator===v.fK&&navigator)}a(ue,"hasNavigator");function J(){return ue()?navigator:re(b)}a(J,"getNavigator");function pe(){return Boolean(typeof history===v.fK&&history)}a(pe,"hasHistory");function Fe(){return pe()?history:re(y)}a(Fe,"getHistory");function je(de){if(de&&ee){var ie=re("__mockLocation");if(ie)return ie}return typeof location===v.fK&&location?location:re(x)}a(je,"getLocation");function ne(){return typeof console!==v.jA?console:re(P)}a(ne,"getConsole");function Ke(){return re(F)}a(Ke,"getPerformance");function rt(){return Boolean(typeof JSON===v.fK&&JSON||re(Y)!==null)}a(rt,"hasJSON");function ot(){return rt()?JSON||re(Y):null}a(ot,"getJSON");function K(){return re(Q)}a(K,"getCrypto");function X(){return re(fe)}a(X,"getMsCrypto");function ae(){var de=J();return de&&de.product?de.product===L:!1}a(ae,"isReactNative");function we(){var de=J();if(de&&(de[w.qV]!==B||k===null)){B=de[w.qV];var ie=(B||R.qS)[w.T1]();k=(0,E._Q)(ie,H)||(0,E._Q)(ie,U)}return k}a(we,"isIE");function ke(de){if(de===void 0&&(de=null),!de){var ie=J()||{};de=ie?(ie[w.qV]||R.qS)[w.T1]():R.qS}var Je=(de||R.qS)[w.T1]();if((0,E._Q)(Je,H)){var _t=ve()||{};return Math.max(parseInt(Je[w.w6](H)[1]),_t[h]||0)}else if((0,E._Q)(Je,U)){var Yt=parseInt(Je[w.w6](U)[1]);if(Yt)return Yt+4}return null}a(ke,"getIEVersion");function Be(de){var ie=Object[v.hB].toString[w._S](de),Je=R.qS;return ie==="[object Error]"?Je="{ stack: '"+de.stack+"', message: '"+de.message+"', name: '"+de[w.I]+"'":rt()&&(Je=ot().stringify(de)),ie+Je}a(Be,"dumpObj");function _e(de){if(!de||!isString(de)){var ie=J()||{};de=ie?(ie[_DYN_USER_AGENT]||STR_EMPTY)[_DYN_TO_LOWER_CASE]():STR_EMPTY}var Je=(de||STR_EMPTY)[_DYN_TO_LOWER_CASE]();return Je[_DYN_INDEX_OF]("safari")>=0}a(_e,"isSafari");function Ie(){return te===null&&(te=ue()&&Boolean(J().sendBeacon)),te}a(Ie,"isBeaconsSupported");function Le(de){var ie=!1;try{ie=!!re("fetch");var Je=re("Request");ie&&de&&Je&&(ie=he(Je,"keepalive"))}catch(_t){}return ie}a(Le,"isFetchSupported");function et(){return V===null&&(V=typeof XDomainRequest!==v.jA,V&&Ne()&&(V=V&&!he(re(I),"withCredentials"))),V}a(et,"useXDomainRequest");function Ne(){var de=!1;try{var ie=re(I);de=!!ie}catch(Je){}return de}a(Ne,"isXhrSupported");function He(de,ie){if(de)for(var Je=0;Je<de[w.R5];Je++){var _t=de[Je];if(_t[w.I]&&_t[w.I]===ie)return _t}return{}}a(He,"_getNamedValue");function oe(de){var ie=ve();return ie&&de?He(ie.querySelectorAll("meta"),de).content:null}a(oe,"findMetaTag");function Me(de){var ie,Je=Ke();if(Je){var _t=Je.getEntriesByType("navigation")||[];ie=He((_t[w.R5]>0?_t[0]:{}).serverTiming,de).description}return ie}a(Me,"findNamedServerTiming")},4869:(ge,l,S)=>{"use strict";S.d(l,{C1:()=>ne,C9:()=>we,Ib:()=>je,JA:()=>X,QY:()=>J,TJ:()=>ae,XO:()=>ue,Yl:()=>Be,c9:()=>K,jU:()=>ve,nD:()=>ke,nJ:()=>ot,pD:()=>Fe,pZ:()=>pe,um:()=>he,yw:()=>rt});var v=S(8096),p=S(5883),w=S(7630),E=S(6708),R=S(6041),D="on",_="attachEvent",h="addEventListener",b="detachEvent",y="removeEventListener",x="events",P="visibilitychange",F="pagehide",Y="pageshow",Q="unload",fe="beforeunload",L=(0,p.J)("aiEvtPageHide"),H=(0,p.J)("aiEvtPageShow"),U=/\.[\.]+/g,I=/[\.]+$/,k=1,B=(0,p.K)("events"),ee=/^([^.]*)(?:\.(.+)|)/;function V(_e){return _e&&_e[v.i7]?_e[v.i7](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,R.qS):_e}a(V,"_normalizeNamespace");function te(_e,Ie){var Le;if(Ie){var et=R.qS;(0,E.kJ)(Ie)?(et=R.qS,(0,E.tO)(Ie,function(He){He=V(He),He&&(He[0]!=="."&&(He="."+He),et+=He)})):et=V(Ie),et&&(et[0]!=="."&&(et="."+et),_e=(_e||R.qS)+et)}var Ne=ee.exec(_e||R.qS)||[];return Le={},Le[v.P6]=Ne[1],Le.ns=(Ne[2]||R.qS).replace(U,".").replace(I,R.qS)[v.w6](".").sort().join("."),Le}a(te,"_getEvtNamespace");function he(_e,Ie,Le){var et=[],Ne=B.get(_e,x,{},!1),He=te(Ie,Le);return(0,E.rW)(Ne,function(oe,Me){(0,E.tO)(Me,function(de){var ie;(!He[v.P6]||He[v.P6]===de.evtName[v.P6])&&(!He.ns||He.ns===He.ns)&&et[v.MW]((ie={},ie[v.I]=de.evtName[v.P6]+(de.evtName.ns?"."+de.evtName.ns:R.qS),ie.handler=de[v.Kn],ie))})}),et}a(he,"__getRegisteredEvents");function be(_e,Ie,Le){Le===void 0&&(Le=!0);var et=B.get(_e,x,{},Le),Ne=et[Ie];return Ne||(Ne=et[Ie]=[]),Ne}a(be,"_getRegisteredEvents");function re(_e,Ie,Le,et){_e&&Ie&&Ie[v.P6]&&(_e[y]?_e[y](Ie[v.P6],Le,et):_e[b]&&_e[b](D+Ie[v.P6],Le))}a(re,"_doDetach");function ye(_e,Ie,Le,et){var Ne=!1;return _e&&Ie&&Ie[v.P6]&&Le&&(_e[h]?(_e[h](Ie[v.P6],Le,et),Ne=!0):_e[_]&&(_e[_](D+Ie[v.P6],Le),Ne=!0)),Ne}a(ye,"_doAttach");function z(_e,Ie,Le,et){for(var Ne=Ie[v.R5];Ne--;){var He=Ie[Ne];He&&(!Le.ns||Le.ns===He.evtName.ns)&&(!et||et(He))&&(re(_e,He.evtName,He[v.Kn],He.capture),Ie[v.cb](Ne,1))}}a(z,"_doUnregister");function We(_e,Ie,Le){if(Ie[v.P6])z(_e,be(_e,Ie[v.P6]),Ie,Le);else{var et=B.get(_e,x,{});(0,E.rW)(et,function(Ne,He){z(_e,He,Ie,Le)}),(0,E.FY)(et)[v.R5]===0&&B.kill(_e,x)}}a(We,"_unregisterEvents");function ve(_e,Ie){var Le;return Ie?((0,E.kJ)(Ie)?Le=[_e].concat(Ie):Le=[_e,Ie],Le=te("xx",Le).ns[v.w6](".")):Le=_e,Le}a(ve,"mergeEvtNamespace");function ue(_e,Ie,Le,et,Ne){var He;Ne===void 0&&(Ne=!1);var oe=!1;if(_e)try{var Me=te(Ie,et);if(oe=ye(_e,Me,Le,Ne),oe&&B.accept(_e)){var de=(He={guid:k++,evtName:Me},He[v.Kn]=Le,He.capture=Ne,He);be(_e,Me.type)[v.MW](de)}}catch(ie){}return oe}a(ue,"eventOn");function J(_e,Ie,Le,et,Ne){if(Ne===void 0&&(Ne=!1),_e)try{var He=te(Ie,et),oe=!1;We(_e,He,function(Me){return He.ns&&!Le||Me[v.Kn]===Le?(oe=!0,!0):!1}),oe||re(_e,He,Le,Ne)}catch(Me){}}a(J,"eventOff");function pe(_e,Ie,Le,et){return et===void 0&&(et=!1),ue(_e,Ie,Le,null,et)}a(pe,"attachEvent");function Fe(_e,Ie,Le,et){et===void 0&&(et=!1),J(_e,Ie,Le,null,et)}a(Fe,"detachEvent");function je(_e,Ie,Le){var et=!1,Ne=(0,w.Jj)();Ne&&(et=ue(Ne,_e,Ie,Le),et=ue(Ne.body,_e,Ie,Le)||et);var He=(0,w.Me)();return He&&(et=ue(He,_e,Ie,Le)||et),et}a(je,"addEventHandler");function ne(_e,Ie,Le){var et=(0,w.Jj)();et&&(J(et,_e,Ie,Le),J(et.body,_e,Ie,Le));var Ne=(0,w.Me)();Ne&&J(Ne,_e,Ie,Le)}a(ne,"removeEventHandler");function Ke(_e,Ie,Le,et){var Ne=!1;return Ie&&_e&&_e[v.R5]>0&&(0,E.tO)(_e,function(He){He&&(!Le||(0,E.UA)(Le,He)===-1)&&(Ne=je(He,Ie,et)||Ne)}),Ne}a(Ke,"_addEventListeners");function rt(_e,Ie,Le,et){var Ne=!1;return Ie&&_e&&(0,E.kJ)(_e)&&(Ne=Ke(_e,Ie,Le,et),!Ne&&Le&&Le[v.R5]>0&&(Ne=Ke(_e,Ie,null,et))),Ne}a(rt,"addEventListeners");function ot(_e,Ie,Le){_e&&(0,E.kJ)(_e)&&(0,E.tO)(_e,function(et){et&&ne(et,Ie,Le)})}a(ot,"removeEventListeners");function K(_e,Ie,Le){return rt([fe,Q,F],_e,Ie,Le)}a(K,"addPageUnloadEventListener");function X(_e,Ie){ot([fe,Q,F],_e,Ie)}a(X,"removePageUnloadEventListener");function ae(_e,Ie,Le){function et(oe){var Me=(0,w.Me)();_e&&Me&&Me.visibilityState==="hidden"&&_e(oe)}a(et,"_handlePageVisibility");var Ne=ve(L,Le),He=Ke([F],_e,Ie,Ne);return(!Ie||(0,E.UA)(Ie,P)===-1)&&(He=Ke([P],et,Ie,Ne)||He),!He&&Ie&&(He=ae(_e,null,Le)),He}a(ae,"addPageHideEventListener");function we(_e,Ie){var Le=ve(L,Ie);ot([F],_e,Le),ot([P],null,Le)}a(we,"removePageHideEventListener");function ke(_e,Ie,Le){function et(oe){var Me=(0,w.Me)();_e&&Me&&Me.visibilityState==="visible"&&_e(oe)}a(et,"_handlePageVisibility");var Ne=ve(H,Le),He=Ke([Y],_e,Ie,Ne);return He=Ke([P],et,Ie,Ne)||He,!He&&Ie&&(He=ke(_e,null,Le)),He}a(ke,"addPageShowEventListener");function Be(_e,Ie){var Le=ve(H,Ie);ot([Y],_e,Le),ot([P],null,Le)}a(Be,"removePageShowEventListener")},6708:(ge,l,S)=>{"use strict";S.d(l,{Ax:()=>ui,BX:()=>Ke,F:()=>un,FL:()=>Mt,FY:()=>ce,Gf:()=>ae,HD:()=>Me,Id:()=>ke,J_:()=>et,Kn:()=>ot,Mr:()=>N,Oi:()=>ln,UA:()=>Vr,VZ:()=>oe,Vb:()=>qn,Xi:()=>Xt,Xz:()=>d,Y6:()=>Yt,Ym:()=>pe,_A:()=>It,_Q:()=>Le,_y:()=>En,cf:()=>Yn,fQ:()=>rn,hj:()=>de,hl:()=>si,jj:()=>mn,jn:()=>ie,kJ:()=>Ne,l_:()=>Ce,le:()=>ne,m6:()=>rr,mf:()=>K,mm:()=>On,nd:()=>m,nr:()=>rt,o8:()=>Fe,qK:()=>Wr,rW:()=>we,sO:()=>tn,tO:()=>lr,v4:()=>Ln,xe:()=>_e});var v=S(4392),p=S(2091),w=S(8096),E=S(6041),R="toISOString",D="endsWith",_="startsWith",h="indexOf",b="map",y="reduce",x="trim",P="toString",F="__proto__",Y="constructor",Q=v.RJ,fe=v.Pw.freeze,L=v.Pw.seal,H=v.Pw.keys,U=String[v.hB],I=U[x],k=U[D],B=U[_],ee=Date[v.hB],V=ee[R],te=Array.isArray,he=v.V4[P],be=v.CY[P],re=be[w._S](v.Pw),ye=/-([a-z])/g,z=/([^\w\d_$])/g,We=/^(\d+[\w\d_$])/,ve=Object.getPrototypeOf;function ue(W){if(W){if(ve)return ve(W);var Se=W[F]||W[v.hB]||W[Y];if(Se)return Se}return null}a(ue,"_getObjProto");function J(W){return he[_DYN_CALL](W)}a(J,"objToString");function pe(W,Se){return typeof W===Se}a(pe,"isTypeof");function Fe(W){return W===void 0||typeof W===v.jA}a(Fe,"isUndefined");function je(W){return!Fe(W)}a(je,"isNotUndefined");function ne(W){return W===null||Fe(W)}a(ne,"isNullOrUndefined");function Ke(W){return!ne(W)}a(Ke,"isNotNullOrUndefined");function rt(W,Se){return!!(W&&v.CY[w._S](W,Se))}a(rt,"hasOwnProperty");function ot(W){return!!(W&&typeof W===v.fK)}a(ot,"isObject");function K(W){return!!(W&&typeof W===v.cb)}a(K,"isFunction");function X(W){return W&&K(W.then)}a(X,"isPromiseLike");function ae(W){var Se=W;return Se&&Me(Se)&&(Se=Se[w.i7](ye,function(Pe,Ge){return Ge.toUpperCase()}),Se=Se[w.i7](z,"_"),Se=Se[w.i7](We,function(Pe,Ge){return"_"+Ge})),Se}a(ae,"normalizeJsName");function we(W,Se){if(W)for(var Pe in W)v.CY[w._S](W,Pe)&&Se[w._S](W,Pe,W[Pe])}a(we,"objForEachKey");function ke(W,Se){var Pe=!1;return W&&Se&&!(Pe=W===Se)&&(Pe=k?W[D](Se):Be(W,Se)),Pe}a(ke,"strEndsWith");function Be(W,Se){var Pe=!1,Ge=Se?Se[w.R5]:0,lt=W?W[w.R5]:0;if(Ge&&lt&&lt>=Ge&&!(Pe=W===Se)){for(var it=lt-1,pt=Ge-1;pt>=0;pt--){if(W[it]!=Se[pt])return!1;it--}Pe=!0}return Pe}a(Be,"_strEndsWithPoly");function _e(W,Se){var Pe=!1;return W&&Se&&!(Pe=W===Se)&&(Pe=B?W[_](Se):Ie(W,Se)),Pe}a(_e,"strStartsWith");function Ie(W,Se){var Pe=!1,Ge=Se?Se[w.R5]:0;if(W&&Ge&&W[w.R5]>=Ge&&!(Pe=W===Se)){for(var lt=0;lt<Ge;lt++)if(W[lt]!==Se[lt])return!1;Pe=!0}return Pe}a(Ie,"_strStartsWithPoly");function Le(W,Se){return W&&Se?W[w.ou](Se)!==-1:!1}a(Le,"strContains");function et(W){return!!(W&&he[w._S](W)==="[object Date]")}a(et,"isDate");var Ne=te||He;function He(W){return!!(W&&he[w._S](W)==="[object Array]")}a(He,"_isArrayPoly");function oe(W){return!!(W&&he[w._S](W)==="[object Error]")}a(oe,"isError");function Me(W){return typeof W=="string"}a(Me,"isString");function de(W){return typeof W=="number"}a(de,"isNumber");function ie(W){return typeof W=="boolean"}a(ie,"isBoolean");function Je(W){return typeof W=="symbol"}a(Je,"isSymbol");function _t(W){var Se=!1;if(W&&typeof W=="object"){var Pe=ve?ve(W):ue(W);Pe?(Pe[Y]&&v.CY[w._S](Pe,Y)&&(Pe=Pe[Y]),Se=typeof Pe===v.cb&&be[w._S](Pe)===re):Se=!0}return Se}a(_t,"isPlainObject");function Yt(W){if(W)return V?W[R]():Tr(W)}a(Yt,"toISOString");function Tr(W){if(W&&W.getUTCFullYear){var Se=a(function(Pe){var Ge=String(Pe);return Ge[w.R5]===1&&(Ge="0"+Ge),Ge},"pad");return W.getUTCFullYear()+"-"+Se(W.getUTCMonth()+1)+"-"+Se(W.getUTCDate())+"T"+Se(W.getUTCHours())+":"+Se(W.getUTCMinutes())+":"+Se(W.getUTCSeconds())+"."+String((W.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}a(Tr,"_toISOStringPoly");function lr(W,Se,Pe){var Ge=W[w.R5];try{for(var lt=0;lt<Ge&&!(lt in W&&Se[w._S](Pe||W,W[lt],lt,W)===-1);lt++);}catch(it){}}a(lr,"arrForEach");function Vr(W,Se,Pe){if(W){if(W[h])return W[h](Se,Pe);var Ge=W[w.R5],lt=Pe||0;try{for(var it=Math.max(lt>=0?lt:Ge-Math.abs(lt),0);it<Ge;it++)if(it in W&&W[it]===Se)return it}catch(pt){}}return-1}a(Vr,"arrIndexOf");function N(W,Se,Pe){var Ge;if(W){if(W[b])return W[b](Se,Pe);var lt=W[w.R5],it=Pe||W;Ge=new Array(lt);try{for(var pt=0;pt<lt;pt++)pt in W&&(Ge[pt]=Se[w._S](it,W[pt],W))}catch(Rt){}}return Ge}a(N,"arrMap");function d(W,Se,Pe){var Ge;if(W){if(W[y])return W[y](Se,Pe);var lt=W[w.R5],it=0;if(arguments[w.R5]>=3)Ge=arguments[2];else{for(;it<lt&&!(it in W);)it++;Ge=W[it++]}for(;it<lt;)it in W&&(Ge=Se(Ge,W[it],it,W)),it++}return Ge}a(d,"arrReduce");function m(W){return W&&(W=I&&W[x]?W[x]():W[w.i7]?W[w.i7](/^\s+|(?=\s)\s+$/g,E.qS):W),W}a(m,"strTrim");var q=!{toString:null}.propertyIsEnumerable("toString"),Ee=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function ce(W){var Se=typeof W;if(Se!==v.cb&&(Se!==v.fK||W===null)&&(0,p.ZU)("objKeys called on non-object"),!q&&H)return H(W);var Pe=[];for(var Ge in W)W&&v.CY[w._S](W,Ge)&&Pe[w.MW](Ge);if(q)for(var lt=Ee[w.R5],it=0;it<lt;it++)W&&v.CY[w._S](W,Ee[it])&&Pe[w.MW](Ee[it]);return Pe}a(ce,"objKeys");function Ce(W,Se,Pe,Ge){if(Q)try{var lt={enumerable:!0,configurable:!0};return Pe&&(lt.get=Pe),Ge&&(lt.set=Ge),Q(W,Se,lt),!0}catch(it){}return!1}a(Ce,"objDefineAccessors");function vt(W){return W}a(vt,"_doNothing");function It(W){return fe&&we(W,function(Se,Pe){(Ne(Pe)||ot(Pe))&&fe(Pe)}),Mt(W)}a(It,"deepFreeze");var Mt=fe||vt,Xt=L||vt;function rr(){var W=Date;return W.now?W.now():new W().getTime()}a(rr,"dateNow");function mn(W){return oe(W)?W[w.I]:E.qS}a(mn,"getExceptionName");function tn(W,Se,Pe,Ge,lt){var it=Pe;return W&&(it=W[Se],it!==Pe&&(!lt||lt(it))&&(!Ge||Ge(Pe))&&(it=Pe,W[Se]=it)),it}a(tn,"setValue");function Wr(W,Se,Pe){var Ge;return W?(Ge=W[Se],!Ge&&ne(Ge)&&(Ge=Fe(Pe)?{}:Pe,W[Se]=Ge)):Ge=Fe(Pe)?{}:Pe,Ge}a(Wr,"getSetValue");function Ln(W,Se){return ne(W)?Se:W}a(Ln,"getCfgValue");function un(W){return!W}a(un,"isNotTruthy");function rn(W){return!!W}a(rn,"isTruthy");function En(W){throw new Error(W)}a(En,"throwError");function kr(W,Se){var Pe=null,Ge=null;return K(W)?Pe=W:Ge=W,function(){var lt=arguments;if(Pe&&(Ge=Pe()),Ge)return Ge[Se][w.ZV](Ge,lt)}}a(kr,"_createProxyFunction");function Yn(W,Se,Pe){if(W&&Se&&ot(W)&&ot(Se)){var Ge=a(function(it){if(Me(it)){var pt=Se[it];K(pt)?(!Pe||Pe(it,!0,Se,W))&&(W[it]=kr(Se,it)):(!Pe||Pe(it,!1,Se,W))&&(rt(W,it)&&delete W[it],Ce(W,it,function(){return Se[it]},function(Rt){Se[it]=Rt})||(W[it]=pt))}},"_loop_1");for(var lt in Se)Ge(lt)}return W}a(Yn,"proxyAssign");function ln(W,Se,Pe,Ge,lt){W&&Se&&Pe&&(lt!==!1||Fe(W[Se]))&&(W[Se]=kr(Pe,Ge))}a(ln,"proxyFunctionAs");function qn(W,Se,Pe,Ge){return W&&Se&&ot(W)&&Ne(Pe)&&lr(Pe,function(lt){Me(lt)&&ln(W,lt,Se,lt,Ge)}),W}a(qn,"proxyFunctions");function si(W){return function(){function Se(){var Pe=this;W&&we(W,function(Ge,lt){Pe[Ge]=lt})}return a(Se,"class_1"),Se}()}a(si,"createClassFromInterface");function ui(W){return W&&v.rl&&(W=(0,v.Pw)((0,v.rl)({},W))),W}a(ui,"optimizeObject");function On(W,Se,Pe,Ge,lt,it){var pt=arguments,Rt=pt[0]||{},Nt=pt[w.R5],nr=!1,Tt=1;for(Nt>0&&ie(Rt)&&(nr=Rt,Rt=pt[Tt]||{},Tt++),ot(Rt)||(Rt={});Tt<Nt;Tt++){var Vt=pt[Tt],kt=Ne(Vt),Ut=ot(Vt);for(var Lt in Vt){var zr=kt&&Lt in Vt||Ut&&v.CY[w._S](Vt,Lt);if(!!zr){var Sr=Vt[Lt],Sn=void 0;if(nr&&Sr&&((Sn=Ne(Sr))||_t(Sr))){var Qr=Rt[Lt];Sn?Ne(Qr)||(Qr=[]):_t(Qr)||(Qr={}),Sr=On(nr,Qr,Sr)}Sr!==void 0&&(Rt[Lt]=Sr)}}}return Rt}a(On,"objExtend")},6041:(ge,l,S)=>{"use strict";S.d(l,{$F:()=>x,C$:()=>F,DN:()=>E,Z:()=>p,Zh:()=>D,cL:()=>Q,f_:()=>P,hL:()=>h,js:()=>_,kl:()=>fe,mE:()=>R,oV:()=>w,qS:()=>v,uC:()=>y,yi:()=>b,ys:()=>Y});var v="",p="channels",w="core",E="createPerfMgr",R="disabled",D="extensionConfig",_="extensions",h="processTelemetry",b="priority",y="eventsSent",x="eventsDiscarded",P="eventsSendRequest",F="perfEvent",Y="errorToConsole",Q="warnToConsole",fe="getPerfMgr"},1880:(ge,l,S)=>{"use strict";S.d(l,{f:()=>D});var v=S(1679),p=S(8096),w=S(6708),E=S(6041);function R(_,h,b,y){(0,w.tO)(_,function(x){if(x&&x[h])if(b)setTimeout(function(){return y(x)},0);else try{y(x)}catch(P){}})}a(R,"_runListeners");var D=function(){function _(h){this.listeners=[];var b=!!(h||{}).perfEvtsSendAll;(0,v.Z)(_,this,function(y){y[p.g]=function(x){y.listeners[p.MW](x)},y[p.n7]=function(x){for(var P=(0,w.UA)(y[p.dE],x);P>-1;)y.listeners[p.cb](P,1),P=(0,w.UA)(y[p.dE],x)},y[E.uC]=function(x){R(y[p.dE],E.uC,!0,function(P){P[E.uC](x)})},y[E.$F]=function(x,P){R(y[p.dE],E.$F,!0,function(F){F[E.$F](x,P)})},y[E.f_]=function(x,P){R(y[p.dE],E.f_,P,function(F){F[E.f_](x,P)})},y[E.C$]=function(x){x&&(b||!x[p.PL]())&&R(y[p.dE],E.C$,!1,function(P){x[p.d]?setTimeout(function(){return P[E.C$](x)},0):P[E.C$](x)})}})}return a(_,"NotificationManager"),_.__ieDyn=1,_}()},9288:(ge,l,S)=>{"use strict";S.d(l,{Jk:()=>y,Lm:()=>P,j5:()=>Y,zn:()=>b});var v=S(1679),p=S(8096),w=S(6708),E=S(6041),R="ctx",D="ParentContextKey",_="ChildrenContextKey",h=null,b=function(){function Q(fe,L,H){var U=this,I=!1;if(U.start=(0,w.m6)(),U[p.I]=fe,U[p.d]=H,U[p.PL]=function(){return!1},(0,w.mf)(L)){var k;I=(0,w.l_)(U,"payload",function(){return!k&&(0,w.mf)(L)&&(k=L(),L=null),k})}U[p.T]=function(B){return B?B===Q[D]||B===Q[_]?U[B]:(U[R]||{})[B]:null},U[p.wu]=function(B,ee){if(B)if(B===Q[D])U[B]||(U[p.PL]=function(){return!0}),U[B]=ee;else if(B===Q[_])U[B]=ee;else{var V=U[R]=U[R]||{};V[B]=ee}},U[p.Km]=function(){var B=0,ee=U[p.T](Q[_]);if((0,w.kJ)(ee))for(var V=0;V<ee[p.R5];V++){var te=ee[V];te&&(B+=te[p.Z_])}U[p.Z_]=(0,w.m6)()-U.start,U.exTime=U[p.Z_]-B,U[p.Km]=function(){},!I&&(0,w.mf)(L)&&(U.payload=L())}}return a(Q,"PerfEvent"),Q.ParentContextKey="parent",Q.ChildrenContextKey="childEvts",Q}(),y=function(){function Q(fe){this.ctx={},(0,v.Z)(Q,this,function(L){L.create=function(H,U,I){return new b(H,U,I)},L.fire=function(H){H&&(H[p.Km](),fe&&(0,w.mf)(fe[E.C$])&&fe[E.C$](H))},L[p.wu]=function(H,U){if(H){var I=L[R]=L[R]||{};I[H]=U}},L[p.T]=function(H){return(L[R]||{})[H]}})}return a(Q,"PerfManager"),Q.__ieDyn=1,Q}(),x="CoreUtils.doPerf";function P(Q,fe,L,H,U){if(Q){var I=Q;if(I[E.kl]&&(I=I[E.kl]()),I){var k=void 0,B=I[p.T](x);try{if(k=I.create(fe(),H,U),k){if(B&&k[p.wu]&&(k[p.wu](b[D],B),B[p.T]&&B[p.wu])){var ee=B[p.T](b[_]);ee||(ee=[],B[p.wu](b[_],ee)),ee[p.MW](k)}return I[p.wu](x,k),L(k)}}catch(V){k&&k[p.wu]&&k[p.wu]("exception",V)}finally{k&&I.fire(k),I[p.wu](x,B)}}}return L()}a(P,"doPerf");function F(Q){h=Q}a(F,"setGblPerfMgr");function Y(){return h}a(Y,"getGblPerfMgr")},1589:(ge,l,S)=>{"use strict";S.d(l,{Bt:()=>Q,CD:()=>Y,Vi:()=>U,jV:()=>L,xy:()=>fe});var v=S(8096),p=S(5018),w=S(7630),E=S(6708),R=S(6041),D=S(9288),_=S(3833),h="TelemetryPluginChain",b="_hasRun",y="_getTelCtx",x=0;function P(I,k,B){for(;I;){if(I[v.TO]()===B)return I;I=I[v.W2]()}return L([B],k[v.TC]||{},k)}a(P,"_getNextProxyStart");function F(I,k,B,ee){var V=null,te=[];ee!==null&&(V=ee?P(I,B,ee):I);var he={_next:re,ctx:{core:function(){return B},diagLog:function(){return(0,p.vH)(B,k)},getCfg:function(){return k},getExtCfg:ye,getConfig:z,hasNext:function(){return!!V},getNext:function(){return V},setNext:function(ve){V=ve},iterate:We,onComplete:be}};function be(ve,ue){for(var J=[],pe=2;pe<arguments.length;pe++)J[pe-2]=arguments[pe];ve&&te[v.MW]({func:ve,self:(0,E.o8)(ue)?he.ctx:ue,args:J})}a(be,"_addOnComplete");function re(){var ve=V;if(V=ve?ve[v.W2]():null,!ve){var ue=te;ue&&ue[v.R5]>0&&((0,E.tO)(ue,function(J){try{J.func[v._S](J.self,J.args)}catch(pe){(0,p.kP)(B[v.eZ],2,73,"Unexpected Exception during onComplete - "+(0,w.eU)(pe))}}),te=[])}return ve}a(re,"_moveNext");function ye(ve,ue,J){ue===void 0&&(ue={}),J===void 0&&(J=0);var pe;if(k){var Fe=k[R.Zh];Fe&&ve&&(pe=Fe[ve])}if(!pe)pe=ue;else if((0,E.Kn)(ue)&&J!==0){var je=(0,E.mm)(!0,ue,pe);k&&J===2&&(0,E.rW)(ue,function(ne){if((0,E.le)(je[ne])){var Ke=k[ne];(0,E.le)(Ke)||(je[ne]=Ke)}}),pe=je}return pe}a(ye,"_getExtCfg");function z(ve,ue,J){J===void 0&&(J=!1);var pe,Fe=ye(ve,null);return Fe&&!(0,E.le)(Fe[ue])?pe=Fe[ue]:k&&!(0,E.le)(k[ue])&&(pe=k[ue]),(0,E.le)(pe)?J:pe}a(z,"_getConfig");function We(ve){for(var ue;ue=he._next();){var J=ue[v.TO]();J&&ve(J)}}return a(We,"_iterateChain"),he}a(F,"_createInternalContext");function Y(I,k,B,ee){var V=F(I,k,B,ee),te=V.ctx;function he(re){var ye=V._next();return ye&&ye[R.hL](re,te),!ye}a(he,"_processNext");function be(re,ye){return re===void 0&&(re=null),(0,E.kJ)(re)&&(re=L(re,k,B,ye)),Y(re||te[v.W2](),k,B,ye)}return a(be,"_createNew"),te[v.uL]=he,te[v.zV]=be,te}a(Y,"createProcessTelemetryContext");function Q(I,k,B){var ee=k[v.TC]||{},V=F(I,ee,k,B),te=V.ctx;function he(re){var ye=V._next();return ye&&ye.unload(te,re),!ye}a(he,"_processNext");function be(re,ye){return re===void 0&&(re=null),(0,E.kJ)(re)&&(re=L(re,ee,k,ye)),Q(re||te[v.W2](),k,ye)}return a(be,"_createNew"),te[v.uL]=he,te[v.zV]=be,te}a(Q,"createProcessTelemetryUnloadContext");function fe(I,k,B){var ee=k[v.TC]||{},V=F(I,ee,k,B),te=V.ctx;function he(re){return te.iterate(function(ye){(0,E.mf)(ye[v.Tu])&&ye[v.Tu](te,re)})}a(he,"_processNext");function be(re,ye){return re===void 0&&(re=null),(0,E.kJ)(re)&&(re=L(re,ee,k,ye)),fe(re||te[v.W2](),k,ye)}return a(be,"_createNew"),te[v.uL]=he,te[v.zV]=be,te}a(fe,"createProcessTelemetryUpdateContext");function L(I,k,B,ee){var V=null,te=!ee;if((0,E.kJ)(I)&&I[v.R5]>0){var he=null;(0,E.tO)(I,function(be){if(!te&&ee===be&&(te=!0),te&&be&&(0,E.mf)(be[R.hL])){var re=H(be,k,B);V||(V=re),he&&he._setNext(re),he=re}})}return ee&&!V?L([ee],k,B):V}a(L,"createTelemetryProxyChain");function H(I,k,B){var ee=null,V=(0,E.mf)(I[R.hL]),te=(0,E.mf)(I[v.Jd]),he;I?he=I[v.pZ]+"-"+I[R.yi]+"-"+x++:he="Unknown-0-"+x++;var be={getPlugin:function(){return I},getNext:function(){return ee},processTelemetry:z,unload:We,update:ve,_id:he,_setNext:function(ue){ee=ue}};function re(){var ue;return I&&(0,E.mf)(I[y])&&(ue=I[y]()),ue||(ue=Y(be,k,B)),ue}a(re,"_getTelCtx");function ye(ue,J,pe,Fe,je){var ne=!1,Ke=I?I[v.pZ]:h,rt=ue[b];return rt||(rt=ue[b]={}),ue.setNext(ee),I&&(0,D.Lm)(ue[R.oV](),function(){return Ke+":"+pe},function(){rt[he]=!0;try{var ot=ee?ee._id:R.qS;ot&&(rt[ot]=!1),ne=J(ue)}catch(X){var K=ee?rt[ee._id]:!0;K&&(ne=!0),(!ee||!K)&&(0,p.kP)(ue[v.mc](),1,73,"Plugin ["+Ke+"] failed during "+pe+" - "+(0,w.eU)(X)+", run flags: "+(0,w.eU)(rt))}},Fe,je),ne}a(ye,"_processChain");function z(ue,J){J=J||re();function pe(Fe){if(!I||!V)return!1;var je=(0,_.OY)(I);return je[v.fi]||je[R.mE]?!1:(te&&I[v.Jd](ee),I[R.hL](ue,Fe),!0)}a(pe,"_callProcessTelemetry"),ye(J,pe,"processTelemetry",function(){return{item:ue}},!ue.sync)||J[v.uL](ue)}a(z,"_processTelemetry");function We(ue,J){function pe(){var Fe=!1;if(I){var je=(0,_.OY)(I),ne=I[R.oV]||je[R.oV];I&&(!ne||ne===ue.core())&&!je[v.fi]&&(je[R.oV]=null,je[v.fi]=!0,je[v.yl]=!1,I[v.fi]&&I[v.fi](ue,J)===!0&&(Fe=!0))}return Fe}a(pe,"_callTeardown"),ye(ue,pe,"unload",function(){},J[v.d])||ue[v.uL](J)}a(We,"_unloadPlugin");function ve(ue,J){function pe(){var Fe=!1;if(I){var je=(0,_.OY)(I),ne=I[R.oV]||je[R.oV];I&&(!ne||ne===ue.core())&&!je[v.fi]&&I[v.Tu]&&I[v.Tu](ue,J)===!0&&(Fe=!0)}return Fe}a(pe,"_callUpdate"),ye(ue,pe,"update",function(){},!1)||ue[v.uL](J)}return a(ve,"_updatePlugin"),(0,E.FL)(be)}a(H,"createTelemetryPluginProxy");var U=function(){function I(k,B,ee,V){var te=this,he=Y(k,B,ee,V);(0,E.Vb)(te,he,(0,E.FY)(he))}return a(I,"ProcessTelemetryContext"),I}()},4878:(ge,l,S)=>{"use strict";S.d(l,{CN:()=>Y,F6:()=>Q,_l:()=>F,az:()=>P,pZ:()=>fe});var v=S(8096),p=S(7630),w=S(6708),E=S(6041),R=4294967296,D=4294967295,_=!1,h=123456789,b=987654321;function y(L){L<0&&(L>>>=0),h=123456789+L&D,b=987654321-L&D,_=!0}a(y,"_mwcSeed");function x(){try{var L=(0,w.m6)()&2147483647;y((Math.random()*R^L)+L)}catch(H){}}a(x,"_autoSeedMwc");function P(L){return L>0?Math.floor(F()/D*(L+1))>>>0:0}a(P,"randomValue");function F(L){var H=0,U=(0,p.MX)()||(0,p.gz)();return U&&U.getRandomValues&&(H=U.getRandomValues(new Uint32Array(1))[0]&D),H===0&&(0,p.w1)()&&(_||x(),H=Q()&D),H===0&&(H=Math.floor(R*Math.random()|0)),L||(H>>>=0),H}a(F,"random32");function Y(L){L?y(L):x()}a(Y,"mwcRandomSeed");function Q(L){b=36969*(b&65535)+(b>>16)&D,h=18e3*(h&65535)+(h>>16)&D;var H=(b<<16)+(h&65535)>>>0&D|0;return L||(H>>>=0),H}a(Q,"mwcRandom32");function fe(L){L===void 0&&(L=22);for(var H="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",U=F()>>>0,I=0,k=E.qS;k[v.R5]<L;)I++,k+=H.charAt(U&63),U>>>=6,I===5&&(U=(F()<<2&4294967295|U&3)>>>0,I=0);return k}a(fe,"newId")},3833:(ge,l,S)=>{"use strict";S.d(l,{AA:()=>b,OY:()=>_,Yn:()=>x,bP:()=>h});var v=S(8096),p=S(5883),w=S(6708),E=S(6041),R=S(4206),D=(0,p.K)("plugin");function _(P){return D.get(P,"state",{},!0)}a(_,"_getPluginState");function h(P,F){for(var Y=[],Q=null,fe=P[v.W2](),L;fe;){var H=fe[v.TO]();if(H){Q&&(0,w.mf)(Q[v.Jd])&&(0,w.mf)(H[E.hL])&&Q[v.Jd](H);var U=!1;(0,w.mf)(H[v.yl])?U=H[v.yl]():(L=_(H),U=L[v.yl]),U||Y[v.MW](H),Q=H,fe=fe[v.W2]()}}(0,w.tO)(Y,function(I){var k=P[E.oV]();I[v.VL](P.getCfg(),k,F,P[v.W2]()),L=_(I),!I[E.oV]&&!L[E.oV]&&(L[E.oV]=k),L[v.yl]=!0,delete L[v.fi]})}a(h,"initializePlugins");function b(P){return P.sort(function(F,Y){var Q=0;if(Y){var fe=(0,w.mf)(Y[E.hL]);(0,w.mf)(F[E.hL])?Q=fe?F[E.yi]-Y[E.yi]:1:fe&&(Q=-1)}else Q=F?1:-1;return Q})}a(b,"sortPlugins");function y(P,F,Y,Q){var fe=0;function L(){for(;fe<P[_DYN_LENGTH];){var H=P[fe++];if(H){var U=H._doUnload||H[_DYN__DO_TEARDOWN];if(isFunction(U)&&U[_DYN_CALL](H,F,Y,L)===!0)return!0}}}return a(L,"_doUnload"),L()}a(y,"unloadComponents");function x(P){var F={};return{getName:function(){return F[v.I]},setName:function(Y){P&&P.setName(Y),F[v.I]=Y},getTraceId:function(){return F[v.nY]},setTraceId:function(Y){P&&P.setTraceId(Y),(0,R.jN)(Y)&&(F[v.nY]=Y)},getSpanId:function(){return F[v._d]},setSpanId:function(Y){P&&P.setSpanId(Y),(0,R.Lc)(Y)&&(F[v._d]=Y)},getTraceFlags:function(){return F[v.T0]},setTraceFlags:function(Y){P&&P.setTraceFlags(Y),F[v.T0]=Y}}}a(x,"createDistributedTraceContext")},310:(ge,l,S)=>{"use strict";S.d(l,{Y:()=>R});var v=S(8096),p=S(5018),w=S(7630),E=S(6708);function R(){var D=[];function _(b){b&&D[v.MW](b)}a(_,"_addHandler");function h(b,y){(0,E.tO)(D,function(x){try{x(b,y)}catch(P){(0,p.kP)(b[v.mc](),2,73,"Unexpected error calling unload handler - "+(0,w.eU)(P))}}),D=[]}return a(h,"_runHandlers"),{add:_,run:h}}a(R,"createUnloadHandlerContainer")},4206:(ge,l,S)=>{"use strict";S.d(l,{J6:()=>H,Lc:()=>L,Pn:()=>U,SU:()=>Y,aR:()=>I,jN:()=>fe,j_:()=>Q,lq:()=>k});var v=S(8096),p=S(5843),w=S(7630),E=S(6708),R=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,D="00",_="ff",h="00000000000000000000000000000000",b="0000000000000000",y=1;function x(B,ee,V){return B&&B[v.R5]===ee&&B!==V?!!B.match(/^[\da-f]*$/):!1}a(x,"_isValid");function P(B,ee,V){return x(B,ee)?B:V}a(P,"_formatValue");function F(B){(isNaN(B)||B<0||B>255)&&(B=1);for(var ee=B.toString(16);ee[v.R5]<2;)ee="0"+ee;return ee}a(F,"_formatFlags");function Y(B,ee,V,te){var he;return he={},he[v.PA]=x(te,2,_)?te:D,he[v.nY]=fe(B)?B:(0,p.DO)(),he.spanId=L(ee)?ee:(0,p.DO)()[v.Jn](0,16),he.traceFlags=V>=0&&V<=255?V:1,he}a(Y,"createTraceParent");function Q(B){var ee;if(!B||((0,E.kJ)(B)&&(B=B[0]||""),!B||!(0,E.HD)(B)||B[v.R5]>8192))return null;var V=R.exec((0,E.nd)(B));return!V||V[1]===_||V[2]===h||V[3]===b?null:(ee={},ee[v.PA]=V[1],ee[v.nY]=V[2],ee[v._d]=V[3],ee[v.T0]=parseInt(V[4],16),ee)}a(Q,"parseTraceParent");function fe(B){return x(B,32,h)}a(fe,"isValidTraceId");function L(B){return x(B,16,b)}a(L,"isValidSpanId");function H(B){return!(!B||!x(B[v.PA],2,_)||!x(B[v.nY],32,h)||!x(B[v._d],16,b)||!x(F(B[v.T0]),2))}a(H,"isValidTraceParent");function U(B){return H(B)?(B[v.T0]&y)===y:!1}a(U,"isSampledFlag");function I(B){if(B){var ee=F(B[v.T0]);x(ee,2)||(ee="01");var V=B[v.PA]||D;return V!=="00"&&V!=="ff"&&(V=D),"".concat(V,"-").concat(P(B.traceId,32,h),"-").concat(P(B.spanId,16,b),"-").concat(ee)}return""}a(I,"formatTraceParent");function k(){var B="traceparent",ee=Q((0,w.ed)(B));return ee||(ee=Q((0,w.pI)(B))),ee}a(k,"findW3cTraceParent")},8096:(ge,l,S)=>{"use strict";S.d(l,{$h:()=>je,F3:()=>he,Fc:()=>L,Fr:()=>K,Gc:()=>ee,I:()=>p,Jd:()=>z,Jn:()=>ne,Km:()=>Ne,Kn:()=>Be,LS:()=>fe,Lk:()=>ve,MW:()=>R,P6:()=>ke,PA:()=>de,PL:()=>Ie,R5:()=>y,SD:()=>F,T:()=>Le,T0:()=>Me,T1:()=>ae,TC:()=>_,TO:()=>H,Tu:()=>be,VL:()=>v,W2:()=>re,ZV:()=>rt,Z_:()=>x,_S:()=>we,_d:()=>oe,cb:()=>k,d:()=>te,dE:()=>_e,eZ:()=>b,fi:()=>B,g:()=>Y,gU:()=>V,i7:()=>ot,iC:()=>I,jk:()=>X,kL:()=>U,mc:()=>ye,n7:()=>Q,nY:()=>He,ou:()=>ue,p$:()=>h,pZ:()=>E,qV:()=>pe,tb:()=>w,uL:()=>P,w6:()=>Fe,wu:()=>et,xv:()=>Ke,yl:()=>D,zV:()=>We,zc:()=>J});var v="initialize",p="name",w="getNotifyMgr",E="identifier",R="push",D="isInitialized",_="config",h="instrumentationKey",b="logger",y="length",x="time",P="processNext",F="getProcessTelContext",Y="addNotificationListener",Q="removeNotificationListener",fe="stopPollingInternalLogs",L="onComplete",H="getPlugin",U="flush",I="_extensions",k="splice",B="teardown",ee="messageId",V="message",te="isAsync",he="_doTeardown",be="update",re="getNext",ye="diagLog",z="setNextPlugin",We="createNew",ve="cookieCfg",ue="indexOf",J="substring",pe="userAgent",Fe="split",je="setEnabled",ne="substr",Ke="nodeType",rt="apply",ot="replace",K="enableDebugExceptions",X="logInternalMessage",ae="toLowerCase",we="call",ke="type",Be="handler",_e="listeners",Ie="isChildEvt",Le="getCtx",et="setCtx",Ne="complete",He="traceId",oe="spanId",Me="traceFlags",de="version"},4392:(ge,l,S)=>{"use strict";S.d(l,{CY:()=>P,Pw:()=>_,RJ:()=>x,V4:()=>h,bO:()=>R,cb:()=>v,fK:()=>p,hB:()=>E,jA:()=>w,rl:()=>b,yu:()=>y});var v="function",p="object",w="undefined",E="prototype",R="hasOwnProperty",D="default",_=Object,h=_[E],b=_.assign,y=_.create,x=_.defineProperty,P=h[R]},2091:(ge,l,S)=>{"use strict";S.d(l,{Rd:()=>w,ZU:()=>E,pu:()=>R});var v=S(4392),p=null;function w(D){D===void 0&&(D=!0);var _=D===!1?null:p;return _||(typeof globalThis!==v.jA&&(_=globalThis),!_&&typeof self!==v.jA&&(_=self),!_&&typeof window!==v.jA&&(_=window),!_&&typeof S.g!==v.jA&&(_=S.g),p=_),_}a(w,"getGlobal");function E(D){throw new TypeError(D)}a(E,"throwTypeError");function R(D){var _=v.yu;if(_)return _(D);if(D==null)return{};var h=typeof D;h!==v.fK&&h!==v.cb&&E("Object prototype may only be an Object:"+D);function b(){}return a(b,"tmpFunc"),b[v.hB]=D,new b}a(R,"objCreateFn")},1088:(ge,l,S)=>{"use strict";S.d(l,{$h:()=>V,ne:()=>Y,uc:()=>P});var v=S(4392),p=S(2091),w=((0,p.Rd)()||{}).Symbol,E=((0,p.Rd)()||{}).Reflect,R=!!w,D=!!E,_="decorate",h="metadata",b="getOwnPropertySymbols",y="iterator",x=a(function(re){for(var ye,z=1,We=arguments.length;z<We;z++){ye=arguments[z];for(var ve in ye)v.V4[v.bO].call(ye,ve)&&(re[ve]=ye[ve])}return re},"__objAssignFnImpl"),P=v.rl||x,F=a(function(re,ye){return F=v.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,We){z.__proto__=We}||function(z,We){for(var ve in We)We[v.bO](ve)&&(z[ve]=We[ve])},F(re,ye)},"extendStaticsFn");function Y(re,ye){typeof ye!==v.cb&&ye!==null&&(0,p.ZU)("Class extends value "+String(ye)+" is not a constructor or null"),F(re,ye);function z(){this.constructor=re}a(z,"__"),re[v.hB]=ye===null?(0,p.pu)(ye):(z[v.hB]=ye[v.hB],new z)}a(Y,"__extendsFn");function Q(re,ye){var z={};for(var We in re)ObjHasOwnProperty.call(re,We)&&ye.indexOf(We)<0&&(z[We]=re[We]);if(re!=null&&typeof ObjClass[b]===strShimFunction)for(var ve=0,ue=ObjClass[b](re);ve<ue.length;ve++)ye.indexOf(ue[ve])<0&&ObjProto.propertyIsEnumerable.call(re,ue[ve])&&(z[ue[ve]]=re[ue[ve]]);return z}a(Q,"__restFn");function fe(re,ye,z,We){var ve=arguments.length,ue=ve<3?ye:We===null?We=ObjClass.getOwnPropertyDescriptor(ye,z):We,J;if(D&&typeof E[_]===strShimFunction)ue=E[_](re,ye,z,We);else for(var pe=re.length-1;pe>=0;pe--)(J=re[pe])&&(ue=(ve<3?J(ue):ve>3?J(ye,z,ue):J(ye,z))||ue);return ve>3&&ue&&ObjDefineProperty(ye,z,ue),ue}a(fe,"__decorateFn");function L(re,ye){return function(z,We){ye(z,We,re)}}a(L,"__paramFn");function H(re,ye){if(D&&E[h]===strShimFunction)return E[h](re,ye)}a(H,"__metadataFn");function U(re,ye){for(var z in re)z!==strDefault&&!ObjHasOwnProperty.call(ye,z)&&I(ye,re,z)}a(U,"__exportStarFn");function I(re,ye,z,We){We===void 0&&(We=z),ObjCreate?ObjDefineProperty(re,We,{enumerable:!0,get:function(){return ye[z]}}):re[We]=ye[z]}a(I,"__createBindingFn");function k(re){var ye=typeof w===strShimFunction&&w[y],z=ye&&re[ye],We=0;if(z)return z.call(re);if(re&&typeof re.length=="number")return{next:function(){return re&&We>=re.length&&(re=void 0),{value:re&&re[We++],done:!re}}};throwTypeError(ye?"Object is not iterable.":"Symbol.iterator is not defined.")}a(k,"__valuesFn");function B(re,ye){var z=typeof w===strShimFunction&&re[w[y]];if(!z)return re;var We=z.call(re),ve,ue=[],J;try{for(;(ye===void 0||ye-- >0)&&!(ve=We.next()).done;)ue.push(ve.value)}catch(pe){J={error:pe}}finally{try{ve&&!ve.done&&(z=We.return)&&z.call(We)}finally{if(J)throw J.error}}return ue}a(B,"__readFn");function ee(){for(var re=arguments,ye=0,z=0,We=re.length;z<We;z++)ye+=re[z].length;for(var ve=Array(ye),ue=0,z=0;z<We;z++)for(var J=re[z],pe=0,Fe=J.length;pe<Fe;pe++,ue++)ve[ue]=J[pe];return ve}a(ee,"__spreadArraysFn");function V(re,ye){for(var z=0,We=ye.length,ve=re.length;z<We;z++,ve++)re[ve]=ye[z];return re}a(V,"__spreadArrayFn");function te(re,ye){return ObjDefineProperty?ObjDefineProperty(re,"raw",{value:ye}):re.raw=ye,re}a(te,"__makeTemplateObjectFn");function he(re){if(re&&re.__esModule)return re;var ye={};if(re!=null)for(var z in re)z!==strDefault&&Object.prototype.hasOwnProperty.call(re,z)&&I(ye,re,z);return ObjCreate?ObjDefineProperty(ye,strDefault,{enumerable:!0,value:re}):ye[strDefault]=re,ye}a(he,"__importStarFn");function be(re){return re&&re.__esModule?re:{strDefault:re}}a(be,"__importDefaultFn")},3268:(ge,l,S)=>{"use strict";S.r(l),S.d(l,{AppInsightsCore:()=>za.F,ApplicationInsights:()=>as,CoreUtils:()=>Ut.Tr,Sender:()=>vo,SeverityLevel:()=>is,_InternalMessageId:()=>xa.v,arrForEach:()=>oe.tO,isNullOrUndefined:()=>oe.le,proxyFunctions:()=>oe.Vb,throwError:()=>oe._y});var v=S(1679),p=S(1088),w="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",E="sampleRate",R="ProcessLegacy",D="http.method",_="https://dc.services.visualstudio.com",h="/v2/track",b="not_specified",y="iKey",x="split",P="length",F="toLowerCase",Y="ingestionendpoint",Q="toString",fe="removeItem",L="name",H="message",U="count",I="preTriggerDate",k="disabled",B="interval",ee="daysOfMonth",V="date",te="getUTCDate",he="stringify",be="pathname",re="correlationHeaderExcludePatterns",ye="indexOf",z="extensionConfig",We="exceptions",ve="parsedStack",ue="properties",J="measurements",pe="sizeInBytes",Fe="typeName",je="severityLevel",ne="problemGroup",Ke="isManual",rt="CreateFromInterface",ot="assembly",K="hasFullStack",X="level",ae="method",we="fileName",ke="line",Be="duration",_e="receivedResponse",Ie="substring",Le="sanitizeKeyAndAddUniqueness",et="sanitizeException",Ne="sanitizeProperties",He="sanitizeMeasurements",oe=S(6708),Me=S(5018),de=S(7630),ie;function Je(O,C,M){var G=C[P],me=_t(O,C);if(me[P]!==G){for(var Re=0,qe=me;M[qe]!==void 0;)Re++,qe=me[Ie](0,150-3)+Ee(Re);me=qe}return me}a(Je,"dataSanitizeKeyAndAddUniqueness");function _t(O,C){var M;return C&&(C=(0,oe.nd)(C[Q]()),C[P]>150&&(M=C[Ie](0,150),(0,Me.kP)(O,2,57,"name is too long.  It has been truncated to "+150+" characters.",{name:C},!0))),M||C}a(_t,"dataSanitizeKey");function Yt(O,C,M){M===void 0&&(M=1024);var G;return C&&(M=M||1024,C=(0,oe.nd)(C),C.toString()[P]>M&&(G=C[Q]()[Ie](0,M),(0,Me.kP)(O,2,61,"string value is too long. It has been truncated to "+M+" characters.",{value:C},!0))),G||C}a(Yt,"dataSanitizeString");function Tr(O,C){return q(O,C,2048,66)}a(Tr,"dataSanitizeUrl");function lr(O,C){var M;return C&&C[P]>32768&&(M=C[Ie](0,32768),(0,Me.kP)(O,2,56,"message is too long, it has been truncated to "+32768+" characters.",{message:C},!0)),M||C}a(lr,"dataSanitizeMessage");function Vr(O,C){var M;if(C){var G=""+C;G[P]>32768&&(M=G[Ie](0,32768),(0,Me.kP)(O,2,52,"exception is too long, it has been truncated to "+32768+" characters.",{exception:C},!0))}return M||C}a(Vr,"dataSanitizeException");function N(O,C){if(C){var M={};(0,oe.rW)(C,function(G,me){if((0,oe.Kn)(me)&&(0,de.nS)())try{me=(0,de.xA)()[he](me)}catch(Re){(0,Me.kP)(O,2,49,"custom property is not valid",{exception:Re},!0)}me=Yt(O,me,8192),G=Je(O,G,M),M[G]=me}),C=M}return C}a(N,"dataSanitizeProperties");function d(O,C){if(C){var M={};(0,oe.rW)(C,function(G,me){G=Je(O,G,M),M[G]=me}),C=M}return C}a(d,"dataSanitizeMeasurements");function m(O,C){return C&&q(O,C,128,69)[Q]()}a(m,"dataSanitizeId");function q(O,C,M,G){var me;return C&&(C=(0,oe.nd)(C),C[P]>M&&(me=C[Ie](0,M),(0,Me.kP)(O,2,G,"input is too long, it has been truncated to "+M+" characters.",{data:C},!0))),me||C}a(q,"dataSanitizeInput");function Ee(O){var C="00"+O;return C.substr(C[P]-3)}a(Ee,"dsPadNumber");var ce=(ie={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768},ie[Le]=Je,ie.sanitizeKey=_t,ie.sanitizeString=Yt,ie.sanitizeUrl=Tr,ie.sanitizeMessage=lr,ie[et]=Vr,ie[Ne]=N,ie[He]=d,ie.sanitizeId=m,ie.sanitizeInput=q,ie.padNumber=Ee,ie.trim=oe.nd,ie),Ce=function(){function O(C,M,G,me){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Re=this;Re.ver=2,Re[L]=Yt(C,M)||b,Re[ue]=N(C,G),Re[J]=d(C,me)}return a(O,"Event"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Event",O.dataType="EventData",O}(),vt=function(){function O(C,M,G,me,Re){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var qe=this;qe.ver=2,M=M||b,qe[H]=lr(C,M),qe[ue]=N(C,me),qe[J]=d(C,Re),G&&(qe[je]=G)}return a(O,"Trace"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Message",O.dataType="MessageData",O}(),It="";function Mt(O,C){return C===void 0&&(C=!1),O==null?C:O.toString()[F]()==="true"}a(Mt,"stringToBoolOrDefault");function Xt(O){(isNaN(O)||O<0)&&(O=0),O=Math.round(O);var C=It+O%1e3,M=It+Math.floor(O/1e3)%60,G=It+Math.floor(O/(1e3*60))%60,me=It+Math.floor(O/(1e3*60*60))%24,Re=Math.floor(O/(1e3*60*60*24));return C=C[P]===1?"00"+C:C[P]===2?"0"+C:C,M=M[P]<2?"0"+M:M,G=G[P]<2?"0"+G:G,me=me[P]<2?"0"+me:me,(Re>0?Re+".":It)+me+":"+G+":"+M+"."+C}a(Xt,"msToTimeSpan");function rr(O,C){var M=null;return(0,oe.tO)(O,function(G){if(G.identifier===C)return M=G,-1}),M}a(rr,"getExtensionByName");function mn(O,C,M,G,me){return!me&&(0,oe.HD)(O)&&(O==="Script error."||O==="Script error")}a(mn,"isCrossOriginError");var tn=function(){function O(C,M,G,me,Re,qe,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Dt=this;Dt.ver=2,Dt.id=m(C,tt),Dt.url=Tr(C,G),Dt[L]=Yt(C,M)||b,isNaN(me)||(Dt[Be]=Xt(me)),Dt[ue]=N(C,Re),Dt[J]=d(C,qe)}return a(O,"PageView"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",O.dataType="PageviewData",O}(),Wr=function(){function O(C,M,G,me,Re,qe,tt){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Dt=this;Dt.ver=2,Dt.url=Tr(C,G),Dt[L]=Yt(C,M)||b,Dt[ue]=N(C,Re),Dt[J]=d(C,qe),tt&&(Dt.domProcessing=tt.domProcessing,Dt[Be]=tt[Be],Dt.networkConnect=tt.networkConnect,Dt.perfTotal=tt.perfTotal,Dt[_e]=tt[_e],Dt.sentRequest=tt.sentRequest)}return a(O,"PageViewPerformance"),O.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",O.dataType="PageviewPerformanceData",O}(),Ln="<no_method>",un="error",rn="stack",En="stackDetails",kr="errorSrc",Yn="message",ln="description";function qn(O,C){var M=O;return M&&!(0,oe.HD)(M)&&(JSON&&JSON[he]?(M=JSON[he](O),C&&(!M||M==="{}")&&((0,oe.mf)(O[Q])?M=O[Q]():M=""+O)):M=""+O+" - (Missing JSON.stringify)"),M||""}a(qn,"_stringify");function si(O,C){var M=O;return O&&(M&&!(0,oe.HD)(M)&&(M=O[Yn]||O[ln]||M),M&&!(0,oe.HD)(M)&&(M=qn(M,!0)),O.filename&&(M=M+" @"+(O.filename||"")+":"+(O.lineno||"?")+":"+(O.colno||"?"))),C&&C!=="String"&&C!=="Object"&&C!=="Error"&&(M||"")[ye](C)===-1&&(M=C+": "+M),M||""}a(si,"_formatMessage");function ui(O){try{if((0,oe.Kn)(O))return"hasFullStack"in O&&"typeName"in O}catch(C){}return!1}a(ui,"_isExceptionDetailsInternal");function On(O){try{if((0,oe.Kn)(O))return"ver"in O&&"exceptions"in O&&"properties"in O}catch(C){}return!1}a(On,"_isExceptionInternal");function W(O){return O&&O.src&&(0,oe.HD)(O.src)&&O.obj&&(0,oe.kJ)(O.obj)}a(W,"_isStackDetails");function Se(O){var C=O||"";(0,oe.HD)(C)||((0,oe.HD)(C[rn])?C=C[rn]:C=""+C);var M=C[x](`
`);return{src:C,obj:M}}a(Se,"_convertStackObj");function Pe(O){for(var C=[],M=O[x](`
`),G=0;G<M[P];G++){var me=M[G];M[G+1]&&(me+="@"+M[G+1],G++),C.push(me)}return{src:O,obj:C}}a(Pe,"_getOperaStack");function Ge(O){var C=null;if(O)try{if(O[rn])C=Se(O[rn]);else if(O[un]&&O[un][rn])C=Se(O[un][rn]);else if(O.exception&&O.exception[rn])C=Se(O.exception[rn]);else if(W(O))C=O;else if(W(O[En]))C=O[En];else if(window&&window.opera&&O[Yn])C=Pe(O[H]);else if(O.reason&&O.reason[rn])C=Se(O.reason[rn]);else if((0,oe.HD)(O))C=Se(O);else{var M=O[Yn]||O[ln]||"";(0,oe.HD)(O[kr])&&(M&&(M+=`
`),M+=" from "+O[kr]),M&&(C=Se(M))}}catch(G){C=Se(G)}return C||{src:"",obj:null}}a(Ge,"_getStackFromErrorObj");function lt(O){var C="";return O&&(O.obj?(0,oe.tO)(O.obj,function(M){C+=M+`
`}):C=O.src||""),C}a(lt,"_formatStackTrace");function it(O){var C,M=O.obj;if(M&&M[P]>0){C=[];var G=0,me=0;(0,oe.tO)(M,function(Fr){var Tn=Fr[Q]();if(Tt.regex.test(Tn)){var Ye=new Tt(Tn,G++);me+=Ye[pe],C.push(Ye)}});var Re=32*1024;if(me>Re)for(var qe=0,tt=C[P]-1,Dt=0,bt=qe,jt=tt;qe<tt;){var fr=C[qe][pe],qr=C[tt][pe];if(Dt+=fr+qr,Dt>Re){var hr=jt-bt+1;C.splice(bt,hr);break}bt=qe,jt=tt,qe++,tt--}}return C}a(it,"_parseStack");function pt(O){var C="";if(O&&(C=O.typeName||O[L]||"",!C))try{var M=/function (.{1,200})\(/,G=M.exec(O.constructor[Q]());C=G&&G[P]>1?G[1]:""}catch(me){}return C}a(pt,"_getErrorType");function Rt(O){if(O)try{if(!(0,oe.HD)(O)){var C=pt(O),M=qn(O,!1);return(!M||M==="{}")&&(O[un]&&(O=O[un],C=pt(O)),M=qn(O,!0)),M[ye](C)!==0&&C!=="String"?C+":"+M:M}}catch(G){}return""+(O||"")}a(Rt,"_formatErrorCode");var Nt=function(){function O(C,M,G,me,Re,qe){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var tt=this;tt.ver=2,On(M)?(tt[We]=M[We]||[],tt[ue]=M[ue],tt[J]=M[J],M[je]&&(tt[je]=M[je]),M.id&&(tt.id=M.id),M[ne]&&(tt[ne]=M[ne]),(0,oe.le)(M[Ke])||(tt[Ke]=M[Ke])):(G||(G={}),tt[We]=[new nr(C,M,G)],tt[ue]=N(C,G),tt[J]=d(C,me),Re&&(tt[je]=Re),qe&&(tt.id=qe))}return a(O,"Exception"),O.CreateAutoException=function(C,M,G,me,Re,qe,tt,Dt){var bt,jt=pt(Re||qe||C);return bt={},bt[H]=si(C,jt),bt.url=M,bt.lineNumber=G,bt.columnNumber=me,bt.error=Rt(Re||qe||C),bt.evt=Rt(qe||C),bt[Fe]=jt,bt.stackDetails=Ge(tt||Re||qe),bt.errorSrc=Dt,bt},O.CreateFromInterface=function(C,M,G,me){var Re=M[We]&&(0,oe.Mr)(M[We],function(tt){return nr[rt](C,tt)}),qe=new O(C,(0,p.uc)((0,p.uc)({},M),{exceptions:Re}),G,me);return qe},O.prototype.toInterface=function(){var C,M=this,G=M.exceptions,me=M.properties,Re=M.measurements,qe=M.severityLevel,tt=M.problemGroup,Dt=M.id,bt=M.isManual,jt=G instanceof Array&&(0,oe.Mr)(G,function(fr){return fr.toInterface()})||void 0;return C={ver:"4.0"},C[We]=jt,C.severityLevel=qe,C.properties=me,C.measurements=Re,C.problemGroup=tt,C.id=Dt,C.isManual=bt,C},O.CreateSimpleException=function(C,M,G,me,Re,qe){var tt;return{exceptions:[(tt={},tt[K]=!0,tt.message=C,tt.stack=Re,tt.typeName=M,tt)]}},O.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",O.dataType="ExceptionData",O.formatError=Rt,O}(),nr=function(){function O(C,M,G){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var me=this;if(ui(M))me[Fe]=M[Fe],me[H]=M[H],me[rn]=M[rn],me[ve]=M[ve]||[],me[K]=M[K];else{var Re=M,qe=Re&&Re.evt;(0,oe.VZ)(Re)||(Re=Re[un]||qe||Re),me[Fe]=Yt(C,pt(Re))||b,me[H]=lr(C,si(M||Re,me[Fe]))||b;var tt=M[En]||Ge(M);me[ve]=it(tt),(0,oe.kJ)(me[ve])&&(0,oe.Mr)(me[ve],function(Dt){return Dt[ot]=Yt(C,Dt[ot])}),me[rn]=Vr(C,lt(tt)),me.hasFullStack=(0,oe.kJ)(me.parsedStack)&&me.parsedStack[P]>0,G&&(G[Fe]=G[Fe]||me[Fe])}}return a(O,"_ExceptionDetails"),O.prototype.toInterface=function(){var C,M=this,G=M[ve]instanceof Array&&(0,oe.Mr)(M[ve],function(Re){return Re.toInterface()}),me=(C={id:M.id,outerId:M.outerId,typeName:M[Fe],message:M[H],hasFullStack:M[K],stack:M[rn]},C[ve]=G||void 0,C);return me},O.CreateFromInterface=function(C,M){var G=M[ve]instanceof Array&&(0,oe.Mr)(M[ve],function(Re){return Tt[rt](Re)})||M[ve],me=new O(C,(0,p.uc)((0,p.uc)({},M),{parsedStack:G}));return me},O}(),Tt=function(){function O(C,M){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var G=this;if(G[pe]=0,typeof C=="string"){var me=C;G[X]=M,G[ae]=Ln,G[ot]=(0,oe.nd)(me),G[we]="",G[ke]=0;var Re=me.match(O.regex);Re&&Re[P]>=5&&(G[ae]=(0,oe.nd)(Re[2])||G[ae],G[we]=(0,oe.nd)(Re[4]),G[ke]=parseInt(Re[5])||0)}else G[X]=C[X],G[ae]=C[ae],G[ot]=C[ot],G[we]=C[we],G[ke]=C[ke],G[pe]=0;G.sizeInBytes+=G.method[P],G.sizeInBytes+=G.fileName[P],G.sizeInBytes+=G.assembly[P],G[pe]+=O.baseSize,G.sizeInBytes+=G.level.toString()[P],G.sizeInBytes+=G.line.toString()[P]}return a(O,"_StackFrame"),O.CreateFromInterface=function(C){return new O(C,null)},O.prototype.toInterface=function(){var C=this;return{level:C[X],method:C[ae],assembly:C[ot],fileName:C[we],line:C[ke]}},O.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,O.baseSize=58,O}(),Vt=function(){function O(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return a(O,"DataPoint"),O}(),kt=function(){function O(C,M,G,me,Re,qe,tt,Dt,bt){this.aiDataContract={ver:1,metrics:1,properties:0};var jt=this;jt.ver=2;var fr=new Vt;fr[U]=me>0?me:void 0,fr.max=isNaN(qe)||qe===null?void 0:qe,fr.min=isNaN(Re)||Re===null?void 0:Re,fr[L]=Yt(C,M)||b,fr.value=G,fr.stdDev=isNaN(tt)||tt===null?void 0:tt,jt.metrics=[fr],jt[ue]=N(C,Dt),jt[J]=d(C,bt)}return a(O,"Metric"),O.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",O.dataType="MetricData",O}(),Ut=S(5843),Lt=S(3242),zr=S(4878),Sr=S(4869);function Sn(O){var C=null;if((0,oe.mf)(Event))C=new Event(O);else{var M=(0,de.Me)();M&&M.createEvent&&(C=M.createEvent("Event"),C.initEvent(O,!0,!0))}return C}a(Sn,"createDomEvent");var Qr=S(4873),pn=(0,Qr.cc)({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Wn=S(2091),zn=(0,Qr.By)({LocalStorage:0,SessionStorage:1}),cn=(0,Qr.By)({AI:0,AI_AND_W3C:1,W3C:2}),vn=void 0,Qt=void 0;function jr(){return Fn()?Ur(zn.LocalStorage):null}a(jr,"_getLocalStorageObject");function Ur(O){try{if((0,oe.le)((0,Wn.Rd)()))return null;var C=new Date()[Q](),M=(0,de.a8)(O===zn.LocalStorage?"localStorage":"sessionStorage");M.setItem(C,C);var G=M.getItem(C)!==C;if(M[fe](C),!G)return M}catch(me){}return null}a(Ur,"_getVerifiedStorageObject");function Dr(){return Ei()?Ur(zn.SessionStorage):null}a(Dr,"_getSessionStorageObject");function Yr(){vn=!1,Qt=!1}a(Yr,"utlDisableStorage");function bn(){vn=Fn(!0),Qt=Ei(!0)}a(bn,"utlEnableStorage");function Fn(O){return(O||vn===void 0)&&(vn=!!Ur(zn.LocalStorage)),vn}a(Fn,"utlCanUseLocalStorage");function Vn(O,C){var M=jr();if(M!==null)try{return M.getItem(C)}catch(G){vn=!1,(0,Me.kP)(O,2,1,"Browser failed read of local storage. "+(0,oe.jj)(G),{exception:(0,de.eU)(G)})}return null}a(Vn,"utlGetLocalStorage");function wi(O,C,M){var G=jr();if(G!==null)try{return G.setItem(C,M),!0}catch(me){vn=!1,(0,Me.kP)(O,2,3,"Browser failed write to local storage. "+(0,oe.jj)(me),{exception:(0,de.eU)(me)})}return!1}a(wi,"utlSetLocalStorage");function ji(O,C){var M=jr();if(M!==null)try{return M[fe](C),!0}catch(G){vn=!1,(0,Me.kP)(O,2,5,"Browser failed removal of local storage item. "+(0,oe.jj)(G),{exception:(0,de.eU)(G)})}return!1}a(ji,"utlRemoveStorage");function Ei(O){return(O||Qt===void 0)&&(Qt=!!Ur(zn.SessionStorage)),Qt}a(Ei,"utlCanUseSessionStorage");function ha(){var O=[];return Ei()&&(0,oe.rW)((0,de.a8)("sessionStorage"),function(C){O.push(C)}),O}a(ha,"utlGetSessionStorageKeys");function dt(O,C){var M=Dr();if(M!==null)try{return M.getItem(C)}catch(G){Qt=!1,(0,Me.kP)(O,2,2,"Browser failed read of session storage. "+(0,oe.jj)(G),{exception:(0,de.eU)(G)})}return null}a(dt,"utlGetSessionStorage");function Ki(O,C,M){var G=Dr();if(G!==null)try{return G.setItem(C,M),!0}catch(me){Qt=!1,(0,Me.kP)(O,2,4,"Browser failed write to session storage. "+(0,oe.jj)(me),{exception:(0,de.eU)(me)})}return!1}a(Ki,"utlSetSessionStorage");function Zi(O,C){var M=Dr();if(M!==null)try{return M[fe](C),!0}catch(G){Qt=!1,(0,Me.kP)(O,2,6,"Browser failed removal of session storage item. "+(0,oe.jj)(G),{exception:(0,de.eU)(G)})}return!1}a(Zi,"utlRemoveSessionStorage");var xn=(0,de.Me)()||{},Si=0,li=[null,null,null,null,null];function Nn(O){var C=Si,M=li,G=M[C];return xn.createElement?M[C]||(G=M[C]=xn.createElement("a")):G={host:ni(O,!0)},G.href=O,C++,C>=M[P]&&(C=0),Si=C,G}a(Nn,"urlParseUrl");function mi(O){var C,M=Nn(O);return M&&(C=M.href),C}a(mi,"urlGetAbsoluteUrl");function Gi(O){var C,M=Nn(O);return M&&(C=M[be]),C}a(Gi,"urlGetPathName");function Sa(O,C){return O?O.toUpperCase()+" "+C:C}a(Sa,"urlGetCompleteUrl");function ni(O,C){var M=Ri(O,C)||"";if(M){var G=M.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(G!=null&&G[P]>3&&(0,oe.HD)(G[2])&&G[2][P]>0)return G[2]+(G[3]||"")}return M}a(ni,"urlParseHost");function Ri(O,C){var M=null;if(O){var G=O.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(G!=null&&G[P]>2&&(0,oe.HD)(G[2])&&G[2][P]>0&&(M=G[2]||"",C&&G[P]>2)){var me=(G[1]||"")[F](),Re=G[3]||"";(me==="http"&&Re===":80"||me==="https"&&Re===":443")&&(Re=""),M+=Re}}return M}a(Ri,"urlParseFullHost");var ze=[_+h,"https://breeze.aimon.applicationinsights.io"+h,"https://dc-int.services.visualstudio.com"+h];function st(O){return(0,oe.UA)(ze,O[F]())!==-1}a(st,"isInternalApplicationInsightsEndpoint");var St={NotSpecified:b,createDomEvent:Sn,disableStorage:Yr,isInternalApplicationInsightsEndpoint:st,canUseLocalStorage:Fn,getStorage:Vn,setStorage:wi,removeStorage:ji,canUseSessionStorage:Ei,getSessionStorageKeys:ha,getSessionStorage:dt,setSessionStorage:Ki,removeSessionStorage:Zi,disableCookies:Ut.oF,canUseCookies:Ut.vn,disallowsSameSiteNone:Lt.UY,setCookie:Ut.d8,stringToBoolOrDefault:Mt,getCookie:Ut.ej,deleteCookie:Ut.kT,trim:oe.nd,newId:zr.pZ,random32:function(){return(0,zr._l)(!0)},generateW3CId:Ut.DO,isArray:oe.kJ,isError:oe.VZ,isDate:oe.J_,toISOStringForIE8:oe.Y6,getIEVersion:de.sA,msToTimeSpan:Xt,isCrossOriginError:mn,dump:de.eU,getExceptionName:oe.jj,addEventHandler:Sr.pZ,IsBeaconApiSupported:de.MF,getExtension:rr},ft={parseUrl:Nn,getAbsoluteUrl:mi,getPathName:Gi,getCompleteUrl:Sa,parseHost:ni,parseFullHost:Ri},Wt={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(O,C,M){if(!C||O&&O.disableCorrelationHeaders)return!1;if(O&&O[re]){for(var G=0;G<O.correlationHeaderExcludePatterns[P];G++)if(O[re][G].test(C))return!1}var me=Nn(C).host[F]();if(me&&(me[ye](":443")!==-1||me[ye](":80")!==-1)&&(me=(Ri(C,!0)||"")[F]()),(!O||!O.enableCorsCorrelation)&&me&&me!==M)return!1;var Re=O&&O.correlationHeaderDomains;if(Re){var qe;if((0,oe.tO)(Re,function(bt){var jt=new RegExp(bt.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));qe=qe||jt.test(me)}),!qe)return!1}var tt=O&&O.correlationHeaderExcludedDomains;if(!tt||tt[P]===0)return!0;for(var G=0;G<tt[P];G++){var Dt=new RegExp(tt[G].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(Dt.test(me))return!1}return me&&me[P]>0},getCorrelationContext:function(O){if(O){var C=Wt.getCorrelationContextValue(O,pn[1]);if(C&&C!==Wt.correlationIdPrefix)return C}},getCorrelationContextValue:function(O,C){if(O)for(var M=O[x](","),G=0;G<M[P];++G){var me=M[G][x]("=");if(me[P]===2&&me[0]===C)return me[1]}}};function Jt(O,C,M,G){var me,Re=G,qe=G;if(C&&C[P]>0){var tt=Nn(C);if(me=tt.host,!Re)if(tt[be]!=null){var Dt=tt.pathname[P]===0?"/":tt[be];Dt.charAt(0)!=="/"&&(Dt="/"+Dt),qe=tt[be],Re=Yt(O,M?M+" "+Dt:Dt)}else Re=Yt(O,C)}else me=G,Re=G;return{target:me,name:Re,data:qe}}a(Jt,"AjaxHelperParseDependencyPath");function Et(){var O=(0,de.r)();if(O&&O.now&&O.timing){var C=O.now()+O.timing.navigationStart;if(C>0)return C}return(0,oe.m6)()}a(Et,"dateTimeUtilsNow");function tr(O,C){var M=null;return O!==0&&C!==0&&!(0,oe.le)(O)&&!(0,oe.le)(C)&&(M=C-O),M}a(tr,"dateTimeUtilsDuration");var Kt={Now:Et,GetDuration:tr};function yr(O,C){var M=O||{};return{getName:function(){return M[_DYN_NAME]},setName:function(G){C&&C.setName(G),M[_DYN_NAME]=G},getTraceId:function(){return M.traceID},setTraceId:function(G){C&&C.setTraceId(G),isValidTraceId(G)&&(M.traceID=G)},getSpanId:function(){return M.parentID},setSpanId:function(G){C&&C.setSpanId(G),isValidSpanId(G)&&(M.parentID=G)},getTraceFlags:function(){return M.traceFlags},setTraceFlags:function(G){C&&C.setTraceFlags(G),M.traceFlags=G}}}a(yr,"createDistributedTraceContextFromTrace");var br=function(){function O(C,M,G,me,Re,qe,tt,Dt,bt,jt,fr,qr){bt===void 0&&(bt="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var hr=this;hr.ver=2,hr.id=M,hr[Be]=Xt(Re),hr.success=qe,hr.resultCode=tt+"",hr.type=Yt(C,bt);var Fr=Jt(C,G,Dt,me);hr.data=Tr(C,me)||Fr.data,hr.target=Yt(C,Fr.target),jt&&(hr.target="".concat(hr.target," | ").concat(jt)),hr[L]=Yt(C,Fr[L]),hr[ue]=N(C,fr),hr[J]=d(C,qr)}return a(O,"RemoteDependencyData"),O.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",O.dataType="RemoteDependencyData",O}(),Jr="AppInsightsPropertiesPlugin",Kr="AppInsightsChannelPlugin",yn="ApplicationInsightsAnalytics",Nr=S(5883),Bt=S(4063);function ir(O){var C="ai."+O+".";return function(M){return C+M}}a(ir,"_aiNameFunc");var _r=ir("application"),wr=ir("device"),j=ir("location"),Z=ir("operation"),Qe=ir("session"),ht=ir("user"),zt=ir("cloud"),$t=ir("internal"),dr=function(O){(0,p.ne)(C,O);function C(){return O.call(this)||this}return a(C,"ContextTagKeys"),C}((0,oe.hl)({applicationVersion:_r("ver"),applicationBuild:_r("build"),applicationTypeId:_r("typeId"),applicationId:_r("applicationId"),applicationLayer:_r("layer"),deviceId:wr("id"),deviceIp:wr("ip"),deviceLanguage:wr("language"),deviceLocale:wr("locale"),deviceModel:wr("model"),deviceFriendlyName:wr("friendlyName"),deviceNetwork:wr("network"),deviceNetworkName:wr("networkName"),deviceOEMName:wr("oemName"),deviceOS:wr("os"),deviceOSVersion:wr("osVersion"),deviceRoleInstance:wr("roleInstance"),deviceRoleName:wr("roleName"),deviceScreenResolution:wr("screenResolution"),deviceType:wr("type"),deviceMachineName:wr("machineName"),deviceVMName:wr("vmName"),deviceBrowser:wr("browser"),deviceBrowserVersion:wr("browserVersion"),locationIp:j("ip"),locationCountry:j("country"),locationProvince:j("province"),locationCity:j("city"),operationId:Z("id"),operationName:Z("name"),operationParentId:Z("parentId"),operationRootId:Z("rootId"),operationSyntheticSource:Z("syntheticSource"),operationCorrelationVector:Z("correlationVector"),sessionId:Qe("id"),sessionIsFirst:Qe("isFirst"),sessionIsNew:Qe("isNew"),userAccountAcquisitionDate:ht("accountAcquisitionDate"),userAccountId:ht("accountId"),userAgent:ht("userAgent"),userId:ht("id"),userStoreRegion:ht("storeRegion"),userAuthUserId:ht("authUserId"),userAnonymousUserAcquisitionDate:ht("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ht("authUserAcquisitionDate"),cloudName:zt("name"),cloudRole:zt("role"),cloudRoleVer:zt("roleVer"),cloudRoleInstance:zt("roleInstance"),cloudEnvironment:zt("environment"),cloudLocation:zt("location"),cloudDeploymentUnit:zt("deploymentUnit"),internalNodeName:$t("nodeName"),internalSdkVersion:$t("sdkVersion"),internalAgentVersion:$t("agentVersion"),internalSnippet:$t("snippet"),internalSdkSrc:$t("sdkSrc")})),vr={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},ar=new dr,gr=function(){function O(C,M,G){var me=this,Re=this;Re.ver=1,Re.sampleRate=100,Re.tags={},Re[L]=Yt(C,G)||b,Re.data=M,Re.time=(0,oe.Y6)(new Date),Re.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return me.sampleRate===100?4:1},tags:1,data:1}}return a(O,"Envelope"),O}(),cr=function(){function O(C,M){this.aiDataContract={baseType:1,baseData:1},this.baseType=C,this.baseData=M}return a(O,"Data"),O}(),qt="duration",xt="tags",Ar="deviceType",Rr="data",Lr="name",Zr="traceID",Zt="length",Mn="stringify",_n="measurements",Pr="dataType",ii="envelopeType",kn="toString",Un="onLine",yi="isOnline",ci="enqueue",fi="count",fn="push",bi="emitLineDelimitedJson",xi="clear",ai="batchPayloads",Bn="markAsSent",oi="clearSent",Mi="bufferOverride",ki="BUFFER_KEY",Qn="SENT_BUFFER_KEY",jn="MAX_BUFFER_SIZE",hn="namePrefix",hi="maxBatchSizeInBytes",Te="triggerSend",at="diagLog",ct="onunloadDisableBeacon",wt="isBeaconApiDisabled",Pt="_sender",Ft="_senderConfig",ur="enableSessionStorageBuffer",De="_buffer",Xe="samplingPercentage",Ze="instrumentationKey",mt="endpointUrl",Ht="customHeaders",er="disableXhr",Er="onunloadDisableFetch",xr="disableTelemetry",Gr="baseType",Ci="sampleRate",Xi="convertUndefined",Yi="_xhrReadyStateChange",an="_onError",di="_onPartialSuccess",Ui="_onSuccess",da="itemsAccepted",Bs="itemsReceived",ga="isRetryDisabled",oo="setRequestHeader",ba="maxBatchInterval",ea="eventsSendRequest",Ba="disableInstrumentationKeyValidation",pa="getSamplingScore",va="getHashCodeScore",ta="baseType",on="baseData",In="properties",$a="true";function Cn(O,C,M){return(0,oe.sO)(O,C,M,oe.fQ)}a(Cn,"_setValueIf");function so(O,C,M){var G=M[xt]=M[xt]||{},me=C.ext=C.ext||{},Re=C[xt]=C[xt]||[],qe=me.user;qe&&(Cn(G,ar.userAuthUserId,qe.authId),Cn(G,ar.userId,qe.id||qe.localId));var tt=me.app;tt&&Cn(G,ar.sessionId,tt.sesId);var Dt=me.device;Dt&&(Cn(G,ar.deviceId,Dt.id||Dt.localId),Cn(G,ar[Ar],Dt.deviceClass),Cn(G,ar.deviceIp,Dt.ip),Cn(G,ar.deviceModel,Dt.model),Cn(G,ar[Ar],Dt[Ar]));var bt=C.ext.web;if(bt){Cn(G,ar.deviceLanguage,bt.browserLang),Cn(G,ar.deviceBrowserVersion,bt.browserVer),Cn(G,ar.deviceBrowser,bt.browser);var jt=M[Rr]=M[Rr]||{},fr=jt[on]=jt[on]||{},qr=fr[In]=fr[In]||{};Cn(qr,"domain",bt.domain),Cn(qr,"isManual",bt.isManual?$a:null),Cn(qr,"screenRes",bt.screenRes),Cn(qr,"userConsent",bt.userConsent?$a:null)}var hr=me.os;hr&&Cn(G,ar.deviceOS,hr[Lr]);var Fr=me.trace;Fr&&(Cn(G,ar.operationParentId,Fr.parentID),Cn(G,ar.operationName,Yt(O,Fr[Lr])),Cn(G,ar.operationId,Fr[Zr]));for(var Tn={},Ye=Re[Zt]-1;Ye>=0;Ye--){var sn=Re[Ye];(0,oe.rW)(sn,function(dn,Dn){Tn[dn]=Dn}),Re.splice(Ye,1)}(0,oe.rW)(Re,function(dn,Dn){Tn[dn]=Dn});var Ir=(0,p.uc)((0,p.uc)({},G),Tn);Ir[ar.internalSdkVersion]||(Ir[ar.internalSdkVersion]="javascript:".concat(Qo.Version)),M[xt]=(0,oe.Ax)(Ir)}a(so,"_extractPartAExtensions");function Ii(O,C,M){(0,oe.le)(O)||(0,oe.rW)(O,function(G,me){(0,oe.hj)(me)?M[G]=me:(0,oe.HD)(me)?C[G]=me:(0,de.nS)()&&(C[G]=(0,de.xA)()[Mn](me))})}a(Ii,"_extractPropsAndMeasurements");function Fi(O,C){(0,oe.le)(O)||(0,oe.rW)(O,function(M,G){O[M]=G||C})}a(Fi,"_convertPropsUndefinedToCustomDefinedValue");function qi(O,C,M,G){var me=new gr(O,G,C);Cn(me,"sampleRate",M[E]),(M[on]||{}).startTime&&(me.time=(0,oe.Y6)(M[on].startTime)),me.iKey=M.iKey;var Re=M.iKey.replace(/-/g,"");return me[Lr]=me[Lr].replace("{0}",Re),so(O,M,me),M[xt]=M[xt]||[],(0,oe.Ax)(me)}a(qi,"_createEnvelope");function Vi(O,C){(0,oe.le)(C[on])&&(0,Me.kP)(O,1,46,"telemetryItem.baseData cannot be null.")}a(Vi,"EnvelopeCreatorInit");var Qo={Version:"2.8.12"};function Jo(O,C,M){Vi(O,C);var G=C[on][_n]||{},me=C[on][In]||{};Ii(C[Rr],me,G),(0,oe.le)(M)||Fi(me,M);var Re=C[on];if((0,oe.le)(Re))return(0,Me.jV)(O,"Invalid input for dependency data"),null;var qe=Re[In]&&Re[In][D]?Re[In][D]:"GET",tt=new br(O,Re.id,Re.target,Re[Lr],Re[qt],Re.success,Re.responseCode,qe,Re.type,Re.correlationContext,me,G),Dt=new cr(br[Pr],tt);return qi(O,br[ii],C,Dt)}a(Jo,"DependencyEnvelopeCreator");function Ha(O,C,M){Vi(O,C);var G={},me={};C[ta]!==Ce[Pr]&&(G.baseTypeSource=C[ta]),C[ta]===Ce[Pr]?(G=C[on][In]||{},me=C[on][_n]||{}):C[on]&&Ii(C[on],G,me),Ii(C[Rr],G,me),(0,oe.le)(M)||Fi(G,M);var Re=C[on][Lr],qe=new Ce(O,Re,G,me),tt=new cr(Ce[Pr],qe);return qi(O,Ce[ii],C,tt)}a(Ha,"EventEnvelopeCreator");function uo(O,C,M){Vi(O,C);var G=C[on][_n]||{},me=C[on][In]||{};Ii(C[Rr],me,G),(0,oe.le)(M)||Fi(me,M);var Re=C[on],qe=Nt.CreateFromInterface(O,Re,me,G),tt=new cr(Nt[Pr],qe);return qi(O,Nt[ii],C,tt)}a(uo,"ExceptionEnvelopeCreator");function ra(O,C,M){Vi(O,C);var G=C[on],me=G[In]||{},Re=G[_n]||{};Ii(C[Rr],me,Re),(0,oe.le)(M)||Fi(me,M);var qe=new kt(O,G[Lr],G.average,G.sampleCount,G.min,G.max,G.stdDev,me,Re),tt=new cr(kt[Pr],qe);return qi(O,kt[ii],C,tt)}a(ra,"MetricEnvelopeCreator");function ma(O,C,M){Vi(O,C);var G,me=C[on];!(0,oe.le)(me)&&!(0,oe.le)(me[In])&&!(0,oe.le)(me[In][qt])?(G=me[In][qt],delete me[In][qt]):!(0,oe.le)(C[Rr])&&!(0,oe.le)(C[Rr][qt])&&(G=C[Rr][qt],delete C[Rr][qt]);var Re=C[on],qe;((C.ext||{}).trace||{})[Zr]&&(qe=C.ext.trace[Zr]);var tt=Re.id||qe,Dt=Re[Lr],bt=Re.uri,jt=Re[In]||{},fr=Re[_n]||{};if((0,oe.le)(Re.refUri)||(jt.refUri=Re.refUri),(0,oe.le)(Re.pageType)||(jt.pageType=Re.pageType),(0,oe.le)(Re.isLoggedIn)||(jt.isLoggedIn=Re.isLoggedIn[kn]()),!(0,oe.le)(Re[In])){var qr=Re[In];(0,oe.rW)(qr,function(Tn,Ye){jt[Tn]=Ye})}Ii(C[Rr],jt,fr),(0,oe.le)(M)||Fi(jt,M);var hr=new tn(O,Dt,bt,G,jt,fr,tt),Fr=new cr(tn[Pr],hr);return qi(O,tn[ii],C,Fr)}a(ma,"PageViewEnvelopeCreator");function na(O,C,M){Vi(O,C);var G=C[on],me=G[Lr],Re=G.uri||G.url,qe=G[In]||{},tt=G[_n]||{};Ii(C[Rr],qe,tt),(0,oe.le)(M)||Fi(qe,M);var Dt=new Wr(O,me,Re,void 0,qe,tt,G),bt=new cr(Wr[Pr],Dt);return qi(O,Wr[ii],C,bt)}a(na,"PageViewPerformanceEnvelopeCreator");function Wa(O,C,M){Vi(O,C);var G=C[on].message,me=C[on].severityLevel,Re=C[on][In]||{},qe=C[on][_n]||{};Ii(C[Rr],Re,qe),(0,oe.le)(M)||Fi(Re,M);var tt=new vt(O,G,me,Re,qe),Dt=new cr(vt[Pr],tt);return qi(O,vt[ii],C,Dt)}a(Wa,"TraceEnvelopeCreator");function lo(O,C){(0,Sr.QY)(O,null,null,C)}a(lo,"_disableEvents");function Zo(O){var C,M=(0,de.Me)(),G=(0,de.jW)(),me=!1,Re=!0,qe=(0,Sr.jU)((0,Nr.J)("OfflineListener"),O);try{if(Dt((0,de.Jj)())&&(me=!0),M){var tt=M.body||M;tt.ononline&&Dt(tt)&&(me=!0)}me&&G&&!(0,oe.le)(G[Un])&&(Re=G[Un])}catch(hr){me=!1}function Dt(hr){var Fr=!1;return hr&&(Fr=(0,Sr.XO)(hr,"online",bt,qe),Fr&&(0,Sr.XO)(hr,"offline",jt,qe)),Fr}a(Dt,"_enableEvents");function bt(){Re=!0}a(bt,"_setOnline");function jt(){Re=!1}a(jt,"_setOffline");function fr(){var hr=!0;return me?hr=Re:G&&!(0,oe.le)(G[Un])&&(hr=G[Un]),hr}a(fr,"_isOnline");function qr(){var hr=(0,de.Jj)();if(hr&&me){if(lo(hr,qe),M){var Fr=M.body||M;(0,oe.o8)(Fr.ononline)||lo(Fr,qe)}me=!1}}return a(qr,"_unload"),C={},C[yi]=fr,C.isListening=function(){return me},C.unload=qr,C}a(Zo,"createOfflineListener");var co=function(){function O(C,M){var G=[],me=!1;this._get=function(){return G},this._set=function(Re){return G=Re,G},(0,v.Z)(O,this,function(Re){Re[ci]=function(qe){if(Re[fi]()>=M.eventsLimitInMem()){me||((0,Me.kP)(C,2,105,"Maximum in-memory buffer size reached: "+Re[fi](),!0),me=!0);return}G[fn](qe)},Re[fi]=function(){return G[Zt]},Re.size=function(){for(var qe=G[Zt],tt=0;tt<G[Zt];tt++)qe+=G[tt][Zt];return M[bi]()||(qe+=2),qe},Re[xi]=function(){G=[],me=!1},Re.getItems=function(){return G.slice(0)},Re[ai]=function(qe){if(qe&&qe[Zt]>0){var tt=M[bi]()?qe.join(`
`):"["+qe.join(",")+"]";return tt}return null}})}return a(O,"BaseSendBuffer"),O.__ieDyn=1,O}(),fo=function(O){(0,p.ne)(C,O);function C(M,G){var me=O.call(this,M,G)||this;return(0,v.Z)(C,me,function(Re,qe){Re[Bn]=function(tt){qe[xi]()},Re[oi]=function(tt){}}),me}return a(C,"ArraySendBuffer"),C.__ieDyn=1,C}(co),Xo=function(O){(0,p.ne)(C,O);function C(M,G){var me=O.call(this,M,G)||this,Re=!1,qe=G[Mi]()||{getItem:dt,setItem:Ki},tt=qe.getItem,Dt=qe.setItem;return(0,v.Z)(C,me,function(bt,jt){var fr=Tn(C[ki]),qr=Tn(C[Qn]),hr=bt._set(fr.concat(qr));hr[Zt]>C[jn]&&(hr[Zt]=C[jn]),Ye(C[Qn],[]),Ye(C[ki],hr),bt[ci]=function(sn){if(bt[fi]()>=C[jn]){Re||((0,Me.kP)(M,2,67,"Maximum buffer size reached: "+bt[fi](),!0),Re=!0);return}jt[ci](sn),Ye(C[ki],bt._get())},bt[xi]=function(){jt[xi](),Ye(C[ki],bt._get()),Ye(C[Qn],[]),Re=!1},bt[Bn]=function(sn){Ye(C[ki],bt._set(Fr(sn,bt._get())));var Ir=Tn(C[Qn]);Ir instanceof Array&&sn instanceof Array&&(Ir=Ir.concat(sn),Ir[Zt]>C[jn]&&((0,Me.kP)(M,1,67,"Sent buffer reached its maximum size: "+Ir[Zt],!0),Ir[Zt]=C[jn]),Ye(C[Qn],Ir))},bt[oi]=function(sn){var Ir=Tn(C[Qn]);Ir=Fr(sn,Ir),Ye(C[Qn],Ir)};function Fr(sn,Ir){var dn=[];return(0,oe.tO)(Ir,function(Dn){!(0,oe.mf)(Dn)&&(0,oe.UA)(sn,Dn)===-1&&dn[fn](Dn)}),dn}a(Fr,"_removePayloadsFromBuffer");function Tn(sn){var Ir=sn;try{Ir=G[hn]&&G[hn]()?G[hn]()+"_"+Ir:Ir;var dn=tt(M,Ir);if(dn){var Dn=(0,de.xA)().parse(dn);if((0,oe.HD)(Dn)&&(Dn=(0,de.xA)().parse(Dn)),Dn&&(0,oe.kJ)(Dn))return Dn}}catch(Qi){(0,Me.kP)(M,1,42," storage key: "+Ir+", "+(0,oe.jj)(Qi),{exception:(0,de.eU)(Qi)})}return[]}a(Tn,"_getBuffer");function Ye(sn,Ir){var dn=sn;try{dn=G[hn]&&G[hn]()?G[hn]()+"_"+dn:dn;var Dn=JSON[Mn](Ir);Dt(M,dn,Dn)}catch(Qi){Dt(M,dn,JSON[Mn]([])),(0,Me.kP)(M,2,41," storage key: "+dn+", "+(0,oe.jj)(Qi)+". Buffer cleared",{exception:(0,de.eU)(Qi)})}}a(Ye,"_setBuffer")}),me}return a(C,"SessionStorageSendBuffer"),C.BUFFER_KEY="AI_buffer",C.SENT_BUFFER_KEY="AI_sentBuffer",C.MAX_BUFFER_SIZE=2e3,C}(co),ho=function(){function O(C){(0,v.Z)(O,this,function(M){M.serialize=function(qe){var tt=G(qe,"root");try{return(0,de.xA)()[Mn](tt)}catch(Dt){(0,Me.kP)(C,1,48,Dt&&(0,oe.mf)(Dt[kn])?Dt[kn]():"Error serializing object",null,!0)}};function G(qe,tt){var Dt="__aiCircularRefCheck",bt={};if(!qe)return(0,Me.kP)(C,1,48,"cannot serialize object because it is null or undefined",{name:tt},!0),bt;if(qe[Dt])return(0,Me.kP)(C,2,50,"Circular reference detected while serializing object",{name:tt},!0),bt;if(!qe.aiDataContract){if(tt==="measurements")bt=Re(qe,"number",tt);else if(tt==="properties")bt=Re(qe,"string",tt);else if(tt==="tags")bt=Re(qe,"string",tt);else if((0,oe.kJ)(qe))bt=me(qe,tt);else{(0,Me.kP)(C,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:tt},!0);try{(0,de.xA)()[Mn](qe),bt=qe}catch(jt){(0,Me.kP)(C,1,48,jt&&(0,oe.mf)(jt[kn])?jt[kn]():"Error serializing object",null,!0)}}return bt}return qe[Dt]=!0,(0,oe.rW)(qe.aiDataContract,function(jt,fr){var qr=(0,oe.mf)(fr)?fr()&1:fr&1,hr=(0,oe.mf)(fr)?fr()&4:fr&4,Fr=fr&2,Tn=qe[jt]!==void 0,Ye=(0,oe.Kn)(qe[jt])&&qe[jt]!==null;if(qr&&!Tn&&!Fr)(0,Me.kP)(C,1,24,"Missing required field specification. The field is required but not present on source",{field:jt,name:tt});else if(!hr){var sn=void 0;Ye?Fr?sn=me(qe[jt],jt):sn=G(qe[jt],jt):sn=qe[jt],sn!==void 0&&(bt[jt]=sn)}}),delete qe[Dt],bt}a(G,"_serializeObject");function me(qe,tt){var Dt;if(qe)if(!(0,oe.kJ)(qe))(0,Me.kP)(C,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:tt},!0);else{Dt=[];for(var bt=0;bt<qe[Zt];bt++){var jt=qe[bt],fr=G(jt,tt+"["+bt+"]");Dt[fn](fr)}}return Dt}a(me,"_serializeArray");function Re(qe,tt,Dt){var bt;return qe&&(bt={},(0,oe.rW)(qe,function(jt,fr){if(tt==="string")fr===void 0?bt[jt]="undefined":fr===null?bt[jt]="null":fr[kn]?bt[jt]=fr[kn]():bt[jt]="invalid field: toString() is not defined.";else if(tt==="number")if(fr===void 0)bt[jt]="undefined";else if(fr===null)bt[jt]="null";else{var qr=parseFloat(fr);isNaN(qr)?bt[jt]="NaN":bt[jt]=qr}else bt[jt]="invalid field: "+Dt+" is of unknown type.",(0,Me.kP)(C,1,bt[jt],null,!0)})),bt}a(Re,"_serializeStringMap")})}return a(O,"Serializer"),O.__ieDyn=1,O}(),$s=8,es=function(){function O(){}return a(O,"HashCodeScoreGenerator"),O.prototype.getHashCodeScore=function(C){var M=this.getHashCode(C)/O.INT_MAX_VALUE;return M*100},O.prototype.getHashCode=function(C){if(C==="")return 0;for(;C[Zt]<$s;)C=C.concat(C);for(var M=5381,G=0;G<C[Zt];++G)M=(M<<5)+M+C.charCodeAt(G),M=M&M;return Math.abs(M)},O.INT_MAX_VALUE=2147483647,O}(),Hs=function(){function O(){var C=this,M=new es,G=new dr;C[pa]=function(me){var Re=0;return me[xt]&&me[xt][G.userId]?Re=M.getHashCodeScore(me[xt][G.userId]):me.ext&&me.ext.user&&me.ext.user.id?Re=M[va](me.ext.user.id):me[xt]&&me[xt][G.operationId]?Re=M.getHashCodeScore(me[xt][G.operationId]):me.ext&&me.ext.telemetryTrace&&me.ext.telemetryTrace[Zr]?Re=M.getHashCodeScore(me.ext.telemetryTrace[Zr]):Re=Math.random()*100,Re}}return a(O,"SamplingScoreGenerator"),O}(),ts=function(){function O(C,M){this.INT_MAX_VALUE=2147483647;var G=M||(0,Me.vH)(null);(C>100||C<0)&&(G.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:C},!0),C=100),this[Ci]=C,this.samplingScoreGenerator=new Hs}return a(O,"Sample"),O.prototype.isSampledIn=function(C){var M=this[Ci],G=!1;return M==null||M>=100||C.baseType===kt[Pr]?!0:(G=this.samplingScoreGenerator[pa](C)<M,G)},O}(),Pi,rs=65e3;function ia(O){try{return O.responseText}catch(C){}return null}a(ia,"_getResponseText");function go(){var O,C,M;return O={endpointUrl:function(){return _+h}},O[bi]=function(){return!1},O[ba]=function(){return 15e3},O[hi]=function(){return 102400},O[xr]=function(){return!1},O[ur]=function(){return!0},O[Mi]=function(){return!1},O[ga]=function(){return!1},O[wt]=function(){return!0},O[er]=function(){return!1},O[Er]=function(){return!1},O[ct]=function(){return!1},O[Ze]=function(){return C},O[hn]=function(){return C},O[Xe]=function(){return 100},O[Ht]=function(){return M},O[Xi]=function(){return C},O.eventsLimitInMem=function(){return 1e4},O}a(go,"_getDefaultAppInsightsChannelConfig");var po=(Pi={},Pi[Ce.dataType]=Ha,Pi[vt.dataType]=Wa,Pi[tn.dataType]=ma,Pi[Wr.dataType]=na,Pi[Nt.dataType]=uo,Pi[kt.dataType]=ra,Pi[br.dataType]=Jo,Pi),vo=function(O){(0,p.ne)(C,O);function C(){var M=O.call(this)||this;M.priority=1001,M.identifier=Kr,M._senderConfig=go();var G,me,Re,qe,tt,Dt,bt,jt,fr=0,qr,hr,Fr,Tn;return(0,v.Z)(C,M,function(Ye,sn){Ya(),Ye.pause=function(){wo(),qe=!0},Ye.resume=function(){qe&&(qe=!1,me=null,Ye._buffer.size()>Ye._senderConfig[hi]()&&Ye[Te](!0,null,10),Ka())},Ye.flush=function(Ue,At,Ot){if(Ue===void 0&&(Ue=!0),!qe){wo();try{Ye[Te](Ue,null,Ot||1)}catch(or){(0,Me.kP)(Ye[at](),1,22,"flush failed, telemetry will not be collected: "+(0,oe.jj)(or),{exception:(0,de.eU)(or)})}}},Ye.onunloadFlush=function(){if(!qe)if((Ye._senderConfig[ct]()===!1||Ye[Ft][wt]()===!1)&&(0,de.MF)())try{Ye[Te](!0,Qi,2)}catch(Ue){(0,Me.kP)(Ye[at](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+(0,oe.jj)(Ue),{exception:(0,de.eU)(Ue)})}else Ye.flush()},Ye.addHeader=function(Ue,At){jt[Ue]=At},Ye.initialize=function(Ue,At,Ot,or){Ye.isInitialized()&&(0,Me.kP)(Ye[at](),1,28,"Sender is already initialized"),sn.initialize(Ue,At,Ot,or);var Cr=Ye._getTelCtx(),Br=Ye.identifier;Dt=new ho(At.logger),G=0,me=null,Re=0,Ye[Pt]=null,bt=0;var Mr=Ye[at]();Tn=(0,Sr.jU)((0,Nr.J)("Sender"),At.evtNamespace&&At.evtNamespace()),Fr=Zo(Tn);var Pn=go();(0,oe.rW)(Pn,function(Jn,An){Ye[Ft][Jn]=function(){var Oi=Cr.getConfig(Br,Jn,An());return!Oi&&Jn==="endpointUrl"&&(Oi=An()),Oi}});var gi=Ye[Ft][ur]()&&!!(Ye._senderConfig[Mi]()||Ei());Ye[De]=gi?new Xo(Mr,Ye[Ft]):new fo(Mr,Ye[Ft]),Ye._sample=new ts(Ye[Ft][Xe](),Mr),ss(Ue)||(0,Me.kP)(Mr,1,100,"Invalid Instrumentation key "+Ue[Ze]),!st(Ye._senderConfig.endpointUrl())&&Ye._senderConfig.customHeaders()&&Ye._senderConfig.customHeaders()[Zt]>0&&(0,oe.tO)(Ye[Ft][Ht](),function(Jn){M.addHeader(Jn.header,Jn.value)});var $n=Ye[Ft],Hn=null;!$n[er]()&&(0,de.cp)()?Hn=Eo:!$n[er]()&&(0,de.Z3)()&&(Hn=Ca),!Hn&&(0,de.JO)()&&(Hn=Ta),qr=Hn||Ca,!$n[wt]()&&(0,de.MF)()&&(Hn=oa),Ye[Pt]=Hn||Ca,!$n[Er]()&&(0,de.JO)(!0)?hr=zs:(0,de.MF)()?hr=oa:!$n[er]()&&(0,de.cp)()?hr=Eo:!$n[er]()&&(0,de.Z3)()?hr=Ca:hr=qr},Ye.processTelemetry=function(Ue,At){At=Ye._getTelCtx(At);var Ot=At[at]();try{if(Ye[Ft][xr]())return;if(!Ue){(0,Me.kP)(Ot,1,7,"Cannot send empty telemetry");return}if(Ue.baseData&&!Ue[Gr]){(0,Me.kP)(Ot,1,70,"Cannot send telemetry without baseData and baseType");return}if(Ue[Gr]||(Ue[Gr]="EventData"),!Ye[Pt]){(0,Me.kP)(Ot,1,28,"Sender was not initialized");return}if(Ir(Ue))Ue[E]=Ye._sample[Ci];else{(0,Me.kP)(Ot,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Ye._sample[Ci]});return}var or=Ye[Ft][Xi]()||void 0,Cr=Ue.iKey||Ye[Ft][Ze](),Br=C.constructEnvelope(Ue,Cr,Ot,or);if(!Br){(0,Me.kP)(Ot,1,47,"Unable to create an AppInsights envelope");return}var Mr=!1;if(Ue[xt]&&Ue[xt][R]&&((0,oe.tO)(Ue[xt][R],function(Hn){try{Hn&&Hn(Br)===!1&&(Mr=!0,(0,Me.jV)(Ot,"Telemetry processor check returns false"))}catch(Jn){(0,Me.kP)(Ot,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,oe.jj)(Jn),{exception:(0,de.eU)(Jn)},!0)}}),delete Ue[xt][R]),Mr)return;var Pn=Dt.serialize(Br),gi=Ye[De],$n=gi.size();$n+Pn[Zt]>Ye[Ft][hi]()&&(!Fr||Fr[yi]())&&Ye[Te](!0,null,10),gi[ci](Pn),Ka()}catch(Hn){(0,Me.kP)(Ot,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+(0,oe.jj)(Hn),{exception:(0,de.eU)(Hn)})}Ye.processNext(Ue,At)},Ye[Yi]=function(Ue,At,Ot){Ue.readyState===4&&dn(Ue.status,At,Ue.responseURL,Ot,Ra(Ue),ia(Ue)||Ue.response)},Ye[Te]=function(Ue,At,Ot){if(Ue===void 0&&(Ue=!0),!qe)try{var or=Ye[De];if(Ye[Ft][xr]())or[xi]();else{if(or[fi]()>0){var Cr=or.getItems();os(Ot||0,Ue),At?At.call(M,Cr,Ue):Ye[Pt](Cr,Ue)}Re=+new Date}wo()}catch(Mr){var Br=(0,de.sA)();(!Br||Br>9)&&(0,Me.kP)(Ye[at](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+(0,oe.jj)(Mr),{exception:(0,de.eU)(Mr)})}},Ye._doTeardown=function(Ue,At){Ye.onunloadFlush(),Fr.unload(),Ya()},Ye[an]=function(Ue,At,Ot){(0,Me.kP)(Ye[at](),2,26,"Failed to send telemetry.",{message:At}),Ye._buffer[oi](Ue)},Ye[di]=function(Ue,At){for(var Ot=[],or=[],Cr=At.errors.reverse(),Br=0,Mr=Cr;Br<Mr.length;Br++){var Pn=Mr[Br],gi=Ue.splice(Pn.index,1)[0];Aa(Pn.statusCode)?or[fn](gi):Ot[fn](gi)}Ue[Zt]>0&&Ye[Ui](Ue,At[da]),Ot[Zt]>0&&Ye[an](Ot,Ra(null,["partial success",At[da],"of",At.itemsReceived].join(" "))),or[Zt]>0&&(Da(or),(0,Me.kP)(Ye[at](),2,40,"Partial success. Delivered: "+Ue[Zt]+", Failed: "+Ot[Zt]+". Will retry to send "+or[Zt]+" our of "+At[Bs]+" items"))},Ye[Ui]=function(Ue,At){Ye._buffer[oi](Ue)},Ye._xdrOnLoad=function(Ue,At){var Ot=ia(Ue);if(Ue&&(Ot+""=="200"||Ot===""))G=0,Ye[Ui](At,0);else{var or=_o(Ot);or&&or.itemsReceived&&or.itemsReceived>or[da]&&!Ye[Ft][ga]()?Ye[di](At,or):Ye[an](At,Ia(Ue))}};function Ir(Ue){return Ye._sample.isSampledIn(Ue)}a(Ir,"_isSampledIn");function dn(Ue,At,Ot,or,Cr,Br){var Mr=null;if(Ye._appId||(Mr=_o(Br),Mr&&Mr.appId&&(Ye._appId=Mr.appId)),(Ue<200||Ue>=300)&&Ue!==0){if((Ue===301||Ue===307||Ue===308)&&!Dn(Ot)){Ye[an](At,Cr);return}!Ye[Ft][ga]()&&Aa(Ue)?(Da(At),(0,Me.kP)(Ye[at](),2,40,". Response code "+Ue+". Will retry to send "+At[Zt]+" items.")):Ye[an](At,Cr)}else if(Fr&&!Fr[yi]()){if(!Ye[Ft][ga]()){var Pn=10;Da(At,Pn),(0,Me.kP)(Ye[at](),2,40,". Offline - Response Code: ".concat(Ue,". Offline status: ").concat(!Fr.isOnline(),". Will retry to send ").concat(At.length," items."))}}else Dn(Ot),Ue===206?(Mr||(Mr=_o(Br)),Mr&&!Ye[Ft][ga]()?Ye[di](At,Mr):Ye[an](At,Cr)):(G=0,Ye[Ui](At,or))}a(dn,"_checkResponsStatus");function Dn(Ue){return bt>=10?!1:!(0,oe.le)(Ue)&&Ue!==""&&Ue!==Ye[Ft][mt]()?(Ye[Ft][mt]=function(){return Ue},++bt,!0):!1}a(Dn,"_checkAndUpdateEndPointUrl");function Qi(Ue,At){hr?hr(Ue,!1):oa(Ue,At)}a(Qi,"_doUnloadSend");function _a(Ue){var At=(0,de.jW)(),Ot=Ye[De],or=Ye[Ft][mt](),Cr=Ye._buffer[ai](Ue),Br=new Blob([Cr],{type:"text/plain;charset=UTF-8"}),Mr=At.sendBeacon(or,Br);return Mr&&(Ot[Bn](Ue),Ye._onSuccess(Ue,Ue[Zt])),Mr}a(_a,"_doBeaconSend");function oa(Ue,At){if((0,oe.kJ)(Ue)&&Ue[Zt]>0&&!_a(Ue)){for(var Ot=[],or=0;or<Ue[Zt];or++){var Cr=Ue[or];_a([Cr])||Ot[fn](Cr)}Ot[Zt]>0&&(qr&&qr(Ot,!0),(0,Me.kP)(Ye[at](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}a(oa,"_beaconSender");function Ca(Ue,At){var Ot=new XMLHttpRequest,or=Ye[Ft][mt]();try{Ot[w]=!0}catch(Br){}Ot.open("POST",or,At),Ot[oo]("Content-type","application/json"),st(or)&&Ot[oo](pn[6],pn[7]),(0,oe.tO)((0,oe.FY)(jt),function(Br){Ot[oo](Br,jt[Br])}),Ot.onreadystatechange=function(){return Ye._xhrReadyStateChange(Ot,Ue,Ue[Zt])},Ot.onerror=function(Br){return Ye[an](Ue,Ra(Ot),Br)};var Cr=Ye._buffer[ai](Ue);Ot.send(Cr),Ye._buffer[Bn](Ue)}a(Ca,"_xhrSender");function zs(Ue,At){if((0,oe.kJ)(Ue)){for(var Ot=Ue[Zt],or=0;or<Ue[Zt];or++)Ot+=Ue[or][Zt];fr+Ot<=rs?yo(Ue,!1):(0,de.MF)()?oa(Ue,At):(qr&&qr(Ue,!0),(0,Me.kP)(Ye[at](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}a(zs,"_fetchKeepAliveSender");function Ta(Ue,At){yo(Ue,!0)}a(Ta,"_fetchSender");function yo(Ue,At){var Ot,or=Ye[Ft][mt](),Cr=Ye._buffer[ai](Ue),Br=new Blob([Cr],{type:"application/json"}),Mr=new Headers,Pn=Cr[Zt],gi=!1,$n=!1;st(or)&&Mr.append(pn[6],pn[7]),(0,oe.tO)((0,oe.FY)(jt),function(An){Mr.append(An,jt[An])});var Hn=(Ot={method:"POST",headers:Mr,body:Br},Ot[w]=!0,Ot);At||(Hn.keepalive=!0,gi=!0,fr+=Pn);var Jn=new Request(or,Hn);try{Jn[w]=!0}catch(An){}Ye._buffer[Bn](Ue);try{fetch(Jn).then(function(An){At||(fr-=Pn,Pn=0),$n||($n=!0,An.ok?An.text().then(function(Oi){dn(An.status,Ue,An.url,Ue[Zt],An.statusText,Oi)}):Ye[an](Ue,An.statusText))}).catch(function(An){At||(fr-=Pn,Pn=0),$n||($n=!0,Ye[an](Ue,An.message))})}catch(An){$n||Ye[an](Ue,(0,de.eU)(An))}gi&&!$n&&($n=!0,Ye._onSuccess(Ue,Ue[Zt]))}a(yo,"_doFetchSender");function _o(Ue){try{if(Ue&&Ue!==""){var At=(0,de.xA)().parse(Ue);if(At&&At.itemsReceived&&At.itemsReceived>=At[da]&&At.itemsReceived-At.itemsAccepted===At.errors[Zt])return At}}catch(Ot){(0,Me.kP)(Ye[at](),1,43,"Cannot parse the response. "+(0,oe.jj)(Ot),{response:Ue})}return null}a(_o,"_parseResponse");function Da(Ue,At){if(At===void 0&&(At=1),!(!Ue||Ue[Zt]===0)){var Ot=Ye[De];Ot[oi](Ue),G++;for(var or=0,Cr=Ue;or<Cr.length;or++){var Br=Cr[or];Ot[ci](Br)}js(At),Ka()}}a(Da,"_resendPayload");function js(Ue){var At=10,Ot;if(G<=1)Ot=At;else{var or=(Math.pow(2,G)-1)/2,Cr=Math.floor(Math.random()*or*At)+1;Cr=Ue*Cr,Ot=Math.max(Math.min(Cr,3600),At)}var Br=(0,oe.m6)()+Ot*1e3;me=Br}a(js,"_setRetryTime");function Ka(){if(!tt&&!qe){var Ue=me?Math.max(0,me-(0,oe.m6)()):0,At=Math.max(Ye[Ft][ba](),Ue);tt=setTimeout(function(){tt=null,Ye[Te](!0,null,1)},At)}}a(Ka,"_setupTimer");function wo(){clearTimeout(tt),tt=null,me=null}a(wo,"_clearScheduledTimer");function Aa(Ue){return Ue===401||Ue===403||Ue===408||Ue===429||Ue===500||Ue===502||Ue===503||Ue===504}a(Aa,"_isRetriable");function Ra(Ue,At){return Ue?"XMLHttpRequest,Status:"+Ue.status+",Response:"+ia(Ue)||0||0:At}a(Ra,"_formatErrorMessageXhr");function Eo(Ue,At){var Ot=Ye[De],or=(0,de.Jj)(),Cr=new XDomainRequest;Cr.onload=function(){return Ye._xdrOnLoad(Cr,Ue)},Cr.onerror=function(gi){return Ye[an](Ue,Ia(Cr),gi)};var Br=or&&or.location&&or.location.protocol||"";if(Ye[Ft][mt]().lastIndexOf(Br,0)!==0){(0,Me.kP)(Ye[at](),2,40,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),Ot[xi]();return}var Mr=Ye[Ft][mt]().replace(/^(https?:)/,"");Cr.open("POST",Mr);var Pn=Ot[ai](Ue);Cr.send(Pn),Ot[Bn](Ue)}a(Eo,"_xdrSender");function Ia(Ue,At){return Ue?"XDomainRequest,Response:"+ia(Ue)||0:At}a(Ia,"_formatErrorMessageXdr");function Ga(){var Ue="getNotifyMgr";return Ye.core[Ue]?Ye.core[Ue]():Ye.core._notificationManager}a(Ga,"_getNotifyMgr");function os(Ue,At){var Ot=Ga();if(Ot&&Ot[ea])try{Ot[ea](Ue,At)}catch(or){(0,Me.kP)(Ye[at](),1,74,"send request notification failed: "+(0,oe.jj)(or),{exception:(0,de.eU)(or)})}}a(os,"_notifySendRequest");function ss(Ue){var At=(0,oe.le)(Ue[Ba])?!1:Ue[Ba];if(At)return!0;var Ot="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",or=new RegExp(Ot);return or.test(Ue[Ze])}a(ss,"_validateInstrumentationKey");function Ya(){Ye[Pt]=null,Ye[De]=null,Ye._appId=null,Ye._sample=null,jt={},Fr=null,G=0,me=null,Re=null,qe=!1,tt=null,Dt=null,bt=0,fr=0,qr=null,hr=null,Tn=null}a(Ya,"_initDefaults")}),M}return a(C,"Sender"),C.constructEnvelope=function(M,G,me,Re){var qe;G!==M.iKey&&!(0,oe.le)(G)?qe=(0,p.uc)((0,p.uc)({},M),{iKey:G}):qe=M;var tt=po[qe.baseType]||Ha;return tt(me,qe,Re)},C}(Bt.i),ns=";",Ti="=";function mo(O){if(!O)return{};var C=O[x](ns),M=(0,oe.Xz)(C,function(me,Re){var qe=Re[x](Ti);if(qe[P]===2){var tt=qe[0][F](),Dt=qe[1];me[tt]=Dt}return me},{});if((0,oe.FY)(M)[P]>0){if(M.endpointsuffix){var G=M.location?M.location+".":"";M[Y]=M[Y]||"https://"+G+"dc."+M.endpointsuffix}M[Y]=M[Y]||_}return M}a(mo,"parseConnectionString");var Ws={parse:mo},za=S(5121),ya="instrumentationKey",ja="connectionString",aa="diagnosticLogInterval",xa=S(7310),is=(0,Qr.By)({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),as=function(){function O(C){var M=new za.F;((0,oe.le)(C)||(0,oe.le)(C[ya])&&(0,oe.le)(C[ja]))&&(0,oe._y)("Invalid input configuration"),(0,v.Z)(O,this,function(G){if(C[ja]){var me=mo(C[ja]),Re=me.ingestionendpoint;C.endpointUrl=Re?Re+h:C.endpointUrl,C[ya]=me.instrumentationkey||C[ya]}G.config=C,qe(),G.initialize=qe,G.getSKUDefaults=function(){G.config[aa]=G.config[aa]&&G.config[aa]>0?G.config[aa]:1e4},G.getSKUDefaults(),(0,oe.Vb)(G,M,["track","flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb"]);function qe(){M.initialize(G.config,[new vo]),M.pollInternalLogs()}a(qe,"_initialize")})}return a(O,"ApplicationInsights"),O.__ieDyn=1,O}()},1679:(ge,l,S)=>{"use strict";S.d(l,{Z:()=>ot});/*!
 * Microsoft Dynamic Proto Utility, 1.1.9
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */var v,p="undefined",w="constructor",E="prototype",R="function",D="_dynInstFuncs",_="_isDynProxy",h="_dynClass",b="_dynCls$",y="_dynInstChk",x=y,P="_dfOpts",F="_unknown_",Y="__proto__",Q="_dyn"+Y,fe="__dynProto$Gbl",L="_dynInstProto",H="useBaseInst",U="setInstFuncs",I=Object,k=I.getPrototypeOf,B=I.getOwnPropertyNames;function ee(){var K;return typeof globalThis!==p&&(K=globalThis),!K&&typeof self!==p&&(K=self),!K&&typeof window!==p&&(K=window),!K&&typeof S.g!==p&&(K=S.g),K||{}}a(ee,"_getGlobal");var V=ee(),te=V[fe]||(V[fe]={o:(v={},v[U]=!0,v[H]=!0,v),n:1e3});function he(K,X){return K&&I[E].hasOwnProperty.call(K,X)}a(he,"_hasOwnProperty");function be(K){return K&&(K===I[E]||K===Array[E])}a(be,"_isObjectOrArrayPrototype");function re(K){return be(K)||K===Function[E]}a(re,"_isObjectArrayOrFunctionPrototype");function ye(K){var X;if(K){if(k)return k(K);var ae=K[Y]||K[E]||(K[w]?K[w][E]:null);X=K[Q]||ae,he(K,Q)||(delete K[L],X=K[Q]=K[L]||K[Q],K[L]=ae)}return X}a(ye,"_getObjProto");function z(K,X){var ae=[];if(B)ae=B(K);else for(var we in K)typeof we=="string"&&he(K,we)&&ae.push(we);if(ae&&ae.length>0)for(var ke=0;ke<ae.length;ke++)X(ae[ke])}a(z,"_forEachProp");function We(K,X,ae){return X!==w&&typeof K[X]===R&&(ae||he(K,X))}a(We,"_isDynamicCandidate");function ve(K){throw new TypeError("DynamicProto: "+K)}a(ve,"_throwTypeError");function ue(K){var X={};return z(K,function(ae){!X[ae]&&We(K,ae,!1)&&(X[ae]=K[ae])}),X}a(ue,"_getInstanceFuncs");function J(K,X){for(var ae=K.length-1;ae>=0;ae--)if(K[ae]===X)return!0;return!1}a(J,"_hasVisited");function pe(K,X,ae,we){function ke(Le,et,Ne){var He=et[Ne];if(He[_]&&we){var oe=Le[D]||{};oe[x]!==!1&&(He=(oe[et[h]]||{})[Ne]||He)}return function(){return He.apply(Le,arguments)}}a(ke,"_instFuncProxy");var Be={};z(ae,function(Le){Be[Le]=ke(X,ae,Le)});for(var _e=ye(K),Ie=[];_e&&!re(_e)&&!J(Ie,_e);)z(_e,function(Le){!Be[Le]&&We(_e,Le,!k)&&(Be[Le]=ke(X,_e,Le))}),Ie.push(_e),_e=ye(_e);return Be}a(pe,"_getBaseFuncs");function Fe(K,X,ae,we){var ke=null;if(K&&he(ae,h)){var Be=K[D]||{};if(ke=(Be[ae[h]]||{})[X],ke||ve("Missing ["+X+"] "+R),!ke[y]&&Be[x]!==!1){for(var _e=!he(K,X),Ie=ye(K),Le=[];_e&&Ie&&!re(Ie)&&!J(Le,Ie);){var et=Ie[X];if(et){_e=et===we;break}Le.push(Ie),Ie=ye(Ie)}try{_e&&(K[X]=ke),ke[y]=1}catch(Ne){Be[x]=!1}}}return ke}a(Fe,"_getInstFunc");function je(K,X,ae){var we=X[K];return we===ae&&(we=ye(X)[K]),typeof we!==R&&ve("["+K+"] is not a "+R),we}a(je,"_getProtoFunc");function ne(K,X,ae,we,ke){function Be(Le,et){var Ne=a(function(){var He=Fe(this,et,Le,Ne)||je(et,Le,Ne);return He.apply(this,arguments)},"dynProtoProxy");return Ne[_]=1,Ne}if(a(Be,"_createDynamicPrototype"),!be(K)){var _e=ae[D]=ae[D]||{},Ie=_e[X]=_e[X]||{};_e[x]!==!1&&(_e[x]=!!ke),z(ae,function(Le){We(ae,Le,!1)&&ae[Le]!==we[Le]&&(Ie[Le]=ae[Le],delete ae[Le],(!he(K,Le)||K[Le]&&!K[Le][_])&&(K[Le]=Be(K,Le)))})}}a(ne,"_populatePrototype");function Ke(K,X){if(k){for(var ae=[],we=ye(X);we&&!re(we)&&!J(ae,we);){if(we===K)return!0;ae.push(we),we=ye(we)}return!1}return!0}a(Ke,"_checkPrototype");function rt(K,X){return he(K,E)?K.name||X||F:((K||{})[w]||{}).name||X||F}a(rt,"_getObjName");function ot(K,X,ae,we){he(K,E)||ve("theClass is an invalid class definition.");var ke=K[E];Ke(ke,X)||ve("["+rt(K)+"] not in hierarchy of ["+rt(X)+"]");var Be=null;he(ke,h)?Be=ke[h]:(Be=b+rt(K,"_")+"$"+te.n,te.n++,ke[h]=Be);var _e=ot[P],Ie=!!_e[H];Ie&&we&&we[H]!==void 0&&(Ie=!!we[H]);var Le=ue(X),et=pe(ke,X,Le,Ie);ae(X,et);var Ne=!!k&&!!_e[U];Ne&&we&&(Ne=!!we[U]),ne(ke,Be,X,Le,Ne!==!1)}a(ot,"dynamicProto"),ot[P]=te.o},6232:(ge,l,S)=>{"use strict";const v=S(8641),p=S(8692),w=S(1474),E=S(5870),R=a((D,_={})=>{let h=[];if(Array.isArray(D))for(const b of D){const y=R.create(b,_);Array.isArray(y)?h.push(...y):h.push(y)}else h=[].concat(R.create(D,_));return _&&_.expand===!0&&_.nodupes===!0&&(h=[...new Set(h)]),h},"braces");R.parse=(D,_={})=>E(D,_),R.stringify=(D,_={})=>v(typeof D=="string"?R.parse(D,_):D,_),R.compile=(D,_={})=>(typeof D=="string"&&(D=R.parse(D,_)),p(D,_)),R.expand=(D,_={})=>{typeof D=="string"&&(D=R.parse(D,_));let h=w(D,_);return _.noempty===!0&&(h=h.filter(Boolean)),_.nodupes===!0&&(h=[...new Set(h)]),h},R.create=(D,_={})=>D===""||D.length<3?[D]:_.expand!==!0?R.compile(D,_):R.expand(D,_),ge.exports=R},8692:(ge,l,S)=>{"use strict";const v=S(1516),p=S(3596),w=a((E,R={})=>{const D=a((_,h={})=>{const b=p.isInvalidBrace(h),y=_.invalid===!0&&R.escapeInvalid===!0,x=b===!0||y===!0,P=R.escapeInvalid===!0?"\\":"";let F="";if(_.isOpen===!0)return P+_.value;if(_.isClose===!0)return console.log("node.isClose",P,_.value),P+_.value;if(_.type==="open")return x?P+_.value:"(";if(_.type==="close")return x?P+_.value:")";if(_.type==="comma")return _.prev.type==="comma"?"":x?_.value:"|";if(_.value)return _.value;if(_.nodes&&_.ranges>0){const Y=p.reduce(_.nodes),Q=v(...Y,{...R,wrap:!1,toRegex:!0,strictZeros:!0});if(Q.length!==0)return Y.length>1&&Q.length>1?`(${Q})`:Q}if(_.nodes)for(const Y of _.nodes)F+=D(Y,_);return F},"walk");return D(E)},"compile");ge.exports=w},7007:ge=>{"use strict";ge.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}},1474:(ge,l,S)=>{"use strict";const v=S(1516),p=S(8641),w=S(3596),E=a((D="",_="",h=!1)=>{const b=[];if(D=[].concat(D),_=[].concat(_),!_.length)return D;if(!D.length)return h?w.flatten(_).map(y=>`{${y}}`):_;for(const y of D)if(Array.isArray(y))for(const x of y)b.push(E(x,_,h));else for(let x of _)h===!0&&typeof x=="string"&&(x=`{${x}}`),b.push(Array.isArray(x)?E(y,x,h):y+x);return w.flatten(b)},"append"),R=a((D,_={})=>{const h=_.rangeLimit===void 0?1e3:_.rangeLimit,b=a((y,x={})=>{y.queue=[];let P=x,F=x.queue;for(;P.type!=="brace"&&P.type!=="root"&&P.parent;)P=P.parent,F=P.queue;if(y.invalid||y.dollar){F.push(E(F.pop(),p(y,_)));return}if(y.type==="brace"&&y.invalid!==!0&&y.nodes.length===2){F.push(E(F.pop(),["{}"]));return}if(y.nodes&&y.ranges>0){const L=w.reduce(y.nodes);if(w.exceedsLimit(...L,_.step,h))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let H=v(...L,_);H.length===0&&(H=p(y,_)),F.push(E(F.pop(),H)),y.nodes=[];return}const Y=w.encloseBrace(y);let Q=y.queue,fe=y;for(;fe.type!=="brace"&&fe.type!=="root"&&fe.parent;)fe=fe.parent,Q=fe.queue;for(let L=0;L<y.nodes.length;L++){const H=y.nodes[L];if(H.type==="comma"&&y.type==="brace"){L===1&&Q.push(""),Q.push("");continue}if(H.type==="close"){F.push(E(F.pop(),Q,Y));continue}if(H.value&&H.type!=="open"){Q.push(E(Q.pop(),H.value));continue}H.nodes&&b(H,y)}return Q},"walk");return w.flatten(b(D))},"expand");ge.exports=R},5870:(ge,l,S)=>{"use strict";const v=S(8641),{MAX_LENGTH:p,CHAR_BACKSLASH:w,CHAR_BACKTICK:E,CHAR_COMMA:R,CHAR_DOT:D,CHAR_LEFT_PARENTHESES:_,CHAR_RIGHT_PARENTHESES:h,CHAR_LEFT_CURLY_BRACE:b,CHAR_RIGHT_CURLY_BRACE:y,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_RIGHT_SQUARE_BRACKET:P,CHAR_DOUBLE_QUOTE:F,CHAR_SINGLE_QUOTE:Y,CHAR_NO_BREAK_SPACE:Q,CHAR_ZERO_WIDTH_NOBREAK_SPACE:fe}=S(7007),L=a((H,U={})=>{if(typeof H!="string")throw new TypeError("Expected a string");const I=U||{},k=typeof I.maxLength=="number"?Math.min(p,I.maxLength):p;if(H.length>k)throw new SyntaxError(`Input length (${H.length}), exceeds max characters (${k})`);const B={type:"root",input:H,nodes:[]},ee=[B];let V=B,te=B,he=0;const be=H.length;let re=0,ye=0,z;const We=a(()=>H[re++],"advance"),ve=a(ue=>{if(ue.type==="text"&&te.type==="dot"&&(te.type="text"),te&&te.type==="text"&&ue.type==="text"){te.value+=ue.value;return}return V.nodes.push(ue),ue.parent=V,ue.prev=te,te=ue,ue},"push");for(ve({type:"bos"});re<be;)if(V=ee[ee.length-1],z=We(),!(z===fe||z===Q)){if(z===w){ve({type:"text",value:(U.keepEscaping?z:"")+We()});continue}if(z===P){ve({type:"text",value:"\\"+z});continue}if(z===x){he++;let ue;for(;re<be&&(ue=We());){if(z+=ue,ue===x){he++;continue}if(ue===w){z+=We();continue}if(ue===P&&(he--,he===0))break}ve({type:"text",value:z});continue}if(z===_){V=ve({type:"paren",nodes:[]}),ee.push(V),ve({type:"text",value:z});continue}if(z===h){if(V.type!=="paren"){ve({type:"text",value:z});continue}V=ee.pop(),ve({type:"text",value:z}),V=ee[ee.length-1];continue}if(z===F||z===Y||z===E){const ue=z;let J;for(U.keepQuotes!==!0&&(z="");re<be&&(J=We());){if(J===w){z+=J+We();continue}if(J===ue){U.keepQuotes===!0&&(z+=J);break}z+=J}ve({type:"text",value:z});continue}if(z===b){ye++;const ue=te.value&&te.value.slice(-1)==="$"||V.dollar===!0;V=ve({type:"brace",open:!0,close:!1,dollar:ue,depth:ye,commas:0,ranges:0,nodes:[]}),ee.push(V),ve({type:"open",value:z});continue}if(z===y){if(V.type!=="brace"){ve({type:"text",value:z});continue}const ue="close";V=ee.pop(),V.close=!0,ve({type:ue,value:z}),ye--,V=ee[ee.length-1];continue}if(z===R&&ye>0){if(V.ranges>0){V.ranges=0;const ue=V.nodes.shift();V.nodes=[ue,{type:"text",value:v(V)}]}ve({type:"comma",value:z}),V.commas++;continue}if(z===D&&ye>0&&V.commas===0){const ue=V.nodes;if(ye===0||ue.length===0){ve({type:"text",value:z});continue}if(te.type==="dot"){if(V.range=[],te.value+=z,te.type="range",V.nodes.length!==3&&V.nodes.length!==5){V.invalid=!0,V.ranges=0,te.type="text";continue}V.ranges++,V.args=[];continue}if(te.type==="range"){ue.pop();const J=ue[ue.length-1];J.value+=te.value+z,te=J,V.ranges--;continue}ve({type:"dot",value:z});continue}ve({type:"text",value:z})}do if(V=ee.pop(),V.type!=="root"){V.nodes.forEach(pe=>{pe.nodes||(pe.type==="open"&&(pe.isOpen=!0),pe.type==="close"&&(pe.isClose=!0),pe.nodes||(pe.type="text"),pe.invalid=!0)});const ue=ee[ee.length-1],J=ue.nodes.indexOf(V);ue.nodes.splice(J,1,...V.nodes)}while(ee.length>0);return ve({type:"eos"}),B},"parse");ge.exports=L},8641:(ge,l,S)=>{"use strict";const v=S(3596);ge.exports=(p,w={})=>{const E=a((R,D={})=>{const _=w.escapeInvalid&&v.isInvalidBrace(D),h=R.invalid===!0&&w.escapeInvalid===!0;let b="";if(R.value)return(_||h)&&v.isOpenOrClose(R)?"\\"+R.value:R.value;if(R.value)return R.value;if(R.nodes)for(const y of R.nodes)b+=E(y);return b},"stringify");return E(p)}},3596:(ge,l)=>{"use strict";l.isInteger=S=>typeof S=="number"?Number.isInteger(S):typeof S=="string"&&S.trim()!==""?Number.isInteger(Number(S)):!1,l.find=(S,v)=>S.nodes.find(p=>p.type===v),l.exceedsLimit=(S,v,p=1,w)=>w===!1||!l.isInteger(S)||!l.isInteger(v)?!1:(Number(v)-Number(S))/Number(p)>=w,l.escapeNode=(S,v=0,p)=>{const w=S.nodes[v];!w||(p&&w.type===p||w.type==="open"||w.type==="close")&&w.escaped!==!0&&(w.value="\\"+w.value,w.escaped=!0)},l.encloseBrace=S=>S.type!=="brace"?!1:S.commas>>0+S.ranges>>0==0?(S.invalid=!0,!0):!1,l.isInvalidBrace=S=>S.type!=="brace"?!1:S.invalid===!0||S.dollar?!0:S.commas>>0+S.ranges>>0==0||S.open!==!0||S.close!==!0?(S.invalid=!0,!0):!1,l.isOpenOrClose=S=>S.type==="open"||S.type==="close"?!0:S.open===!0||S.close===!0,l.reduce=S=>S.reduce((v,p)=>(p.type==="text"&&v.push(p.value),p.type==="range"&&(p.type="text"),v),[]),l.flatten=(...S)=>{const v=[],p=a(w=>{for(let E=0;E<w.length;E++){const R=w[E];if(Array.isArray(R)){p(R);continue}R!==void 0&&v.push(R)}return v},"flat");return p(S),v}},1516:(ge,l,S)=>{"use strict";/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */const v=S(6529),p=S(2999),w=a(I=>I!==null&&typeof I=="object"&&!Array.isArray(I),"isObject"),E=a(I=>k=>I===!0?Number(k):String(k),"transform"),R=a(I=>typeof I=="number"||typeof I=="string"&&I!=="","isValidValue"),D=a(I=>Number.isInteger(+I),"isNumber"),_=a(I=>{let k=`${I}`,B=-1;if(k[0]==="-"&&(k=k.slice(1)),k==="0")return!1;for(;k[++B]==="0";);return B>0},"zeros"),h=a((I,k,B)=>typeof I=="string"||typeof k=="string"?!0:B.stringify===!0,"stringify"),b=a((I,k,B)=>{if(k>0){let ee=I[0]==="-"?"-":"";ee&&(I=I.slice(1)),I=ee+I.padStart(ee?k-1:k,"0")}return B===!1?String(I):I},"pad"),y=a((I,k)=>{let B=I[0]==="-"?"-":"";for(B&&(I=I.slice(1),k--);I.length<k;)I="0"+I;return B?"-"+I:I},"toMaxLen"),x=a((I,k,B)=>{I.negatives.sort((be,re)=>be<re?-1:be>re?1:0),I.positives.sort((be,re)=>be<re?-1:be>re?1:0);let ee=k.capture?"":"?:",V="",te="",he;return I.positives.length&&(V=I.positives.map(be=>y(String(be),B)).join("|")),I.negatives.length&&(te=`-(${ee}${I.negatives.map(be=>y(String(be),B)).join("|")})`),V&&te?he=`${V}|${te}`:he=V||te,k.wrap?`(${ee}${he})`:he},"toSequence"),P=a((I,k,B,ee)=>{if(B)return p(I,k,{wrap:!1,...ee});let V=String.fromCharCode(I);if(I===k)return V;let te=String.fromCharCode(k);return`[${V}-${te}]`},"toRange"),F=a((I,k,B)=>{if(Array.isArray(I)){let ee=B.wrap===!0,V=B.capture?"":"?:";return ee?`(${V}${I.join("|")})`:I.join("|")}return p(I,k,B)},"toRegex"),Y=a((...I)=>new RangeError("Invalid range arguments: "+v.inspect(...I)),"rangeError"),Q=a((I,k,B)=>{if(B.strictRanges===!0)throw Y([I,k]);return[]},"invalidRange"),fe=a((I,k)=>{if(k.strictRanges===!0)throw new TypeError(`Expected step "${I}" to be a number`);return[]},"invalidStep"),L=a((I,k,B=1,ee={})=>{let V=Number(I),te=Number(k);if(!Number.isInteger(V)||!Number.isInteger(te)){if(ee.strictRanges===!0)throw Y([I,k]);return[]}V===0&&(V=0),te===0&&(te=0);let he=V>te,be=String(I),re=String(k),ye=String(B);B=Math.max(Math.abs(B),1);let z=_(be)||_(re)||_(ye),We=z?Math.max(be.length,re.length,ye.length):0,ve=z===!1&&h(I,k,ee)===!1,ue=ee.transform||E(ve);if(ee.toRegex&&B===1)return P(y(I,We),y(k,We),!0,ee);let J={negatives:[],positives:[]},pe=a(ne=>J[ne<0?"negatives":"positives"].push(Math.abs(ne)),"push"),Fe=[],je=0;for(;he?V>=te:V<=te;)ee.toRegex===!0&&B>1?pe(V):Fe.push(b(ue(V,je),We,ve)),V=he?V-B:V+B,je++;return ee.toRegex===!0?B>1?x(J,ee,We):F(Fe,null,{wrap:!1,...ee}):Fe},"fillNumbers"),H=a((I,k,B=1,ee={})=>{if(!D(I)&&I.length>1||!D(k)&&k.length>1)return Q(I,k,ee);let V=ee.transform||(ve=>String.fromCharCode(ve)),te=`${I}`.charCodeAt(0),he=`${k}`.charCodeAt(0),be=te>he,re=Math.min(te,he),ye=Math.max(te,he);if(ee.toRegex&&B===1)return P(re,ye,!1,ee);let z=[],We=0;for(;be?te>=he:te<=he;)z.push(V(te,We)),te=be?te-B:te+B,We++;return ee.toRegex===!0?F(z,null,{wrap:!1,options:ee}):z},"fillLetters"),U=a((I,k,B,ee={})=>{if(k==null&&R(I))return[I];if(!R(I)||!R(k))return Q(I,k,ee);if(typeof B=="function")return U(I,k,1,{transform:B});if(w(B))return U(I,k,0,B);let V={...ee};return V.capture===!0&&(V.wrap=!0),B=B||V.step||1,D(B)?D(I)&&D(k)?L(I,k,B,V):H(I,k,Math.max(Math.abs(B),1),V):B!=null&&!w(B)?fe(B,V):U(I,k,1,B)},"fill");ge.exports=U},3338:ge=>{"use strict";/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */ge.exports=function(l){return typeof l=="number"?l-l==0:typeof l=="string"&&l.trim()!==""?Number.isFinite?Number.isFinite(+l):isFinite(+l):!1}},5179:(ge,l,S)=>{ge=S.nmd(ge);var v=200,p="__lodash_hash_undefined__",w=1,E=2,R=9007199254740991,D="[object Arguments]",_="[object Array]",h="[object AsyncFunction]",b="[object Boolean]",y="[object Date]",x="[object Error]",P="[object Function]",F="[object GeneratorFunction]",Y="[object Map]",Q="[object Number]",fe="[object Null]",L="[object Object]",H="[object Promise]",U="[object Proxy]",I="[object RegExp]",k="[object Set]",B="[object String]",ee="[object Symbol]",V="[object Undefined]",te="[object WeakMap]",he="[object ArrayBuffer]",be="[object DataView]",re="[object Float32Array]",ye="[object Float64Array]",z="[object Int8Array]",We="[object Int16Array]",ve="[object Int32Array]",ue="[object Uint8Array]",J="[object Uint8ClampedArray]",pe="[object Uint16Array]",Fe="[object Uint32Array]",je=/[\\^$.*+?()[\]{}|]/g,ne=/^\[object .+?Constructor\]$/,Ke=/^(?:0|[1-9]\d*)$/,rt={};rt[re]=rt[ye]=rt[z]=rt[We]=rt[ve]=rt[ue]=rt[J]=rt[pe]=rt[Fe]=!0,rt[D]=rt[_]=rt[he]=rt[b]=rt[be]=rt[y]=rt[x]=rt[P]=rt[Y]=rt[Q]=rt[L]=rt[I]=rt[k]=rt[B]=rt[te]=!1;var ot=typeof S.g=="object"&&S.g&&S.g.Object===Object&&S.g,K=typeof self=="object"&&self&&self.Object===Object&&self,X=ot||K||Function("return this")(),ae=l&&!l.nodeType&&l,we=ae&&!0&&ge&&!ge.nodeType&&ge,ke=we&&we.exports===ae,Be=ke&&ot.process,_e=function(){try{return Be&&Be.binding&&Be.binding("util")}catch(j){}}(),Ie=_e&&_e.isTypedArray;function Le(j,Z){for(var Qe=-1,ht=j==null?0:j.length,zt=0,$t=[];++Qe<ht;){var dr=j[Qe];Z(dr,Qe,j)&&($t[zt++]=dr)}return $t}a(Le,"arrayFilter");function et(j,Z){for(var Qe=-1,ht=Z.length,zt=j.length;++Qe<ht;)j[zt+Qe]=Z[Qe];return j}a(et,"arrayPush");function Ne(j,Z){for(var Qe=-1,ht=j==null?0:j.length;++Qe<ht;)if(Z(j[Qe],Qe,j))return!0;return!1}a(Ne,"arraySome");function He(j,Z){for(var Qe=-1,ht=Array(j);++Qe<j;)ht[Qe]=Z(Qe);return ht}a(He,"baseTimes");function oe(j){return function(Z){return j(Z)}}a(oe,"baseUnary");function Me(j,Z){return j.has(Z)}a(Me,"cacheHas");function de(j,Z){return j==null?void 0:j[Z]}a(de,"getValue");function ie(j){var Z=-1,Qe=Array(j.size);return j.forEach(function(ht,zt){Qe[++Z]=[zt,ht]}),Qe}a(ie,"mapToArray");function Je(j,Z){return function(Qe){return j(Z(Qe))}}a(Je,"overArg");function _t(j){var Z=-1,Qe=Array(j.size);return j.forEach(function(ht){Qe[++Z]=ht}),Qe}a(_t,"setToArray");var Yt=Array.prototype,Tr=Function.prototype,lr=Object.prototype,Vr=X["__core-js_shared__"],N=Tr.toString,d=lr.hasOwnProperty,m=function(){var j=/[^.]+$/.exec(Vr&&Vr.keys&&Vr.keys.IE_PROTO||"");return j?"Symbol(src)_1."+j:""}(),q=lr.toString,Ee=RegExp("^"+N.call(d).replace(je,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ce=ke?X.Buffer:void 0,Ce=X.Symbol,vt=X.Uint8Array,It=lr.propertyIsEnumerable,Mt=Yt.splice,Xt=Ce?Ce.toStringTag:void 0,rr=Object.getOwnPropertySymbols,mn=ce?ce.isBuffer:void 0,tn=Je(Object.keys,Object),Wr=mi(X,"DataView"),Ln=mi(X,"Map"),un=mi(X,"Promise"),rn=mi(X,"Set"),En=mi(X,"WeakMap"),kr=mi(Object,"create"),Yn=Wt(Wr),ln=Wt(Ln),qn=Wt(un),si=Wt(rn),ui=Wt(En),On=Ce?Ce.prototype:void 0,W=On?On.valueOf:void 0;function Se(j){var Z=-1,Qe=j==null?0:j.length;for(this.clear();++Z<Qe;){var ht=j[Z];this.set(ht[0],ht[1])}}a(Se,"Hash");function Pe(){this.__data__=kr?kr(null):{},this.size=0}a(Pe,"hashClear");function Ge(j){var Z=this.has(j)&&delete this.__data__[j];return this.size-=Z?1:0,Z}a(Ge,"hashDelete");function lt(j){var Z=this.__data__;if(kr){var Qe=Z[j];return Qe===p?void 0:Qe}return d.call(Z,j)?Z[j]:void 0}a(lt,"hashGet");function it(j){var Z=this.__data__;return kr?Z[j]!==void 0:d.call(Z,j)}a(it,"hashHas");function pt(j,Z){var Qe=this.__data__;return this.size+=this.has(j)?0:1,Qe[j]=kr&&Z===void 0?p:Z,this}a(pt,"hashSet"),Se.prototype.clear=Pe,Se.prototype.delete=Ge,Se.prototype.get=lt,Se.prototype.has=it,Se.prototype.set=pt;function Rt(j){var Z=-1,Qe=j==null?0:j.length;for(this.clear();++Z<Qe;){var ht=j[Z];this.set(ht[0],ht[1])}}a(Rt,"ListCache");function Nt(){this.__data__=[],this.size=0}a(Nt,"listCacheClear");function nr(j){var Z=this.__data__,Qe=bn(Z,j);if(Qe<0)return!1;var ht=Z.length-1;return Qe==ht?Z.pop():Mt.call(Z,Qe,1),--this.size,!0}a(nr,"listCacheDelete");function Tt(j){var Z=this.__data__,Qe=bn(Z,j);return Qe<0?void 0:Z[Qe][1]}a(Tt,"listCacheGet");function Vt(j){return bn(this.__data__,j)>-1}a(Vt,"listCacheHas");function kt(j,Z){var Qe=this.__data__,ht=bn(Qe,j);return ht<0?(++this.size,Qe.push([j,Z])):Qe[ht][1]=Z,this}a(kt,"listCacheSet"),Rt.prototype.clear=Nt,Rt.prototype.delete=nr,Rt.prototype.get=Tt,Rt.prototype.has=Vt,Rt.prototype.set=kt;function Ut(j){var Z=-1,Qe=j==null?0:j.length;for(this.clear();++Z<Qe;){var ht=j[Z];this.set(ht[0],ht[1])}}a(Ut,"MapCache");function Lt(){this.size=0,this.__data__={hash:new Se,map:new(Ln||Rt),string:new Se}}a(Lt,"mapCacheClear");function zr(j){var Z=Nn(this,j).delete(j);return this.size-=Z?1:0,Z}a(zr,"mapCacheDelete");function Sr(j){return Nn(this,j).get(j)}a(Sr,"mapCacheGet");function Sn(j){return Nn(this,j).has(j)}a(Sn,"mapCacheHas");function Qr(j,Z){var Qe=Nn(this,j),ht=Qe.size;return Qe.set(j,Z),this.size+=Qe.size==ht?0:1,this}a(Qr,"mapCacheSet"),Ut.prototype.clear=Lt,Ut.prototype.delete=zr,Ut.prototype.get=Sr,Ut.prototype.has=Sn,Ut.prototype.set=Qr;function pn(j){var Z=-1,Qe=j==null?0:j.length;for(this.__data__=new Ut;++Z<Qe;)this.add(j[Z])}a(pn,"SetCache");function Wn(j){return this.__data__.set(j,p),this}a(Wn,"setCacheAdd");function zn(j){return this.__data__.has(j)}a(zn,"setCacheHas"),pn.prototype.add=pn.prototype.push=Wn,pn.prototype.has=zn;function cn(j){var Z=this.__data__=new Rt(j);this.size=Z.size}a(cn,"Stack");function vn(){this.__data__=new Rt,this.size=0}a(vn,"stackClear");function Qt(j){var Z=this.__data__,Qe=Z.delete(j);return this.size=Z.size,Qe}a(Qt,"stackDelete");function jr(j){return this.__data__.get(j)}a(jr,"stackGet");function Ur(j){return this.__data__.has(j)}a(Ur,"stackHas");function Dr(j,Z){var Qe=this.__data__;if(Qe instanceof Rt){var ht=Qe.__data__;if(!Ln||ht.length<v-1)return ht.push([j,Z]),this.size=++Qe.size,this;Qe=this.__data__=new Ut(ht)}return Qe.set(j,Z),this.size=Qe.size,this}a(Dr,"stackSet"),cn.prototype.clear=vn,cn.prototype.delete=Qt,cn.prototype.get=jr,cn.prototype.has=Ur,cn.prototype.set=Dr;function Yr(j,Z){var Qe=tr(j),ht=!Qe&&Et(j),zt=!Qe&&!ht&&yr(j),$t=!Qe&&!ht&&!zt&&Bt(j),dr=Qe||ht||zt||$t,vr=dr?He(j.length,String):[],ar=vr.length;for(var gr in j)(Z||d.call(j,gr))&&!(dr&&(gr=="length"||zt&&(gr=="offset"||gr=="parent")||$t&&(gr=="buffer"||gr=="byteLength"||gr=="byteOffset")||Ri(gr,ar)))&&vr.push(gr);return vr}a(Yr,"arrayLikeKeys");function bn(j,Z){for(var Qe=j.length;Qe--;)if(Jt(j[Qe][0],Z))return Qe;return-1}a(bn,"assocIndexOf");function Fn(j,Z,Qe){var ht=Z(j);return tr(j)?ht:et(ht,Qe(j))}a(Fn,"baseGetAllKeys");function Vn(j){return j==null?j===void 0?V:fe:Xt&&Xt in Object(j)?Gi(j):ft(j)}a(Vn,"baseGetTag");function wi(j){return Nr(j)&&Vn(j)==D}a(wi,"baseIsArguments");function ji(j,Z,Qe,ht,zt){return j===Z?!0:j==null||Z==null||!Nr(j)&&!Nr(Z)?j!==j&&Z!==Z:Ei(j,Z,Qe,ht,ji,zt)}a(ji,"baseIsEqual");function Ei(j,Z,Qe,ht,zt,$t){var dr=tr(j),vr=tr(Z),ar=dr?_:ni(j),gr=vr?_:ni(Z);ar=ar==D?L:ar,gr=gr==D?L:gr;var cr=ar==L,qt=gr==L,xt=ar==gr;if(xt&&yr(j)){if(!yr(Z))return!1;dr=!0,cr=!1}if(xt&&!cr)return $t||($t=new cn),dr||Bt(j)?Zi(j,Z,Qe,ht,zt,$t):xn(j,Z,ar,Qe,ht,zt,$t);if(!(Qe&w)){var Ar=cr&&d.call(j,"__wrapped__"),Rr=qt&&d.call(Z,"__wrapped__");if(Ar||Rr){var Lr=Ar?j.value():j,Zr=Rr?Z.value():Z;return $t||($t=new cn),zt(Lr,Zr,Qe,ht,$t)}}return xt?($t||($t=new cn),Si(j,Z,Qe,ht,zt,$t)):!1}a(Ei,"baseIsEqualDeep");function ha(j){if(!yn(j)||st(j))return!1;var Z=Jr(j)?Ee:ne;return Z.test(Wt(j))}a(ha,"baseIsNative");function dt(j){return Nr(j)&&Kr(j.length)&&!!rt[Vn(j)]}a(dt,"baseIsTypedArray");function Ki(j){if(!St(j))return tn(j);var Z=[];for(var Qe in Object(j))d.call(j,Qe)&&Qe!="constructor"&&Z.push(Qe);return Z}a(Ki,"baseKeys");function Zi(j,Z,Qe,ht,zt,$t){var dr=Qe&w,vr=j.length,ar=Z.length;if(vr!=ar&&!(dr&&ar>vr))return!1;var gr=$t.get(j);if(gr&&$t.get(Z))return gr==Z;var cr=-1,qt=!0,xt=Qe&E?new pn:void 0;for($t.set(j,Z),$t.set(Z,j);++cr<vr;){var Ar=j[cr],Rr=Z[cr];if(ht)var Lr=dr?ht(Rr,Ar,cr,Z,j,$t):ht(Ar,Rr,cr,j,Z,$t);if(Lr!==void 0){if(Lr)continue;qt=!1;break}if(xt){if(!Ne(Z,function(Zr,Zt){if(!Me(xt,Zt)&&(Ar===Zr||zt(Ar,Zr,Qe,ht,$t)))return xt.push(Zt)})){qt=!1;break}}else if(!(Ar===Rr||zt(Ar,Rr,Qe,ht,$t))){qt=!1;break}}return $t.delete(j),$t.delete(Z),qt}a(Zi,"equalArrays");function xn(j,Z,Qe,ht,zt,$t,dr){switch(Qe){case be:if(j.byteLength!=Z.byteLength||j.byteOffset!=Z.byteOffset)return!1;j=j.buffer,Z=Z.buffer;case he:return!(j.byteLength!=Z.byteLength||!$t(new vt(j),new vt(Z)));case b:case y:case Q:return Jt(+j,+Z);case x:return j.name==Z.name&&j.message==Z.message;case I:case B:return j==Z+"";case Y:var vr=ie;case k:var ar=ht&w;if(vr||(vr=_t),j.size!=Z.size&&!ar)return!1;var gr=dr.get(j);if(gr)return gr==Z;ht|=E,dr.set(j,Z);var cr=Zi(vr(j),vr(Z),ht,zt,$t,dr);return dr.delete(j),cr;case ee:if(W)return W.call(j)==W.call(Z)}return!1}a(xn,"equalByTag");function Si(j,Z,Qe,ht,zt,$t){var dr=Qe&w,vr=li(j),ar=vr.length,gr=li(Z),cr=gr.length;if(ar!=cr&&!dr)return!1;for(var qt=ar;qt--;){var xt=vr[qt];if(!(dr?xt in Z:d.call(Z,xt)))return!1}var Ar=$t.get(j);if(Ar&&$t.get(Z))return Ar==Z;var Rr=!0;$t.set(j,Z),$t.set(Z,j);for(var Lr=dr;++qt<ar;){xt=vr[qt];var Zr=j[xt],Zt=Z[xt];if(ht)var Mn=dr?ht(Zt,Zr,xt,Z,j,$t):ht(Zr,Zt,xt,j,Z,$t);if(!(Mn===void 0?Zr===Zt||zt(Zr,Zt,Qe,ht,$t):Mn)){Rr=!1;break}Lr||(Lr=xt=="constructor")}if(Rr&&!Lr){var _n=j.constructor,Pr=Z.constructor;_n!=Pr&&"constructor"in j&&"constructor"in Z&&!(typeof _n=="function"&&_n instanceof _n&&typeof Pr=="function"&&Pr instanceof Pr)&&(Rr=!1)}return $t.delete(j),$t.delete(Z),Rr}a(Si,"equalObjects");function li(j){return Fn(j,ir,Sa)}a(li,"getAllKeys");function Nn(j,Z){var Qe=j.__data__;return ze(Z)?Qe[typeof Z=="string"?"string":"hash"]:Qe.map}a(Nn,"getMapData");function mi(j,Z){var Qe=de(j,Z);return ha(Qe)?Qe:void 0}a(mi,"getNative");function Gi(j){var Z=d.call(j,Xt),Qe=j[Xt];try{j[Xt]=void 0;var ht=!0}catch($t){}var zt=q.call(j);return ht&&(Z?j[Xt]=Qe:delete j[Xt]),zt}a(Gi,"getRawTag");var Sa=rr?function(j){return j==null?[]:(j=Object(j),Le(rr(j),function(Z){return It.call(j,Z)}))}:_r,ni=Vn;(Wr&&ni(new Wr(new ArrayBuffer(1)))!=be||Ln&&ni(new Ln)!=Y||un&&ni(un.resolve())!=H||rn&&ni(new rn)!=k||En&&ni(new En)!=te)&&(ni=a(function(j){var Z=Vn(j),Qe=Z==L?j.constructor:void 0,ht=Qe?Wt(Qe):"";if(ht)switch(ht){case Yn:return be;case ln:return Y;case qn:return H;case si:return k;case ui:return te}return Z},"getTag"));function Ri(j,Z){return Z=Z==null?R:Z,!!Z&&(typeof j=="number"||Ke.test(j))&&j>-1&&j%1==0&&j<Z}a(Ri,"isIndex");function ze(j){var Z=typeof j;return Z=="string"||Z=="number"||Z=="symbol"||Z=="boolean"?j!=="__proto__":j===null}a(ze,"isKeyable");function st(j){return!!m&&m in j}a(st,"isMasked");function St(j){var Z=j&&j.constructor,Qe=typeof Z=="function"&&Z.prototype||lr;return j===Qe}a(St,"isPrototype");function ft(j){return q.call(j)}a(ft,"objectToString");function Wt(j){if(j!=null){try{return N.call(j)}catch(Z){}try{return j+""}catch(Z){}}return""}a(Wt,"toSource");function Jt(j,Z){return j===Z||j!==j&&Z!==Z}a(Jt,"eq");var Et=wi(function(){return arguments}())?wi:function(j){return Nr(j)&&d.call(j,"callee")&&!It.call(j,"callee")},tr=Array.isArray;function Kt(j){return j!=null&&Kr(j.length)&&!Jr(j)}a(Kt,"isArrayLike");var yr=mn||wr;function br(j,Z){return ji(j,Z)}a(br,"isEqual");function Jr(j){if(!yn(j))return!1;var Z=Vn(j);return Z==P||Z==F||Z==h||Z==U}a(Jr,"isFunction");function Kr(j){return typeof j=="number"&&j>-1&&j%1==0&&j<=R}a(Kr,"isLength");function yn(j){var Z=typeof j;return j!=null&&(Z=="object"||Z=="function")}a(yn,"isObject");function Nr(j){return j!=null&&typeof j=="object"}a(Nr,"isObjectLike");var Bt=Ie?oe(Ie):dt;function ir(j){return Kt(j)?Yr(j):Ki(j)}a(ir,"keys");function _r(){return[]}a(_r,"stubArray");function wr(){return!1}a(wr,"stubFalse"),ge.exports=br},919:(ge,l,S)=>{"use strict";const v=S(6391),p=S(6232),w=S(6796),E=S(292),R=a(_=>_===""||_==="./","isEmptyString"),D=a((_,h,b)=>{h=[].concat(h),_=[].concat(_);let y=new Set,x=new Set,P=new Set,F=0,Y=a(L=>{P.add(L.output),b&&b.onResult&&b.onResult(L)},"onResult");for(let L=0;L<h.length;L++){let H=w(String(h[L]),{...b,onResult:Y},!0),U=H.state.negated||H.state.negatedExtglob;U&&F++;for(let I of _){let k=H(I,!0);!(U?!k.isMatch:k.isMatch)||(U?y.add(k.output):(y.delete(k.output),x.add(k.output)))}}let fe=(F===h.length?[...P]:[...x]).filter(L=>!y.has(L));if(b&&fe.length===0){if(b.failglob===!0)throw new Error(`No matches found for "${h.join(", ")}"`);if(b.nonull===!0||b.nullglob===!0)return b.unescape?h.map(L=>L.replace(/\\/g,"")):h}return fe},"micromatch");D.match=D,D.matcher=(_,h)=>w(_,h),D.isMatch=(_,h,b)=>w(h,b)(_),D.any=D.isMatch,D.not=(_,h,b={})=>{h=[].concat(h).map(String);let y=new Set,x=[],P=a(Y=>{b.onResult&&b.onResult(Y),x.push(Y.output)},"onResult"),F=new Set(D(_,h,{...b,onResult:P}));for(let Y of x)F.has(Y)||y.add(Y);return[...y]},D.contains=(_,h,b)=>{if(typeof _!="string")throw new TypeError(`Expected a string: "${v.inspect(_)}"`);if(Array.isArray(h))return h.some(y=>D.contains(_,y,b));if(typeof h=="string"){if(R(_)||R(h))return!1;if(_.includes(h)||_.startsWith("./")&&_.slice(2).includes(h))return!0}return D.isMatch(_,h,{...b,contains:!0})},D.matchKeys=(_,h,b)=>{if(!E.isObject(_))throw new TypeError("Expected the first argument to be an object");let y=D(Object.keys(_),h,b),x={};for(let P of y)x[P]=_[P];return x},D.some=(_,h,b)=>{let y=[].concat(_);for(let x of[].concat(h)){let P=w(String(x),b);if(y.some(F=>P(F)))return!0}return!1},D.every=(_,h,b)=>{let y=[].concat(_);for(let x of[].concat(h)){let P=w(String(x),b);if(!y.every(F=>P(F)))return!1}return!0},D.all=(_,h,b)=>{if(typeof _!="string")throw new TypeError(`Expected a string: "${v.inspect(_)}"`);return[].concat(h).every(y=>w(y,b)(_))},D.capture=(_,h,b)=>{let y=E.isWindows(b),P=w.makeRe(String(_),{...b,capture:!0}).exec(y?E.toPosixSlashes(h):h);if(P)return P.slice(1).map(F=>F===void 0?"":F)},D.makeRe=(..._)=>w.makeRe(..._),D.scan=(..._)=>w.scan(..._),D.parse=(_,h)=>{let b=[];for(let y of[].concat(_||[]))for(let x of p(String(y),h))b.push(w.parse(x,h));return b},D.braces=(_,h)=>{if(typeof _!="string")throw new TypeError("Expected a string");return h&&h.nobrace===!0||!/\{.*\}/.test(_)?[_]:p(_,h)},D.braceExpand=(_,h)=>{if(typeof _!="string")throw new TypeError("Expected a string");return D.braces(_,{...h,expand:!0})},ge.exports=D},6796:(ge,l,S)=>{"use strict";ge.exports=S(5761)},3889:(ge,l,S)=>{"use strict";const v=S(6470),p="\\\\/",w=`[^${p}]`,E="\\.",R="\\+",D="\\?",_="\\/",h="(?=.)",b="[^/]",y=`(?:${_}|$)`,x=`(?:^|${_})`,P=`${E}{1,2}${y}`,F=`(?!${E})`,Y=`(?!${x}${P})`,Q=`(?!${E}{0,1}${y})`,fe=`(?!${P})`,L=`[^.${_}]`,H=`${b}*?`,U={DOT_LITERAL:E,PLUS_LITERAL:R,QMARK_LITERAL:D,SLASH_LITERAL:_,ONE_CHAR:h,QMARK:b,END_ANCHOR:y,DOTS_SLASH:P,NO_DOT:F,NO_DOTS:Y,NO_DOT_SLASH:Q,NO_DOTS_SLASH:fe,QMARK_NO_DOT:L,STAR:H,START_ANCHOR:x},I={...U,SLASH_LITERAL:`[${p}]`,QMARK:w,STAR:`${w}*?`,DOTS_SLASH:`${E}{1,2}(?:[${p}]|$)`,NO_DOT:`(?!${E})`,NO_DOTS:`(?!(?:^|[${p}])${E}{1,2}(?:[${p}]|$))`,NO_DOT_SLASH:`(?!${E}{0,1}(?:[${p}]|$))`,NO_DOTS_SLASH:`(?!${E}{1,2}(?:[${p}]|$))`,QMARK_NO_DOT:`[^.${p}]`,START_ANCHOR:`(?:^|[${p}])`,END_ANCHOR:`(?:[${p}]|$)`},k={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};ge.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:k,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:v.sep,extglobChars(B){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${B.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(B){return B===!0?I:U}}},3969:(ge,l,S)=>{"use strict";const v=S(3889),p=S(292),{MAX_LENGTH:w,POSIX_REGEX_SOURCE:E,REGEX_NON_SPECIAL_CHARS:R,REGEX_SPECIAL_CHARS_BACKREF:D,REPLACEMENTS:_}=v,h=a((x,P)=>{if(typeof P.expandRange=="function")return P.expandRange(...x,P);x.sort();const F=`[${x.join("-")}]`;try{new RegExp(F)}catch(Y){return x.map(Q=>p.escapeRegex(Q)).join("..")}return F},"expandRange"),b=a((x,P)=>`Missing ${x}: "${P}" - use "\\\\${P}" to match literal characters`,"syntaxError"),y=a((x,P)=>{if(typeof x!="string")throw new TypeError("Expected a string");x=_[x]||x;const F={...P},Y=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w;let Q=x.length;if(Q>Y)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${Y}`);const fe={type:"bos",value:"",output:F.prepend||""},L=[fe],H=F.capture?"":"?:",U=p.isWindows(P),I=v.globChars(U),k=v.extglobChars(I),{DOT_LITERAL:B,PLUS_LITERAL:ee,SLASH_LITERAL:V,ONE_CHAR:te,DOTS_SLASH:he,NO_DOT:be,NO_DOT_SLASH:re,NO_DOTS_SLASH:ye,QMARK:z,QMARK_NO_DOT:We,STAR:ve,START_ANCHOR:ue}=I,J=a(de=>`(${H}(?:(?!${ue}${de.dot?he:B}).)*?)`,"globstar"),pe=F.dot?"":be,Fe=F.dot?z:We;let je=F.bash===!0?J(F):ve;F.capture&&(je=`(${je})`),typeof F.noext=="boolean"&&(F.noextglob=F.noext);const ne={input:x,index:-1,start:0,dot:F.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:L};x=p.removePrefix(x,ne),Q=x.length;const Ke=[],rt=[],ot=[];let K=fe,X;const ae=a(()=>ne.index===Q-1,"eos"),we=ne.peek=(de=1)=>x[ne.index+de],ke=ne.advance=()=>x[++ne.index]||"",Be=a(()=>x.slice(ne.index+1),"remaining"),_e=a((de="",ie=0)=>{ne.consumed+=de,ne.index+=ie},"consume"),Ie=a(de=>{ne.output+=de.output!=null?de.output:de.value,_e(de.value)},"append"),Le=a(()=>{let de=1;for(;we()==="!"&&(we(2)!=="("||we(3)==="?");)ke(),ne.start++,de++;return de%2==0?!1:(ne.negated=!0,ne.start++,!0)},"negate"),et=a(de=>{ne[de]++,ot.push(de)},"increment"),Ne=a(de=>{ne[de]--,ot.pop()},"decrement"),He=a(de=>{if(K.type==="globstar"){const ie=ne.braces>0&&(de.type==="comma"||de.type==="brace"),Je=de.extglob===!0||Ke.length&&(de.type==="pipe"||de.type==="paren");de.type!=="slash"&&de.type!=="paren"&&!ie&&!Je&&(ne.output=ne.output.slice(0,-K.output.length),K.type="star",K.value="*",K.output=je,ne.output+=K.output)}if(Ke.length&&de.type!=="paren"&&(Ke[Ke.length-1].inner+=de.value),(de.value||de.output)&&Ie(de),K&&K.type==="text"&&de.type==="text"){K.value+=de.value,K.output=(K.output||"")+de.value;return}de.prev=K,L.push(de),K=de},"push"),oe=a((de,ie)=>{const Je={...k[ie],conditions:1,inner:""};Je.prev=K,Je.parens=ne.parens,Je.output=ne.output;const _t=(F.capture?"(":"")+Je.open;et("parens"),He({type:de,value:ie,output:ne.output?"":te}),He({type:"paren",extglob:!0,value:ke(),output:_t}),Ke.push(Je)},"extglobOpen"),Me=a(de=>{let ie=de.close+(F.capture?")":""),Je;if(de.type==="negate"){let _t=je;if(de.inner&&de.inner.length>1&&de.inner.includes("/")&&(_t=J(F)),(_t!==je||ae()||/^\)+$/.test(Be()))&&(ie=de.close=`)$))${_t}`),de.inner.includes("*")&&(Je=Be())&&/^\.[^\\/.]+$/.test(Je)){const Yt=y(Je,{...P,fastpaths:!1}).output;ie=de.close=`)${Yt})${_t})`}de.prev.type==="bos"&&(ne.negatedExtglob=!0)}He({type:"paren",extglob:!0,value:X,output:ie}),Ne("parens")},"extglobClose");if(F.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(x)){let de=!1,ie=x.replace(D,(Je,_t,Yt,Tr,lr,Vr)=>Tr==="\\"?(de=!0,Je):Tr==="?"?_t?_t+Tr+(lr?z.repeat(lr.length):""):Vr===0?Fe+(lr?z.repeat(lr.length):""):z.repeat(Yt.length):Tr==="."?B.repeat(Yt.length):Tr==="*"?_t?_t+Tr+(lr?je:""):je:_t?Je:`\\${Je}`);return de===!0&&(F.unescape===!0?ie=ie.replace(/\\/g,""):ie=ie.replace(/\\+/g,Je=>Je.length%2==0?"\\\\":Je?"\\":"")),ie===x&&F.contains===!0?(ne.output=x,ne):(ne.output=p.wrapOutput(ie,ne,P),ne)}for(;!ae();){if(X=ke(),X==="\0")continue;if(X==="\\"){const Je=we();if(Je==="/"&&F.bash!==!0||Je==="."||Je===";")continue;if(!Je){X+="\\",He({type:"text",value:X});continue}const _t=/^\\+/.exec(Be());let Yt=0;if(_t&&_t[0].length>2&&(Yt=_t[0].length,ne.index+=Yt,Yt%2!=0&&(X+="\\")),F.unescape===!0?X=ke():X+=ke(),ne.brackets===0){He({type:"text",value:X});continue}}if(ne.brackets>0&&(X!=="]"||K.value==="["||K.value==="[^")){if(F.posix!==!1&&X===":"){const Je=K.value.slice(1);if(Je.includes("[")&&(K.posix=!0,Je.includes(":"))){const _t=K.value.lastIndexOf("["),Yt=K.value.slice(0,_t),Tr=K.value.slice(_t+2),lr=E[Tr];if(lr){K.value=Yt+lr,ne.backtrack=!0,ke(),!fe.output&&L.indexOf(K)===1&&(fe.output=te);continue}}}(X==="["&&we()!==":"||X==="-"&&we()==="]")&&(X=`\\${X}`),X==="]"&&(K.value==="["||K.value==="[^")&&(X=`\\${X}`),F.posix===!0&&X==="!"&&K.value==="["&&(X="^"),K.value+=X,Ie({value:X});continue}if(ne.quotes===1&&X!=='"'){X=p.escapeRegex(X),K.value+=X,Ie({value:X});continue}if(X==='"'){ne.quotes=ne.quotes===1?0:1,F.keepQuotes===!0&&He({type:"text",value:X});continue}if(X==="("){et("parens"),He({type:"paren",value:X});continue}if(X===")"){if(ne.parens===0&&F.strictBrackets===!0)throw new SyntaxError(b("opening","("));const Je=Ke[Ke.length-1];if(Je&&ne.parens===Je.parens+1){Me(Ke.pop());continue}He({type:"paren",value:X,output:ne.parens?")":"\\)"}),Ne("parens");continue}if(X==="["){if(F.nobracket===!0||!Be().includes("]")){if(F.nobracket!==!0&&F.strictBrackets===!0)throw new SyntaxError(b("closing","]"));X=`\\${X}`}else et("brackets");He({type:"bracket",value:X});continue}if(X==="]"){if(F.nobracket===!0||K&&K.type==="bracket"&&K.value.length===1){He({type:"text",value:X,output:`\\${X}`});continue}if(ne.brackets===0){if(F.strictBrackets===!0)throw new SyntaxError(b("opening","["));He({type:"text",value:X,output:`\\${X}`});continue}Ne("brackets");const Je=K.value.slice(1);if(K.posix!==!0&&Je[0]==="^"&&!Je.includes("/")&&(X=`/${X}`),K.value+=X,Ie({value:X}),F.literalBrackets===!1||p.hasRegexChars(Je))continue;const _t=p.escapeRegex(K.value);if(ne.output=ne.output.slice(0,-K.value.length),F.literalBrackets===!0){ne.output+=_t,K.value=_t;continue}K.value=`(${H}${_t}|${K.value})`,ne.output+=K.value;continue}if(X==="{"&&F.nobrace!==!0){et("braces");const Je={type:"brace",value:X,output:"(",outputIndex:ne.output.length,tokensIndex:ne.tokens.length};rt.push(Je),He(Je);continue}if(X==="}"){const Je=rt[rt.length-1];if(F.nobrace===!0||!Je){He({type:"text",value:X,output:X});continue}let _t=")";if(Je.dots===!0){const Yt=L.slice(),Tr=[];for(let lr=Yt.length-1;lr>=0&&(L.pop(),Yt[lr].type!=="brace");lr--)Yt[lr].type!=="dots"&&Tr.unshift(Yt[lr].value);_t=h(Tr,F),ne.backtrack=!0}if(Je.comma!==!0&&Je.dots!==!0){const Yt=ne.output.slice(0,Je.outputIndex),Tr=ne.tokens.slice(Je.tokensIndex);Je.value=Je.output="\\{",X=_t="\\}",ne.output=Yt;for(const lr of Tr)ne.output+=lr.output||lr.value}He({type:"brace",value:X,output:_t}),Ne("braces"),rt.pop();continue}if(X==="|"){Ke.length>0&&Ke[Ke.length-1].conditions++,He({type:"text",value:X});continue}if(X===","){let Je=X;const _t=rt[rt.length-1];_t&&ot[ot.length-1]==="braces"&&(_t.comma=!0,Je="|"),He({type:"comma",value:X,output:Je});continue}if(X==="/"){if(K.type==="dot"&&ne.index===ne.start+1){ne.start=ne.index+1,ne.consumed="",ne.output="",L.pop(),K=fe;continue}He({type:"slash",value:X,output:V});continue}if(X==="."){if(ne.braces>0&&K.type==="dot"){K.value==="."&&(K.output=B);const Je=rt[rt.length-1];K.type="dots",K.output+=X,K.value+=X,Je.dots=!0;continue}if(ne.braces+ne.parens===0&&K.type!=="bos"&&K.type!=="slash"){He({type:"text",value:X,output:B});continue}He({type:"dot",value:X,output:B});continue}if(X==="?"){if(!(K&&K.value==="(")&&F.noextglob!==!0&&we()==="("&&we(2)!=="?"){oe("qmark",X);continue}if(K&&K.type==="paren"){const _t=we();let Yt=X;if(_t==="<"&&!p.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(K.value==="("&&!/[!=<:]/.test(_t)||_t==="<"&&!/<([!=]|\w+>)/.test(Be()))&&(Yt=`\\${X}`),He({type:"text",value:X,output:Yt});continue}if(F.dot!==!0&&(K.type==="slash"||K.type==="bos")){He({type:"qmark",value:X,output:We});continue}He({type:"qmark",value:X,output:z});continue}if(X==="!"){if(F.noextglob!==!0&&we()==="("&&(we(2)!=="?"||!/[!=<:]/.test(we(3)))){oe("negate",X);continue}if(F.nonegate!==!0&&ne.index===0){Le();continue}}if(X==="+"){if(F.noextglob!==!0&&we()==="("&&we(2)!=="?"){oe("plus",X);continue}if(K&&K.value==="("||F.regex===!1){He({type:"plus",value:X,output:ee});continue}if(K&&(K.type==="bracket"||K.type==="paren"||K.type==="brace")||ne.parens>0){He({type:"plus",value:X});continue}He({type:"plus",value:ee});continue}if(X==="@"){if(F.noextglob!==!0&&we()==="("&&we(2)!=="?"){He({type:"at",extglob:!0,value:X,output:""});continue}He({type:"text",value:X});continue}if(X!=="*"){(X==="$"||X==="^")&&(X=`\\${X}`);const Je=R.exec(Be());Je&&(X+=Je[0],ne.index+=Je[0].length),He({type:"text",value:X});continue}if(K&&(K.type==="globstar"||K.star===!0)){K.type="star",K.star=!0,K.value+=X,K.output=je,ne.backtrack=!0,ne.globstar=!0,_e(X);continue}let de=Be();if(F.noextglob!==!0&&/^\([^?]/.test(de)){oe("star",X);continue}if(K.type==="star"){if(F.noglobstar===!0){_e(X);continue}const Je=K.prev,_t=Je.prev,Yt=Je.type==="slash"||Je.type==="bos",Tr=_t&&(_t.type==="star"||_t.type==="globstar");if(F.bash===!0&&(!Yt||de[0]&&de[0]!=="/")){He({type:"star",value:X,output:""});continue}const lr=ne.braces>0&&(Je.type==="comma"||Je.type==="brace"),Vr=Ke.length&&(Je.type==="pipe"||Je.type==="paren");if(!Yt&&Je.type!=="paren"&&!lr&&!Vr){He({type:"star",value:X,output:""});continue}for(;de.slice(0,3)==="/**";){const N=x[ne.index+4];if(N&&N!=="/")break;de=de.slice(3),_e("/**",3)}if(Je.type==="bos"&&ae()){K.type="globstar",K.value+=X,K.output=J(F),ne.output=K.output,ne.globstar=!0,_e(X);continue}if(Je.type==="slash"&&Je.prev.type!=="bos"&&!Tr&&ae()){ne.output=ne.output.slice(0,-(Je.output+K.output).length),Je.output=`(?:${Je.output}`,K.type="globstar",K.output=J(F)+(F.strictSlashes?")":"|$)"),K.value+=X,ne.globstar=!0,ne.output+=Je.output+K.output,_e(X);continue}if(Je.type==="slash"&&Je.prev.type!=="bos"&&de[0]==="/"){const N=de[1]!==void 0?"|$":"";ne.output=ne.output.slice(0,-(Je.output+K.output).length),Je.output=`(?:${Je.output}`,K.type="globstar",K.output=`${J(F)}${V}|${V}${N})`,K.value+=X,ne.output+=Je.output+K.output,ne.globstar=!0,_e(X+ke()),He({type:"slash",value:"/",output:""});continue}if(Je.type==="bos"&&de[0]==="/"){K.type="globstar",K.value+=X,K.output=`(?:^|${V}|${J(F)}${V})`,ne.output=K.output,ne.globstar=!0,_e(X+ke()),He({type:"slash",value:"/",output:""});continue}ne.output=ne.output.slice(0,-K.output.length),K.type="globstar",K.output=J(F),K.value+=X,ne.output+=K.output,ne.globstar=!0,_e(X);continue}const ie={type:"star",value:X,output:je};if(F.bash===!0){ie.output=".*?",(K.type==="bos"||K.type==="slash")&&(ie.output=pe+ie.output),He(ie);continue}if(K&&(K.type==="bracket"||K.type==="paren")&&F.regex===!0){ie.output=X,He(ie);continue}(ne.index===ne.start||K.type==="slash"||K.type==="dot")&&(K.type==="dot"?(ne.output+=re,K.output+=re):F.dot===!0?(ne.output+=ye,K.output+=ye):(ne.output+=pe,K.output+=pe),we()!=="*"&&(ne.output+=te,K.output+=te)),He(ie)}for(;ne.brackets>0;){if(F.strictBrackets===!0)throw new SyntaxError(b("closing","]"));ne.output=p.escapeLast(ne.output,"["),Ne("brackets")}for(;ne.parens>0;){if(F.strictBrackets===!0)throw new SyntaxError(b("closing",")"));ne.output=p.escapeLast(ne.output,"("),Ne("parens")}for(;ne.braces>0;){if(F.strictBrackets===!0)throw new SyntaxError(b("closing","}"));ne.output=p.escapeLast(ne.output,"{"),Ne("braces")}if(F.strictSlashes!==!0&&(K.type==="star"||K.type==="bracket")&&He({type:"maybe_slash",value:"",output:`${V}?`}),ne.backtrack===!0){ne.output="";for(const de of ne.tokens)ne.output+=de.output!=null?de.output:de.value,de.suffix&&(ne.output+=de.suffix)}return ne},"parse");y.fastpaths=(x,P)=>{const F={...P},Y=typeof F.maxLength=="number"?Math.min(w,F.maxLength):w,Q=x.length;if(Q>Y)throw new SyntaxError(`Input length: ${Q}, exceeds maximum allowed length: ${Y}`);x=_[x]||x;const fe=p.isWindows(P),{DOT_LITERAL:L,SLASH_LITERAL:H,ONE_CHAR:U,DOTS_SLASH:I,NO_DOT:k,NO_DOTS:B,NO_DOTS_SLASH:ee,STAR:V,START_ANCHOR:te}=v.globChars(fe),he=F.dot?B:k,be=F.dot?ee:k,re=F.capture?"":"?:",ye={negated:!1,prefix:""};let z=F.bash===!0?".*?":V;F.capture&&(z=`(${z})`);const We=a(pe=>pe.noglobstar===!0?z:`(${re}(?:(?!${te}${pe.dot?I:L}).)*?)`,"globstar"),ve=a(pe=>{switch(pe){case"*":return`${he}${U}${z}`;case".*":return`${L}${U}${z}`;case"*.*":return`${he}${z}${L}${U}${z}`;case"*/*":return`${he}${z}${H}${U}${be}${z}`;case"**":return he+We(F);case"**/*":return`(?:${he}${We(F)}${H})?${be}${U}${z}`;case"**/*.*":return`(?:${he}${We(F)}${H})?${be}${z}${L}${U}${z}`;case"**/.*":return`(?:${he}${We(F)}${H})?${L}${U}${z}`;default:{const Fe=/^(.*?)\.(\w+)$/.exec(pe);if(!Fe)return;const je=ve(Fe[1]);return je?je+L+Fe[2]:void 0}}},"create"),ue=p.removePrefix(x,ye);let J=ve(ue);return J&&F.strictSlashes!==!0&&(J+=`${H}?`),J},ge.exports=y},5761:(ge,l,S)=>{"use strict";const v=S(6470),p=S(9826),w=S(3969),E=S(292),R=S(3889),D=a(h=>h&&typeof h=="object"&&!Array.isArray(h),"isObject"),_=a((h,b,y=!1)=>{if(Array.isArray(h)){const H=h.map(I=>_(I,b,y));return a(I=>{for(const k of H){const B=k(I);if(B)return B}return!1},"arrayMatcher")}const x=D(h)&&h.tokens&&h.input;if(h===""||typeof h!="string"&&!x)throw new TypeError("Expected pattern to be a non-empty string");const P=b||{},F=E.isWindows(b),Y=x?_.compileRe(h,b):_.makeRe(h,b,!1,!0),Q=Y.state;delete Y.state;let fe=a(()=>!1,"isIgnored");if(P.ignore){const H={...b,ignore:null,onMatch:null,onResult:null};fe=_(P.ignore,H,y)}const L=a((H,U=!1)=>{const{isMatch:I,match:k,output:B}=_.test(H,Y,b,{glob:h,posix:F}),ee={glob:h,state:Q,regex:Y,posix:F,input:H,output:B,match:k,isMatch:I};return typeof P.onResult=="function"&&P.onResult(ee),I===!1?(ee.isMatch=!1,U?ee:!1):fe(H)?(typeof P.onIgnore=="function"&&P.onIgnore(ee),ee.isMatch=!1,U?ee:!1):(typeof P.onMatch=="function"&&P.onMatch(ee),U?ee:!0)},"matcher");return y&&(L.state=Q),L},"picomatch");_.test=(h,b,y,{glob:x,posix:P}={})=>{if(typeof h!="string")throw new TypeError("Expected input to be a string");if(h==="")return{isMatch:!1,output:""};const F=y||{},Y=F.format||(P?E.toPosixSlashes:null);let Q=h===x,fe=Q&&Y?Y(h):h;return Q===!1&&(fe=Y?Y(h):h,Q=fe===x),(Q===!1||F.capture===!0)&&(F.matchBase===!0||F.basename===!0?Q=_.matchBase(h,b,y,P):Q=b.exec(fe)),{isMatch:Boolean(Q),match:Q,output:fe}},_.matchBase=(h,b,y,x=E.isWindows(y))=>(b instanceof RegExp?b:_.makeRe(b,y)).test(v.basename(h)),_.isMatch=(h,b,y)=>_(b,y)(h),_.parse=(h,b)=>Array.isArray(h)?h.map(y=>_.parse(y,b)):w(h,{...b,fastpaths:!1}),_.scan=(h,b)=>p(h,b),_.compileRe=(h,b,y=!1,x=!1)=>{if(y===!0)return h.output;const P=b||{},F=P.contains?"":"^",Y=P.contains?"":"$";let Q=`${F}(?:${h.output})${Y}`;h&&h.negated===!0&&(Q=`^(?!${Q}).*$`);const fe=_.toRegex(Q,b);return x===!0&&(fe.state=h),fe},_.makeRe=(h,b={},y=!1,x=!1)=>{if(!h||typeof h!="string")throw new TypeError("Expected a non-empty string");let P={negated:!1,fastpaths:!0};return b.fastpaths!==!1&&(h[0]==="."||h[0]==="*")&&(P.output=w.fastpaths(h,b)),P.output||(P=w(h,b)),_.compileRe(P,b,y,x)},_.toRegex=(h,b)=>{try{const y=b||{};return new RegExp(h,y.flags||(y.nocase?"i":""))}catch(y){if(b&&b.debug===!0)throw y;return/$^/}},_.constants=R,ge.exports=_},9826:(ge,l,S)=>{"use strict";const v=S(292),{CHAR_ASTERISK:p,CHAR_AT:w,CHAR_BACKWARD_SLASH:E,CHAR_COMMA:R,CHAR_DOT:D,CHAR_EXCLAMATION_MARK:_,CHAR_FORWARD_SLASH:h,CHAR_LEFT_CURLY_BRACE:b,CHAR_LEFT_PARENTHESES:y,CHAR_LEFT_SQUARE_BRACKET:x,CHAR_PLUS:P,CHAR_QUESTION_MARK:F,CHAR_RIGHT_CURLY_BRACE:Y,CHAR_RIGHT_PARENTHESES:Q,CHAR_RIGHT_SQUARE_BRACKET:fe}=S(3889),L=a(I=>I===h||I===E,"isPathSeparator"),H=a(I=>{I.isPrefix!==!0&&(I.depth=I.isGlobstar?1/0:1)},"depth"),U=a((I,k)=>{const B=k||{},ee=I.length-1,V=B.parts===!0||B.scanToEnd===!0,te=[],he=[],be=[];let re=I,ye=-1,z=0,We=0,ve=!1,ue=!1,J=!1,pe=!1,Fe=!1,je=!1,ne=!1,Ke=!1,rt=!1,ot=!1,K=0,X,ae,we={value:"",depth:0,isGlob:!1};const ke=a(()=>ye>=ee,"eos"),Be=a(()=>re.charCodeAt(ye+1),"peek"),_e=a(()=>(X=ae,re.charCodeAt(++ye)),"advance");for(;ye<ee;){ae=_e();let He;if(ae===E){ne=we.backslashes=!0,ae=_e(),ae===b&&(je=!0);continue}if(je===!0||ae===b){for(K++;ke()!==!0&&(ae=_e());){if(ae===E){ne=we.backslashes=!0,_e();continue}if(ae===b){K++;continue}if(je!==!0&&ae===D&&(ae=_e())===D){if(ve=we.isBrace=!0,J=we.isGlob=!0,ot=!0,V===!0)continue;break}if(je!==!0&&ae===R){if(ve=we.isBrace=!0,J=we.isGlob=!0,ot=!0,V===!0)continue;break}if(ae===Y&&(K--,K===0)){je=!1,ve=we.isBrace=!0,ot=!0;break}}if(V===!0)continue;break}if(ae===h){if(te.push(ye),he.push(we),we={value:"",depth:0,isGlob:!1},ot===!0)continue;if(X===D&&ye===z+1){z+=2;continue}We=ye+1;continue}if(B.noext!==!0&&(ae===P||ae===w||ae===p||ae===F||ae===_)===!0&&Be()===y){if(J=we.isGlob=!0,pe=we.isExtglob=!0,ot=!0,ae===_&&ye===z&&(rt=!0),V===!0){for(;ke()!==!0&&(ae=_e());){if(ae===E){ne=we.backslashes=!0,ae=_e();continue}if(ae===Q){J=we.isGlob=!0,ot=!0;break}}continue}break}if(ae===p){if(X===p&&(Fe=we.isGlobstar=!0),J=we.isGlob=!0,ot=!0,V===!0)continue;break}if(ae===F){if(J=we.isGlob=!0,ot=!0,V===!0)continue;break}if(ae===x){for(;ke()!==!0&&(He=_e());){if(He===E){ne=we.backslashes=!0,_e();continue}if(He===fe){ue=we.isBracket=!0,J=we.isGlob=!0,ot=!0;break}}if(V===!0)continue;break}if(B.nonegate!==!0&&ae===_&&ye===z){Ke=we.negated=!0,z++;continue}if(B.noparen!==!0&&ae===y){if(J=we.isGlob=!0,V===!0){for(;ke()!==!0&&(ae=_e());){if(ae===y){ne=we.backslashes=!0,ae=_e();continue}if(ae===Q){ot=!0;break}}continue}break}if(J===!0){if(ot=!0,V===!0)continue;break}}B.noext===!0&&(pe=!1,J=!1);let Ie=re,Le="",et="";z>0&&(Le=re.slice(0,z),re=re.slice(z),We-=z),Ie&&J===!0&&We>0?(Ie=re.slice(0,We),et=re.slice(We)):J===!0?(Ie="",et=re):Ie=re,Ie&&Ie!==""&&Ie!=="/"&&Ie!==re&&L(Ie.charCodeAt(Ie.length-1))&&(Ie=Ie.slice(0,-1)),B.unescape===!0&&(et&&(et=v.removeBackslashes(et)),Ie&&ne===!0&&(Ie=v.removeBackslashes(Ie)));const Ne={prefix:Le,input:I,start:z,base:Ie,glob:et,isBrace:ve,isBracket:ue,isGlob:J,isExtglob:pe,isGlobstar:Fe,negated:Ke,negatedExtglob:rt};if(B.tokens===!0&&(Ne.maxDepth=0,L(ae)||he.push(we),Ne.tokens=he),B.parts===!0||B.tokens===!0){let He;for(let oe=0;oe<te.length;oe++){const Me=He?He+1:z,de=te[oe],ie=I.slice(Me,de);B.tokens&&(oe===0&&z!==0?(he[oe].isPrefix=!0,he[oe].value=Le):he[oe].value=ie,H(he[oe]),Ne.maxDepth+=he[oe].depth),(oe!==0||ie!=="")&&be.push(ie),He=de}if(He&&He+1<I.length){const oe=I.slice(He+1);be.push(oe),B.tokens&&(he[he.length-1].value=oe,H(he[he.length-1]),Ne.maxDepth+=he[he.length-1].depth)}Ne.slashes=te,Ne.parts=be}return Ne},"scan");ge.exports=U},292:(ge,l,S)=>{"use strict";var v=S(6038);const p=S(6470),w=v.platform==="win32",{REGEX_BACKSLASH:E,REGEX_REMOVE_BACKSLASH:R,REGEX_SPECIAL_CHARS:D,REGEX_SPECIAL_CHARS_GLOBAL:_}=S(3889);l.isObject=h=>h!==null&&typeof h=="object"&&!Array.isArray(h),l.hasRegexChars=h=>D.test(h),l.isRegexChar=h=>h.length===1&&l.hasRegexChars(h),l.escapeRegex=h=>h.replace(_,"\\$1"),l.toPosixSlashes=h=>h.replace(E,"/"),l.removeBackslashes=h=>h.replace(R,b=>b==="\\"?"":b),l.supportsLookbehinds=()=>{const h=v.version.slice(1).split(".").map(Number);return h.length===3&&h[0]>=9||h[0]===8&&h[1]>=10},l.isWindows=h=>h&&typeof h.windows=="boolean"?h.windows:w===!0||p.sep==="\\",l.escapeLast=(h,b,y)=>{const x=h.lastIndexOf(b,y);return x===-1?h:h[x-1]==="\\"?l.escapeLast(h,b,x-1):`${h.slice(0,x)}\\${h.slice(x)}`},l.removePrefix=(h,b={})=>{let y=h;return y.startsWith("./")&&(y=y.slice(2),b.prefix="./"),y},l.wrapOutput=(h,b={},y={})=>{const x=y.contains?"":"^",P=y.contains?"":"$";let F=`${x}(?:${h})${P}`;return b.negated===!0&&(F=`(?:^(?!${F}).*$)`),F}},6038:ge=>{var l=ge.exports={},S,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?S=setTimeout:S=p}catch(Y){S=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(Y){v=w}}();function E(Y){if(S===setTimeout)return setTimeout(Y,0);if((S===p||!S)&&setTimeout)return S=setTimeout,setTimeout(Y,0);try{return S(Y,0)}catch(Q){try{return S.call(null,Y,0)}catch(fe){return S.call(this,Y,0)}}}a(E,"runTimeout");function R(Y){if(v===clearTimeout)return clearTimeout(Y);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(Y);try{return v(Y)}catch(Q){try{return v.call(null,Y)}catch(fe){return v.call(this,Y)}}}a(R,"runClearTimeout");var D=[],_=!1,h,b=-1;function y(){!_||!h||(_=!1,h.length?D=h.concat(D):b=-1,D.length&&x())}a(y,"cleanUpNextTick");function x(){if(!_){var Y=E(y);_=!0;for(var Q=D.length;Q;){for(h=D,D=[];++b<Q;)h&&h[b].run();b=-1,Q=D.length}h=null,_=!1,R(Y)}}a(x,"drainQueue"),l.nextTick=function(Y){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var fe=1;fe<arguments.length;fe++)Q[fe-1]=arguments[fe];D.push(new P(Y,Q)),D.length===1&&!_&&E(x)};function P(Y,Q){this.fun=Y,this.array=Q}a(P,"Item"),P.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(Y){return[]},l.binding=function(Y){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(Y){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},5431:(ge,l,S)=>{"use strict";ge.exports=S(7905)},7905:(ge,l,S)=>{"use strict";var v=S(1417);function p(){return!0}a(p,"_toTrue");function w(){return!1}a(w,"_toFalse");function E(Q){return Q.then(p,w)}a(E,"pSuccess");function R(Q){return Q}a(R,"_pass");function D(Q){throw Q}a(D,"_throw");function _(Q){return Q.then(R,D)}a(_,"ensurePromise");function h(Q,fe){return{result:Q,args:fe,expire_id:0,prefetch_id:0,need_prefetch:!1}}a(h,"createCacheObj");function b(Q,fe){!Q[fe]||(clearTimeout(Q[fe].expire_id),clearTimeout(Q[fe].prefetch_id),delete Q[fe])}a(b,"destroyCacheObj");function y(Q,fe){!Q[fe]||(Q[fe].need_prefetch=!0)}a(y,"askPrefetch");function x(Q){var fe=Q[0],L=Q[1],H=Q[2],U=Q[3];if(!!L[H]){if(fe){if(!U.maxAge)return;L[H].expire_id=setTimeout(b,U.maxAge,L,H),L[H].prefetch_id=setTimeout(y,U.maxAge*.7,L,H),L[H].expire_id.unref&&L[H].expire_id.unref(),L[H].prefetch_id.unref&&L[H].prefetch_id.unref();return}if(!U.maxErrorAge){b(L,H);return}L[H].expire_id=setTimeout(b,U.maxErrorAge,L,H),L[H].expire_id.unref&&L[H].expire_id.unref()}}a(x,"_track_proceed");function P(Q,fe,L){var H=Q[fe].result.constructor;H.all([E(Q[fe].result),Q,fe,L]).then(x)}a(P,"trackCacheObj");function F(Q){var fe=Q[0],L=Q[1],H=Q[2],U=Q[3],I=Q[4][0];!L[H]||!fe||(L[H].result=I,clearTimeout(L[H].expire_id),P(L,H,U))}a(F,"_prefetch_proceed");function Y(Q,fe,L){var H=_(L.fn.apply(null,Q[fe].args)),U=H.constructor;Q[fe].need_prefetch=!1,U.all([E(H),Q,fe,L,[H]]).then(F)}a(Y,"doPrefetch"),ge.exports=a(function(fe,L){var H={},U=L||{},I=v(U.resolve),k={fn:fe,maxAge:U.maxAge||0,maxErrorAge:U.maxErrorAge||0};function B(){for(var ee=new Array(arguments.length),V=0;V<ee.length;V++)ee[V]=arguments[V];var te=I(ee);return H[te]?H[te].need_prefetch&&Y(H,te,k):(H[te]=h(_(k.fn.apply(null,ee)),k.maxAge||k.maxErrorAge?ee:null),P(H,te,k)),H[te].result}return a(B,"memoizedFn"),B.clear=function(){var ee=Object.keys(H);return ee.forEach(function(V){b(H,V)}),ee.length},B},"promiseMemoize")},1417:ge=>{"use strict";var l={simple:function(v){return v.length?v.join(""):""},json:function(v){if(!v.length)return"";for(var p=[],w=v.length-1;w>=0;w--)p.push(JSON.stringify(v[w]));return p.join("")}};function S(v){return v.forEach(function(p){if(typeof p=="string"&&!l.hasOwnProperty(p))throw new Error('promise-memoize: unknown value "'+p+'" in resolve option')}),function(p){var w=Math.min(v.length,p.length);if(!w)return"";for(var E=[],R=0;R<w;R++)typeof v[R]=="string"?E.push(l[v[R]]([p[R]])):E.push(v[R](p[R]));return E.join("")}}a(S,"createFlexResolver"),ge.exports=a(function(p){if(typeof p=="undefined")return l.simple;if(typeof p=="string"&&l.hasOwnProperty(p))return l[p];if(Array.isArray(p))return S(p);if(Object.prototype.toString.call(p)==="[object Function]")return p;throw new Error("promise-memoize: invalid resolve option")},"createResolver")},2999:(ge,l,S)=>{"use strict";/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */const v=S(3338),p=a((L,H,U)=>{if(v(L)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(H===void 0||L===H)return String(L);if(v(H)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let I={relaxZeros:!0,...U};typeof I.strictZeros=="boolean"&&(I.relaxZeros=I.strictZeros===!1);let k=String(I.relaxZeros),B=String(I.shorthand),ee=String(I.capture),V=String(I.wrap),te=L+":"+H+"="+k+B+ee+V;if(p.cache.hasOwnProperty(te))return p.cache[te].result;let he=Math.min(L,H),be=Math.max(L,H);if(Math.abs(he-be)===1){let ve=L+"|"+H;return I.capture?`(${ve})`:I.wrap===!1?ve:`(?:${ve})`}let re=Q(L)||Q(H),ye={min:L,max:H,a:he,b:be},z=[],We=[];if(re&&(ye.isPadded=re,ye.maxLen=String(ye.max).length),he<0){let ve=be<0?Math.abs(be):1;We=D(ve,Math.abs(he),ye,I),he=ye.a=0}return be>=0&&(z=D(he,be,ye,I)),ye.negatives=We,ye.positives=z,ye.result=w(We,z,I),I.capture===!0?ye.result=`(${ye.result})`:I.wrap!==!1&&z.length+We.length>1&&(ye.result=`(?:${ye.result})`),p.cache[te]=ye,ye.result},"toRegexRange");function w(L,H,U){let I=_(L,H,"-",!1,U)||[],k=_(H,L,"",!1,U)||[],B=_(L,H,"-?",!0,U)||[];return I.concat(B).concat(k).join("|")}a(w,"collatePatterns");function E(L,H){let U=1,I=1,k=x(L,U),B=new Set([H]);for(;L<=k&&k<=H;)B.add(k),U+=1,k=x(L,U);for(k=P(H+1,I)-1;L<k&&k<=H;)B.add(k),I+=1,k=P(H+1,I)-1;return B=[...B],B.sort(b),B}a(E,"splitToRanges");function R(L,H,U){if(L===H)return{pattern:L,count:[],digits:0};let I=h(L,H),k=I.length,B="",ee=0;for(let V=0;V<k;V++){let[te,he]=I[V];te===he?B+=te:te!=="0"||he!=="9"?B+=Y(te,he,U):ee++}return ee&&(B+=U.shorthand===!0?"\\d":"[0-9]"),{pattern:B,count:[ee],digits:k}}a(R,"rangeToPattern");function D(L,H,U,I){let k=E(L,H),B=[],ee=L,V;for(let te=0;te<k.length;te++){let he=k[te],be=R(String(ee),String(he),I),re="";if(!U.isPadded&&V&&V.pattern===be.pattern){V.count.length>1&&V.count.pop(),V.count.push(be.count[0]),V.string=V.pattern+F(V.count),ee=he+1;continue}U.isPadded&&(re=fe(he,U,I)),be.string=re+be.pattern+F(be.count),B.push(be),ee=he+1,V=be}return B}a(D,"splitToPatterns");function _(L,H,U,I,k){let B=[];for(let ee of L){let{string:V}=ee;!I&&!y(H,"string",V)&&B.push(U+V),I&&y(H,"string",V)&&B.push(U+V)}return B}a(_,"filterPatterns");function h(L,H){let U=[];for(let I=0;I<L.length;I++)U.push([L[I],H[I]]);return U}a(h,"zip");function b(L,H){return L>H?1:H>L?-1:0}a(b,"compare");function y(L,H,U){return L.some(I=>I[H]===U)}a(y,"contains");function x(L,H){return Number(String(L).slice(0,-H)+"9".repeat(H))}a(x,"countNines");function P(L,H){return L-L%Math.pow(10,H)}a(P,"countZeros");function F(L){let[H=0,U=""]=L;return U||H>1?`{${H+(U?","+U:"")}}`:""}a(F,"toQuantifier");function Y(L,H,U){return`[${L}${H-L==1?"":"-"}${H}]`}a(Y,"toCharacterClass");function Q(L){return/^-?(0+)\d/.test(L)}a(Q,"hasPadding");function fe(L,H,U){if(!H.isPadded)return L;let I=Math.abs(H.maxLen-String(L).length),k=U.relaxZeros!==!1;switch(I){case 0:return"";case 1:return k?"0?":"0";case 2:return k?"0{0,2}":"00";default:return k?`0{0,${I}}`:`0{${I}}`}}a(fe,"padZeros"),p.cache={},p.clearCache=()=>p.cache={},ge.exports=p},9742:(ge,l)=>{"use strict";l.byteLength=_,l.toByteArray=b,l.fromByteArray=P;for(var S=[],v=[],p=typeof Uint8Array!="undefined"?Uint8Array:Array,w="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=0,R=w.length;E<R;++E)S[E]=w[E],v[w.charCodeAt(E)]=E;v["-".charCodeAt(0)]=62,v["_".charCodeAt(0)]=63;function D(F){var Y=F.length;if(Y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var Q=F.indexOf("=");Q===-1&&(Q=Y);var fe=Q===Y?0:4-Q%4;return[Q,fe]}a(D,"getLens");function _(F){var Y=D(F),Q=Y[0],fe=Y[1];return(Q+fe)*3/4-fe}a(_,"byteLength");function h(F,Y,Q){return(Y+Q)*3/4-Q}a(h,"_byteLength");function b(F){var Y,Q=D(F),fe=Q[0],L=Q[1],H=new p(h(F,fe,L)),U=0,I=L>0?fe-4:fe,k;for(k=0;k<I;k+=4)Y=v[F.charCodeAt(k)]<<18|v[F.charCodeAt(k+1)]<<12|v[F.charCodeAt(k+2)]<<6|v[F.charCodeAt(k+3)],H[U++]=Y>>16&255,H[U++]=Y>>8&255,H[U++]=Y&255;return L===2&&(Y=v[F.charCodeAt(k)]<<2|v[F.charCodeAt(k+1)]>>4,H[U++]=Y&255),L===1&&(Y=v[F.charCodeAt(k)]<<10|v[F.charCodeAt(k+1)]<<4|v[F.charCodeAt(k+2)]>>2,H[U++]=Y>>8&255,H[U++]=Y&255),H}a(b,"toByteArray");function y(F){return S[F>>18&63]+S[F>>12&63]+S[F>>6&63]+S[F&63]}a(y,"tripletToBase64");function x(F,Y,Q){for(var fe,L=[],H=Y;H<Q;H+=3)fe=(F[H]<<16&16711680)+(F[H+1]<<8&65280)+(F[H+2]&255),L.push(y(fe));return L.join("")}a(x,"encodeChunk");function P(F){for(var Y,Q=F.length,fe=Q%3,L=[],H=16383,U=0,I=Q-fe;U<I;U+=H)L.push(x(F,U,U+H>I?I:U+H));return fe===1?(Y=F[Q-1],L.push(S[Y>>2]+S[Y<<4&63]+"==")):fe===2&&(Y=(F[Q-2]<<8)+F[Q-1],L.push(S[Y>>10]+S[Y>>4&63]+S[Y<<2&63]+"=")),L.join("")}a(P,"fromByteArray")},5186:(ge,l,S)=>{var v=S(3698),p=S(2505),w=S(6417),E=Function.bind,R=E.bind(E);function D(x,P,F){var Y=R(w,null).apply(null,F?[P,F]:[P]);x.api={remove:Y},x.remove=Y,["before","error","after","wrap"].forEach(function(Q){var fe=F?[P,Q,F]:[P,Q];x[Q]=x.api[Q]=R(p,null).apply(null,fe)})}a(D,"bindApi");function _(){var x="h",P={registry:{}},F=v.bind(null,P,x);return D(F,P,x),F}a(_,"HookSingular");function h(){var x={registry:{}},P=v.bind(null,x);return D(P,x),P}a(h,"HookCollection");var b=!1;function y(){return b||(console.warn('[before-after-hook]: "Hook()" repurposing warning, use "Hook.Collection()". Read more: https://git.io/upgrade-before-after-hook-to-1.4'),b=!0),h()}a(y,"Hook"),y.Singular=_.bind(),y.Collection=h.bind(),ge.exports=y,ge.exports.Hook=y,ge.exports.Singular=y.Singular,ge.exports.Collection=y.Collection},2505:ge=>{ge.exports=l;function l(S,v,p,w){var E=w;S.registry[p]||(S.registry[p]=[]),v==="before"&&(w=a(function(R,D){return Promise.resolve().then(E.bind(null,D)).then(R.bind(null,D))},"hook")),v==="after"&&(w=a(function(R,D){var _;return Promise.resolve().then(R.bind(null,D)).then(function(h){return _=h,E(_,D)}).then(function(){return _})},"hook")),v==="error"&&(w=a(function(R,D){return Promise.resolve().then(R.bind(null,D)).catch(function(_){return E(_,D)})},"hook")),S.registry[p].push({hook:w,orig:E})}a(l,"addHook")},3698:ge=>{ge.exports=l;function l(S,v,p,w){if(typeof p!="function")throw new Error("method for before hook must be a function");return w||(w={}),Array.isArray(v)?v.reverse().reduce(function(E,R){return l.bind(null,S,R,E,w)},p)():Promise.resolve().then(function(){return S.registry[v]?S.registry[v].reduce(function(E,R){return R.hook.bind(null,E,w)},p)():p(w)})}a(l,"register")},6417:ge=>{ge.exports=l;function l(S,v,p){if(!!S.registry[v]){var w=S.registry[v].map(function(E){return E.orig}).indexOf(p);w!==-1&&S.registry[v].splice(w,1)}}a(l,"removeHook")},8764:(ge,l,S)=>{"use strict";var v;/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const p=S(9742),w=S(645),E=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;l.lW=h,v=U,l.h2=50;const R=2147483647;v=R,h.TYPED_ARRAY_SUPPORT=D(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function D(){try{const N=new Uint8Array(1),d={foo:function(){return 42}};return Object.setPrototypeOf(d,Uint8Array.prototype),Object.setPrototypeOf(N,d),N.foo()===42}catch(N){return!1}}a(D,"typedArraySupport"),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function _(N){if(N>R)throw new RangeError('The value "'+N+'" is invalid for option "size"');const d=new Uint8Array(N);return Object.setPrototypeOf(d,h.prototype),d}a(_,"createBuffer");function h(N,d,m){if(typeof N=="number"){if(typeof d=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return P(N)}return b(N,d,m)}a(h,"Buffer"),h.poolSize=8192;function b(N,d,m){if(typeof N=="string")return F(N,d);if(ArrayBuffer.isView(N))return Q(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(_t(N,ArrayBuffer)||N&&_t(N.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(_t(N,SharedArrayBuffer)||N&&_t(N.buffer,SharedArrayBuffer)))return fe(N,d,m);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const q=N.valueOf&&N.valueOf();if(q!=null&&q!==N)return h.from(q,d,m);const Ee=L(N);if(Ee)return Ee;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return h.from(N[Symbol.toPrimitive]("string"),d,m);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}a(b,"from"),h.from=function(N,d,m){return b(N,d,m)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function y(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}a(y,"assertSize");function x(N,d,m){return y(N),N<=0?_(N):d!==void 0?typeof m=="string"?_(N).fill(d,m):_(N).fill(d):_(N)}a(x,"alloc"),h.alloc=function(N,d,m){return x(N,d,m)};function P(N){return y(N),_(N<0?0:H(N)|0)}a(P,"allocUnsafe"),h.allocUnsafe=function(N){return P(N)},h.allocUnsafeSlow=function(N){return P(N)};function F(N,d){if((typeof d!="string"||d==="")&&(d="utf8"),!h.isEncoding(d))throw new TypeError("Unknown encoding: "+d);const m=I(N,d)|0;let q=_(m);const Ee=q.write(N,d);return Ee!==m&&(q=q.slice(0,Ee)),q}a(F,"fromString");function Y(N){const d=N.length<0?0:H(N.length)|0,m=_(d);for(let q=0;q<d;q+=1)m[q]=N[q]&255;return m}a(Y,"fromArrayLike");function Q(N){if(_t(N,Uint8Array)){const d=new Uint8Array(N);return fe(d.buffer,d.byteOffset,d.byteLength)}return Y(N)}a(Q,"fromArrayView");function fe(N,d,m){if(d<0||N.byteLength<d)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<d+(m||0))throw new RangeError('"length" is outside of buffer bounds');let q;return d===void 0&&m===void 0?q=new Uint8Array(N):m===void 0?q=new Uint8Array(N,d):q=new Uint8Array(N,d,m),Object.setPrototypeOf(q,h.prototype),q}a(fe,"fromArrayBuffer");function L(N){if(h.isBuffer(N)){const d=H(N.length)|0,m=_(d);return m.length===0||N.copy(m,0,0,d),m}if(N.length!==void 0)return typeof N.length!="number"||Yt(N.length)?_(0):Y(N);if(N.type==="Buffer"&&Array.isArray(N.data))return Y(N.data)}a(L,"fromObject");function H(N){if(N>=R)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+R.toString(16)+" bytes");return N|0}a(H,"checked");function U(N){return+N!=N&&(N=0),h.alloc(+N)}a(U,"SlowBuffer"),h.isBuffer=a(function(d){return d!=null&&d._isBuffer===!0&&d!==h.prototype},"isBuffer"),h.compare=a(function(d,m){if(_t(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),_t(m,Uint8Array)&&(m=h.from(m,m.offset,m.byteLength)),!h.isBuffer(d)||!h.isBuffer(m))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(d===m)return 0;let q=d.length,Ee=m.length;for(let ce=0,Ce=Math.min(q,Ee);ce<Ce;++ce)if(d[ce]!==m[ce]){q=d[ce],Ee=m[ce];break}return q<Ee?-1:Ee<q?1:0},"compare"),h.isEncoding=a(function(d){switch(String(d).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},"isEncoding"),h.concat=a(function(d,m){if(!Array.isArray(d))throw new TypeError('"list" argument must be an Array of Buffers');if(d.length===0)return h.alloc(0);let q;if(m===void 0)for(m=0,q=0;q<d.length;++q)m+=d[q].length;const Ee=h.allocUnsafe(m);let ce=0;for(q=0;q<d.length;++q){let Ce=d[q];if(_t(Ce,Uint8Array))ce+Ce.length>Ee.length?(h.isBuffer(Ce)||(Ce=h.from(Ce)),Ce.copy(Ee,ce)):Uint8Array.prototype.set.call(Ee,Ce,ce);else if(h.isBuffer(Ce))Ce.copy(Ee,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=Ce.length}return Ee},"concat");function I(N,d){if(h.isBuffer(N))return N.length;if(ArrayBuffer.isView(N)||_t(N,ArrayBuffer))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const m=N.length,q=arguments.length>2&&arguments[2]===!0;if(!q&&m===0)return 0;let Ee=!1;for(;;)switch(d){case"ascii":case"latin1":case"binary":return m;case"utf8":case"utf-8":return oe(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m*2;case"hex":return m>>>1;case"base64":return ie(N).length;default:if(Ee)return q?-1:oe(N).length;d=(""+d).toLowerCase(),Ee=!0}}a(I,"byteLength"),h.byteLength=I;function k(N,d,m){let q=!1;if((d===void 0||d<0)&&(d=0),d>this.length||((m===void 0||m>this.length)&&(m=this.length),m<=0)||(m>>>=0,d>>>=0,m<=d))return"";for(N||(N="utf8");;)switch(N){case"hex":return Fe(this,d,m);case"utf8":case"utf-8":return We(this,d,m);case"ascii":return J(this,d,m);case"latin1":case"binary":return pe(this,d,m);case"base64":return z(this,d,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return je(this,d,m);default:if(q)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),q=!0}}a(k,"slowToString"),h.prototype._isBuffer=!0;function B(N,d,m){const q=N[d];N[d]=N[m],N[m]=q}a(B,"swap"),h.prototype.swap16=a(function(){const d=this.length;if(d%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let m=0;m<d;m+=2)B(this,m,m+1);return this},"swap16"),h.prototype.swap32=a(function(){const d=this.length;if(d%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let m=0;m<d;m+=4)B(this,m,m+3),B(this,m+1,m+2);return this},"swap32"),h.prototype.swap64=a(function(){const d=this.length;if(d%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let m=0;m<d;m+=8)B(this,m,m+7),B(this,m+1,m+6),B(this,m+2,m+5),B(this,m+3,m+4);return this},"swap64"),h.prototype.toString=a(function(){const d=this.length;return d===0?"":arguments.length===0?We(this,0,d):k.apply(this,arguments)},"toString"),h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=a(function(d){if(!h.isBuffer(d))throw new TypeError("Argument must be a Buffer");return this===d?!0:h.compare(this,d)===0},"equals"),h.prototype.inspect=a(function(){let d="";const m=l.h2;return d=this.toString("hex",0,m).replace(/(.{2})/g,"$1 ").trim(),this.length>m&&(d+=" ... "),"<Buffer "+d+">"},"inspect"),E&&(h.prototype[E]=h.prototype.inspect),h.prototype.compare=a(function(d,m,q,Ee,ce){if(_t(d,Uint8Array)&&(d=h.from(d,d.offset,d.byteLength)),!h.isBuffer(d))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof d);if(m===void 0&&(m=0),q===void 0&&(q=d?d.length:0),Ee===void 0&&(Ee=0),ce===void 0&&(ce=this.length),m<0||q>d.length||Ee<0||ce>this.length)throw new RangeError("out of range index");if(Ee>=ce&&m>=q)return 0;if(Ee>=ce)return-1;if(m>=q)return 1;if(m>>>=0,q>>>=0,Ee>>>=0,ce>>>=0,this===d)return 0;let Ce=ce-Ee,vt=q-m;const It=Math.min(Ce,vt),Mt=this.slice(Ee,ce),Xt=d.slice(m,q);for(let rr=0;rr<It;++rr)if(Mt[rr]!==Xt[rr]){Ce=Mt[rr],vt=Xt[rr];break}return Ce<vt?-1:vt<Ce?1:0},"compare");function ee(N,d,m,q,Ee){if(N.length===0)return-1;if(typeof m=="string"?(q=m,m=0):m>2147483647?m=2147483647:m<-2147483648&&(m=-2147483648),m=+m,Yt(m)&&(m=Ee?0:N.length-1),m<0&&(m=N.length+m),m>=N.length){if(Ee)return-1;m=N.length-1}else if(m<0)if(Ee)m=0;else return-1;if(typeof d=="string"&&(d=h.from(d,q)),h.isBuffer(d))return d.length===0?-1:V(N,d,m,q,Ee);if(typeof d=="number")return d=d&255,typeof Uint8Array.prototype.indexOf=="function"?Ee?Uint8Array.prototype.indexOf.call(N,d,m):Uint8Array.prototype.lastIndexOf.call(N,d,m):V(N,[d],m,q,Ee);throw new TypeError("val must be string, number or Buffer")}a(ee,"bidirectionalIndexOf");function V(N,d,m,q,Ee){let ce=1,Ce=N.length,vt=d.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(N.length<2||d.length<2)return-1;ce=2,Ce/=2,vt/=2,m/=2}function It(Xt,rr){return ce===1?Xt[rr]:Xt.readUInt16BE(rr*ce)}a(It,"read");let Mt;if(Ee){let Xt=-1;for(Mt=m;Mt<Ce;Mt++)if(It(N,Mt)===It(d,Xt===-1?0:Mt-Xt)){if(Xt===-1&&(Xt=Mt),Mt-Xt+1===vt)return Xt*ce}else Xt!==-1&&(Mt-=Mt-Xt),Xt=-1}else for(m+vt>Ce&&(m=Ce-vt),Mt=m;Mt>=0;Mt--){let Xt=!0;for(let rr=0;rr<vt;rr++)if(It(N,Mt+rr)!==It(d,rr)){Xt=!1;break}if(Xt)return Mt}return-1}a(V,"arrayIndexOf"),h.prototype.includes=a(function(d,m,q){return this.indexOf(d,m,q)!==-1},"includes"),h.prototype.indexOf=a(function(d,m,q){return ee(this,d,m,q,!0)},"indexOf"),h.prototype.lastIndexOf=a(function(d,m,q){return ee(this,d,m,q,!1)},"lastIndexOf");function te(N,d,m,q){m=Number(m)||0;const Ee=N.length-m;q?(q=Number(q),q>Ee&&(q=Ee)):q=Ee;const ce=d.length;q>ce/2&&(q=ce/2);let Ce;for(Ce=0;Ce<q;++Ce){const vt=parseInt(d.substr(Ce*2,2),16);if(Yt(vt))return Ce;N[m+Ce]=vt}return Ce}a(te,"hexWrite");function he(N,d,m,q){return Je(oe(d,N.length-m),N,m,q)}a(he,"utf8Write");function be(N,d,m,q){return Je(Me(d),N,m,q)}a(be,"asciiWrite");function re(N,d,m,q){return Je(ie(d),N,m,q)}a(re,"base64Write");function ye(N,d,m,q){return Je(de(d,N.length-m),N,m,q)}a(ye,"ucs2Write"),h.prototype.write=a(function(d,m,q,Ee){if(m===void 0)Ee="utf8",q=this.length,m=0;else if(q===void 0&&typeof m=="string")Ee=m,q=this.length,m=0;else if(isFinite(m))m=m>>>0,isFinite(q)?(q=q>>>0,Ee===void 0&&(Ee="utf8")):(Ee=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ce=this.length-m;if((q===void 0||q>ce)&&(q=ce),d.length>0&&(q<0||m<0)||m>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Ce=!1;for(;;)switch(Ee){case"hex":return te(this,d,m,q);case"utf8":case"utf-8":return he(this,d,m,q);case"ascii":case"latin1":case"binary":return be(this,d,m,q);case"base64":return re(this,d,m,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ye(this,d,m,q);default:if(Ce)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Ce=!0}},"write"),h.prototype.toJSON=a(function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},"toJSON");function z(N,d,m){return d===0&&m===N.length?p.fromByteArray(N):p.fromByteArray(N.slice(d,m))}a(z,"base64Slice");function We(N,d,m){m=Math.min(N.length,m);const q=[];let Ee=d;for(;Ee<m;){const ce=N[Ee];let Ce=null,vt=ce>239?4:ce>223?3:ce>191?2:1;if(Ee+vt<=m){let It,Mt,Xt,rr;switch(vt){case 1:ce<128&&(Ce=ce);break;case 2:It=N[Ee+1],(It&192)==128&&(rr=(ce&31)<<6|It&63,rr>127&&(Ce=rr));break;case 3:It=N[Ee+1],Mt=N[Ee+2],(It&192)==128&&(Mt&192)==128&&(rr=(ce&15)<<12|(It&63)<<6|Mt&63,rr>2047&&(rr<55296||rr>57343)&&(Ce=rr));break;case 4:It=N[Ee+1],Mt=N[Ee+2],Xt=N[Ee+3],(It&192)==128&&(Mt&192)==128&&(Xt&192)==128&&(rr=(ce&15)<<18|(It&63)<<12|(Mt&63)<<6|Xt&63,rr>65535&&rr<1114112&&(Ce=rr))}}Ce===null?(Ce=65533,vt=1):Ce>65535&&(Ce-=65536,q.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),q.push(Ce),Ee+=vt}return ue(q)}a(We,"utf8Slice");const ve=4096;function ue(N){const d=N.length;if(d<=ve)return String.fromCharCode.apply(String,N);let m="",q=0;for(;q<d;)m+=String.fromCharCode.apply(String,N.slice(q,q+=ve));return m}a(ue,"decodeCodePointsArray");function J(N,d,m){let q="";m=Math.min(N.length,m);for(let Ee=d;Ee<m;++Ee)q+=String.fromCharCode(N[Ee]&127);return q}a(J,"asciiSlice");function pe(N,d,m){let q="";m=Math.min(N.length,m);for(let Ee=d;Ee<m;++Ee)q+=String.fromCharCode(N[Ee]);return q}a(pe,"latin1Slice");function Fe(N,d,m){const q=N.length;(!d||d<0)&&(d=0),(!m||m<0||m>q)&&(m=q);let Ee="";for(let ce=d;ce<m;++ce)Ee+=Tr[N[ce]];return Ee}a(Fe,"hexSlice");function je(N,d,m){const q=N.slice(d,m);let Ee="";for(let ce=0;ce<q.length-1;ce+=2)Ee+=String.fromCharCode(q[ce]+q[ce+1]*256);return Ee}a(je,"utf16leSlice"),h.prototype.slice=a(function(d,m){const q=this.length;d=~~d,m=m===void 0?q:~~m,d<0?(d+=q,d<0&&(d=0)):d>q&&(d=q),m<0?(m+=q,m<0&&(m=0)):m>q&&(m=q),m<d&&(m=d);const Ee=this.subarray(d,m);return Object.setPrototypeOf(Ee,h.prototype),Ee},"slice");function ne(N,d,m){if(N%1!=0||N<0)throw new RangeError("offset is not uint");if(N+d>m)throw new RangeError("Trying to access beyond buffer length")}a(ne,"checkOffset"),h.prototype.readUintLE=h.prototype.readUIntLE=a(function(d,m,q){d=d>>>0,m=m>>>0,q||ne(d,m,this.length);let Ee=this[d],ce=1,Ce=0;for(;++Ce<m&&(ce*=256);)Ee+=this[d+Ce]*ce;return Ee},"readUIntLE"),h.prototype.readUintBE=h.prototype.readUIntBE=a(function(d,m,q){d=d>>>0,m=m>>>0,q||ne(d,m,this.length);let Ee=this[d+--m],ce=1;for(;m>0&&(ce*=256);)Ee+=this[d+--m]*ce;return Ee},"readUIntBE"),h.prototype.readUint8=h.prototype.readUInt8=a(function(d,m){return d=d>>>0,m||ne(d,1,this.length),this[d]},"readUInt8"),h.prototype.readUint16LE=h.prototype.readUInt16LE=a(function(d,m){return d=d>>>0,m||ne(d,2,this.length),this[d]|this[d+1]<<8},"readUInt16LE"),h.prototype.readUint16BE=h.prototype.readUInt16BE=a(function(d,m){return d=d>>>0,m||ne(d,2,this.length),this[d]<<8|this[d+1]},"readUInt16BE"),h.prototype.readUint32LE=h.prototype.readUInt32LE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),(this[d]|this[d+1]<<8|this[d+2]<<16)+this[d+3]*16777216},"readUInt32LE"),h.prototype.readUint32BE=h.prototype.readUInt32BE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),this[d]*16777216+(this[d+1]<<16|this[d+2]<<8|this[d+3])},"readUInt32BE"),h.prototype.readBigUInt64LE=lr(a(function(d){d=d>>>0,Le(d,"offset");const m=this[d],q=this[d+7];(m===void 0||q===void 0)&&et(d,this.length-8);const Ee=m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24,ce=this[++d]+this[++d]*2**8+this[++d]*2**16+q*2**24;return BigInt(Ee)+(BigInt(ce)<<BigInt(32))},"readBigUInt64LE")),h.prototype.readBigUInt64BE=lr(a(function(d){d=d>>>0,Le(d,"offset");const m=this[d],q=this[d+7];(m===void 0||q===void 0)&&et(d,this.length-8);const Ee=m*2**24+this[++d]*2**16+this[++d]*2**8+this[++d],ce=this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+q;return(BigInt(Ee)<<BigInt(32))+BigInt(ce)},"readBigUInt64BE")),h.prototype.readIntLE=a(function(d,m,q){d=d>>>0,m=m>>>0,q||ne(d,m,this.length);let Ee=this[d],ce=1,Ce=0;for(;++Ce<m&&(ce*=256);)Ee+=this[d+Ce]*ce;return ce*=128,Ee>=ce&&(Ee-=Math.pow(2,8*m)),Ee},"readIntLE"),h.prototype.readIntBE=a(function(d,m,q){d=d>>>0,m=m>>>0,q||ne(d,m,this.length);let Ee=m,ce=1,Ce=this[d+--Ee];for(;Ee>0&&(ce*=256);)Ce+=this[d+--Ee]*ce;return ce*=128,Ce>=ce&&(Ce-=Math.pow(2,8*m)),Ce},"readIntBE"),h.prototype.readInt8=a(function(d,m){return d=d>>>0,m||ne(d,1,this.length),this[d]&128?(255-this[d]+1)*-1:this[d]},"readInt8"),h.prototype.readInt16LE=a(function(d,m){d=d>>>0,m||ne(d,2,this.length);const q=this[d]|this[d+1]<<8;return q&32768?q|4294901760:q},"readInt16LE"),h.prototype.readInt16BE=a(function(d,m){d=d>>>0,m||ne(d,2,this.length);const q=this[d+1]|this[d]<<8;return q&32768?q|4294901760:q},"readInt16BE"),h.prototype.readInt32LE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),this[d]|this[d+1]<<8|this[d+2]<<16|this[d+3]<<24},"readInt32LE"),h.prototype.readInt32BE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),this[d]<<24|this[d+1]<<16|this[d+2]<<8|this[d+3]},"readInt32BE"),h.prototype.readBigInt64LE=lr(a(function(d){d=d>>>0,Le(d,"offset");const m=this[d],q=this[d+7];(m===void 0||q===void 0)&&et(d,this.length-8);const Ee=this[d+4]+this[d+5]*2**8+this[d+6]*2**16+(q<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(m+this[++d]*2**8+this[++d]*2**16+this[++d]*2**24)},"readBigInt64LE")),h.prototype.readBigInt64BE=lr(a(function(d){d=d>>>0,Le(d,"offset");const m=this[d],q=this[d+7];(m===void 0||q===void 0)&&et(d,this.length-8);const Ee=(m<<24)+this[++d]*2**16+this[++d]*2**8+this[++d];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++d]*2**24+this[++d]*2**16+this[++d]*2**8+q)},"readBigInt64BE")),h.prototype.readFloatLE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),w.read(this,d,!0,23,4)},"readFloatLE"),h.prototype.readFloatBE=a(function(d,m){return d=d>>>0,m||ne(d,4,this.length),w.read(this,d,!1,23,4)},"readFloatBE"),h.prototype.readDoubleLE=a(function(d,m){return d=d>>>0,m||ne(d,8,this.length),w.read(this,d,!0,52,8)},"readDoubleLE"),h.prototype.readDoubleBE=a(function(d,m){return d=d>>>0,m||ne(d,8,this.length),w.read(this,d,!1,52,8)},"readDoubleBE");function Ke(N,d,m,q,Ee,ce){if(!h.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(d>Ee||d<ce)throw new RangeError('"value" argument is out of bounds');if(m+q>N.length)throw new RangeError("Index out of range")}a(Ke,"checkInt"),h.prototype.writeUintLE=h.prototype.writeUIntLE=a(function(d,m,q,Ee){if(d=+d,m=m>>>0,q=q>>>0,!Ee){const vt=Math.pow(2,8*q)-1;Ke(this,d,m,q,vt,0)}let ce=1,Ce=0;for(this[m]=d&255;++Ce<q&&(ce*=256);)this[m+Ce]=d/ce&255;return m+q},"writeUIntLE"),h.prototype.writeUintBE=h.prototype.writeUIntBE=a(function(d,m,q,Ee){if(d=+d,m=m>>>0,q=q>>>0,!Ee){const vt=Math.pow(2,8*q)-1;Ke(this,d,m,q,vt,0)}let ce=q-1,Ce=1;for(this[m+ce]=d&255;--ce>=0&&(Ce*=256);)this[m+ce]=d/Ce&255;return m+q},"writeUIntBE"),h.prototype.writeUint8=h.prototype.writeUInt8=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,1,255,0),this[m]=d&255,m+1},"writeUInt8"),h.prototype.writeUint16LE=h.prototype.writeUInt16LE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,2,65535,0),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeUInt16LE"),h.prototype.writeUint16BE=h.prototype.writeUInt16BE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,2,65535,0),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeUInt16BE"),h.prototype.writeUint32LE=h.prototype.writeUInt32LE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,4,4294967295,0),this[m+3]=d>>>24,this[m+2]=d>>>16,this[m+1]=d>>>8,this[m]=d&255,m+4},"writeUInt32LE"),h.prototype.writeUint32BE=h.prototype.writeUInt32BE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,4,4294967295,0),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeUInt32BE");function rt(N,d,m,q,Ee){Ie(d,q,Ee,N,m,7);let ce=Number(d&BigInt(4294967295));N[m++]=ce,ce=ce>>8,N[m++]=ce,ce=ce>>8,N[m++]=ce,ce=ce>>8,N[m++]=ce;let Ce=Number(d>>BigInt(32)&BigInt(4294967295));return N[m++]=Ce,Ce=Ce>>8,N[m++]=Ce,Ce=Ce>>8,N[m++]=Ce,Ce=Ce>>8,N[m++]=Ce,m}a(rt,"wrtBigUInt64LE");function ot(N,d,m,q,Ee){Ie(d,q,Ee,N,m,7);let ce=Number(d&BigInt(4294967295));N[m+7]=ce,ce=ce>>8,N[m+6]=ce,ce=ce>>8,N[m+5]=ce,ce=ce>>8,N[m+4]=ce;let Ce=Number(d>>BigInt(32)&BigInt(4294967295));return N[m+3]=Ce,Ce=Ce>>8,N[m+2]=Ce,Ce=Ce>>8,N[m+1]=Ce,Ce=Ce>>8,N[m]=Ce,m+8}a(ot,"wrtBigUInt64BE"),h.prototype.writeBigUInt64LE=lr(a(function(d,m=0){return rt(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64LE")),h.prototype.writeBigUInt64BE=lr(a(function(d,m=0){return ot(this,d,m,BigInt(0),BigInt("0xffffffffffffffff"))},"writeBigUInt64BE")),h.prototype.writeIntLE=a(function(d,m,q,Ee){if(d=+d,m=m>>>0,!Ee){const It=Math.pow(2,8*q-1);Ke(this,d,m,q,It-1,-It)}let ce=0,Ce=1,vt=0;for(this[m]=d&255;++ce<q&&(Ce*=256);)d<0&&vt===0&&this[m+ce-1]!==0&&(vt=1),this[m+ce]=(d/Ce>>0)-vt&255;return m+q},"writeIntLE"),h.prototype.writeIntBE=a(function(d,m,q,Ee){if(d=+d,m=m>>>0,!Ee){const It=Math.pow(2,8*q-1);Ke(this,d,m,q,It-1,-It)}let ce=q-1,Ce=1,vt=0;for(this[m+ce]=d&255;--ce>=0&&(Ce*=256);)d<0&&vt===0&&this[m+ce+1]!==0&&(vt=1),this[m+ce]=(d/Ce>>0)-vt&255;return m+q},"writeIntBE"),h.prototype.writeInt8=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,1,127,-128),d<0&&(d=255+d+1),this[m]=d&255,m+1},"writeInt8"),h.prototype.writeInt16LE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,2,32767,-32768),this[m]=d&255,this[m+1]=d>>>8,m+2},"writeInt16LE"),h.prototype.writeInt16BE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,2,32767,-32768),this[m]=d>>>8,this[m+1]=d&255,m+2},"writeInt16BE"),h.prototype.writeInt32LE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,4,2147483647,-2147483648),this[m]=d&255,this[m+1]=d>>>8,this[m+2]=d>>>16,this[m+3]=d>>>24,m+4},"writeInt32LE"),h.prototype.writeInt32BE=a(function(d,m,q){return d=+d,m=m>>>0,q||Ke(this,d,m,4,2147483647,-2147483648),d<0&&(d=4294967295+d+1),this[m]=d>>>24,this[m+1]=d>>>16,this[m+2]=d>>>8,this[m+3]=d&255,m+4},"writeInt32BE"),h.prototype.writeBigInt64LE=lr(a(function(d,m=0){return rt(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64LE")),h.prototype.writeBigInt64BE=lr(a(function(d,m=0){return ot(this,d,m,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))},"writeBigInt64BE"));function K(N,d,m,q,Ee,ce){if(m+q>N.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("Index out of range")}a(K,"checkIEEE754");function X(N,d,m,q,Ee){return d=+d,m=m>>>0,Ee||K(N,d,m,4,34028234663852886e22,-34028234663852886e22),w.write(N,d,m,q,23,4),m+4}a(X,"writeFloat"),h.prototype.writeFloatLE=a(function(d,m,q){return X(this,d,m,!0,q)},"writeFloatLE"),h.prototype.writeFloatBE=a(function(d,m,q){return X(this,d,m,!1,q)},"writeFloatBE");function ae(N,d,m,q,Ee){return d=+d,m=m>>>0,Ee||K(N,d,m,8,17976931348623157e292,-17976931348623157e292),w.write(N,d,m,q,52,8),m+8}a(ae,"writeDouble"),h.prototype.writeDoubleLE=a(function(d,m,q){return ae(this,d,m,!0,q)},"writeDoubleLE"),h.prototype.writeDoubleBE=a(function(d,m,q){return ae(this,d,m,!1,q)},"writeDoubleBE"),h.prototype.copy=a(function(d,m,q,Ee){if(!h.isBuffer(d))throw new TypeError("argument should be a Buffer");if(q||(q=0),!Ee&&Ee!==0&&(Ee=this.length),m>=d.length&&(m=d.length),m||(m=0),Ee>0&&Ee<q&&(Ee=q),Ee===q||d.length===0||this.length===0)return 0;if(m<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),d.length-m<Ee-q&&(Ee=d.length-m+q);const ce=Ee-q;return this===d&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(m,q,Ee):Uint8Array.prototype.set.call(d,this.subarray(q,Ee),m),ce},"copy"),h.prototype.fill=a(function(d,m,q,Ee){if(typeof d=="string"){if(typeof m=="string"?(Ee=m,m=0,q=this.length):typeof q=="string"&&(Ee=q,q=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!h.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(d.length===1){const Ce=d.charCodeAt(0);(Ee==="utf8"&&Ce<128||Ee==="latin1")&&(d=Ce)}}else typeof d=="number"?d=d&255:typeof d=="boolean"&&(d=Number(d));if(m<0||this.length<m||this.length<q)throw new RangeError("Out of range index");if(q<=m)return this;m=m>>>0,q=q===void 0?this.length:q>>>0,d||(d=0);let ce;if(typeof d=="number")for(ce=m;ce<q;++ce)this[ce]=d;else{const Ce=h.isBuffer(d)?d:h.from(d,Ee),vt=Ce.length;if(vt===0)throw new TypeError('The value "'+d+'" is invalid for argument "value"');for(ce=0;ce<q-m;++ce)this[ce+m]=Ce[ce%vt]}return this},"fill");const we={};function ke(N,d,m){we[N]=a(class extends m{constructor(){super();Object.defineProperty(this,"message",{value:d.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}},"NodeError")}a(ke,"E"),ke("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ke("ERR_INVALID_ARG_TYPE",function(N,d){return`The "${N}" argument must be of type number. Received type ${typeof d}`},TypeError),ke("ERR_OUT_OF_RANGE",function(N,d,m){let q=`The value of "${N}" is out of range.`,Ee=m;return Number.isInteger(m)&&Math.abs(m)>2**32?Ee=Be(String(m)):typeof m=="bigint"&&(Ee=String(m),(m>BigInt(2)**BigInt(32)||m<-(BigInt(2)**BigInt(32)))&&(Ee=Be(Ee)),Ee+="n"),q+=` It must be ${d}. Received ${Ee}`,q},RangeError);function Be(N){let d="",m=N.length;const q=N[0]==="-"?1:0;for(;m>=q+4;m-=3)d=`_${N.slice(m-3,m)}${d}`;return`${N.slice(0,m)}${d}`}a(Be,"addNumericalSeparator");function _e(N,d,m){Le(d,"offset"),(N[d]===void 0||N[d+m]===void 0)&&et(d,N.length-(m+1))}a(_e,"checkBounds");function Ie(N,d,m,q,Ee,ce){if(N>m||N<d){const Ce=typeof d=="bigint"?"n":"";let vt;throw ce>3?d===0||d===BigInt(0)?vt=`>= 0${Ce} and < 2${Ce} ** ${(ce+1)*8}${Ce}`:vt=`>= -(2${Ce} ** ${(ce+1)*8-1}${Ce}) and < 2 ** ${(ce+1)*8-1}${Ce}`:vt=`>= ${d}${Ce} and <= ${m}${Ce}`,new we.ERR_OUT_OF_RANGE("value",vt,N)}_e(q,Ee,ce)}a(Ie,"checkIntBI");function Le(N,d){if(typeof N!="number")throw new we.ERR_INVALID_ARG_TYPE(d,"number",N)}a(Le,"validateNumber");function et(N,d,m){throw Math.floor(N)!==N?(Le(N,m),new we.ERR_OUT_OF_RANGE(m||"offset","an integer",N)):d<0?new we.ERR_BUFFER_OUT_OF_BOUNDS:new we.ERR_OUT_OF_RANGE(m||"offset",`>= ${m?1:0} and <= ${d}`,N)}a(et,"boundsError");const Ne=/[^+/0-9A-Za-z-_]/g;function He(N){if(N=N.split("=")[0],N=N.trim().replace(Ne,""),N.length<2)return"";for(;N.length%4!=0;)N=N+"=";return N}a(He,"base64clean");function oe(N,d){d=d||1/0;let m;const q=N.length;let Ee=null;const ce=[];for(let Ce=0;Ce<q;++Ce){if(m=N.charCodeAt(Ce),m>55295&&m<57344){if(!Ee){if(m>56319){(d-=3)>-1&&ce.push(239,191,189);continue}else if(Ce+1===q){(d-=3)>-1&&ce.push(239,191,189);continue}Ee=m;continue}if(m<56320){(d-=3)>-1&&ce.push(239,191,189),Ee=m;continue}m=(Ee-55296<<10|m-56320)+65536}else Ee&&(d-=3)>-1&&ce.push(239,191,189);if(Ee=null,m<128){if((d-=1)<0)break;ce.push(m)}else if(m<2048){if((d-=2)<0)break;ce.push(m>>6|192,m&63|128)}else if(m<65536){if((d-=3)<0)break;ce.push(m>>12|224,m>>6&63|128,m&63|128)}else if(m<1114112){if((d-=4)<0)break;ce.push(m>>18|240,m>>12&63|128,m>>6&63|128,m&63|128)}else throw new Error("Invalid code point")}return ce}a(oe,"utf8ToBytes");function Me(N){const d=[];for(let m=0;m<N.length;++m)d.push(N.charCodeAt(m)&255);return d}a(Me,"asciiToBytes");function de(N,d){let m,q,Ee;const ce=[];for(let Ce=0;Ce<N.length&&!((d-=2)<0);++Ce)m=N.charCodeAt(Ce),q=m>>8,Ee=m%256,ce.push(Ee),ce.push(q);return ce}a(de,"utf16leToBytes");function ie(N){return p.toByteArray(He(N))}a(ie,"base64ToBytes");function Je(N,d,m,q){let Ee;for(Ee=0;Ee<q&&!(Ee+m>=d.length||Ee>=N.length);++Ee)d[Ee+m]=N[Ee];return Ee}a(Je,"blitBuffer");function _t(N,d){return N instanceof d||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===d.name}a(_t,"isInstance");function Yt(N){return N!==N}a(Yt,"numberIsNaN");const Tr=function(){const N="0123456789abcdef",d=new Array(256);for(let m=0;m<16;++m){const q=m*16;for(let Ee=0;Ee<16;++Ee)d[q+Ee]=N[m]+N[Ee]}return d}();function lr(N){return typeof BigInt=="undefined"?Vr:N}a(lr,"defineBigIntMethod");function Vr(){throw new Error("BigInt not supported")}a(Vr,"BufferBigIntNotDefined")},1:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var Buffer=__webpack_require__(8764).lW;const Token=__webpack_require__(3416),strtok3=__webpack_require__(5849),{stringToBytes,tarHeaderChecksumMatches,uint32SyncSafeToken}=__webpack_require__(6188),supported=__webpack_require__(9898),minimumBytes=4100;async function fromStream(ge){const l=await strtok3.fromStream(ge);try{return await fromTokenizer(l)}finally{await l.close()}}a(fromStream,"fromStream");async function fromBuffer(ge){if(!(ge instanceof Uint8Array||ge instanceof ArrayBuffer||Buffer.isBuffer(ge)))throw new TypeError(`Expected the \`input\` argument to be of type \`Uint8Array\` or \`Buffer\` or \`ArrayBuffer\`, got \`${typeof ge}\``);const l=ge instanceof Buffer?ge:Buffer.from(ge);if(!(l&&l.length>1))return;const S=strtok3.fromBuffer(l);return fromTokenizer(S)}a(fromBuffer,"fromBuffer");function _check(ge,l,S){S={offset:0,...S};for(const[v,p]of l.entries())if(S.mask){if(p!==(S.mask[v]&ge[v+S.offset]))return!1}else if(p!==ge[v+S.offset])return!1;return!0}a(_check,"_check");async function fromTokenizer(ge){try{return _fromTokenizer(ge)}catch(l){if(!(l instanceof strtok3.EndOfStreamError))throw l}}a(fromTokenizer,"fromTokenizer");async function _fromTokenizer(ge){let l=Buffer.alloc(minimumBytes);const S=12,v=a((w,E)=>_check(l,w,E),"check"),p=a((w,E)=>v(stringToBytes(w),E),"checkString");if(ge.fileInfo.size||(ge.fileInfo.size=Number.MAX_SAFE_INTEGER),await ge.peekBuffer(l,{length:S,mayBeLess:!0}),v([66,77]))return{ext:"bmp",mime:"image/bmp"};if(v([11,119]))return{ext:"ac3",mime:"audio/vnd.dolby.dd-raw"};if(v([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(v([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if(v([37,33]))return await ge.peekBuffer(l,{length:24,mayBeLess:!0}),p("PS-Adobe-",{offset:2})&&p(" EPSF-",{offset:14})?{ext:"eps",mime:"application/eps"}:{ext:"ps",mime:"application/postscript"};if(v([31,160])||v([31,157]))return{ext:"Z",mime:"application/x-compress"};if(v([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(v([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(v([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(v([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(p("ID3")){await ge.ignore(6);const w=await ge.readToken(uint32SyncSafeToken);return ge.position+w>ge.fileInfo.size?{ext:"mp3",mime:"audio/mpeg"}:(await ge.ignore(w),fromTokenizer(ge))}if(p("MP+"))return{ext:"mpc",mime:"audio/x-musepack"};if((l[0]===67||l[0]===70)&&v([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(v([71,73,70]))return{ext:"gif",mime:"image/gif"};if(p("FLIF"))return{ext:"flif",mime:"image/flif"};if(p("8BPS"))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(p("WEBP",{offset:8}))return{ext:"webp",mime:"image/webp"};if(p("MPCK"))return{ext:"mpc",mime:"audio/x-musepack"};if(p("FORM"))return{ext:"aif",mime:"audio/aiff"};if(p("icns",{offset:0}))return{ext:"icns",mime:"image/icns"};if(v([80,75,3,4])){try{for(;ge.position+30<ge.fileInfo.size;){await ge.readBuffer(l,{length:30});const w={compressedSize:l.readUInt32LE(18),uncompressedSize:l.readUInt32LE(22),filenameLength:l.readUInt16LE(26),extraFieldLength:l.readUInt16LE(28)};if(w.filename=await ge.readToken(new Token.StringType(w.filenameLength,"utf-8")),await ge.ignore(w.extraFieldLength),w.filename==="META-INF/mozilla.rsa")return{ext:"xpi",mime:"application/x-xpinstall"};if(w.filename.endsWith(".rels")||w.filename.endsWith(".xml"))switch(w.filename.split("/")[0]){case"_rels":break;case"word":return{ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"};case"ppt":return{ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"};case"xl":return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};default:break}if(w.filename.startsWith("xl/"))return{ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"};if(w.filename.startsWith("3D/")&&w.filename.endsWith(".model"))return{ext:"3mf",mime:"model/3mf"};if(w.filename==="mimetype"&&w.compressedSize===w.uncompressedSize)switch(await ge.readToken(new Token.StringType(w.compressedSize,"utf-8"))){case"application/epub+zip":return{ext:"epub",mime:"application/epub+zip"};case"application/vnd.oasis.opendocument.text":return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};case"application/vnd.oasis.opendocument.spreadsheet":return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};case"application/vnd.oasis.opendocument.presentation":return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};default:}if(w.compressedSize===0){let E=-1;for(;E<0&&ge.position<ge.fileInfo.size;)await ge.peekBuffer(l,{mayBeLess:!0}),E=l.indexOf("504B0304",0,"hex"),await ge.ignore(E>=0?E:l.length)}else await ge.ignore(w.compressedSize)}}catch(w){if(!(w instanceof strtok3.EndOfStreamError))throw w}return{ext:"zip",mime:"application/zip"}}if(p("OggS")){await ge.ignore(28);const w=Buffer.alloc(8);return await ge.readBuffer(w),_check(w,[79,112,117,115,72,101,97,100])?{ext:"opus",mime:"audio/opus"}:_check(w,[128,116,104,101,111,114,97])?{ext:"ogv",mime:"video/ogg"}:_check(w,[1,118,105,100,101,111,0])?{ext:"ogm",mime:"video/ogg"}:_check(w,[127,70,76,65,67])?{ext:"oga",mime:"audio/ogg"}:_check(w,[83,112,101,101,120,32,32])?{ext:"spx",mime:"audio/ogg"}:_check(w,[1,118,111,114,98,105,115])?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"}}if(v([80,75])&&(l[2]===3||l[2]===5||l[2]===7)&&(l[3]===4||l[3]===6||l[3]===8))return{ext:"zip",mime:"application/zip"};if(p("ftyp",{offset:4})&&(l[8]&96)!=0){const w=l.toString("binary",8,12).replace("\0"," ").trim();switch(w){case"avif":return{ext:"avif",mime:"image/avif"};case"mif1":return{ext:"heic",mime:"image/heif"};case"msf1":return{ext:"heic",mime:"image/heif-sequence"};case"heic":case"heix":return{ext:"heic",mime:"image/heic"};case"hevc":case"hevx":return{ext:"heic",mime:"image/heic-sequence"};case"qt":return{ext:"mov",mime:"video/quicktime"};case"M4V":case"M4VH":case"M4VP":return{ext:"m4v",mime:"video/x-m4v"};case"M4P":return{ext:"m4p",mime:"video/mp4"};case"M4B":return{ext:"m4b",mime:"audio/mp4"};case"M4A":return{ext:"m4a",mime:"audio/x-m4a"};case"F4V":return{ext:"f4v",mime:"video/mp4"};case"F4P":return{ext:"f4p",mime:"video/mp4"};case"F4A":return{ext:"f4a",mime:"audio/mp4"};case"F4B":return{ext:"f4b",mime:"audio/mp4"};case"crx":return{ext:"cr3",mime:"image/x-canon-cr3"};default:return w.startsWith("3g")?w.startsWith("3g2")?{ext:"3g2",mime:"video/3gpp2"}:{ext:"3gp",mime:"video/3gpp"}:{ext:"mp4",mime:"video/mp4"}}}if(p("MThd"))return{ext:"mid",mime:"audio/midi"};if(p("wOFF")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff",mime:"font/woff"};if(p("wOF2")&&(v([0,1,0,0],{offset:4})||p("OTTO",{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(v([212,195,178,161])||v([161,178,195,212]))return{ext:"pcap",mime:"application/vnd.tcpdump.pcap"};if(p("DSD "))return{ext:"dsf",mime:"audio/x-dsf"};if(p("LZIP"))return{ext:"lz",mime:"application/x-lzip"};if(p("fLaC"))return{ext:"flac",mime:"audio/x-flac"};if(v([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(p("wvpk"))return{ext:"wv",mime:"audio/wavpack"};if(p("%PDF")){await ge.ignore(1350);const w=10*1024*1024,E=Buffer.alloc(Math.min(w,ge.fileInfo.size));return await ge.readBuffer(E,{mayBeLess:!0}),E.includes(Buffer.from("AIPrivateData"))?{ext:"ai",mime:"application/postscript"}:{ext:"pdf",mime:"application/pdf"}}if(v([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(v([73,73,42,0]))return p("CR",{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:v([28,0,254,0],{offset:8})||v([31,0,11,0],{offset:8})?{ext:"nef",mime:"image/x-nikon-nef"}:v([8,0,0,0],{offset:4})&&(v([45,0,254,0],{offset:8})||v([39,0,254,0],{offset:8}))?{ext:"dng",mime:"image/x-adobe-dng"}:(l=Buffer.alloc(24),await ge.peekBuffer(l),(v([16,251,134,1],{offset:4})||v([8,0,0,0],{offset:4}))&&v([0,254,0,4,0,1,0,0,0,1,0,0,0,3,1],{offset:9})?{ext:"arw",mime:"image/x-sony-arw"}:{ext:"tif",mime:"image/tiff"});if(v([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(p("MAC "))return{ext:"ape",mime:"audio/ape"};if(v([26,69,223,163])){async function w(){const h=await ge.peekNumber(Token.UINT8);let b=128,y=0;for(;(h&b)==0&&b!==0;)++y,b>>=1;const x=Buffer.alloc(y+1);return await ge.readBuffer(x),x}a(w,"readField");async function E(){const h=await w(),b=await w();b[0]^=128>>b.length-1;const y=Math.min(6,b.length);return{id:h.readUIntBE(0,h.length),len:b.readUIntBE(b.length-y,y)}}a(E,"readElement");async function R(h,b){for(;b>0;){const y=await E();if(y.id===17026)return ge.readToken(new Token.StringType(y.len,"utf-8"));await ge.ignore(y.len),--b}}a(R,"readChildren");const D=await E();switch(await R(1,D.len)){case"webm":return{ext:"webm",mime:"video/webm"};case"matroska":return{ext:"mkv",mime:"video/x-matroska"};default:return}}if(v([82,73,70,70])){if(v([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(v([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(v([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(p("SQLi"))return{ext:"sqlite",mime:"application/x-sqlite3"};if(v([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(p("Cr24"))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(p("MSCF")||p("ISc("))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(v([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(v([197,208,211,198]))return{ext:"eps",mime:"application/eps"};if(v([40,181,47,253]))return{ext:"zst",mime:"application/zstd"};if(v([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(p("#!AMR"))return{ext:"amr",mime:"audio/amr"};if(p("{\\rtf"))return{ext:"rtf",mime:"application/rtf"};if(v([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(p("IMPM"))return{ext:"it",mime:"audio/x-it"};if(p("-lh0-",{offset:2})||p("-lh1-",{offset:2})||p("-lh2-",{offset:2})||p("-lh3-",{offset:2})||p("-lh4-",{offset:2})||p("-lh5-",{offset:2})||p("-lh6-",{offset:2})||p("-lh7-",{offset:2})||p("-lzs-",{offset:2})||p("-lz4-",{offset:2})||p("-lz5-",{offset:2})||p("-lhd-",{offset:2}))return{ext:"lzh",mime:"application/x-lzh-compressed"};if(v([0,0,1,186])){if(v([33],{offset:4,mask:[241]}))return{ext:"mpg",mime:"video/MP1S"};if(v([68],{offset:4,mask:[196]}))return{ext:"mpg",mime:"video/MP2P"}}if(p("ITSF"))return{ext:"chm",mime:"application/vnd.ms-htmlhelp"};if(v([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(p("<?xml "))return{ext:"xml",mime:"application/xml"};if(v([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(v([82,97,114,33,26,7])&&(l[6]===0||l[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(p("solid "))return{ext:"stl",mime:"model/stl"};if(p("BLENDER"))return{ext:"blend",mime:"application/x-blender"};if(p("!<arch>"))return await ge.ignore(8),await ge.readToken(new Token.StringType(13,"ascii"))==="debian-binary"?{ext:"deb",mime:"application/x-deb"}:{ext:"ar",mime:"application/x-unix-archive"};if(v([137,80,78,71,13,10,26,10])){await ge.ignore(8);async function w(){return{length:await ge.readToken(Token.INT32_BE),type:await ge.readToken(new Token.StringType(4,"binary"))}}a(w,"readChunkHeader");do{const E=await w();if(E.length<0)return;switch(E.type){case"IDAT":return{ext:"png",mime:"image/png"};case"acTL":return{ext:"apng",mime:"image/apng"};default:await ge.ignore(E.length+4)}}while(ge.position+8<ge.fileInfo.size);return{ext:"png",mime:"image/png"}}if(v([65,82,82,79,87,49,0,0]))return{ext:"arrow",mime:"application/x-apache-arrow"};if(v([103,108,84,70,2,0,0,0]))return{ext:"glb",mime:"model/gltf-binary"};if(v([102,114,101,101],{offset:4})||v([109,100,97,116],{offset:4})||v([109,111,111,118],{offset:4})||v([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(v([73,73,82,79,8,0,0,0,24]))return{ext:"orf",mime:"image/x-olympus-orf"};if(p("gimp xcf "))return{ext:"xcf",mime:"image/x-xcf"};if(v([73,73,85,0,24,0,0,0,136,231,116,216]))return{ext:"rw2",mime:"image/x-panasonic-rw2"};if(v([48,38,178,117,142,102,207,17,166,217])){async function w(){const E=Buffer.alloc(16);return await ge.readBuffer(E),{id:E,size:Number(await ge.readToken(Token.UINT64_LE))}}for(a(w,"readHeader"),await ge.ignore(30);ge.position+24<ge.fileInfo.size;){const E=await w();let R=E.size-24;if(_check(E.id,[145,7,220,183,183,169,207,17,142,230,0,192,12,32,83,101])){const D=Buffer.alloc(16);if(R-=await ge.readBuffer(D),_check(D,[64,158,105,248,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"audio/x-ms-asf"};if(_check(D,[192,239,25,188,77,91,207,17,168,253,0,128,95,92,68,43]))return{ext:"asf",mime:"video/x-ms-asf"};break}await ge.ignore(R)}return{ext:"asf",mime:"application/vnd.ms-asf"}}if(v([171,75,84,88,32,49,49,187,13,10,26,10]))return{ext:"ktx",mime:"image/ktx"};if((v([126,16,4])||v([126,24,4]))&&v([48,77,73,69],{offset:4}))return{ext:"mie",mime:"application/x-mie"};if(v([39,10,0,0,0,0,0,0,0,0,0,0],{offset:2}))return{ext:"shp",mime:"application/x-esri-shape"};if(v([0,0,0,12,106,80,32,32,13,10,135,10]))switch(await ge.ignore(20),await ge.readToken(new Token.StringType(4,"ascii"))){case"jp2 ":return{ext:"jp2",mime:"image/jp2"};case"jpx ":return{ext:"jpx",mime:"image/jpx"};case"jpm ":return{ext:"jpm",mime:"image/jpm"};case"mjp2":return{ext:"mj2",mime:"image/mj2"};default:return}if(v([255,10])||v([0,0,0,12,74,88,76,32,13,10,135,10]))return{ext:"jxl",mime:"image/jxl"};if(v([0,0,1,186])||v([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(v([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(v([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(v([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(v([208,207,17,224,161,177,26,225]))return{ext:"cfb",mime:"application/x-cfb"};if(await ge.peekBuffer(l,{length:Math.min(256,ge.fileInfo.size),mayBeLess:!0}),p("BEGIN:")){if(p("VCARD",{offset:6}))return{ext:"vcf",mime:"text/vcard"};if(p("VCALENDAR",{offset:6}))return{ext:"ics",mime:"text/calendar"}}if(p("FUJIFILMCCD-RAW"))return{ext:"raf",mime:"image/x-fujifilm-raf"};if(p("Extended Module:"))return{ext:"xm",mime:"audio/x-xm"};if(p("Creative Voice File"))return{ext:"voc",mime:"audio/x-voc"};if(v([4,0,0,0])&&l.length>=16){const w=l.readUInt32LE(12);if(w>12&&l.length>=w+16)try{const E=l.slice(16,w+16).toString();if(JSON.parse(E).files)return{ext:"asar",mime:"application/x-asar"}}catch(E){}}if(v([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(p("SCRM",{offset:44}))return{ext:"s3m",mime:"audio/x-s3m"};if(v([71],{offset:4})&&(v([71],{offset:192})||v([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(v([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(v([68,73,67,77],{offset:128}))return{ext:"dcm",mime:"application/dicom"};if(v([76,0,0,0,1,20,2,0,0,0,0,0,192,0,0,0,0,0,0,70]))return{ext:"lnk",mime:"application/x.ms.shortcut"};if(v([98,111,111,107,0,0,0,0,109,97,114,107,0,0,0,0]))return{ext:"alias",mime:"application/x.apple.alias"};if(v([76,80],{offset:34})&&(v([0,0,1],{offset:8})||v([1,0,2],{offset:8})||v([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(v([6,6,237,245,216,29,70,229,189,49,239,231,254,116,183,29]))return{ext:"indd",mime:"application/x-indesign"};if(await ge.peekBuffer(l,{length:Math.min(512,ge.fileInfo.size),mayBeLess:!0}),tarHeaderChecksumMatches(l))return{ext:"tar",mime:"application/x-tar"};if(v([255,254,255,14,83,0,107,0,101,0,116,0,99,0,104,0,85,0,112,0,32,0,77,0,111,0,100,0,101,0,108,0]))return{ext:"skp",mime:"application/vnd.sketchup.skp"};if(p("-----BEGIN PGP MESSAGE-----"))return{ext:"pgp",mime:"application/pgp-encrypted"};if(l.length>=2&&v([255,224],{offset:0,mask:[255,224]})){if(v([16],{offset:1,mask:[22]}))return v([8],{offset:1,mask:[8]})?{ext:"aac",mime:"audio/aac"}:{ext:"aac",mime:"audio/aac"};if(v([2],{offset:1,mask:[6]}))return{ext:"mp3",mime:"audio/mpeg"};if(v([4],{offset:1,mask:[6]}))return{ext:"mp2",mime:"audio/mpeg"};if(v([6],{offset:1,mask:[6]}))return{ext:"mp1",mime:"audio/mpeg"}}}a(_fromTokenizer,"_fromTokenizer");const stream=a(readableStream=>new Promise((resolve,reject)=>{const stream=eval("require")("stream");readableStream.on("error",reject),readableStream.once("readable",async()=>{const ge=new stream.PassThrough;let l;stream.pipeline?l=stream.pipeline(readableStream,ge,()=>{}):l=readableStream.pipe(ge);const S=readableStream.read(minimumBytes)||readableStream.read()||Buffer.alloc(0);try{const v=await fromBuffer(S);ge.fileType=v}catch(v){reject(v)}resolve(l)})}),"stream"),fileType={fromStream,fromTokenizer,fromBuffer,stream};Object.defineProperty(fileType,"extensions",{get(){return new Set(supported.extensions)}}),Object.defineProperty(fileType,"mimeTypes",{get(){return new Set(supported.mimeTypes)}}),module.exports=fileType},7769:(ge,l,S)=>{"use strict";const v=S(6597),p=S(1);async function w(R){const D=await v.fromFile(R);try{return await p.fromTokenizer(D)}finally{await D.close()}}a(w,"fromFile");const E={fromFile:w};Object.assign(E,p),Object.defineProperty(E,"extensions",{get(){return p.extensions}}),Object.defineProperty(E,"mimeTypes",{get(){return p.mimeTypes}}),ge.exports=E},9898:ge=>{"use strict";ge.exports={extensions:["jpg","png","apng","gif","webp","flif","xcf","cr2","cr3","orf","arw","dng","nef","rw2","raf","tif","bmp","icns","jxr","psd","indd","zip","tar","rar","gz","bz2","7z","dmg","mp4","mid","mkv","webm","mov","avi","mpg","mp2","mp3","m4a","oga","ogg","ogv","opus","flac","wav","spx","amr","pdf","epub","exe","swf","rtf","wasm","woff","woff2","eot","ttf","otf","ico","flv","ps","xz","sqlite","nes","crx","xpi","cab","deb","ar","rpm","Z","lz","cfb","mxf","mts","blend","bpg","docx","pptx","xlsx","3gp","3g2","jp2","jpm","jpx","mj2","aif","qcp","odt","ods","odp","xml","mobi","heic","cur","ktx","ape","wv","dcm","ics","glb","pcap","dsf","lnk","alias","voc","ac3","m4v","m4p","m4b","f4v","f4p","f4b","f4a","mie","asf","ogm","ogx","mpc","arrow","shp","aac","mp1","it","s3m","xm","ai","skp","avif","eps","lzh","pgp","asar","stl","chm","3mf","zst","jxl","vcf"],mimeTypes:["image/jpeg","image/png","image/gif","image/webp","image/flif","image/x-xcf","image/x-canon-cr2","image/x-canon-cr3","image/tiff","image/bmp","image/vnd.ms-photo","image/vnd.adobe.photoshop","application/x-indesign","application/epub+zip","application/x-xpinstall","application/vnd.oasis.opendocument.text","application/vnd.oasis.opendocument.spreadsheet","application/vnd.oasis.opendocument.presentation","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/zip","application/x-tar","application/x-rar-compressed","application/gzip","application/x-bzip2","application/x-7z-compressed","application/x-apple-diskimage","application/x-apache-arrow","video/mp4","audio/midi","video/x-matroska","video/webm","video/quicktime","video/vnd.avi","audio/vnd.wave","audio/qcelp","audio/x-ms-asf","video/x-ms-asf","application/vnd.ms-asf","video/mpeg","video/3gpp","audio/mpeg","audio/mp4","audio/opus","video/ogg","audio/ogg","application/ogg","audio/x-flac","audio/ape","audio/wavpack","audio/amr","application/pdf","application/x-msdownload","application/x-shockwave-flash","application/rtf","application/wasm","font/woff","font/woff2","application/vnd.ms-fontobject","font/ttf","font/otf","image/x-icon","video/x-flv","application/postscript","application/eps","application/x-xz","application/x-sqlite3","application/x-nintendo-nes-rom","application/x-google-chrome-extension","application/vnd.ms-cab-compressed","application/x-deb","application/x-unix-archive","application/x-rpm","application/x-compress","application/x-lzip","application/x-cfb","application/x-mie","application/mxf","video/mp2t","application/x-blender","image/bpg","image/jp2","image/jpx","image/jpm","image/mj2","audio/aiff","application/xml","application/x-mobipocket-ebook","image/heif","image/heif-sequence","image/heic","image/heic-sequence","image/icns","image/ktx","application/dicom","audio/x-musepack","text/calendar","text/vcard","model/gltf-binary","application/vnd.tcpdump.pcap","audio/x-dsf","application/x.ms.shortcut","application/x.apple.alias","audio/x-voc","audio/vnd.dolby.dd-raw","audio/x-m4a","image/apng","image/x-olympus-orf","image/x-sony-arw","image/x-adobe-dng","image/x-nikon-nef","image/x-panasonic-rw2","image/x-fujifilm-raf","video/x-m4v","video/3gpp2","application/x-esri-shape","audio/aac","audio/x-it","audio/x-s3m","audio/x-xm","video/MP1S","video/MP2P","application/vnd.sketchup.skp","image/avif","application/x-lzh-compressed","application/pgp-encrypted","application/x-asar","model/stl","application/vnd.ms-htmlhelp","model/3mf","image/jxl","application/zstd"]}},6188:(ge,l)=>{"use strict";l.stringToBytes=S=>[...S].map(v=>v.charCodeAt(0)),l.tarHeaderChecksumMatches=(S,v=0)=>{const p=parseInt(S.toString("utf8",148,154).replace(/\0.*$/,"").trim(),8);if(isNaN(p))return!1;let w=8*32;for(let E=v;E<v+148;E++)w+=S[E];for(let E=v+156;E<v+512;E++)w+=S[E];return p===w},l.uint32SyncSafeToken={get:(S,v)=>S[v+3]&127|S[v+2]<<7|S[v+1]<<14|S[v]<<21,len:4}},7360:function(ge,l){var S,v,p;(function(w,E){v=[],S=E,p=typeof S=="function"?S.apply(l,v):S,p!==void 0&&(ge.exports=p)})(this,a(function(){function E(L){var H={single:function(U,I,k){if(!U||(Y(U)||(U=H.getPreparedSearch(U)),!I))return null;Y(I)||(I=H.getPrepared(I));var B=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,ee=B?H.algorithm:H.algorithmNoTypo;return ee(U,I,U[0])},go:function(U,I,k){if(!U)return h;U=H.prepareSearch(U);var B=U[0],ee=k&&k.threshold||L&&L.threshold||-9007199254740991,V=k&&k.limit||L&&L.limit||9007199254740991,te=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,he=te?H.algorithm:H.algorithmNoTypo,be=0,re=0,ye=I.length;if(k&&k.keys)for(var z=k.scoreFn||P,We=k.keys,ve=We.length,ue=ye-1;ue>=0;--ue){for(var J=I[ue],pe=new Array(ve),Fe=ve-1;Fe>=0;--Fe){var je=We[Fe],ne=F(J,je);if(!ne){pe[Fe]=null;continue}Y(ne)||(ne=H.getPrepared(ne)),pe[Fe]=he(U,ne,B)}pe.obj=J;var Ke=z(pe);Ke!==null&&(Ke<ee||(pe.score=Ke,be<V?(fe.add(pe),++be):(++re,Ke>fe.peek().score&&fe.replaceTop(pe))))}else if(k&&k.key)for(var je=k.key,ue=ye-1;ue>=0;--ue){var J=I[ue],ne=F(J,je);if(!!ne){Y(ne)||(ne=H.getPrepared(ne));var rt=he(U,ne,B);rt!==null&&(rt.score<ee||(rt={target:rt.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:rt.score,indexes:rt.indexes,obj:J},be<V?(fe.add(rt),++be):(++re,rt.score>fe.peek().score&&fe.replaceTop(rt))))}}else for(var ue=ye-1;ue>=0;--ue){var ne=I[ue];if(!!ne){Y(ne)||(ne=H.getPrepared(ne));var rt=he(U,ne,B);rt!==null&&(rt.score<ee||(be<V?(fe.add(rt),++be):(++re,rt.score>fe.peek().score&&fe.replaceTop(rt))))}}if(be===0)return h;for(var ot=new Array(be),ue=be-1;ue>=0;--ue)ot[ue]=fe.poll();return ot.total=be+re,ot},goAsync:function(U,I,k){var B=!1,ee=new Promise(function(V,te){if(!U)return V(h);U=H.prepareSearch(U);var he=U[0],be=Q(),re=I.length-1,ye=k&&k.threshold||L&&L.threshold||-9007199254740991,z=k&&k.limit||L&&L.limit||9007199254740991,We=k&&k.allowTypo!==void 0?k.allowTypo:L&&L.allowTypo!==void 0?L.allowTypo:!0,ve=We?H.algorithm:H.algorithmNoTypo,ue=0,J=0;function pe(){if(B)return te("canceled");var Fe=Date.now();if(k&&k.keys)for(var je=k.scoreFn||P,ne=k.keys,Ke=ne.length;re>=0;--re){for(var rt=I[re],ot=new Array(Ke),K=Ke-1;K>=0;--K){var X=ne[K],ae=F(rt,X);if(!ae){ot[K]=null;continue}Y(ae)||(ae=H.getPrepared(ae)),ot[K]=ve(U,ae,he)}ot.obj=rt;var we=je(ot);if(we!==null&&!(we<ye)&&(ot.score=we,ue<z?(be.add(ot),++ue):(++J,we>be.peek().score&&be.replaceTop(ot)),re%1e3==0&&Date.now()-Fe>=10)){R?setImmediate(pe):setTimeout(pe);return}}else if(k&&k.key)for(var X=k.key;re>=0;--re){var rt=I[re],ae=F(rt,X);if(!!ae){Y(ae)||(ae=H.getPrepared(ae));var ke=ve(U,ae,he);if(ke!==null&&!(ke.score<ye)&&(ke={target:ke.target,_targetLowerCodes:null,_nextBeginningIndexes:null,score:ke.score,indexes:ke.indexes,obj:rt},ue<z?(be.add(ke),++ue):(++J,ke.score>be.peek().score&&be.replaceTop(ke)),re%1e3==0&&Date.now()-Fe>=10)){R?setImmediate(pe):setTimeout(pe);return}}}else for(;re>=0;--re){var ae=I[re];if(!!ae){Y(ae)||(ae=H.getPrepared(ae));var ke=ve(U,ae,he);if(ke!==null&&!(ke.score<ye)&&(ue<z?(be.add(ke),++ue):(++J,ke.score>be.peek().score&&be.replaceTop(ke)),re%1e3==0&&Date.now()-Fe>=10)){R?setImmediate(pe):setTimeout(pe);return}}}if(ue===0)return V(h);for(var Be=new Array(ue),_e=ue-1;_e>=0;--_e)Be[_e]=be.poll();Be.total=ue+J,V(Be)}a(pe,"step"),R?setImmediate(pe):pe()});return ee.cancel=function(){B=!0},ee},highlight:function(U,I,k){if(U===null)return null;I===void 0&&(I="<b>"),k===void 0&&(k="</b>");for(var B="",ee=0,V=!1,te=U.target,he=te.length,be=U.indexes,re=0;re<he;++re){var ye=te[re];if(be[ee]===re){if(++ee,V||(V=!0,B+=I),ee===be.length){B+=ye+k+te.substr(re+1);break}}else V&&(V=!1,B+=k);B+=ye}return B},prepare:function(U){if(!!U)return{target:U,_targetLowerCodes:H.prepareLowerCodes(U),_nextBeginningIndexes:null,score:null,indexes:null,obj:null}},prepareSlow:function(U){if(!!U)return{target:U,_targetLowerCodes:H.prepareLowerCodes(U),_nextBeginningIndexes:H.prepareNextBeginningIndexes(U),score:null,indexes:null,obj:null}},prepareSearch:function(U){if(!!U)return H.prepareLowerCodes(U)},getPrepared:function(U){if(U.length>999)return H.prepare(U);var I=D.get(U);return I!==void 0||(I=H.prepare(U),D.set(U,I)),I},getPreparedSearch:function(U){if(U.length>999)return H.prepareSearch(U);var I=_.get(U);return I!==void 0||(I=H.prepareSearch(U),_.set(U,I)),I},algorithm:function(U,I,k){for(var B=I._targetLowerCodes,ee=U.length,V=B.length,te=0,he=0,be=0,re=0;;){var ye=k===B[he];if(ye){if(b[re++]=he,++te,te===ee)break;k=U[be===0?te:be===te?te+1:be===te-1?te-1:te]}if(++he,he>=V)for(;;){if(te<=1)return null;if(be===0){--te;var z=U[te];if(k===z)continue;be=te}else{if(be===1)return null;--be,te=be,k=U[te+1];var z=U[te];if(k===z)continue}re=te,he=b[re-1]+1;break}}var te=0,We=0,ve=!1,ue=0,J=I._nextBeginningIndexes;J===null&&(J=I._nextBeginningIndexes=H.prepareNextBeginningIndexes(I.target));var pe=he=b[0]===0?0:J[b[0]-1];if(he!==V)for(;;)if(he>=V){if(te<=0){if(++We,We>ee-2)break;if(U[We]===U[We+1])continue;he=pe;continue}--te;var Fe=y[--ue];he=J[Fe]}else{var ye=U[We===0?te:We===te?te+1:We===te-1?te-1:te]===B[he];if(ye){if(y[ue++]=he,++te,te===ee){ve=!0;break}++he}else he=J[he]}{if(ve)var je=y,ne=ue;else var je=b,ne=re;for(var Ke=0,rt=-1,ot=0;ot<ee;++ot){var he=je[ot];rt!==he-1&&(Ke-=he),rt=he}ve?We!==0&&(Ke+=-20):(Ke*=1e3,be!==0&&(Ke+=-20)),Ke-=V-ee,I.score=Ke,I.indexes=new Array(ne);for(var ot=ne-1;ot>=0;--ot)I.indexes[ot]=je[ot];return I}},algorithmNoTypo:function(U,I,k){for(var B=I._targetLowerCodes,ee=U.length,V=B.length,te=0,he=0,be=0;;){var re=k===B[he];if(re){if(b[be++]=he,++te,te===ee)break;k=U[te]}if(++he,he>=V)return null}var te=0,ye=!1,z=0,We=I._nextBeginningIndexes;We===null&&(We=I._nextBeginningIndexes=H.prepareNextBeginningIndexes(I.target));var ve=he=b[0]===0?0:We[b[0]-1];if(he!==V)for(;;)if(he>=V){if(te<=0)break;--te;var ue=y[--z];he=We[ue]}else{var re=U[te]===B[he];if(re){if(y[z++]=he,++te,te===ee){ye=!0;break}++he}else he=We[he]}{if(ye)var J=y,pe=z;else var J=b,pe=be;for(var Fe=0,je=-1,ne=0;ne<ee;++ne){var he=J[ne];je!==he-1&&(Fe-=he),je=he}ye||(Fe*=1e3),Fe-=V-ee,I.score=Fe,I.indexes=new Array(pe);for(var ne=pe-1;ne>=0;--ne)I.indexes[ne]=J[ne];return I}},prepareLowerCodes:function(U){for(var I=U.length,k=[],B=U.toLowerCase(),ee=0;ee<I;++ee)k[ee]=B.charCodeAt(ee);return k},prepareBeginningIndexes:function(U){for(var I=U.length,k=[],B=0,ee=!1,V=!1,te=0;te<I;++te){var he=U.charCodeAt(te),be=he>=65&&he<=90,re=be||he>=97&&he<=122||he>=48&&he<=57,ye=be&&!ee||!V||!re;ee=be,V=re,ye&&(k[B++]=te)}return k},prepareNextBeginningIndexes:function(U){for(var I=U.length,k=H.prepareBeginningIndexes(U),B=[],ee=k[0],V=0,te=0;te<I;++te)ee>te?B[te]=ee:(ee=k[++V],B[te]=ee===void 0?I:ee);return B},cleanup:x,new:E};return H}a(E,"fuzzysortNew");var R=typeof window=="undefined",D=new Map,_=new Map,h=[];h.total=0;var b=[],y=[];function x(){D.clear(),_.clear(),b=[],y=[]}a(x,"cleanup");function P(L){for(var H=-9007199254740991,U=L.length-1;U>=0;--U){var I=L[U];if(I!==null){var k=I.score;k>H&&(H=k)}}return H===-9007199254740991?null:H}a(P,"defaultScoreFn");function F(L,H){var U=L[H];if(U!==void 0)return U;var I=H;Array.isArray(H)||(I=H.split("."));for(var k=I.length,B=-1;L&&++B<k;)L=L[I[B]];return L}a(F,"getValue");function Y(L){return typeof L=="object"}a(Y,"isObj");var Q=a(function(){var L=[],H=0,U={};function I(){for(var k=0,B=L[k],ee=1;ee<H;){var V=ee+1;k=ee,V<H&&L[V].score<L[ee].score&&(k=V),L[k-1>>1]=L[k],ee=1+(k<<1)}for(var te=k-1>>1;k>0&&B.score<L[te].score;te=(k=te)-1>>1)L[k]=L[te];L[k]=B}return a(I,"n"),U.add=function(k){var B=H;L[H++]=k;for(var ee=B-1>>1;B>0&&k.score<L[ee].score;ee=(B=ee)-1>>1)L[B]=L[ee];L[B]=k},U.poll=function(){if(H!==0){var k=L[0];return L[0]=L[--H],I(),k}},U.peek=function(k){if(H!==0)return L[0]},U.replaceTop=function(k){L[0]=k,I()},U},"fastpriorityqueue"),fe=Q();return E()},"UMD"))},645:(ge,l)=>{/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(S,v,p,w,E){var R,D,_=E*8-w-1,h=(1<<_)-1,b=h>>1,y=-7,x=p?E-1:0,P=p?-1:1,F=S[v+x];for(x+=P,R=F&(1<<-y)-1,F>>=-y,y+=_;y>0;R=R*256+S[v+x],x+=P,y-=8);for(D=R&(1<<-y)-1,R>>=-y,y+=w;y>0;D=D*256+S[v+x],x+=P,y-=8);if(R===0)R=1-b;else{if(R===h)return D?NaN:(F?-1:1)*(1/0);D=D+Math.pow(2,w),R=R-b}return(F?-1:1)*D*Math.pow(2,R-w)},l.write=function(S,v,p,w,E,R){var D,_,h,b=R*8-E-1,y=(1<<b)-1,x=y>>1,P=E===23?Math.pow(2,-24)-Math.pow(2,-77):0,F=w?0:R-1,Y=w?1:-1,Q=v<0||v===0&&1/v<0?1:0;for(v=Math.abs(v),isNaN(v)||v===1/0?(_=isNaN(v)?1:0,D=y):(D=Math.floor(Math.log(v)/Math.LN2),v*(h=Math.pow(2,-D))<1&&(D--,h*=2),D+x>=1?v+=P/h:v+=P*Math.pow(2,1-x),v*h>=2&&(D++,h/=2),D+x>=y?(_=0,D=y):D+x>=1?(_=(v*h-1)*Math.pow(2,E),D=D+x):(_=v*Math.pow(2,x-1)*Math.pow(2,E),D=0));E>=8;S[p+F]=_&255,F+=Y,_/=256,E-=8);for(D=D<<E|_,b+=E;b>0;S[p+F]=D&255,F+=Y,D/=256,b-=8);S[p+F-Y]|=Q*128}},3300:(ge,l)=>{"use strict";var S=a(function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof v!="undefined")return v;throw new Error("unable to locate global object")},"getGlobal"),v=S();ge.exports=l=v.fetch,v.fetch&&(l.default=v.fetch.bind(v)),l.Headers=v.Headers,l.Request=v.Request,l.Response=v.Response},447:(ge,l,S)=>{var v=S(2479);ge.exports=v(p),ge.exports.strict=v(w),p.proto=p(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return p(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return w(this)},configurable:!0})});function p(E){var R=a(function(){return R.called?R.value:(R.called=!0,R.value=E.apply(this,arguments))},"f");return R.called=!1,R}a(p,"once");function w(E){var R=a(function(){if(R.called)throw new Error(R.onceError);return R.called=!0,R.value=E.apply(this,arguments)},"f"),D=E.name||"Function wrapped with `once`";return R.onceError=D+" shouldn't be called more than once",R.called=!1,R}a(w,"onceStrict")},6470:(ge,l,S)=>{"use strict";var v=S(4155);function p(D){if(typeof D!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(D))}a(p,"assertPath");function w(D,_){for(var h="",b=0,y=-1,x=0,P,F=0;F<=D.length;++F){if(F<D.length)P=D.charCodeAt(F);else{if(P===47)break;P=47}if(P===47){if(!(y===F-1||x===1))if(y!==F-1&&x===2){if(h.length<2||b!==2||h.charCodeAt(h.length-1)!==46||h.charCodeAt(h.length-2)!==46){if(h.length>2){var Y=h.lastIndexOf("/");if(Y!==h.length-1){Y===-1?(h="",b=0):(h=h.slice(0,Y),b=h.length-1-h.lastIndexOf("/")),y=F,x=0;continue}}else if(h.length===2||h.length===1){h="",b=0,y=F,x=0;continue}}_&&(h.length>0?h+="/..":h="..",b=2)}else h.length>0?h+="/"+D.slice(y+1,F):h=D.slice(y+1,F),b=F-y-1;y=F,x=0}else P===46&&x!==-1?++x:x=-1}return h}a(w,"normalizeStringPosix");function E(D,_){var h=_.dir||_.root,b=_.base||(_.name||"")+(_.ext||"");return h?h===_.root?h+b:h+D+b:b}a(E,"_format");var R={resolve:a(function(){for(var _="",h=!1,b,y=arguments.length-1;y>=-1&&!h;y--){var x;y>=0?x=arguments[y]:(b===void 0&&(b=v.cwd()),x=b),p(x),x.length!==0&&(_=x+"/"+_,h=x.charCodeAt(0)===47)}return _=w(_,!h),h?_.length>0?"/"+_:"/":_.length>0?_:"."},"resolve"),normalize:a(function(_){if(p(_),_.length===0)return".";var h=_.charCodeAt(0)===47,b=_.charCodeAt(_.length-1)===47;return _=w(_,!h),_.length===0&&!h&&(_="."),_.length>0&&b&&(_+="/"),h?"/"+_:_},"normalize"),isAbsolute:a(function(_){return p(_),_.length>0&&_.charCodeAt(0)===47},"isAbsolute"),join:a(function(){if(arguments.length===0)return".";for(var _,h=0;h<arguments.length;++h){var b=arguments[h];p(b),b.length>0&&(_===void 0?_=b:_+="/"+b)}return _===void 0?".":R.normalize(_)},"join"),relative:a(function(_,h){if(p(_),p(h),_===h||(_=R.resolve(_),h=R.resolve(h),_===h))return"";for(var b=1;b<_.length&&_.charCodeAt(b)===47;++b);for(var y=_.length,x=y-b,P=1;P<h.length&&h.charCodeAt(P)===47;++P);for(var F=h.length,Y=F-P,Q=x<Y?x:Y,fe=-1,L=0;L<=Q;++L){if(L===Q){if(Y>Q){if(h.charCodeAt(P+L)===47)return h.slice(P+L+1);if(L===0)return h.slice(P+L)}else x>Q&&(_.charCodeAt(b+L)===47?fe=L:L===0&&(fe=0));break}var H=_.charCodeAt(b+L),U=h.charCodeAt(P+L);if(H!==U)break;H===47&&(fe=L)}var I="";for(L=b+fe+1;L<=y;++L)(L===y||_.charCodeAt(L)===47)&&(I.length===0?I+="..":I+="/..");return I.length>0?I+h.slice(P+fe):(P+=fe,h.charCodeAt(P)===47&&++P,h.slice(P))},"relative"),_makeLong:a(function(_){return _},"_makeLong"),dirname:a(function(_){if(p(_),_.length===0)return".";for(var h=_.charCodeAt(0),b=h===47,y=-1,x=!0,P=_.length-1;P>=1;--P)if(h=_.charCodeAt(P),h===47){if(!x){y=P;break}}else x=!1;return y===-1?b?"/":".":b&&y===1?"//":_.slice(0,y)},"dirname"),basename:a(function(_,h){if(h!==void 0&&typeof h!="string")throw new TypeError('"ext" argument must be a string');p(_);var b=0,y=-1,x=!0,P;if(h!==void 0&&h.length>0&&h.length<=_.length){if(h.length===_.length&&h===_)return"";var F=h.length-1,Y=-1;for(P=_.length-1;P>=0;--P){var Q=_.charCodeAt(P);if(Q===47){if(!x){b=P+1;break}}else Y===-1&&(x=!1,Y=P+1),F>=0&&(Q===h.charCodeAt(F)?--F==-1&&(y=P):(F=-1,y=Y))}return b===y?y=Y:y===-1&&(y=_.length),_.slice(b,y)}else{for(P=_.length-1;P>=0;--P)if(_.charCodeAt(P)===47){if(!x){b=P+1;break}}else y===-1&&(x=!1,y=P+1);return y===-1?"":_.slice(b,y)}},"basename"),extname:a(function(_){p(_);for(var h=-1,b=0,y=-1,x=!0,P=0,F=_.length-1;F>=0;--F){var Y=_.charCodeAt(F);if(Y===47){if(!x){b=F+1;break}continue}y===-1&&(x=!1,y=F+1),Y===46?h===-1?h=F:P!==1&&(P=1):h!==-1&&(P=-1)}return h===-1||y===-1||P===0||P===1&&h===y-1&&h===b+1?"":_.slice(h,y)},"extname"),format:a(function(_){if(_===null||typeof _!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof _);return E("/",_)},"format"),parse:a(function(_){p(_);var h={root:"",dir:"",base:"",ext:"",name:""};if(_.length===0)return h;var b=_.charCodeAt(0),y=b===47,x;y?(h.root="/",x=1):x=0;for(var P=-1,F=0,Y=-1,Q=!0,fe=_.length-1,L=0;fe>=x;--fe){if(b=_.charCodeAt(fe),b===47){if(!Q){F=fe+1;break}continue}Y===-1&&(Q=!1,Y=fe+1),b===46?P===-1?P=fe:L!==1&&(L=1):P!==-1&&(L=-1)}return P===-1||Y===-1||L===0||L===1&&P===Y-1&&P===F+1?Y!==-1&&(F===0&&y?h.base=h.name=_.slice(1,Y):h.base=h.name=_.slice(F,Y)):(F===0&&y?(h.name=_.slice(1,P),h.base=_.slice(1,Y)):(h.name=_.slice(F,P),h.base=_.slice(F,Y)),h.ext=_.slice(P,Y)),F>0?h.dir=_.slice(0,F-1):y&&(h.dir="/"),h},"parse"),sep:"/",delimiter:":",win32:null,posix:null};R.posix=R,ge.exports=R},8985:(ge,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.Deferred=void 0;class S{constructor(){this.resolve=()=>null,this.reject=()=>null,this.promise=new Promise((p,w)=>{this.reject=w,this.resolve=p})}}a(S,"Deferred"),l.Deferred=S},7279:(ge,l)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.EndOfStreamError=l.defaultMessages=void 0,l.defaultMessages="End-Of-Stream";class S extends Error{constructor(){super(l.defaultMessages)}}a(S,"EndOfStreamError"),l.EndOfStreamError=S},6654:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;const v=S(7279),p=S(8985);var w=S(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});const E=1*1024*1024;class R{constructor(_){if(this.s=_,this.deferred=null,this.endOfStream=!1,this.peekQueue=[],!_.read||!_.once)throw new Error("Expected an instance of stream.Readable");this.s.once("end",()=>this.reject(new v.EndOfStreamError)),this.s.once("error",h=>this.reject(h)),this.s.once("close",()=>this.reject(new Error("Stream closed")))}async peek(_,h,b){const y=await this.read(_,h,b);return this.peekQueue.push(_.subarray(h,h+y)),y}async read(_,h,b){if(b===0)return 0;if(this.peekQueue.length===0&&this.endOfStream)throw new v.EndOfStreamError;let y=b,x=0;for(;this.peekQueue.length>0&&y>0;){const P=this.peekQueue.pop();if(!P)throw new Error("peekData should be defined");const F=Math.min(P.length,y);_.set(P.subarray(0,F),h+x),x+=F,y-=F,F<P.length&&this.peekQueue.push(P.subarray(F))}for(;y>0&&!this.endOfStream;){const P=Math.min(y,E),F=await this.readFromStream(_,h+x,P);if(x+=F,F<P)break;y-=F}return x}async readFromStream(_,h,b){const y=this.s.read(b);if(y)return _.set(y,h),y.length;{const x={buffer:_,offset:h,length:b,deferred:new p.Deferred};return this.deferred=x.deferred,this.s.once("readable",()=>{this.readDeferred(x)}),x.deferred.promise}}readDeferred(_){const h=this.s.read(_.length);h?(_.buffer.set(h,_.offset),_.deferred.resolve(h.length),this.deferred=null):this.s.once("readable",()=>{this.readDeferred(_)})}reject(_){this.endOfStream=!0,this.deferred&&(this.deferred.reject(_),this.deferred=null)}}a(R,"StreamReader"),l.StreamReader=R},5167:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.StreamReader=l.EndOfStreamError=void 0;var v=S(7279);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return v.EndOfStreamError}});var p=S(6654);Object.defineProperty(l,"StreamReader",{enumerable:!0,get:function(){return p.StreamReader}})},4155:ge=>{var l=ge.exports={},S,v;function p(){throw new Error("setTimeout has not been defined")}a(p,"defaultSetTimout");function w(){throw new Error("clearTimeout has not been defined")}a(w,"defaultClearTimeout"),function(){try{typeof setTimeout=="function"?S=setTimeout:S=p}catch(Y){S=p}try{typeof clearTimeout=="function"?v=clearTimeout:v=w}catch(Y){v=w}}();function E(Y){if(S===setTimeout)return setTimeout(Y,0);if((S===p||!S)&&setTimeout)return S=setTimeout,setTimeout(Y,0);try{return S(Y,0)}catch(Q){try{return S.call(null,Y,0)}catch(fe){return S.call(this,Y,0)}}}a(E,"runTimeout");function R(Y){if(v===clearTimeout)return clearTimeout(Y);if((v===w||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(Y);try{return v(Y)}catch(Q){try{return v.call(null,Y)}catch(fe){return v.call(this,Y)}}}a(R,"runClearTimeout");var D=[],_=!1,h,b=-1;function y(){!_||!h||(_=!1,h.length?D=h.concat(D):b=-1,D.length&&x())}a(y,"cleanUpNextTick");function x(){if(!_){var Y=E(y);_=!0;for(var Q=D.length;Q;){for(h=D,D=[];++b<Q;)h&&h[b].run();b=-1,Q=D.length}h=null,_=!1,R(Y)}}a(x,"drainQueue"),l.nextTick=function(Y){var Q=new Array(arguments.length-1);if(arguments.length>1)for(var fe=1;fe<arguments.length;fe++)Q[fe-1]=arguments[fe];D.push(new P(Y,Q)),D.length===1&&!_&&E(x)};function P(Y,Q){this.fun=Y,this.array=Q}a(P,"Item"),P.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={};function F(){}a(F,"noop"),l.on=F,l.addListener=F,l.once=F,l.off=F,l.removeListener=F,l.removeAllListeners=F,l.emit=F,l.prependListener=F,l.prependOnceListener=F,l.listeners=function(Y){return[]},l.binding=function(Y){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(Y){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},842:(ge,l,S)=>{"use strict";var v=S(8764).lW;Object.defineProperty(l,"__esModule",{value:!0}),l.AbstractTokenizer=void 0;const p=S(5167);class w{constructor(R){this.position=0,this.numBuffer=new Uint8Array(8),this.fileInfo=R||{}}async readToken(R,D=this.position){const _=v.alloc(R.len);if(await this.readBuffer(_,{position:D})<R.len)throw new p.EndOfStreamError;return R.get(_,0)}async peekToken(R,D=this.position){const _=v.alloc(R.len);if(await this.peekBuffer(_,{position:D})<R.len)throw new p.EndOfStreamError;return R.get(_,0)}async readNumber(R){if(await this.readBuffer(this.numBuffer,{length:R.len})<R.len)throw new p.EndOfStreamError;return R.get(this.numBuffer,0)}async peekNumber(R){if(await this.peekBuffer(this.numBuffer,{length:R.len})<R.len)throw new p.EndOfStreamError;return R.get(this.numBuffer,0)}async ignore(R){if(this.fileInfo.size!==void 0){const D=this.fileInfo.size-this.position;if(R>D)return this.position+=D,D}return this.position+=R,R}async close(){}normalizeOptions(R,D){if(D&&D.position!==void 0&&D.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");return D?{mayBeLess:D.mayBeLess===!0,offset:D.offset?D.offset:0,length:D.length?D.length:R.length-(D.offset?D.offset:0),position:D.position?D.position:this.position}:{mayBeLess:!1,offset:0,length:R.length,position:this.position}}}a(w,"AbstractTokenizer"),l.AbstractTokenizer=w},778:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.BufferTokenizer=void 0;const v=S(5167),p=S(842);class w extends p.AbstractTokenizer{constructor(R,D){super(D);this.uint8Array=R,this.fileInfo.size=this.fileInfo.size?this.fileInfo.size:R.length}async readBuffer(R,D){if(D&&D.position){if(D.position<this.position)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");this.position=D.position}const _=await this.peekBuffer(R,D);return this.position+=_,_}async peekBuffer(R,D){const _=this.normalizeOptions(R,D),h=Math.min(this.uint8Array.length-_.position,_.length);if(!_.mayBeLess&&h<_.length)throw new v.EndOfStreamError;return R.set(this.uint8Array.subarray(_.position,_.position+h),_.offset),h}async close(){}}a(w,"BufferTokenizer"),l.BufferTokenizer=w},7859:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromFile=l.FileTokenizer=void 0;const v=S(842),p=S(5167),w=S(7209);class E extends v.AbstractTokenizer{constructor(_,h){super(h);this.fd=_}async readBuffer(_,h){const b=this.normalizeOptions(_,h);this.position=b.position;const y=await w.read(this.fd,_,b.offset,b.length,b.position);if(this.position+=y.bytesRead,y.bytesRead<b.length&&(!h||!h.mayBeLess))throw new p.EndOfStreamError;return y.bytesRead}async peekBuffer(_,h){const b=this.normalizeOptions(_,h),y=await w.read(this.fd,_,b.offset,b.length,b.position);if(!b.mayBeLess&&y.bytesRead<b.length)throw new p.EndOfStreamError;return y.bytesRead}async close(){return w.close(this.fd)}}a(E,"FileTokenizer"),l.FileTokenizer=E;async function R(D){const _=await w.stat(D);if(!_.isFile)throw new Error(`File not a file: ${D}`);const h=await w.open(D,"r");return new E(h,{path:D,size:_.size})}a(R,"fromFile"),l.fromFile=R},7209:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.readFile=l.writeFileSync=l.writeFile=l.read=l.open=l.close=l.stat=l.createReadStream=l.pathExists=void 0;const v=S(4059);l.pathExists=v.existsSync,l.createReadStream=v.createReadStream;async function p(b){return new Promise((y,x)=>{v.stat(b,(P,F)=>{P?x(P):y(F)})})}a(p,"stat"),l.stat=p;async function w(b){return new Promise((y,x)=>{v.close(b,P=>{P?x(P):y()})})}a(w,"close"),l.close=w;async function E(b,y){return new Promise((x,P)=>{v.open(b,y,(F,Y)=>{F?P(F):x(Y)})})}a(E,"open"),l.open=E;async function R(b,y,x,P,F){return new Promise((Y,Q)=>{v.read(b,y,x,P,F,(fe,L,H)=>{fe?Q(fe):Y({bytesRead:L,buffer:H})})})}a(R,"read"),l.read=R;async function D(b,y){return new Promise((x,P)=>{v.writeFile(b,y,F=>{F?P(F):x()})})}a(D,"writeFile"),l.writeFile=D;function _(b,y){v.writeFileSync(b,y)}a(_,"writeFileSync"),l.writeFileSync=_;async function h(b){return new Promise((y,x)=>{v.readFile(b,(P,F)=>{P?x(P):y(F)})})}a(h,"readFile"),l.readFile=h},599:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.ReadStreamTokenizer=void 0;const v=S(842),p=S(5167),w=256e3;class E extends v.AbstractTokenizer{constructor(D,_){super(_);this.streamReader=new p.StreamReader(D)}async getFileInfo(){return this.fileInfo}async readBuffer(D,_){const h=this.normalizeOptions(D,_),b=h.position-this.position;if(b>0)return await this.ignore(b),this.readBuffer(D,_);if(b<0)throw new Error("`options.position` must be equal or greater than `tokenizer.position`");if(h.length===0)return 0;const y=await this.streamReader.read(D,h.offset,h.length);if(this.position+=y,(!_||!_.mayBeLess)&&y<h.length)throw new p.EndOfStreamError;return y}async peekBuffer(D,_){const h=this.normalizeOptions(D,_);let b=0;if(h.position){const y=h.position-this.position;if(y>0){const x=new Uint8Array(h.length+y);return b=await this.peekBuffer(x,{mayBeLess:h.mayBeLess}),D.set(x.subarray(y),h.offset),b-y}else if(y<0)throw new Error("Cannot peek from a negative offset in a stream")}if(h.length>0){try{b=await this.streamReader.peek(D,h.offset,h.length)}catch(y){if(_&&_.mayBeLess&&y instanceof p.EndOfStreamError)return 0;throw y}if(!h.mayBeLess&&b<h.length)throw new p.EndOfStreamError}return b}async ignore(D){const _=Math.min(w,D),h=new Uint8Array(_);let b=0;for(;b<D;){const y=D-b,x=await this.readBuffer(h,{length:Math.min(_,y)});if(x<0)return x;b+=x}return b}}a(E,"ReadStreamTokenizer"),l.ReadStreamTokenizer=E},5849:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromBuffer=l.fromStream=l.EndOfStreamError=void 0;const v=S(599),p=S(778);var w=S(5167);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return w.EndOfStreamError}});function E(D,_){return _=_||{},new v.ReadStreamTokenizer(D,_)}a(E,"fromStream"),l.fromStream=E;function R(D,_){return new p.BufferTokenizer(D,_)}a(R,"fromBuffer"),l.fromBuffer=R},6597:(ge,l,S)=>{"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.fromStream=l.fromBuffer=l.EndOfStreamError=l.fromFile=void 0;const v=S(7209),p=S(5849);var w=S(7859);Object.defineProperty(l,"fromFile",{enumerable:!0,get:function(){return w.fromFile}});var E=S(5849);Object.defineProperty(l,"EndOfStreamError",{enumerable:!0,get:function(){return E.EndOfStreamError}}),Object.defineProperty(l,"fromBuffer",{enumerable:!0,get:function(){return E.fromBuffer}});async function R(D,_){if(_=_||{},D.path){const h=await v.stat(D.path);_.path=D.path,_.size=h.size}return p.fromStream(D,_)}a(R,"fromStream"),l.fromStream=R},3416:(ge,l,S)=>{"use strict";var v=S(8764).lW;Object.defineProperty(l,"__esModule",{value:!0}),l.AnsiStringType=l.StringType=l.BufferType=l.Uint8ArrayType=l.IgnoreType=l.Float80_LE=l.Float80_BE=l.Float64_LE=l.Float64_BE=l.Float32_LE=l.Float32_BE=l.Float16_LE=l.Float16_BE=l.INT64_BE=l.UINT64_BE=l.INT64_LE=l.UINT64_LE=l.INT32_LE=l.INT32_BE=l.INT24_BE=l.INT24_LE=l.INT16_LE=l.INT16_BE=l.INT8=l.UINT32_BE=l.UINT32_LE=l.UINT24_BE=l.UINT24_LE=l.UINT16_BE=l.UINT16_LE=l.UINT8=void 0;const p=S(645);function w(b){return new DataView(b.buffer,b.byteOffset)}a(w,"dv"),l.UINT8={len:1,get(b,y){return w(b).getUint8(y)},put(b,y,x){return w(b).setUint8(y,x),y+1}},l.UINT16_LE={len:2,get(b,y){return w(b).getUint16(y,!0)},put(b,y,x){return w(b).setUint16(y,x,!0),y+2}},l.UINT16_BE={len:2,get(b,y){return w(b).getUint16(y)},put(b,y,x){return w(b).setUint16(y,x),y+2}},l.UINT24_LE={len:3,get(b,y){const x=w(b);return x.getUint8(y)+(x.getUint16(y+1,!0)<<8)},put(b,y,x){const P=w(b);return P.setUint8(y,x&255),P.setUint16(y+1,x>>8,!0),y+3}},l.UINT24_BE={len:3,get(b,y){const x=w(b);return(x.getUint16(y)<<8)+x.getUint8(y+2)},put(b,y,x){const P=w(b);return P.setUint16(y,x>>8),P.setUint8(y+2,x&255),y+3}},l.UINT32_LE={len:4,get(b,y){return w(b).getUint32(y,!0)},put(b,y,x){return w(b).setUint32(y,x,!0),y+4}},l.UINT32_BE={len:4,get(b,y){return w(b).getUint32(y)},put(b,y,x){return w(b).setUint32(y,x),y+4}},l.INT8={len:1,get(b,y){return w(b).getInt8(y)},put(b,y,x){return w(b).setInt8(y,x),y+2}},l.INT16_BE={len:2,get(b,y){return w(b).getInt16(y)},put(b,y,x){return w(b).setInt16(y,x),y+2}},l.INT16_LE={len:2,get(b,y){return w(b).getInt16(y,!0)},put(b,y,x){return w(b).setInt16(y,x,!0),y+2}},l.INT24_LE={len:3,get(b,y){const x=l.UINT24_LE.get(b,y);return x>8388607?x-16777216:x},put(b,y,x){const P=w(b);return P.setUint8(y,x&255),P.setUint16(y+1,x>>8,!0),y+3}},l.INT24_BE={len:3,get(b,y){const x=l.UINT24_BE.get(b,y);return x>8388607?x-16777216:x},put(b,y,x){const P=w(b);return P.setUint16(y,x>>8),P.setUint8(y+2,x&255),y+3}},l.INT32_BE={len:4,get(b,y){return w(b).getInt32(y)},put(b,y,x){return w(b).setInt32(y,x),y+4}},l.INT32_LE={len:4,get(b,y){return w(b).getInt32(y,!0)},put(b,y,x){return w(b).setInt32(y,x,!0),y+4}},l.UINT64_LE={len:8,get(b,y){return w(b).getBigUint64(y,!0)},put(b,y,x){return w(b).setBigUint64(y,x,!0),y+8}},l.INT64_LE={len:8,get(b,y){return w(b).getBigInt64(y,!0)},put(b,y,x){return w(b).setBigInt64(y,x,!0),y+8}},l.UINT64_BE={len:8,get(b,y){return w(b).getBigUint64(y)},put(b,y,x){return w(b).setBigUint64(y,x),y+8}},l.INT64_BE={len:8,get(b,y){return w(b).getBigInt64(y)},put(b,y,x){return w(b).setBigInt64(y,x),y+8}},l.Float16_BE={len:2,get(b,y){return p.read(b,y,!1,10,this.len)},put(b,y,x){return p.write(b,x,y,!1,10,this.len),y+this.len}},l.Float16_LE={len:2,get(b,y){return p.read(b,y,!0,10,this.len)},put(b,y,x){return p.write(b,x,y,!0,10,this.len),y+this.len}},l.Float32_BE={len:4,get(b,y){return w(b).getFloat32(y)},put(b,y,x){return w(b).setFloat32(y,x),y+4}},l.Float32_LE={len:4,get(b,y){return w(b).getFloat32(y,!0)},put(b,y,x){return w(b).setFloat32(y,x,!0),y+4}},l.Float64_BE={len:8,get(b,y){return w(b).getFloat64(y)},put(b,y,x){return w(b).setFloat64(y,x),y+8}},l.Float64_LE={len:8,get(b,y){return w(b).getFloat64(y,!0)},put(b,y,x){return w(b).setFloat64(y,x,!0),y+8}},l.Float80_BE={len:10,get(b,y){return p.read(b,y,!1,63,this.len)},put(b,y,x){return p.write(b,x,y,!1,63,this.len),y+this.len}},l.Float80_LE={len:10,get(b,y){return p.read(b,y,!0,63,this.len)},put(b,y,x){return p.write(b,x,y,!0,63,this.len),y+this.len}};class E{constructor(y){this.len=y}get(y,x){}}a(E,"IgnoreType"),l.IgnoreType=E;class R{constructor(y){this.len=y}get(y,x){return y.subarray(x,x+this.len)}}a(R,"Uint8ArrayType"),l.Uint8ArrayType=R;class D{constructor(y){this.len=y}get(y,x){return v.from(y.subarray(x,x+this.len))}}a(D,"BufferType"),l.BufferType=D;class _{constructor(y,x){this.len=y,this.encoding=x}get(y,x){return v.from(y).toString(this.encoding,x,x+this.len)}}a(_,"StringType"),l.StringType=_;class h{constructor(y){this.len=y}static decode(y,x,P){let F="";for(let Y=x;Y<P;++Y)F+=h.codePointToString(h.singleByteDecoder(y[Y]));return F}static inRange(y,x,P){return x<=y&&y<=P}static codePointToString(y){return y<=65535?String.fromCharCode(y):(y-=65536,String.fromCharCode((y>>10)+55296,(y&1023)+56320))}static singleByteDecoder(y){if(h.inRange(y,0,127))return y;const x=h.windows1252[y-128];if(x===null)throw Error("invaliding encoding");return x}get(y,x=0){return h.decode(y,x,x+this.len)}}a(h,"AnsiStringType"),l.AnsiStringType=h,h.windows1252=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255]},2479:ge=>{ge.exports=l;function l(S,v){if(S&&v)return l(S)(v);if(typeof S!="function")throw new TypeError("need wrapper function");return Object.keys(S).forEach(function(w){p[w]=S[w]}),p;function p(){for(var w=new Array(arguments.length),E=0;E<w.length;E++)w[E]=arguments[E];var R=S.apply(this,w),D=w[w.length-1];return typeof R=="function"&&R!==D&&Object.keys(D).forEach(function(_){R[_]=D[_]}),R}a(p,"wrapper")}a(l,"wrappy")},6529:()=>{},6391:()=>{},4059:()=>{}},__webpack_module_cache__={};function __webpack_require__(ge){var l=__webpack_module_cache__[ge];if(l!==void 0)return l.exports;var S=__webpack_module_cache__[ge]={id:ge,loaded:!1,exports:{}};return __webpack_modules__[ge].call(S.exports,S,S.exports,__webpack_require__),S.loaded=!0,S.exports}a(__webpack_require__,"__webpack_require__"),(()=>{__webpack_require__.n=ge=>{var l=ge&&ge.__esModule?()=>ge.default:()=>ge;return __webpack_require__.d(l,{a:l}),l}})(),(()=>{__webpack_require__.d=(ge,l)=>{for(var S in l)__webpack_require__.o(l,S)&&!__webpack_require__.o(ge,S)&&Object.defineProperty(ge,S,{enumerable:!0,get:l[S]})}})(),(()=>{__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch(ge){if(typeof window=="object")return window}}()})(),(()=>{__webpack_require__.o=(ge,l)=>Object.prototype.hasOwnProperty.call(ge,l)})(),(()=>{__webpack_require__.r=ge=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(ge,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ge,"__esModule",{value:!0})}})(),(()=>{__webpack_require__.nmd=ge=>(ge.paths=[],ge.children||(ge.children=[]),ge)})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{StateKeys:()=>io,activate:()=>ec,getState:()=>Yu,updateState:()=>qu});var ge={};__webpack_require__.r(ge),__webpack_require__.d(ge,{max:()=>Zi,min:()=>Ki});const l=require("vscode"),S=new TextDecoder,v=new TextEncoder,p=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function w(r){const e=v.encode(r),t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=p[e[n]];return t.join("")}a(w,"encodeUtf8Hex");function E(r){const e=r.match(/(\w{2})/g);if(e===null)return"";const t=new Uint8Array(e.map(n=>parseInt(n,16)));return S.decode(t)}a(E,"decodeUtf8Hex");const R=/^[0-9a-f]{40}$/i;function D(r){return r!==void 0&&R.test(r)}a(D,"isSha");const _=/^[^/](?!.*\/\.)(?!.*\.\.)(?!.*\/\/)(?!.*@\{)[^\000-\037\177 ~^:?*[\\]+[^./]$/;function h(r){return _.test(r)}a(h,"isValidBranchName");function b(r){return r===""||r==="~"||r==="HEAD"?r:r.endsWith("^")?`${r.substr(0,7)}^`:r.substr(0,7)}a(b,"shortenRef");const y=47;function x(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,fragment:""}).toString()}a(x,"asKey");function P(r){if(r===void 0)return;const e=r.path.endsWith("/");return!e&&!r.query&&!r.fragment?r.toString():r.with({path:e?r.path.slice(0,-1):r.path,query:"",fragment:""}).toString()}a(P,"asFileKey");function F(r,e){return`${(e==null?void 0:e.excludeScheme)?"":`${r.scheme}-`}${r.authority}${r.path.endsWith("/")?r.path.slice(0,-1):r.path}`}a(F,"asFileStorageKey");function Y(r){const e=typeof r=="string"?r:r.path;let t=0,n=-1,i=!0;for(let o=e.length-1;o>=0;--o)if(e.charCodeAt(o)===y){if(!i){t=o+1;break}}else n===-1&&(i=!1,n=o+1);return n===-1?"":e.slice(t,n)}a(Y,"uris_basename");function Q(r){const e=r.path;if(e.length===1)return"/";let t,n=-1,i=!0;for(let o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),t===y){if(!i){n=o;break}}else i=!1;return n===-1?"/":e.slice(0,n)}a(Q,"dirname");function fe(r){const e=r.path.lastIndexOf("/");return e===-1?r.with({path:"/"}):r.with({path:r.path.substring(0,e)})}a(fe,"getParent");function L(r,e){const t=typeof e=="string"?e:e.path;return t.startsWith(r.path)?l.Uri.joinPath(r,t.substr(r.path.length)):l.Uri.joinPath(r,t)}a(L,"joinRelativePath");function H(r,e){return typeof e=="string"?(e.startsWith("/")||(e=`/${e}`),U(r,e)&&r.path.substr(e.length+(e.endsWith("/")?0:1)).split("/").length===1):U(r,e)&&r.path.substr(e.path.length+(e.path.endsWith("/")?0:1)).split("/").length===1}a(H,"isChild");function U(r,e){if(typeof r=="string")return e=typeof e=="string"?e:e.path,e.startsWith("/")||(e=`/${e}`),e.length===1||r.startsWith(e.endsWith("/")?e:`${e}/`);if(typeof e=="string"){e.startsWith("/")||(e=`/${e}`);const t=typeof r=="string"?r:r.path;return e.length===1||t.startsWith(e.endsWith("/")?e:`${e}/`)}return e.scheme===r.scheme&&e.authority===r.authority&&(e.path.length===1||r.path.startsWith(e.path.endsWith("/")?e.path:`${e.path}/`))}a(U,"uris_isDescendent");function I(r){return r&&typeof r=="object"&&"scheme"in r}a(I,"isSerializedUri");function k(r){return r.split("/").map(e=>encodeURIComponent(e)).join("/")}a(k,"encodeURIComponentExceptSlashes");var B;(function(r){r.authoritySeparator="+",r.scheme="vscode-vfs",r.baseVirtualWorkspaceUri=l.Uri.parse(`${r.scheme}://`);function e(f){const{authority:g}=f,T=g.indexOf(r.authoritySeparator);return T!==-1?g.substr(0,T):g}a(e,"getProviderId"),r.getProviderId=e;function t(f){return f.scheme!==r.scheme?f:f.with({scheme:e(f)})}a(t,"getProviderUri"),r.getProviderUri=t;function n(f,g){const T=new Map,A=l.workspace.textDocuments;if(A.length===0)return T;for(const $ of A)$.uri.scheme===f&&g.some(se=>U($.uri,se))&&T.set(x($.uri),$.uri);return T}a(n,"getOpenUris"),r.getOpenUris=n;function i(f){return f.scheme===r.scheme?f:f.with({scheme:r.scheme})}a(i,"getVirtualUri"),r.getVirtualUri=i;function o(f,g){const[T,A]=f.authority.split(r.authoritySeparator);let $;if(A)try{const se=JSON.parse(E(A));$=g?g(se):se}catch{}return{scheme:T,metadata:$}}a(o,"decodeAuthority"),r.decodeAuthority=o;function s(f,g){const T=g?`${r.authoritySeparator}${w(JSON.stringify(g))}`:"";return`${f}${T}`}a(s,"encodeAuthority"),r.encodeAuthority=s;function u(f){return f.authority.indexOf(r.authoritySeparator)===-1}a(u,"isCanonicalUri"),r.isCanonicalUri=u;function c(){var f,g;return(g=(f=l.workspace.workspaceFolders)==null?void 0:f.every(T=>T.uri.scheme===r.scheme))!=null?g:!1}a(c,"isVirtualWorkspace"),r.isVirtualWorkspace=c})(B||(B={}));var ee;(function(r){r[r.Admin=100]="Admin",r[r.Maintain=40]="Maintain",r[r.WriteToPullRequest=31]="WriteToPullRequest",r[r.Write=30]="Write",r[r.Triage=20]="Triage",r[r.Read=10]="Read",r[r.None=0]="None"})(ee||(ee={}));var V;(function(r){r[r.Branch=0]="Branch",r[r.RemoteBranch=1]="RemoteBranch",r[r.Tag=2]="Tag",r[r.Commit=3]="Commit"})(V||(V={}));var te;(function(r){function e(t){return t!==void 0&&t.type===re.Active}a(e,"isActive"),r.isActive=e})(te||(te={}));var he;(function(r){function e(t){const n=B.decodeAuthority(t).metadata;if(!(n===void 0||n.idx===void 0)){if(n.idx==="latest")return{type:be.Latest};if(D(n.idx))return{type:be.SHA,sha:n.idx}}}a(e,"decode"),r.decode=e})(he||(he={}));var be;(function(r){r[r.Latest=1]="Latest",r[r.SHA=2]="SHA"})(be||(be={}));var re;(function(r){r[r.NotIndexed=0]="NotIndexed",r[r.Indexed=1]="Indexed",r[r.Match=2]="Match",r[r.Active=3]="Active"})(re||(re={})),function(r){function e(t){return t!==void 0&&(t===r.Indexed||t===r.Match||t===r.Active)}a(e,"hasIndex"),r.hasIndex=e}(re||(re={}));var ye;(function(r){r[r.Open=0]="Open",r[r.Closed=1]="Closed",r[r.Merged=2]="Merged"})(ye||(ye={}));var z;(function(r){r[r.Changed=1]="Changed",r[r.Created=2]="Created",r[r.Deleted=3]="Deleted"})(z||(z={}));var We;(function(r){r.CurrentWindow="currentWindow",r.NewWindow="newWindow",r.AddToWorkspace="addToWorkspace"})(We||(We={}));var ve;(function(r){r[r.Branch=0]="Branch",r[r.Tag=1]="Tag",r[r.Commit=2]="Commit",r[r.PullRequest=3]="PullRequest",r[r.Tree=4]="Tree"})(ve||(ve={}));var ue;(function(r){r[r.Abort=0]="Abort",r[r.KeepCurrent=1]="KeepCurrent",r[r.DiscardCurrent=2]="DiscardCurrent",r[r.Merge=3]="Merge"})(ue||(ue={}));var J;(function(r){r[r.Repository=0]="Repository",r[r.PullRequest=1]="PullRequest",r[r.Branch=2]="Branch",r[r.Commit=3]="Commit",r[r.File=4]="File",r[r.Tag=5]="Tag"})(J||(J={}));var pe;(function(r){r.Branch="branch",r.RemoteBranch="remoteBranch",r.PullRequestBranch="pullRequestBranch",r.PullRequestRemoteBranch="pullRequestRemoteBranch",r.Tag="tag",r.Commit="commit"})(pe||(pe={}));var Fe;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(Fe||(Fe={}));var je;(function(r){r.Browse="browse",r.Edit="edit"})(je||(je={}));var ne;(function(r){r.CommitFailedError="CommitFailedError",r.DetachedHEADError="DetachedHEADError",r.CommitToProtectedBranchError="CommitToProtectedBranchError",r.CommitToArchivedRepositoryError="CommitToArchivedRepositoryError",r.InvalidBranchNameError="InvalidBranchNameError",r.InvalidCredentialsError="InvalidCredentialsError",r.MergeConflictError="MergeConflictError",r.NothingToCommitError="NothingToCommitError",r.SyncConflictsError="SyncConflictsError",r.SyncOrFetchError="SyncOrFetchError",r.UnresolvedConflictsError="UnresolvedConflictsError",r.InvalidRepositoryError="InvalidRepositoryError",r.Unknown="Unknown"})(ne||(ne={}));class Ke extends Error{constructor(e,t,n){super(typeof e=="string"?e:e.message);this.messageOrError=e,this.errorCode=t,this.action=n}static CommitFailedError(){return new Ke("Failed to create and push commit",ne.CommitFailedError)}static DetachedHEADError(e){return new Ke(e,ne.DetachedHEADError)}static CommitToProtectedBranchError(e){return new Ke(e,ne.CommitToProtectedBranchError)}static CommitToArchivedRepositoryError(e){return new Ke(e,ne.CommitToArchivedRepositoryError)}static InvalidBranchNameError(e,t=!1){const n=t?`Branch '${e}' already exists`:`Invalid branch name '${e}'`;return new Ke(n,ne.InvalidBranchNameError)}static InvalidCredentialsError(e,t){return new Ke(e,ne.InvalidCredentialsError,t)}static MergeConflictError(e){return new Ke(e,ne.MergeConflictError)}static NothingToCommitError(e){return new Ke(e,ne.NothingToCommitError)}static SyncOrFetchError(e=!1){const t=e?"Unable to sync the repository":"Unable to fetch the repository";return new Ke(t,ne.SyncOrFetchError)}static SyncConflictsError(){const e="Sync operation will result in conflicts";return new Ke(e,ne.SyncConflictsError)}static UnresolvedConflictsError(){return new Ke("You have unresolved merge conflicts.",ne.UnresolvedConflictsError)}static InvalidRepositoryError(){return new Ke("The current repository is invalid",ne.InvalidRepositoryError)}static asVirtualProviderErrorCode(e){return e instanceof Error&&"messageOrError"in e&&"errorCode"in e?e.errorCode:ne.Unknown}}a(Ke,"VirtualProviderError");const rt=6;var ot;(function(r){r.Off="off",r.Auto="auto",r.Always="always"})(ot||(ot={}));var K;(function(r){r.None="none",r.Latest="latest",r.Match="match",r.TipPlusLatest="tip+latest"})(K||(K={})),function(r){function e(t){return t===r.None||t===r.Latest||t===r.Match||t===r.TipPlusLatest?t:r.None}a(e,"sanitize"),r.sanitize=e}(K||(K={}));var X;(function(r){r.Browse="browse",r.Edit="edit"})(X||(X={})),function(r){function e(n){return n===r.Browse||n===r.Edit?n:r.Edit}a(e,"sanitize"),r.sanitize=e;function t(n){return n===r.Browse?r.Edit:r.Browse}a(t,"toggle"),r.toggle=t}(X||(X={}));var ae;(function(r){function e(t,n){return t.display===n.display&&t.index===n.index}a(e,"equals"),r.equals=e})(ae||(ae={}));var we;(function(r){const e=new Map([[pe.Branch,K.None],[pe.RemoteBranch,K.None],[pe.PullRequestBranch,K.Match],[pe.PullRequestRemoteBranch,K.Match],[pe.Commit,K.Match],[pe.Tag,K.Match]]),t=new Map([[pe.Branch,X.Edit],[pe.RemoteBranch,X.Edit],[pe.PullRequestBranch,X.Browse],[pe.PullRequestRemoteBranch,X.Browse],[pe.Commit,X.Browse],[pe.Tag,X.Browse]]);function n(o){var s,u;return{display:(s=t.get(o))!=null?s:X.Edit,index:(u=e.get(o))!=null?u:K.None}}a(n,"getDefault"),r.getDefault=n;function i(o){switch(o){case pe.Branch:case pe.RemoteBranch:return{display:X.Browse,index:K.Latest};case pe.PullRequestBranch:case pe.PullRequestRemoteBranch:return{display:X.Browse,index:K.Match};case pe.Commit:case pe.Tag:return{display:X.Browse,index:K.Match};default:return{display:X.Edit,index:K.None}}}a(i,"getIndexDefault"),r.getIndexDefault=i})(we||(we={}));const ke=null;var Be=__webpack_require__(5179),_e=__webpack_require__.n(Be);const Ie="modes",Le="indexMemento";class et{constructor(){this._onDidChange=new l.EventEmitter,this._onDidChangeAny=new l.EventEmitter,this.memoryState=new Map}static configure(e,t){Ne.configPrefix=e,Ne.state=t.workspaceState,t.subscriptions.push(l.workspace.onDidChangeConfiguration(Ne.onConfigurationChanged,Ne))}get onDidChange(){return this._onDidChange.event}get onDidChangeAny(){return this._onDidChangeAny.event}onConfigurationChanged(e){if(!e.affectsConfiguration(this.configPrefix)){this._onDidChangeAny.fire(e);return}this._onDidChangeAny.fire(e),this._onDidChange.fire(e)}set state(e){if(this._state=e,this.modes=this._state.get(Ie),this.modes===void 0&&(this.modes=Object.create(null)),this.memoryState.size!==0){for(const t of this.memoryState.entries())this.modes[t[0]]=t[1];this._state.update(Ie,this.modes).then(()=>{this.memoryState.clear()},void 0)}this.indexMemento=this._state.get(Le),this.indexMemento===void 0&&(this.indexMemento=Object.create(null))}getEffective(e,t,n){const i=this.inspect(e,t);return i===void 0&&n!==void 0?n:(i==null?void 0:i.workspaceFolderValue)!==void 0?i.workspaceFolderValue:(i==null?void 0:i.workspaceValue)!==void 0?i.workspaceValue:i==null?void 0:i.globalValue}get(e,t,n){return n===void 0?l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e):l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).get(e===void 0?this.configPrefix:e,n)}getMode(e,t,n){var i;const o=e.toString();let s=this.modes!==void 0?this.modes[o]:void 0;if(s!==void 0)return{display:X.sanitize(s.display),index:K.sanitize(s.index)};if(s=this.memoryState.get(o),s!==void 0)return s;if(t===pe.Branch||t===pe.RemoteBranch)switch((i=l.workspace.getConfiguration("remoteHub.richNavigation.indexMode",e))==null?void 0:i.get("branch")){case"none":return{display:X.Edit,index:K.None};case"latest":return{display:X.Browse,index:K.Latest};case"tipPlusLatest":return{display:X.Edit,index:K.TipPlusLatest}}if(!n)return we.getDefault(t)}setMode(e,t){const n=e.toString();return this._state===void 0||this.modes===void 0?(this.memoryState.set(n,t),Promise.resolve()):(this.modes[n]=t,this._state.update(Ie,this.modes))}getIndexMemento(e){if(this.indexMemento!==void 0)return this.indexMemento[e.toString()]}setIndexMemento(e,t){return this.indexMemento===void 0||this._state===void 0?Promise.resolve():(this.indexMemento[e.toString()]=t,this._state.update(Le,this.indexMemento))}getAny(e,t,n){return n===void 0?l.workspace.getConfiguration(void 0,t).get(e):l.workspace.getConfiguration(void 0,t).get(e,n)}changed(e,t,n){var i;return(i=e==null?void 0:e.affectsConfiguration(`${this.configPrefix}.${t}`,n))!=null?i:!0}inspect(e,t){return l.workspace.getConfiguration(e===void 0?void 0:this.configPrefix,t).inspect(e===void 0?this.configPrefix:e)}inspectAny(e,t){return l.workspace.getConfiguration(void 0,t).inspect(e)}async migrate(e,t,n){const i=Ne.inspect(e);if(i===void 0)return!1;let o=!1;return i.globalValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),o=!0),i.workspaceValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),o=!0),i.workspaceFolderValue!==void 0&&(await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder),o=!0),!o&&n.fallbackValue!==void 0&&(await this.update(t,n.fallbackValue,l.ConfigurationTarget.Global),o=!0),o}async migrateIfMissing(e,t,n){const i=Ne.inspect(e);if(i===void 0)return;const o=Ne.inspect(t);i.globalValue!==void 0&&(o===void 0||o.globalValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.globalValue):i.globalValue,l.ConfigurationTarget.Global),i.workspaceValue!==void 0&&(o===void 0||o.workspaceValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceValue):i.workspaceValue,l.ConfigurationTarget.Workspace),i.workspaceFolderValue!==void 0&&(o===void 0||o.workspaceFolderValue===void 0)&&await this.update(t,n.migrationFn!=null?n.migrationFn(i.workspaceFolderValue):i.workspaceFolderValue,l.ConfigurationTarget.WorkspaceFolder)}name(e){return e}update(e,t,n){return l.workspace.getConfiguration(this.configPrefix).update(e,t,n)}updateAny(e,t,n,i){return l.workspace.getConfiguration(void 0,n===l.ConfigurationTarget.Global?void 0:i).update(e,t,n)}updateEffective(e,t){const n=Ne.inspect(e);return n.workspaceFolderValue!==void 0?t===n.workspaceFolderValue?Promise.resolve(void 0):Ne.update(e,t,l.ConfigurationTarget.WorkspaceFolder):n.workspaceValue!==void 0?t===n.workspaceValue?Promise.resolve(void 0):Ne.update(e,t,l.ConfigurationTarget.Workspace):n.globalValue===t||n.globalValue===void 0&&t===n.defaultValue?Promise.resolve(void 0):Ne.update(e,_e()(t,n.defaultValue)?void 0:t,l.ConfigurationTarget.Global)}}a(et,"Configuration");const Ne=new et,He="";var oe;(function(r){r[r.Off=0]="Off",r[r.Error=1]="Error",r[r.Warn=2]="Warn",r[r.Info=3]="Info",r[r.Debug=4]="Debug"})(oe||(oe={}));const Me="[RemoteHub]",de=a(class{static configure(r,e){this._isDebugging=r.extensionMode===l.ExtensionMode.Development,this.outputChannelName=e}static enabled(r){return this.level>=this.toOrderedLevel(r)}static toOrderedLevel(r){switch(r){case l.LogLevel.Off:return 0;case l.LogLevel.Error:return 1;case l.LogLevel.Warning:return 2;case l.LogLevel.Info:return 3;case l.LogLevel.Debug:case l.LogLevel.Trace:return 4}}static get isDebugging(){return this._isDebugging}static ensureOutputChannel(){var r;this.level=this.toOrderedLevel(l.env.logLevel),this.output=(r=this.output)!=null?r:l.window.createOutputChannel(this.outputChannelName,{log:!0})}static debug(r,...e){var t;this.ensureOutputChannel(),de.isDebugging&&console.log(Me,r!=null?r:He,...e),(t=this.output)==null||t.debug(`${r!=null?r:He}${this.toLoggableParams(!0,e)}`)}static error(r,e,...t){var n;if(this.ensureOutputChannel(),!(this.level<1&&!de.isDebugging)){if(e===void 0){const i=r instanceof Error?r.stack:void 0;if(i){const o=/.*\s*?at\s(.+?)\s/.exec(i);o!==null&&(e=o[1])}}de.isDebugging&&console.error(Me,e!=null?e:He,...t,r),(n=this.output)==null||n.error(`${e!=null?e:He}${this.toLoggableParams(!1,t)}
${String(r)}`)}}static log(r,...e){var t;this.ensureOutputChannel(),de.isDebugging&&console.log(Me,r!=null?r:He,...e),(t=this.output)==null||t.info(`${r!=null?r:He}${this.toLoggableParams(!1,e)}`)}static warn(r,...e){var t;this.ensureOutputChannel(),de.isDebugging&&console.warn(Me,r!=null?r:He,...e),(t=this.output)==null||t.warn(`${r!=null?r:He}${this.toLoggableParams(!1,e)}`)}static toLoggable(r,e){if(typeof r!="object")return String(r);if(r instanceof l.Uri)return`Uri(${r.toString(!0)})`;try{return JSON.stringify(r,e)}catch{return"<error>"}}static toLoggableName(r){var e,t,n;let i;if(typeof r=="function"){if(r.prototype===void 0||r.prototype.constructor===void 0)return r.name;i=(e=r.prototype.constructor.name)!=null?e:He}else i=(n=(t=r.constructor)==null?void 0:t.name)!=null?n:He;const o=i.indexOf("_");return o===-1?i:i.substr(o+1)}static toLoggableParams(r,e){if(e.length===0||r&&this.level<4&&!de.isDebugging)return He;const t=e.map(n=>this.toLoggable(n)).join(", ");return t.length!==0?` \u2014 ${t}`:He}},"_Logger");let ie=de;ie.level=0;class Je{constructor(e){this.provider=e,this._timeout=0,this._disposable=Ne.onDidChange(this.onConfigurationChanged,this),this.maybeQueueFetch()}dispose(){this._disposable.dispose(),this._timeout&&clearTimeout(this._timeout)}get config(){var e;if(this._config===void 0){const t=Ne.get("autoFetch");this._config={enabled:(e=t.enabled)!=null?e:!0,interval:t.interval*1e3}}return this._config}onConfigurationChanged(e){!Ne.changed(e,"autoFetch")||(this._config=void 0,this.maybeQueueFetch())}async fetchAll(){const e=this.provider.repositories;e.length!==0&&(await l.window.withProgress({location:l.ProgressLocation.SourceControl},async()=>{for(const t of e)try{await this.provider.fetch(t.uri)}catch(n){ie.error(n)}}),this.maybeQueueFetch())}maybeQueueFetch(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),!!this.config.enabled&&(this._timeout=setTimeout(()=>this.fetchAll(),this.config.interval))}}a(Je,"AutoFetchService");function _t(){}a(_t,"Diff"),_t.prototype={diff:a(function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.callback;typeof n=="function"&&(i=n,n={}),this.options=n;var o=this;function s(le){return i?(setTimeout(function(){i(void 0,le)},0),!0):le}a(s,"done"),e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));var u=t.length,c=e.length,f=1,g=u+c,T=[{newPos:-1,components:[]}],A=this.extractCommon(T[0],t,e,0);if(T[0].newPos+1>=u&&A+1>=c)return s([{value:this.join(t),count:t.length}]);function $(){for(var le=-1*f;le<=f;le+=2){var xe=void 0,Ae=T[le-1],Oe=T[le+1],nt=(Oe?Oe.newPos:0)-le;Ae&&(T[le-1]=void 0);var $e=Ae&&Ae.newPos+1<u,ut=Oe&&0<=nt&&nt<c;if(!$e&&!ut){T[le]=void 0;continue}if(!$e||ut&&Ae.newPos<Oe.newPos?(xe=Tr(Oe),o.pushComponent(xe.components,void 0,!0)):(xe=Ae,xe.newPos++,o.pushComponent(xe.components,!0,void 0)),nt=o.extractCommon(xe,t,e,le),xe.newPos+1>=u&&nt+1>=c)return s(Yt(o,xe.components,t,e,o.useLongestToken));T[le]=xe}f++}if(a($,"execEditLength"),i)a(function le(){setTimeout(function(){if(f>g)return i();$()||le()},0)},"exec")();else for(;f<=g;){var se=$();if(se)return se}},"diff"),pushComponent:a(function(e,t,n){var i=e[e.length-1];i&&i.added===t&&i.removed===n?e[e.length-1]={count:i.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},"pushComponent"),extractCommon:a(function(e,t,n,i){for(var o=t.length,s=n.length,u=e.newPos,c=u-i,f=0;u+1<o&&c+1<s&&this.equals(t[u+1],n[c+1]);)u++,c++,f++;return f&&e.components.push({count:f}),e.newPos=u,c},"extractCommon"),equals:a(function(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},"equals"),removeEmpty:a(function(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t},"removeEmpty"),castInput:a(function(e){return e},"castInput"),tokenize:a(function(e){return e.split("")},"tokenize"),join:a(function(e){return e.join("")},"join")};function Yt(r,e,t,n,i){for(var o=0,s=e.length,u=0,c=0;o<s;o++){var f=e[o];if(f.removed){if(f.value=r.join(n.slice(c,c+f.count)),c+=f.count,o&&e[o-1].added){var T=e[o-1];e[o-1]=e[o],e[o]=T}}else{if(!f.added&&i){var g=t.slice(u,u+f.count);g=g.map(function($,se){var le=n[c+se];return le.length>$.length?le:$}),f.value=r.join(g)}else f.value=r.join(t.slice(u,u+f.count));u+=f.count,f.added||(c+=f.count)}}var A=e[s-1];return s>1&&typeof A.value=="string"&&(A.added||A.removed)&&r.equals("",A.value)&&(e[s-2].value+=A.value,e.pop()),e}a(Yt,"buildValues");function Tr(r){return{newPos:r.newPos,components:r.components.slice(0)}}a(Tr,"clonePath");var lr=new _t;function Vr(r,e,t){return lr.diff(r,e,t)}a(Vr,"diffChars");function N(r,e){if(typeof r=="function")e.callback=r;else if(r)for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t]);return e}a(N,"generateOptions");var d=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,m=/\S/,q=new _t;q.equals=function(r,e){return this.options.ignoreCase&&(r=r.toLowerCase(),e=e.toLowerCase()),r===e||this.options.ignoreWhitespace&&!m.test(r)&&!m.test(e)},q.tokenize=function(r){for(var e=r.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),t=0;t<e.length-1;t++)!e[t+1]&&e[t+2]&&d.test(e[t])&&d.test(e[t+2])&&(e[t]+=e[t+2],e.splice(t+1,2),t--);return e};function Ee(r,e,t){return t=N(t,{ignoreWhitespace:!0}),q.diff(r,e,t)}a(Ee,"diffWords");function ce(r,e,t){return q.diff(r,e,t)}a(ce,"diffWordsWithSpace");var Ce=new _t;Ce.tokenize=function(r){var e=[],t=r.split(/(\n|\r\n)/);t[t.length-1]||t.pop();for(var n=0;n<t.length;n++){var i=t[n];n%2&&!this.options.newlineIsToken?e[e.length-1]+=i:(this.options.ignoreWhitespace&&(i=i.trim()),e.push(i))}return e};function vt(r,e,t){return Ce.diff(r,e,t)}a(vt,"diffLines");function It(r,e,t){var n=N(t,{ignoreWhitespace:!0});return Ce.diff(r,e,n)}a(It,"diffTrimmedLines");var Mt=new _t;Mt.tokenize=function(r){return r.split(/(\S.+?[.!?])(?=\s+|$)/)};function Xt(r,e,t){return Mt.diff(r,e,t)}a(Xt,"diffSentences");var rr=new _t;rr.tokenize=function(r){return r.split(/([{}:;,]|\s+)/)};function mn(r,e,t){return rr.diff(r,e,t)}a(mn,"diffCss");function tn(r){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tn=a(function(e){return typeof e},"_typeof"):tn=a(function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},"_typeof"),tn(r)}a(tn,"_typeof");function Wr(r){return Ln(r)||un(r)||rn(r)||kr()}a(Wr,"_toConsumableArray");function Ln(r){if(Array.isArray(r))return En(r)}a(Ln,"_arrayWithoutHoles");function un(r){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(r))return Array.from(r)}a(un,"_iterableToArray");function rn(r,e){if(!!r){if(typeof r=="string")return En(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return En(r,e)}}a(rn,"_unsupportedIterableToArray");function En(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}a(En,"_arrayLikeToArray");function kr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(kr,"_nonIterableSpread");var Yn=Object.prototype.toString,ln=new _t;ln.useLongestToken=!0,ln.tokenize=Ce.tokenize,ln.castInput=function(r){var e=this.options,t=e.undefinedReplacement,n=e.stringifyReplacer,i=n===void 0?function(o,s){return typeof s=="undefined"?t:s}:n;return typeof r=="string"?r:JSON.stringify(si(r,null,null,i),i,"  ")},ln.equals=function(r,e){return _t.prototype.equals.call(ln,r.replace(/,([\r\n])/g,"$1"),e.replace(/,([\r\n])/g,"$1"))};function qn(r,e,t){return ln.diff(r,e,t)}a(qn,"diffJson");function si(r,e,t,n,i){e=e||[],t=t||[],n&&(r=n(i,r));var o;for(o=0;o<e.length;o+=1)if(e[o]===r)return t[o];var s;if(Yn.call(r)==="[object Array]"){for(e.push(r),s=new Array(r.length),t.push(s),o=0;o<r.length;o+=1)s[o]=si(r[o],e,t,n,i);return e.pop(),t.pop(),s}if(r&&r.toJSON&&(r=r.toJSON()),tn(r)==="object"&&r!==null){e.push(r),s={},t.push(s);var u=[],c;for(c in r)r.hasOwnProperty(c)&&u.push(c);for(u.sort(),o=0;o<u.length;o+=1)c=u[o],s[c]=si(r[c],e,t,n,c);e.pop(),t.pop()}else s=r;return s}a(si,"canonicalize");var ui=new _t;ui.tokenize=function(r){return r.slice()},ui.join=ui.removeEmpty=function(r){return r};function On(r,e,t){return ui.diff(r,e,t)}a(On,"diffArrays");function W(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.split(/\r\n|[\n\v\f\r\x85]/),n=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],i=[],o=0;function s(){var f={};for(i.push(f);o<t.length;){var g=t[o];if(/^(\-\-\-|\+\+\+|@@)\s/.test(g))break;var T=/^(?:Index:|diff(?: -r \w+)+)\s+(.+?)\s*$/.exec(g);T&&(f.index=T[1]),o++}for(u(f),u(f),f.hunks=[];o<t.length;){var A=t[o];if(/^(Index:|diff|\-\-\-|\+\+\+)\s/.test(A))break;if(/^@@/.test(A))f.hunks.push(c());else{if(A&&e.strict)throw new Error("Unknown line "+(o+1)+" "+JSON.stringify(A));o++}}}a(s,"parseIndex");function u(f){var g=/^(---|\+\+\+)\s+(.*)$/.exec(t[o]);if(g){var T=g[1]==="---"?"old":"new",A=g[2].split("	",2),$=A[0].replace(/\\\\/g,"\\");/^".*"$/.test($)&&($=$.substr(1,$.length-2)),f[T+"FileName"]=$,f[T+"Header"]=(A[1]||"").trim(),o++}}a(u,"parseFileHeader");function c(){var f=o,g=t[o++],T=g.split(/@@ -(\d+)(?:,(\d+))? \+(\d+)(?:,(\d+))? @@/),A={oldStart:+T[1],oldLines:typeof T[2]=="undefined"?1:+T[2],newStart:+T[3],newLines:typeof T[4]=="undefined"?1:+T[4],lines:[],linedelimiters:[]};A.oldLines===0&&(A.oldStart+=1),A.newLines===0&&(A.newStart+=1);for(var $=0,se=0;o<t.length&&!(t[o].indexOf("--- ")===0&&o+2<t.length&&t[o+1].indexOf("+++ ")===0&&t[o+2].indexOf("@@")===0);o++){var le=t[o].length==0&&o!=t.length-1?" ":t[o][0];if(le==="+"||le==="-"||le===" "||le==="\\")A.lines.push(t[o]),A.linedelimiters.push(n[o]||`
`),le==="+"?$++:le==="-"?se++:le===" "&&($++,se++);else break}if(!$&&A.newLines===1&&(A.newLines=0),!se&&A.oldLines===1&&(A.oldLines=0),e.strict){if($!==A.newLines)throw new Error("Added line count did not match for hunk at line "+(f+1));if(se!==A.oldLines)throw new Error("Removed line count did not match for hunk at line "+(f+1))}return A}for(a(c,"parseHunk");o<t.length;)s();return i}a(W,"parsePatch");function Se(r,e,t){var n=!0,i=!1,o=!1,s=1;return a(function u(){if(n&&!o){if(i?s++:n=!1,r+s<=t)return s;o=!0}if(!i)return o||(n=!0),e<=r-s?-s++:(i=!0,u())},"iterator")}a(Se,"distanceIterator");function Pe(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string"&&(e=W(e)),Array.isArray(e)){if(e.length>1)throw new Error("applyPatch only works with a single input.");e=e[0]}var n=r.split(/\r\n|[\n\v\f\r\x85]/),i=r.match(/\r\n|[\n\v\f\r\x85]/g)||[],o=e.hunks,s=t.compareLine||function(nn,Hr,en,Rn){return Hr===Rn},u=0,c=t.fuzzFactor||0,f=0,g=0,T,A;function $(nn,Hr){for(var en=0;en<nn.lines.length;en++){var Rn=nn.lines[en],Gn=Rn.length>0?Rn[0]:" ",_i=Rn.length>0?Rn.substr(1):Rn;if(Gn===" "||Gn==="-"){if(!s(Hr+1,n[Hr],Gn,_i)&&(u++,u>c))return!1;Hr++}}return!0}a($,"hunkFits");for(var se=0;se<o.length;se++){for(var le=o[se],xe=n.length-le.oldLines,Ae=0,Oe=g+le.oldStart-1,nt=Se(Oe,f,xe);Ae!==void 0;Ae=nt())if($(le,Oe+Ae)){le.offset=g+=Ae;break}if(Ae===void 0)return!1;f=le.offset+le.oldStart+le.oldLines}for(var $e=0,ut=0;ut<o.length;ut++){var Ct=o[ut],yt=Ct.oldStart+Ct.offset+$e-1;$e+=Ct.newLines-Ct.oldLines;for(var Ve=0;Ve<Ct.lines.length;Ve++){var Gt=Ct.lines[Ve],gt=Gt.length>0?Gt[0]:" ",pr=Gt.length>0?Gt.substr(1):Gt,sr=Ct.linedelimiters[Ve];if(gt===" ")yt++;else if(gt==="-")n.splice(yt,1),i.splice(yt,1);else if(gt==="+")n.splice(yt,0,pr),i.splice(yt,0,sr),yt++;else if(gt==="\\"){var Or=Ct.lines[Ve-1]?Ct.lines[Ve-1][0]:null;Or==="+"?T=!0:Or==="-"&&(A=!0)}}}if(T)for(;!n[n.length-1];)n.pop(),i.pop();else A&&(n.push(""),i.push(`
`));for(var mr=0;mr<n.length-1;mr++)n[mr]=n[mr]+i[mr];return n.join("")}a(Pe,"applyPatch");function Ge(r,e){typeof r=="string"&&(r=W(r));var t=0;function n(){var i=r[t++];if(!i)return e.complete();e.loadFile(i,function(o,s){if(o)return e.complete(o);var u=Pe(s,i,e);e.patched(i,u,function(c){if(c)return e.complete(c);n()})})}a(n,"processIndex"),n()}a(Ge,"applyPatches");function lt(r,e,t,n,i,o,s){s||(s={}),typeof s.context=="undefined"&&(s.context=4);var u=vt(t,n,s);u.push({value:"",lines:[]});function c(Ae){return Ae.map(function(Oe){return" "+Oe})}a(c,"contextLines");for(var f=[],g=0,T=0,A=[],$=1,se=1,le=a(function(Oe){var nt=u[Oe],$e=nt.lines||nt.value.replace(/\n$/,"").split(`
`);if(nt.lines=$e,nt.added||nt.removed){var ut;if(!g){var Ct=u[Oe-1];g=$,T=se,Ct&&(A=s.context>0?c(Ct.lines.slice(-s.context)):[],g-=A.length,T-=A.length)}(ut=A).push.apply(ut,Wr($e.map(function(mr){return(nt.added?"+":"-")+mr}))),nt.added?se+=$e.length:$+=$e.length}else{if(g)if($e.length<=s.context*2&&Oe<u.length-2){var yt;(yt=A).push.apply(yt,Wr(c($e)))}else{var Ve,Gt=Math.min($e.length,s.context);(Ve=A).push.apply(Ve,Wr(c($e.slice(0,Gt))));var gt={oldStart:g,oldLines:$-g+Gt,newStart:T,newLines:se-T+Gt,lines:A};if(Oe>=u.length-2&&$e.length<=s.context){var pr=/\n$/.test(t),sr=/\n$/.test(n),Or=$e.length==0&&A.length>gt.oldLines;!pr&&Or&&t.length>0&&A.splice(gt.oldLines,0,"\\ No newline at end of file"),(!pr&&!Or||!sr)&&A.push("\\ No newline at end of file")}f.push(gt),g=0,T=0,A=[]}$+=$e.length,se+=$e.length}},"_loop"),xe=0;xe<u.length;xe++)le(xe);return{oldFileName:r,newFileName:e,oldHeader:i,newHeader:o,hunks:f}}a(lt,"structuredPatch");function it(r){var e=[];r.oldFileName==r.newFileName&&e.push("Index: "+r.oldFileName),e.push("==================================================================="),e.push("--- "+r.oldFileName+(typeof r.oldHeader=="undefined"?"":"	"+r.oldHeader)),e.push("+++ "+r.newFileName+(typeof r.newHeader=="undefined"?"":"	"+r.newHeader));for(var t=0;t<r.hunks.length;t++){var n=r.hunks[t];n.oldLines===0&&(n.oldStart-=1),n.newLines===0&&(n.newStart-=1),e.push("@@ -"+n.oldStart+","+n.oldLines+" +"+n.newStart+","+n.newLines+" @@"),e.push.apply(e,n.lines)}return e.join(`
`)+`
`}a(it,"formatPatch");function pt(r,e,t,n,i,o,s){return it(lt(r,e,t,n,i,o,s))}a(pt,"createTwoFilesPatch");function Rt(r,e,t,n,i,o){return pt(r,r,e,t,n,i,o)}a(Rt,"createPatch");function Nt(r,e){return r.length!==e.length?!1:nr(r,e)}a(Nt,"arrayEqual");function nr(r,e){if(e.length>r.length)return!1;for(var t=0;t<e.length;t++)if(e[t]!==r[t])return!1;return!0}a(nr,"arrayStartsWith");function Tt(r){var e=Dr(r.lines),t=e.oldLines,n=e.newLines;t!==void 0?r.oldLines=t:delete r.oldLines,n!==void 0?r.newLines=n:delete r.newLines}a(Tt,"calcLineCount");function Vt(r,e,t){r=kt(r,t),e=kt(e,t);var n={};(r.index||e.index)&&(n.index=r.index||e.index),(r.newFileName||e.newFileName)&&(Ut(r)?Ut(e)?(n.oldFileName=Lt(n,r.oldFileName,e.oldFileName),n.newFileName=Lt(n,r.newFileName,e.newFileName),n.oldHeader=Lt(n,r.oldHeader,e.oldHeader),n.newHeader=Lt(n,r.newHeader,e.newHeader)):(n.oldFileName=r.oldFileName,n.newFileName=r.newFileName,n.oldHeader=r.oldHeader,n.newHeader=r.newHeader):(n.oldFileName=e.oldFileName||r.oldFileName,n.newFileName=e.newFileName||r.newFileName,n.oldHeader=e.oldHeader||r.oldHeader,n.newHeader=e.newHeader||r.newHeader)),n.hunks=[];for(var i=0,o=0,s=0,u=0;i<r.hunks.length||o<e.hunks.length;){var c=r.hunks[i]||{oldStart:1/0},f=e.hunks[o]||{oldStart:1/0};if(zr(c,f))n.hunks.push(Sr(c,s)),i++,u+=c.newLines-c.oldLines;else if(zr(f,c))n.hunks.push(Sr(f,u)),o++,s+=f.newLines-f.oldLines;else{var g={oldStart:Math.min(c.oldStart,f.oldStart),oldLines:0,newStart:Math.min(c.newStart+s,f.oldStart+u),newLines:0,lines:[]};Sn(g,c.oldStart,c.lines,f.oldStart,f.lines),o++,i++,n.hunks.push(g)}}return n}a(Vt,"merge");function kt(r,e){if(typeof r=="string"){if(/^@@/m.test(r)||/^Index:/m.test(r))return W(r)[0];if(!e)throw new Error("Must provide a base reference or pass in a patch");return lt(void 0,void 0,e,r)}return r}a(kt,"loadPatch");function Ut(r){return r.newFileName&&r.newFileName!==r.oldFileName}a(Ut,"fileNameChanged");function Lt(r,e,t){return e===t?e:(r.conflict=!0,{mine:e,theirs:t})}a(Lt,"selectField");function zr(r,e){return r.oldStart<e.oldStart&&r.oldStart+r.oldLines<e.oldStart}a(zr,"hunkBefore");function Sr(r,e){return{oldStart:r.oldStart,oldLines:r.oldLines,newStart:r.newStart+e,newLines:r.newLines,lines:r.lines}}a(Sr,"cloneHunk");function Sn(r,e,t,n,i){var o={offset:e,lines:t,index:0},s={offset:n,lines:i,index:0};for(zn(r,o,s),zn(r,s,o);o.index<o.lines.length&&s.index<s.lines.length;){var u=o.lines[o.index],c=s.lines[s.index];if((u[0]==="-"||u[0]==="+")&&(c[0]==="-"||c[0]==="+"))Qr(r,o,s);else if(u[0]==="+"&&c[0]===" "){var f;(f=r.lines).push.apply(f,Wr(vn(o)))}else if(c[0]==="+"&&u[0]===" "){var g;(g=r.lines).push.apply(g,Wr(vn(s)))}else u[0]==="-"&&c[0]===" "?pn(r,o,s):c[0]==="-"&&u[0]===" "?pn(r,s,o,!0):u===c?(r.lines.push(u),o.index++,s.index++):Wn(r,vn(o),vn(s))}cn(r,o),cn(r,s),Tt(r)}a(Sn,"mergeLines");function Qr(r,e,t){var n=vn(e),i=vn(t);if(jr(n)&&jr(i)){if(nr(n,i)&&Ur(t,n,n.length-i.length)){var o;(o=r.lines).push.apply(o,Wr(n));return}else if(nr(i,n)&&Ur(e,i,i.length-n.length)){var s;(s=r.lines).push.apply(s,Wr(i));return}}else if(Nt(n,i)){var u;(u=r.lines).push.apply(u,Wr(n));return}Wn(r,n,i)}a(Qr,"mutualChange");function pn(r,e,t,n){var i=vn(e),o=Qt(t,i);if(o.merged){var s;(s=r.lines).push.apply(s,Wr(o.merged))}else Wn(r,n?o:i,n?i:o)}a(pn,"removal");function Wn(r,e,t){r.conflict=!0,r.lines.push({conflict:!0,mine:e,theirs:t})}a(Wn,"conflict");function zn(r,e,t){for(;e.offset<t.offset&&e.index<e.lines.length;){var n=e.lines[e.index++];r.lines.push(n),e.offset++}}a(zn,"insertLeading");function cn(r,e){for(;e.index<e.lines.length;){var t=e.lines[e.index++];r.lines.push(t)}}a(cn,"insertTrailing");function vn(r){for(var e=[],t=r.lines[r.index][0];r.index<r.lines.length;){var n=r.lines[r.index];if(t==="-"&&n[0]==="+"&&(t="+"),t===n[0])e.push(n),r.index++;else break}return e}a(vn,"collectChange");function Qt(r,e){for(var t=[],n=[],i=0,o=!1,s=!1;i<e.length&&r.index<r.lines.length;){var u=r.lines[r.index],c=e[i];if(c[0]==="+")break;if(o=o||u[0]!==" ",n.push(c),i++,u[0]==="+")for(s=!0;u[0]==="+";)t.push(u),u=r.lines[++r.index];c.substr(1)===u.substr(1)?(t.push(u),r.index++):s=!0}if((e[i]||"")[0]==="+"&&o&&(s=!0),s)return t;for(;i<e.length;)n.push(e[i++]);return{merged:n,changes:t}}a(Qt,"collectContext");function jr(r){return r.reduce(function(e,t){return e&&t[0]==="-"},!0)}a(jr,"allRemoves");function Ur(r,e,t){for(var n=0;n<t;n++){var i=e[e.length-t+n].substr(1);if(r.lines[r.index+n]!==" "+i)return!1}return r.index+=t,!0}a(Ur,"skipRemoveSuperset");function Dr(r){var e=0,t=0;return r.forEach(function(n){if(typeof n!="string"){var i=Dr(n.mine),o=Dr(n.theirs);e!==void 0&&(i.oldLines===o.oldLines?e+=i.oldLines:e=void 0),t!==void 0&&(i.newLines===o.newLines?t+=i.newLines:t=void 0)}else t!==void 0&&(n[0]==="+"||n[0]===" ")&&t++,e!==void 0&&(n[0]==="-"||n[0]===" ")&&e++}),{oldLines:e,newLines:t}}a(Dr,"calcOldNewLineCount");function Yr(r){for(var e=[],t,n,i=0;i<r.length;i++)t=r[i],t.added?n=1:t.removed?n=-1:n=0,e.push([n,t.value]);return e}a(Yr,"convertChangesToDMP");function bn(r){for(var e=[],t=0;t<r.length;t++){var n=r[t];n.added?e.push("<ins>"):n.removed&&e.push("<del>"),e.push(Fn(n.value)),n.added?e.push("</ins>"):n.removed&&e.push("</del>")}return e.join("")}a(bn,"convertChangesToXML");function Fn(r){var e=r;return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;"),e}a(Fn,"escapeHTML");var Vn=/[^a-zA-Z0-9]/,wi=/\s/,ji=/[\r\n]/,Ei=/\n\r?\n$/,ha=/^\r?\n\r?\n/,dt;(function(r){r[r.DIFF_DELETE=-1]="DIFF_DELETE",r[r.DIFF_INSERT=1]="DIFF_INSERT",r[r.DIFF_EQUAL=0]="DIFF_EQUAL"})(dt||(dt={}));function Ki(r,e){return r<e?r:e}a(Ki,"min");function Zi(r,e){return r>e?r:e}a(Zi,"max");var xn=ge,Si=function(){function r(){this.diffs=[],this.start1=0,this.start2=0,this.length1=0,this.length2=0}return a(r,"PatchObject"),r.prototype.toString=function(){var e,t;this.length1===0?e=this.start1+",0":this.length1===1?e=this.start1+1:e=this.start1+1+","+this.length1,this.length2===0?t=this.start2+",0":this.length2===1?t=this.start2+1:t=this.start2+1+","+this.length2;for(var n=["@@ -"+e+" +"+t+` @@
`],i,o=0;o<this.diffs.length;o++){switch(this.diffs[o][0]){case dt.DIFF_INSERT:i="+";break;case dt.DIFF_DELETE:i="-";break;case dt.DIFF_EQUAL:i=" ";break}n[o+1]=i+encodeURI(this.diffs[o][1])+`
`}return n.join("").replace(/%20/g," ")},r}(),li=function(){function r(){this.diffTimeout=1,this.diffEditCost=4,this.matchThreshold=.5,this.matchDistance=1e3,this.patchDeleteThreshold=.5,this.patchMargin=4,this.matchMaxBits=32}return a(r,"DiffMatchPatch"),r.prototype.diff_main=function(e,t,n,i){typeof i=="undefined"&&(this.diffTimeout<=0?i=Number.MAX_VALUE:i=Date.now()+this.diffTimeout*1e3);var o=i;if(e==null||t==null)throw new Error("Null input. (diff_main)");if(e===t)return e?[[dt.DIFF_EQUAL,e]]:[];typeof n=="undefined"&&(n=!0);var s=n,u=this.diff_commonPrefix(e,t),c=e.substring(0,u);e=e.substring(u),t=t.substring(u),u=this.diff_commonSuffix(e,t);var f=e.substring(e.length-u);e=e.substring(0,e.length-u),t=t.substring(0,t.length-u);var g=this.diff_compute_(e,t,s,o);return c&&g.unshift([dt.DIFF_EQUAL,c]),f&&g.push([dt.DIFF_EQUAL,f]),this.diff_cleanupMerge(g),g},r.prototype.diff_commonPrefix=function(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=xn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(s,o)===t.substring(s,o)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_commonSuffix=function(e,t){if(!e||!t||e.charAt(e.length-1)!==t.charAt(t.length-1))return 0;for(var n=0,i=xn.min(e.length,t.length),o=i,s=0;n<o;)e.substring(e.length-o,e.length-s)===t.substring(t.length-o,t.length-s)?(n=o,s=n):i=o,o=Math.floor((i-n)/2+n);return o},r.prototype.diff_cleanupSemantic=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=0,c=0,f=0,g=0;s<e.length;)e[s][0]===dt.DIFF_EQUAL?(n[i++]=s,u=f,c=g,f=0,g=0,o=e[s][1]):(e[s][0]===dt.DIFF_INSERT?f+=e[s][1].length:g+=e[s][1].length,o&&o.length<=xn.max(u,c)&&o.length<=xn.max(f,g)&&(e.splice(n[i-1],0,[dt.DIFF_DELETE,o]),e[n[i-1]+1][0]=dt.DIFF_INSERT,i--,i--,s=i>0?n[i-1]:-1,u=0,c=0,f=0,g=0,o=null,t=!0)),s++;for(t&&this.diff_cleanupMerge(e),this.diff_cleanupSemanticLossless(e),s=1;s<e.length;){if(e[s-1][0]===dt.DIFF_DELETE&&e[s][0]===dt.DIFF_INSERT){var T=e[s-1][1],A=e[s][1],$=this.diff_commonOverlap_(T,A),se=this.diff_commonOverlap_(A,T);$>=se?($>=T.length/2||$>=A.length/2)&&(e.splice(s,0,[dt.DIFF_EQUAL,A.substring(0,$)]),e[s-1][1]=T.substring(0,T.length-$),e[s+1][1]=A.substring($),s++):(se>=T.length/2||se>=A.length/2)&&(e.splice(s,0,[dt.DIFF_EQUAL,T.substring(0,se)]),e[s-1][0]=dt.DIFF_INSERT,e[s-1][1]=A.substring(0,A.length-se),e[s+1][0]=dt.DIFF_DELETE,e[s+1][1]=T.substring(se),s++),s++}s++}},r.prototype.diff_cleanupSemanticLossless=function(e){for(var t=1;t<e.length-1;){if(e[t-1][0]===dt.DIFF_EQUAL&&e[t+1][0]===dt.DIFF_EQUAL){var n=e[t-1][1],i=e[t][1],o=e[t+1][1],s=this.diff_commonSuffix(n,i);if(s){var u=i.substring(i.length-s);n=n.substring(0,n.length-s),i=u+i.substring(0,i.length-s),o=u+o}for(var c=n,f=i,g=o,T=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);i.charAt(0)===o.charAt(0);){n+=i.charAt(0),i=i.substring(1)+o.charAt(0),o=o.substring(1);var A=this.diff_cleanupSemanticScore_(n,i)+this.diff_cleanupSemanticScore_(i,o);A>=T&&(T=A,c=n,f=i,g=o)}e[t-1][1]!==c&&(c?e[t-1][1]=c:(e.splice(t-1,1),t--),e[t][1]=f,g?e[t+1][1]=g:(e.splice(t+1,1),t--))}t++}},r.prototype.diff_cleanupEfficiency=function(e){for(var t=!1,n=[],i=0,o=null,s=0,u=!1,c=!1,f=!1,g=!1;s<e.length;)e[s][0]===dt.DIFF_EQUAL?(e[s][1].length<this.diffEditCost&&(f||g)?(n[i++]=s,u=f,c=g,o=e[s][1]):(i=0,o=null),f=g=!1):(e[s][0]===dt.DIFF_DELETE?g=!0:f=!0,o&&(u&&c&&f&&g||o.length<this.diffEditCost/2&&Number(u)+Number(c)+Number(f)+Number(g)===3)&&(e.splice(n[i-1],0,[dt.DIFF_DELETE,o]),e[n[i-1]+1][0]=dt.DIFF_INSERT,i--,o=null,u&&c?(f=g=!0,i=0):(i--,s=i>0?n[i-1]:-1,f=g=!1),t=!0)),s++;t&&this.diff_cleanupMerge(e)},r.prototype.diff_cleanupMerge=function(e){e.push([dt.DIFF_EQUAL,""]);for(var t=0,n=0,i=0,o="",s="",u;t<e.length;)switch(e[t][0]){case dt.DIFF_INSERT:i++,s+=e[t][1],t++;break;case dt.DIFF_DELETE:n++,o+=e[t][1],t++;break;case dt.DIFF_EQUAL:n+i>1?(n!==0&&i!==0&&(u=this.diff_commonPrefix(s,o),u!==0&&(t-n-i>0&&e[t-n-i-1][0]===dt.DIFF_EQUAL?e[t-n-i-1][1]+=s.substring(0,u):(e.splice(0,0,[dt.DIFF_EQUAL,s.substring(0,u)]),t++),s=s.substring(u),o=o.substring(u)),u=this.diff_commonSuffix(s,o),u!==0&&(e[t][1]=s.substring(s.length-u)+e[t][1],s=s.substring(0,s.length-u),o=o.substring(0,o.length-u))),t-=n+i,e.splice(t,n+i),o.length&&(e.splice(t,0,[dt.DIFF_DELETE,o]),t++),s.length&&(e.splice(t,0,[dt.DIFF_INSERT,s]),t++),t++):t!==0&&e[t-1][0]===dt.DIFF_EQUAL?(e[t-1][1]+=e[t][1],e.splice(t,1)):t++,i=0,n=0,o="",s="";break}e[e.length-1][1]===""&&e.pop();var c=!1;for(t=1;t<e.length-1;)e[t-1][0]===dt.DIFF_EQUAL&&e[t+1][0]===dt.DIFF_EQUAL&&(e[t][1].substring(e[t][1].length-e[t-1][1].length)===e[t-1][1]?(e[t][1]=e[t-1][1]+e[t][1].substring(0,e[t][1].length-e[t-1][1].length),e[t+1][1]=e[t-1][1]+e[t+1][1],e.splice(t-1,1),c=!0):e[t][1].substring(0,e[t+1][1].length)===e[t+1][1]&&(e[t-1][1]+=e[t+1][1],e[t][1]=e[t][1].substring(e[t+1][1].length)+e[t+1][1],e.splice(t+1,1),c=!0)),t++;c&&this.diff_cleanupMerge(e)},r.prototype.diff_xIndex=function(e,t){var n=0,i=0,o=0,s=0,u;for(u=0;u<e.length&&(e[u][0]!==dt.DIFF_INSERT&&(n+=e[u][1].length),e[u][0]!==dt.DIFF_DELETE&&(i+=e[u][1].length),!(n>t));u++)o=n,s=i;return e.length!==u&&e[u][0]===dt.DIFF_DELETE?s:s+(t-o)},r.prototype.diff_prettyHtml=function(e){for(var t=[],n=/&/g,i=/</g,o=/>/g,s=/\n/g,u=0;u<e.length;u++){var c=e[u][0],f=e[u][1],g=f.replace(n,"&amp;").replace(i,"&lt;").replace(o,"&gt;").replace(s,"&para;<br>");switch(c){case dt.DIFF_INSERT:t[u]='<ins style="background:#e6ffe6;">'+g+"</ins>";break;case dt.DIFF_DELETE:t[u]='<del style="background:#ffe6e6;">'+g+"</del>";break;case dt.DIFF_EQUAL:t[u]="<span>"+g+"</span>";break}}return t.join("")},r.prototype.diff_text1=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==dt.DIFF_INSERT&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_text2=function(e){for(var t=[],n=0;n<e.length;n++)e[n][0]!==dt.DIFF_DELETE&&(t[n]=e[n][1]);return t.join("")},r.prototype.diff_levenshtein=function(e){for(var t=0,n=0,i=0,o=0;o<e.length;o++){var s=e[o][0],u=e[o][1];switch(s){case dt.DIFF_INSERT:n+=u.length;break;case dt.DIFF_DELETE:i+=u.length;break;case dt.DIFF_EQUAL:t+=xn.max(n,i),n=0,i=0;break}}return t+=xn.max(n,i),t},r.prototype.diff_toDelta=function(e){for(var t=[],n=0;n<e.length;n++)switch(e[n][0]){case dt.DIFF_INSERT:t[n]="+"+encodeURI(e[n][1]);break;case dt.DIFF_DELETE:t[n]="-"+e[n][1].length;break;case dt.DIFF_EQUAL:t[n]="="+e[n][1].length;break}return t.join("	").replace(/%20/g," ")},r.prototype.diff_fromDelta=function(e,t){for(var n=[],i=0,o=0,s=t.split(/\t/g),u=0;u<s.length;u++){var c=s[u].substring(1);switch(s[u].charAt(0)){case"+":try{n[i++]=[dt.DIFF_INSERT,decodeURI(c)]}catch(T){throw new Error("Illegal escape in diff_fromDelta: "+c)}break;case"-":case"=":var f=parseInt(c,10);if(isNaN(f)||f<0)throw new Error("Invalid number in diff_fromDelta: "+c);var g=e.substring(o,o+=f);s[u].charAt(0)==="="?n[i++]=[dt.DIFF_EQUAL,g]:n[i++]=[dt.DIFF_DELETE,g];break;default:if(s[u])throw new Error("Invalid diff operation in diff_fromDelta: "+s[u])}}if(o!==e.length)throw new Error("Delta length ("+o+") does not equal source text length ("+e.length+")");return n},r.prototype.diff_linesToChars=function(e,t){var n=[],i={};n[0]="";var o=this.diff_linesToCharsMunge_(e,n,i,4e4),s=this.diff_linesToCharsMunge_(t,n,i,65535);return{chars1:o,chars2:s,lineArray:n}},r.prototype.diff_charsToLines=function(e,t){for(var n=0;n<e.length;n++){for(var i=e[n][1],o=[],s=0;s<i.length;s++)o[s]=t[i.charCodeAt(s)];e[n][1]=o.join("")}},r.prototype.match_main=function(e,t,n){if(e==null||t==null||n==null)throw new Error("Null input. (match_main)");return n=xn.max(0,xn.min(n,e.length)),e===t?0:e.length?e.substring(n,n+t.length)===t?n:this.match_bitap_(e,t,n):-1},r.prototype.patch_make=function(e,t,n){var i,o;if(typeof e=="string"&&typeof t=="string"&&typeof n=="undefined")i=e,o=this.diff_main(i,t,!0),o.length>2&&(this.diff_cleanupSemantic(o),this.diff_cleanupEfficiency(o));else if(e&&typeof e=="object"&&typeof t=="undefined"&&typeof n=="undefined")o=e,i=this.diff_text1(o);else if(typeof e=="string"&&t&&typeof t=="object"&&typeof n=="undefined")i=e,o=t;else if(typeof e=="string"&&typeof t=="string"&&n&&typeof n=="object")i=e,o=n;else throw new Error("Unknown call format to patch_make");if(o.length===0)return[];for(var s=[],u=new Si,c=0,f=0,g=0,T=i,A=i,$=0;$<o.length;$++){var se=o[$][0],le=o[$][1];switch(!c&&se!==dt.DIFF_EQUAL&&(u.start1=f,u.start2=g),se){case dt.DIFF_INSERT:u.diffs[c++]=o[$],u.length2+=le.length,A=A.substring(0,g)+le+A.substring(g);break;case dt.DIFF_DELETE:u.length1+=le.length,u.diffs[c++]=o[$],A=A.substring(0,g)+A.substring(g+le.length);break;case dt.DIFF_EQUAL:le.length<=2*this.patchMargin&&c&&o.length!==$+1?(u.diffs[c++]=o[$],u.length1+=le.length,u.length2+=le.length):le.length>=2*this.patchMargin&&c&&(this.patch_addContext_(u,T),s.push(u),u=new Si,c=0,T=A,f=g);break}se!==dt.DIFF_INSERT&&(f+=le.length),se!==dt.DIFF_DELETE&&(g+=le.length)}return c&&(this.patch_addContext_(u,T),s.push(u)),s},r.prototype.patch_deepCopy=function(e){for(var t=[],n=0;n<e.length;n++){for(var i=e[n],o=new Si,s=0;s<i.diffs.length;s++)o.diffs[s]=[i.diffs[s][0],i.diffs[s][1]];o.start1=i.start1,o.start2=i.start2,o.length1=i.length1,o.length2=i.length2,t[n]=o}return t},r.prototype.patch_apply=function(e,t){if(e.length===0)return[t,[]];e=this.patch_deepCopy(e);var n=this.patch_addPadding(e);t=n+t+n,this.patch_splitMax(e);for(var i=0,o=[],s=0;s<e.length;s++){var u=e[s].start2+i,c=this.diff_text1(e[s].diffs),f=void 0,g=-1;if(c.length>this.matchMaxBits?(f=this.match_main(t,c.substring(0,this.matchMaxBits),u),f!==-1&&(g=this.match_main(t,c.substring(c.length-this.matchMaxBits),u+c.length-this.matchMaxBits),(g===-1||f>=g)&&(f=-1))):f=this.match_main(t,c,u),f===-1)o[s]=!1,i-=e[s].length2-e[s].length1;else{o[s]=!0,i=f-u;var T=void 0;if(g===-1?T=t.substring(f,f+c.length):T=t.substring(f,g+this.matchMaxBits),c===T)t=t.substring(0,f)+this.diff_text2(e[s].diffs)+t.substring(f+c.length);else{var A=this.diff_main(c,T,!1);if(c.length>this.matchMaxBits&&this.diff_levenshtein(A)/c.length>this.patchDeleteThreshold)o[s]=!1;else{this.diff_cleanupSemanticLossless(A);for(var $=0,se=0,le=0;le<e[s].diffs.length;le++){var xe=e[s].diffs[le];xe[0]!==dt.DIFF_EQUAL&&(se=this.diff_xIndex(A,$)),xe[0]===dt.DIFF_INSERT?t=t.substring(0,f+se)+xe[1]+t.substring(f+se):xe[0]===dt.DIFF_DELETE&&(t=t.substring(0,f+se)+t.substring(f+this.diff_xIndex(A,$+xe[1].length))),xe[0]!==dt.DIFF_DELETE&&($+=xe[1].length)}}}}}return t=t.substring(n.length,t.length-n.length),[t,o]},r.prototype.patch_addPadding=function(e){for(var t=this.patchMargin,n="",i=1;i<=t;i++)n+=String.fromCharCode(i);for(var i=0;i<e.length;i++)e[i].start1+=t,e[i].start2+=t;var o=e[0],s=o.diffs;if(s.length===0||s[0][0]!==dt.DIFF_EQUAL)s.unshift([dt.DIFF_EQUAL,n]),o.start1-=t,o.start2-=t,o.length1+=t,o.length2+=t;else if(t>s[0][1].length){var u=t-s[0][1].length;s[0][1]=n.substring(s[0][1].length)+s[0][1],o.start1-=u,o.start2-=u,o.length1+=u,o.length2+=u}if(o=e[e.length-1],s=o.diffs,s.length===0||s[s.length-1][0]!==dt.DIFF_EQUAL)s.push([dt.DIFF_EQUAL,n]),o.length1+=t,o.length2+=t;else if(t>s[s.length-1][1].length){var u=t-s[s.length-1][1].length;s[s.length-1][1]+=n.substring(0,u),o.length1+=u,o.length2+=u}return n},r.prototype.patch_splitMax=function(e){for(var t=this.matchMaxBits,n=0;n<e.length;n++)if(!(e[n].length1<=t)){var i=e[n];e.splice(n--,1);for(var o=i.start1,s=i.start2,u="";i.diffs.length!==0;){var c=new Si,f=!0;for(c.start1=o-u.length,c.start2=s-u.length,u!==""&&(c.length1=c.length2=u.length,c.diffs.push([dt.DIFF_EQUAL,u]));i.diffs.length!==0&&c.length1<t-this.patchMargin;){var g=i.diffs[0][0],T=i.diffs[0][1];g===dt.DIFF_INSERT?(c.length2+=T.length,s+=T.length,c.diffs.push(i.diffs.shift()),f=!1):g===dt.DIFF_DELETE&&c.diffs.length===1&&c.diffs[0][0]===dt.DIFF_EQUAL&&T.length>2*t?(c.length1+=T.length,o+=T.length,f=!1,c.diffs.push([g,T]),i.diffs.shift()):(T=T.substring(0,t-c.length1-this.patchMargin),c.length1+=T.length,o+=T.length,g===dt.DIFF_EQUAL?(c.length2+=T.length,s+=T.length):f=!1,c.diffs.push([g,T]),T===i.diffs[0][1]?i.diffs.shift():i.diffs[0][1]=i.diffs[0][1].substring(T.length))}u=this.diff_text2(c.diffs),u=u.substring(u.length-this.patchMargin);var A=this.diff_text1(i.diffs).substring(0,this.patchMargin);A!==""&&(c.length1+=A.length,c.length2+=A.length,c.diffs.length!==0&&c.diffs[c.diffs.length-1][0]===dt.DIFF_EQUAL?c.diffs[c.diffs.length-1][1]+=A:c.diffs.push([dt.DIFF_EQUAL,A])),f||e.splice(++n,0,c)}}},r.prototype.patch_toText=function(e){for(var t=[],n=0;n<e.length;n++)t[n]=e[n];return t.join("")},r.prototype.patch_fromText=function(e){var t=[];if(!e)return t;for(var n=e.split(`
`),i=0,o=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;i<n.length;){var s=n[i].match(o);if(!s)throw new Error("Invalid patch string: "+n[i]);var u=new Si;t.push(u),u.start1=parseInt(s[1],10),s[2]===""?(u.start1--,u.length1=1):s[2]==="0"?u.length1=0:(u.start1--,u.length1=parseInt(s[2],10)),u.start2=parseInt(s[3],10),s[4]===""?(u.start2--,u.length2=1):s[4]==="0"?u.length2=0:(u.start2--,u.length2=parseInt(s[4],10)),i++;for(var c=void 0,f=void 0,g=void 0;i<n.length;){c=n[i].charAt(0),g=n[i].substring(1);try{f=decodeURI(g)}catch(T){throw new Error("Illegal escape in patch_fromText: "+g)}if(c==="-")u.diffs.push([dt.DIFF_DELETE,f]);else if(c==="+")u.diffs.push([dt.DIFF_INSERT,f]);else if(c===" ")u.diffs.push([dt.DIFF_EQUAL,f]);else{if(c==="@")break;if(c!=="")throw new Error('Invalid patch mode "'+c+'" in: '+f)}i++}}return t},r.prototype.diff_compute_=function(e,t,n,i){var o;if(!e)return[[dt.DIFF_INSERT,t]];if(!t)return[[dt.DIFF_DELETE,e]];var s=e.length>t.length?e:t,u=e.length>t.length?t:e,c=s.indexOf(u);if(c!==-1)return o=[[dt.DIFF_INSERT,s.substring(0,c)],[dt.DIFF_EQUAL,u],[dt.DIFF_INSERT,s.substring(c+u.length)]],e.length>t.length&&(o[0][0]=dt.DIFF_DELETE,o[2][0]=dt.DIFF_DELETE),o;if(u.length===1)return[[dt.DIFF_DELETE,e],[dt.DIFF_INSERT,t]];var f=this.diff_halfMatch_(e,t);if(f){var g=f[0],T=f[1],A=f[2],$=f[3],se=f[4],le=this.diff_main(g,A,n,i),xe=this.diff_main(T,$,n,i);return le.concat([[dt.DIFF_EQUAL,se]],xe)}return n&&e.length>100&&t.length>100?this.diff_lineMode_(e,t,i):this.diff_bisect_(e,t,i)},r.prototype.diff_lineMode_=function(e,t,n){var i=this.diff_linesToChars(e,t);e=i.chars1,t=i.chars2;var o=i.lineArray,s=this.diff_main(e,t,!1,n);this.diff_charsToLines(s,o),this.diff_cleanupSemantic(s),s.push([dt.DIFF_EQUAL,""]);for(var u=0,c=0,f=0,g="",T="";u<s.length;){switch(s[u][0]){case dt.DIFF_INSERT:f++,T+=s[u][1];break;case dt.DIFF_DELETE:c++,g+=s[u][1];break;case dt.DIFF_EQUAL:if(c>=1&&f>=1){s.splice(u-c-f,c+f),u=u-c-f;for(var A=this.diff_main(g,T,!1,n),$=A.length-1;$>=0;$--)s.splice(u,0,A[$]);u=u+A.length}f=0,c=0,g="",T="";break}u++}return s.pop(),s},r.prototype.diff_bisect_=function(e,t,n){for(var i=e.length,o=t.length,s=Math.ceil((i+o)/2),u=s,c=2*s,f=new Array(c),g=new Array(c),T=0;T<c;T++)f[T]=-1,g[T]=-1;f[u+1]=0,g[u+1]=0;for(var A=i-o,$=A%2!=0,se=0,le=0,xe=0,Ae=0,Oe=0;Oe<s&&!(Date.now()>n);Oe++){for(var nt=-Oe+se;nt<=Oe-le;nt+=2){var $e=u+nt,ut=void 0;nt===-Oe||nt!==Oe&&f[$e-1]<f[$e+1]?ut=f[$e+1]:ut=f[$e-1]+1;for(var Ct=ut-nt;ut<i&&Ct<o&&e.charAt(ut)===t.charAt(Ct);)ut++,Ct++;if(f[$e]=ut,ut>i)le+=2;else if(Ct>o)se+=2;else if($){var yt=u+A-nt;if(yt>=0&&yt<c&&g[yt]!==-1){var Ve=i-g[yt];if(ut>=Ve)return this.diff_bisectSplit_(e,t,ut,Ct,n)}}}for(var Gt=-Oe+xe;Gt<=Oe-Ae;Gt+=2){var yt=u+Gt,Ve=void 0;Gt===-Oe||Gt!==Oe&&g[yt-1]<g[yt+1]?Ve=g[yt+1]:Ve=g[yt-1]+1;for(var gt=Ve-Gt;Ve<i&&gt<o&&e.charAt(i-Ve-1)===t.charAt(o-gt-1);)Ve++,gt++;if(g[yt]=Ve,Ve>i)Ae+=2;else if(gt>o)xe+=2;else if(!$){var $e=u+A-Gt;if($e>=0&&$e<c&&f[$e]!==-1){var ut=f[$e],Ct=u+ut-$e;if(Ve=i-Ve,ut>=Ve)return this.diff_bisectSplit_(e,t,ut,Ct,n)}}}}return[[dt.DIFF_DELETE,e],[dt.DIFF_INSERT,t]]},r.prototype.diff_bisectSplit_=function(e,t,n,i,o){var s=e.substring(0,n),u=t.substring(0,i),c=e.substring(n),f=t.substring(i),g=this.diff_main(s,u,!1,o),T=this.diff_main(c,f,!1,o);return g.concat(T)},r.prototype.diff_linesToCharsMunge_=function(e,t,n,i){for(var o="",s=0,u=-1,c=t.length;u<e.length-1;){u=e.indexOf(`
`,s),u===-1&&(u=e.length-1);var f=e.substring(s,u+1);(n.hasOwnProperty?n.hasOwnProperty(f):n[f]!==void 0)?o+=String.fromCharCode(n[f]):(c===i&&(f=e.substring(s),u=e.length),o+=String.fromCharCode(c),n[f]=c,t[c++]=f),s=u+1}return o},r.prototype.diff_commonOverlap_=function(e,t){var n=e.length,i=t.length;if(n===0||i===0)return 0;n>i?e=e.substring(n-i):n<i&&(t=t.substring(0,n));var o=xn.min(n,i);if(e===t)return o;for(var s=0,u=1;;){var c=e.substring(o-u),f=t.indexOf(c);if(f===-1)return s;u+=f,(f===0||e.substring(o-u)===t.substring(0,u))&&(s=u,u++)}},r.prototype.diff_halfMatch_=function(e,t){if(this.diffTimeout<=0)return null;var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||i.length*2<n.length)return null;var o=this.diff_halfMatchI_(n,i,Math.ceil(n.length/4)),s=this.diff_halfMatchI_(n,i,Math.ceil(n.length/2)),u;if(!o&&!s)return null;s?o?u=o[4].length>s[4].length?o:s:u=s:u=o;var c,f,g,T,A=u[4];return e.length>t.length?(c=u[0],f=u[1],g=u[2],T=u[3]):(g=u[0],T=u[1],c=u[2],f=u[3]),[c,f,g,T,A]},r.prototype.diff_halfMatchI_=function(e,t,n){for(var i=e.substring(n,n+Math.floor(e.length/4)),o="",s,u,c,f,g=t.indexOf(i,0);g!==-1;){var T=this.diff_commonPrefix(e.substring(n),t.substring(g)),A=this.diff_commonSuffix(e.substring(0,n),t.substring(0,g));o.length<A+T&&(o=t.substring(g-A,g)+t.substring(g,g+T),s=e.substring(0,n-A),u=e.substring(n+T),c=t.substring(0,g-A),f=t.substring(g+T)),g=t.indexOf(i,g+1)}return o.length*2>=e.length?[s,u,c,f,o]:null},r.prototype.diff_cleanupSemanticScore_=function(e,t){if(!e||!t)return 6;var n=e.charAt(e.length-1),i=t.charAt(0),o=n.match(Vn),s=i.match(Vn),u=o&&n.match(wi),c=s&&i.match(wi),f=u&&n.match(ji),g=c&&i.match(ji),T=f&&e.match(Ei),A=g&&t.match(ha);return T||A?5:f||g?4:o&&!u&&c?3:u||c?2:o||s?1:0},r.prototype.match_bitap_=function(e,t,n){if(t.length>this.matchMaxBits)throw new Error("Pattern too long for this browser");var i=this.match_alphabet_(t),o=this.matchThreshold,s=e.indexOf(t,n);s!==-1&&(o=xn.min(this.match_bitapScore_(0,s,t,n),o),s=e.lastIndexOf(t,n+t.length),s!==-1&&(o=xn.min(this.match_bitapScore_(0,s,t,n),o)));var u=1<<t.length-1;s=-1;for(var c,f,g=t.length+e.length,T,A=0;A<t.length;A++){for(c=0,f=g;c<f;)this.match_bitapScore_(A,n+f,t,n)<=o?c=f:g=f,f=Math.floor((g-c)/2+c);g=f;var $=xn.max(1,n-f+1),se=xn.min(n+f,e.length)+t.length,le=Array(se+2);le[se+1]=(1<<A)-1;for(var xe=se;xe>=$;xe--){var Ae=i[e.charAt(xe-1)];if(A===0?le[xe]=(le[xe+1]<<1|1)&Ae:le[xe]=(le[xe+1]<<1|1)&Ae|((T[xe+1]|T[xe])<<1|1)|T[xe+1],le[xe]&u){var Oe=this.match_bitapScore_(A,xe-1,t,n);if(Oe<=o)if(o=Oe,s=xe-1,s>n)$=xn.max(1,2*n-s);else break}}if(this.match_bitapScore_(A+1,n,t,n)>o)break;T=le}return s},r.prototype.match_bitapScore_=function(e,t,n,i){var o=e/n.length,s=Math.abs(i-t);return this.matchDistance?o+s/this.matchDistance:s?1:o},r.prototype.match_alphabet_=function(e){for(var t={},n=0;n<e.length;n++)t[e.charAt(n)]=0;for(var n=0;n<e.length;n++)t[e.charAt(n)]|=1<<e.length-n-1;return t},r.prototype.patch_addContext_=function(e,t){if(t.length!==0){if(e.start2==null)throw Error("patch not initialized");for(var n=t.substring(e.start2,e.start2+e.length1),i=0;t.indexOf(n)!==t.lastIndexOf(n)&&n.length<this.matchMaxBits-this.patchMargin-this.patchMargin;)i+=this.patchMargin,n=t.substring(e.start2-i,e.start2+e.length1+i);i+=this.patchMargin;var o=t.substring(e.start2-i,e.start2);o&&e.diffs.unshift([dt.DIFF_EQUAL,o]);var s=t.substring(e.start2+e.length1,e.start2+e.length1+i);s&&e.diffs.push([dt.DIFF_EQUAL,s]),e.start1-=o.length,e.start2-=o.length,e.length1+=o.length+s.length,e.length2+=o.length+s.length}},r}();function Nn(r,e){let t={};for(let o=0;o<e.length;o++){const s=e[o];t[s]?t[s].push(o):t[s]=[o]}let i=[{buffer1index:-1,buffer2index:-1,chain:null}];for(let o=0;o<r.length;o++){const s=r[o],u=t[s]||[];let c=0,f=i[0];for(let g=0;g<u.length;g++){const T=u[g];let A;for(A=c;A<i.length&&!(i[A].buffer2index<T&&(A===i.length-1||i[A+1].buffer2index>T));A++);if(A<i.length){const $={buffer1index:o,buffer2index:T,chain:i[A]};if(c===i.length?i.push(f):i[c]=f,c=A+1,f=$,c===i.length)break}}i[c]=f}return i[i.length-1]}a(Nn,"LCS");function mi(r,e){const t=Nn(r,e);let n=[],i=r.length,o=e.length,s={common:[]};function u(){s.common.length&&(s.common.reverse(),n.push(s),s={common:[]})}a(u,"processCommon");for(let c=t;c!==null;c=c.chain){let f={buffer1:[],buffer2:[]};for(;--i>c.buffer1index;)f.buffer1.push(r[i]);for(;--o>c.buffer2index;)f.buffer2.push(e[o]);(f.buffer1.length||f.buffer2.length)&&(u(),f.buffer1.reverse(),f.buffer2.reverse(),n.push(f)),i>=0&&s.common.push(r[i])}return u(),n.reverse(),n}a(mi,"diffComm");function Gi(r,e){const t=Nn(r,e);let n=[],i=r.length,o=e.length;for(let s=t;s!==null;s=s.chain){const u=i-s.buffer1index-1,c=o-s.buffer2index-1;i=s.buffer1index,o=s.buffer2index,(u||c)&&n.push({buffer1:[i+1,u],buffer1Content:r.slice(i+1,i+1+u),buffer2:[o+1,c],buffer2Content:e.slice(o+1,o+1+c)})}return n.reverse(),n}a(Gi,"diffIndices");function Sa(r,e){const t=Nn(r,e);let n=[],i=r.length,o=e.length;function s(u,c,f){let g=[];for(let T=0;T<f;T++)g.push(u[c+T]);return{offset:c,length:f,chunk:g}}a(s,"chunkDescription");for(let u=t;u!==null;u=u.chain){const c=i-u.buffer1index-1,f=o-u.buffer2index-1;i=u.buffer1index,o=u.buffer2index,(c||f)&&n.push({buffer1:s(r,u.buffer1index+1,c),buffer2:s(e,u.buffer2index+1,f)})}return n.reverse(),n}a(Sa,"diffPatch");function ni(r,e,t){let n=[];function i(c,f){n.push({ab:f,oStart:c.buffer1[0],oLength:c.buffer1[1],abStart:c.buffer2[0],abLength:c.buffer2[1]})}a(i,"addHunk"),Gi(e,r).forEach(c=>i(c,"a")),Gi(e,t).forEach(c=>i(c,"b")),n.sort((c,f)=>c.oStart-f.oStart);let o=[],s=0;function u(c){c>s&&(o.push({stable:!0,buffer:"o",bufferStart:s,bufferLength:c-s,bufferContent:e.slice(s,c)}),s=c)}for(a(u,"advanceTo");n.length;){let c=n.shift(),f=c.oStart,g=c.oStart+c.oLength,T=[c];for(u(f);n.length;){const A=n[0],$=A.oStart;if($>g)break;g=Math.max(g,$+A.oLength),T.push(n.shift())}if(T.length===1){if(c.abLength>0){const A=c.ab==="a"?r:t;o.push({stable:!0,buffer:c.ab,bufferStart:c.abStart,bufferLength:c.abLength,bufferContent:A.slice(c.abStart,c.abStart+c.abLength)})}}else{let A={a:[r.length,-1,e.length,-1],b:[t.length,-1,e.length,-1]};for(;T.length;){c=T.shift();const Oe=c.oStart,nt=Oe+c.oLength,$e=c.abStart,ut=$e+c.abLength;let Ct=A[c.ab];Ct[0]=Math.min($e,Ct[0]),Ct[1]=Math.max(ut,Ct[1]),Ct[2]=Math.min(Oe,Ct[2]),Ct[3]=Math.max(nt,Ct[3])}const $=A.a[0]+(f-A.a[2]),se=A.a[1]+(g-A.a[3]),le=A.b[0]+(f-A.b[2]),xe=A.b[1]+(g-A.b[3]);let Ae={stable:!1,aStart:$,aLength:se-$,aContent:r.slice($,se),oStart:f,oLength:g-f,oContent:e.slice(f,g),bStart:le,bLength:xe-le,bContent:t.slice(le,xe)};o.push(Ae)}s=g}return u(e.length),o}a(ni,"diff3MergeRegions");function Ri(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=typeof r=="string",s=typeof e=="string",u=typeof t=="string";o&&(r=r.split(n.stringSeparator)),s&&(e=e.split(n.stringSeparator)),u&&(t=t.split(n.stringSeparator));let c=[];const f=ni(r,e,t);let g=[];function T(){g.length&&c.push({ok:g}),g=[]}a(T,"flushOk");function A($,se){if($.length!==se.length)return!1;for(let le=0;le<$.length;le++)if($[le]!==se[le])return!1;return!0}return a(A,"isFalseConflict"),f.forEach($=>{$.stable?g.push(...$.bufferContent):n.excludeFalseConflicts&&A($.aContent,$.bContent)?g.push(...$.aContent):(T(),c.push({conflict:{a:$.aContent,aIndex:$.aStart,o:$.oContent,oIndex:$.oStart,b:$.bContent,bIndex:$.bStart}}))}),T(),c}a(Ri,"diff3Merge");function ze(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/,label:{}},n);const o=Ri(r,e,t,n);let s=!1,u=[];return o.forEach(c=>{c.ok?u=u.concat(c.ok):c.conflict&&(s=!0,u.push(`<<<<<<<${n.label.a?` ${n.label.a}`:""}`),u=u.concat(c.conflict.a),u.push(`|||||||${n.label.o?` ${n.label.o}`:""}`),u=u.concat(c.conflict.o),u.push("======="),u=u.concat(c.conflict.b),u.push(`>>>>>>>${n.label.b?` ${n.label.b}`:""}`))}),{conflict:s,result:u}}a(ze,"mergeDiff3");function st(r,e,t,n){n=Object.assign({excludeFalseConflicts:!0,stringSeparator:/\s+/},n);const o=Ri(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];f.ok?u=u.concat(f.ok):(s=!0,u=u.concat([`
<<<<<<<<<
`],f.conflict.a,[`
=========
`],f.conflict.b,[`
>>>>>>>>>
`]))}return{conflict:s,result:u}}a(st,"node_diff3_merge");function St(r,e,t,n){n=Object.assign({excludeFalseConflicts:!1,stringSeparator:/\s+/},n);const o=Ri(r,e,t,n);let s=!1,u=[];for(let c=0;c<o.length;c++){const f=o[c];if(f.ok)u=u.concat(f.ok);else{const g=mi(f.conflict.a,f.conflict.b);for(let T=0;T<g.length;T++){let A=g[T];A.common?u=u.concat(A.common):(s=!0,u=u.concat([`
<<<<<<<<<
`],A.buffer1,[`
=========
`],A.buffer2,[`
>>>>>>>>>
`]))}}}return{conflict:s,result:u}}a(St,"mergeDigIn");function ft(r,e){let t=[],n=0;function i(o){for(;n<o;)t.push(r[n]),n++}a(i,"advanceTo");for(let o=0;o<e.length;o++){let s=e[o];i(s.buffer1.offset);for(let u=0;u<s.buffer2.chunk.length;u++)t.push(s.buffer2.chunk[u]);n+=s.buffer1.length}return i(r.length),t}a(ft,"patch");function Wt(r){return r.map(e=>({buffer1:{offset:e.buffer1.offset,length:e.buffer1.length},buffer2:{chunk:e.buffer2.chunk}}))}a(Wt,"stripPatch");function Jt(r){return r.map(e=>({buffer1:e.buffer2,buffer2:e.buffer1}))}a(Jt,"invertPatch");const Et=new li;Et.diffTimeout=0;function tr(r,e,t){return Ne.get("experimental.useDiffMatchPatch")===!0?Et.patch_toText(Et.patch_make(e,t)):Rt(r,e,t)}a(tr,"diffs_createPatch");function Kt(r,e,t,n){const i=`diff --git a/${r} b/${r}`;switch(n){case"modify":return tr(r,e,t);case"add":{let o;!t.endsWith(`
`)&&!t.endsWith(`\r
`)?o=`
\\ No newline at end of file`:o="";const s=/\r?\n/g,u=t.split(s),c=t.match(s)||[],f=u.length,g=[];for(let T=0;T<f;T+=1)(T<u.length-1||T===u.length-1&&u[T]!=="")&&g.push("+"),g.push(u[T]),T<c.length&&g.push(c[T]);return t=g.join(""),`${i}
new file mode 100644
--- /dev/null
+++ b/${r}
@@ -0,0 +1,${f} @@
${t}${o}`}case"delete":{let o=0;return e=e.replace(/\r?\n/g,s=>(o++,`${s}-`)),`${i}
deleted file mode 100644
--- a/${r}
+++ /dev/null
@@ -1,${o} +0,0 @@
-${e}`}}}a(Kt,"createPatch2");function yr(r,e,t){return Pe(r,e,t)}a(yr,"diffs_applyPatch");function br(r,e){const t=[];for(const n of W(r,e))t.push({...n,oldFileName:n.newFileName,oldHeader:n.newHeader,newFileName:n.oldFileName,newHeader:n.oldHeader,hunks:n.hunks.map(i=>({...i,oldLines:i.newLines,oldStart:i.newStart,newLines:i.oldLines,newStart:i.oldStart,lines:i.lines.map(o=>o[0]==="-"?`+${o.slice(1)}`:o[0]==="+"?`-${o.slice(1)}`:o)}))}),t.push(n);return t}a(br,"reversePatch");function Jr(r,e,t,n){let i=`
`;const o=r.match(/(?:\r?\n)/g);if(o!==null&&o.length!==0){const f=o.filter(g=>g===`\r
`).length;i=f>o.length-f?`\r
`:`
`}const s=st(r,e,t,{excludeFalseConflicts:!0,stringSeparator:/\r?\n/}),u=s.result;let c=s.conflict;for(let f=0;f<u.length;f+=1)u[f]===`
<<<<<<<<<
`?u[f]="<<<<<<< HEAD":u[f]===`
=========
`?u[f]="=======":u[f]===`
>>>>>>>>>
`&&(u[f]=`>>>>>>> ${n}`);return{conflicts:c,mergedContent:u.join(i)}}a(Jr,"diffs_merge");function Kr(r){return r!==void 0&&typeof r.then=="function"}a(Kr,"isPromise");const yn="";function Nr(...r){if(r.length===1){const e=r[0];return e===void 0?yn:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(Nr,"defaultResolver");function Bt(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$gate$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:Nr)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];if(c===void 0){let f;try{if(f=i.apply(this,s),f==null||!Kr(f))return f;this[u]=c=f.then(g=>(this[u]=void 0,g)).catch(g=>{throw this[u]=void 0,g})}catch(g){throw this[u]=void 0,g}}return c}}}a(Bt,"gate");function ir(r){const e=performance.now()*.001;let t=Math.floor(e),n=Math.floor(e%1*1e9);return r!==void 0&&(t=t-r[0],n=n-r[1],n<0&&(t--,n+=1e9)),[t,n]}a(ir,"hrtime");let _r=0;function wr(){return _r===Number.MAX_SAFE_INTEGER&&(_r=0),++_r}a(wr,"getNextInstanceId");const j=a(class{constructor(r,e,...t){this.context=r,this.instance=`[${wr().toString().padStart(5)}] `;var n,i,o,s,u,c;let f;if(typeof(e==null?void 0:e.log)=="boolean"?f=e.log?{}:void 0:f=(n=e==null?void 0:e.log)!=null?n:{},this.logLevel=(i=e==null?void 0:e.logLevel)!=null?i:l.LogLevel.Info,this.time=ir(),f){if(!ie.enabled(this.logLevel))return;t.length?Qe(this.logLevel,`${this.instance}${(o=f.prefix)!=null?o:""}${r}${(s=f.message)!=null?s:""}`,...t):Qe(this.logLevel,`${this.instance}${(u=f.prefix)!=null?u:""}${r}${(c=f.message)!=null?c:""}`)}}log(r){this.logCore(this.context,r,!1)}logStep(r,e){(!r||e)&&this.logCore(this.context,e,!1),this.step=r?{time:ir(),label:r}:void 0}restart(r){this.logCore(this.context,r,!0),this.step=void 0,this.time=ir()}stop(r){this.restart(r)}logCore(r,e,t){var n,i,o,s,u,c,f;if(!ie.enabled(this.logLevel))return;let g="";if(this.step){const[se,le]=ir(this.step.time),xe=se*1e3+Math.floor(le/1e6);g=`${this.step.label?`${this.step.label} took `:""}${xe} ms`}if(!t){Qe(this.logLevel,`${this.instance}${(n=e==null?void 0:e.prefix)!=null?n:""}${r}${(i=e==null?void 0:e.message)!=null?i:""}${g?` ${g}`:""}${(o=e==null?void 0:e.suffix)!=null?o:""}`);return}const[T,A]=ir(this.time),$=T*1e3+Math.floor(A/1e6);Qe($>500?l.LogLevel.Warning:this.logLevel,`${this.instance}${(s=e==null?void 0:e.prefix)!=null?s:""}${r}${(u=e==null?void 0:e.message)!=null?u:""}${(c=e==null?void 0:e.took)!=null?c:" took "}${$} ms${g?` (${g})`:""}${(f=e==null?void 0:e.suffix)!=null?f:""}`)}static start(r,e,...t){var n;(n=j.watches.get(r))==null||n.log(),j.watches.set(r,new j(r,e,...t))}static log(r,e){var t;(t=j.watches.get(r))==null||t.log(e)}static stop(r,e){var t;(t=j.watches.get(r))==null||t.stop(e),j.watches.delete(r)}},"_Stopwatch");let Z=j;Z.watches=new Map;function Qe(r,e,...t){switch(r){case l.LogLevel.Warning:ie.warn(e,...t);break;case l.LogLevel.Info:ie.log(e,...t);break;default:ie.debug(e,...t);break}}a(Qe,"log");let ht=0;function zt(){return ht===Number.MAX_SAFE_INTEGER&&(ht=0),String(++ht)}a(zt,"getNextLockId");class $t{constructor(){this.id=zt()}async synchronize(e){let t;const n=this.promise;this.promise=new Promise(i=>t=i),await n;try{return await e()}finally{t()}}}a($t,"Lock");class dr{constructor(e){this.lock=new $t,this.readers=new Set,this.counter=0,this._id=e!=null?e:this.lock.id}get id(){return this._id}getNextCounter(){return this.counter===Number.MAX_SAFE_INTEGER&&(this.counter=0),++this.counter}async synchronizeRead(e,t){let n;const i=new Z(`Reader(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:l.LogLevel.Debug});let o;await this.lock.synchronize(async()=>{this.writer&&await this.writer,o=new Promise(s=>n=s),this.readers.add(o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),o!==void 0&&this.readers.delete(o),n()}}async synchronizeWrite(e,t){let n;const i=new Z(`Writer(${this.getNextCounter()}|${this.id})`,{log:{prefix:"(A) ",message:t?` \u2022 ${t}`:""},logLevel:l.LogLevel.Debug});await this.lock.synchronize(async()=>{if(this.writer&&await this.writer,this.readers.size){const o=[...this.readers];this.readers.clear(),await Promise.all(o)}this.writer=new Promise(o=>n=o)}),i.restart({prefix:"(L) ",suffix:t?` \u2022 ${t}`:"",took:" waited for "});try{return await e()}finally{i.stop({prefix:"(U) ",suffix:t?` \u2022 ${t}`:"",took:" locked for "}),n(),this.writer=void 0}}}a(dr,"ReaderWriterLock");class vr{constructor(){this.locks=new Map}async synchronizeRead(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new dr(String(e)),this.locks.set(e,i)),i.synchronizeRead(t,n)}async synchronizeWrite(e,t,n){let i=this.locks.get(e);return i===void 0&&(i=new dr(String(e)),this.locks.set(e,i)),i.synchronizeWrite(t,n)}}a(vr,"KeyedReaderWriterLock");const ar=new TextDecoder,gr=new TextEncoder;async function cr(r){const e=typeof r=="string"?gr.encode(r):r;let t;if(globalThis.crypto.subtle)t=await globalThis.crypto.subtle.digest({name:"sha-1"},e);else{const n=new Zr;n.update(e),t=n.digest()}return globalThis.btoa(encodeURIComponent(ar.decode(t)))}a(cr,"sha1");async function qt(r){const e=await globalThis.crypto.subtle.digest({name:"sha-256"},r);return Array.from(new Uint8Array(e)).map(n=>n.toString(16).padStart(2,"0")).join("")}a(qt,"sha256");var xt;(function(r){r[r.BLOCK_SIZE=64]="BLOCK_SIZE"})(xt||(xt={}));function Ar(r,e,t=32){const n=t-e,i=~((1<<n)-1);return(r<<e|(i&r)>>>n)>>>0}a(Ar,"leftRotate");function Rr(r,e=0,t=r.byteLength,n=0){for(let i=0;i<t;i++)r[e+i]=n}a(Rr,"fill");const Lr=a(class{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._finished=!1}update(r){const e=this._buff;let t=this._buffLen,n=0;const i=r.byteLength;for(;n<i;){const o=Math.min(64-t,i-n);for(let s=0;s<o;s++)e[t++]=r[n++];t>=64&&(this._step(),t-=64,this._totalLen+=64)}this._buffLen=t}digest(){this._finished||(this._finished=!0,this._totalLen+=this._buffLen,this._wrapUp());const r=new ArrayBuffer(20),e=new DataView(r);return e.setUint32(0,this._h0,!1),e.setUint32(4,this._h1,!1),e.setUint32(8,this._h2,!1),e.setUint32(12,this._h3,!1),e.setUint32(16,this._h4,!1),r}_wrapUp(){this._buff[this._buffLen++]=128,Rr(this._buff,this._buffLen),this._buffLen>56&&(this._step(),Rr(this._buff));const r=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(r/4294967296),!1),this._buffDV.setUint32(60,r%4294967296,!1),this._step()}_step(){const r=Lr._bigBlock32,e=this._buffDV;for(let g=0;g<64;g+=4)r.setUint32(g,e.getUint32(g,!1),!1);for(let g=64;g<320;g+=4)r.setUint32(g,Ar(r.getUint32(g-12,!1)^r.getUint32(g-32,!1)^r.getUint32(g-56,!1)^r.getUint32(g-64,!1),1),!1);let t=this._h0,n=this._h1,i=this._h2,o=this._h3,s=this._h4,u,c,f;for(let g=0;g<80;g++)g<20?(u=n&i|~n&o,c=1518500249):g<40?(u=n^i^o,c=1859775393):g<60?(u=n&i|n&o|i&o,c=2400959708):(u=n^i^o,c=3395469782),f=Ar(t,5)+u+s+c+r.getUint32(g*4,!1)&4294967295,s=o,o=i,i=Ar(n,30),n=t,t=f;this._h0=this._h0+t&4294967295,this._h1=this._h1+n&4294967295,this._h2=this._h2+i&4294967295,this._h3=this._h3+o&4294967295,this._h4=this._h4+s&4294967295}},"_SHA1Computer");let Zr=Lr;Zr._bigBlock32=new DataView(new ArrayBuffer(320));function Zt(r){const e=globalThis.atob(r),t=e.length,n=new Uint8Array(t);for(let i=0;i<t;i++)n[i]=e.charCodeAt(i);return n}a(Zt,"fromBase64");const{fromCharCode:Mn}=String;function _n(r){let e;if(typeof r=="string")e=r;else{e="";for(let t=0,{length:n}=r;t<n;t++)e+=Mn(r[t])}return globalThis.btoa(e)}a(_n,"toBase64");function Pr(r,e){if(r===e)return-1;let t=0;for(;r[t]===e[t];)t++;return t}a(Pr,"indexOfDifference");function ii(r){return r.replace(/[\\{}*+?|^$.[\]()]/g,"\\$&")}a(ii,"strings_escapeRegExpCharacters");var kn=Object.defineProperty,Un=Object.getOwnPropertyDescriptor,yi=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Un(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&kn(e,t,i),i},"__decorateClass");const ci=l.FileSystemError.FileNotFound().code,fi=`===================================================================
`,fn=new TextDecoder,bi=new TextEncoder;function xi(r){return r&&"type"in r&&"uri"in r&&"uri"in r&&"fileType"in r&&"revision"in r&&"timestamp"in r}a(xi,"isOperation");function ai(r,e,t){return{type:r.type,rootUri:e,uri:t!=null?t:r.uri}}a(ai,"toEvent");const Bn=a(class{constructor(r,e,t,n,i,o){this.providerService=r,this.storageService=e,this.fileStorageService=t,this.telemetryService=n,this.workspaceId=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new vr,this.scopedStores=new Map,o===void 0&&(this.disposable=l.Disposable.from(this.providerService.onDidRefresh(()=>this.cache.clear())))}get onDidChange(){return this._onDidChange.event}dispose(){var r;(r=this.disposable)==null||r.dispose()}async exportDebugInfo(r){var e;async function t(n){const i=await l.workspace.openTextDocument({language:"json",content:`ChangeStore Operations for ${n.toString(!0)}

${this.toStorage(await this.getWorkingOperations(n))}`});return void l.window.showTextDocument(i)}if(a(t,"exportCore"),r===void 0)for(const n of(e=l.workspace.workspaceFolders)!=null?e:[])await t.call(this,n.uri);else return t.call(this,r)}async getWorkspacesWithChanges(){var r;const e=new Z("ChangeStore.getWorkspacesWithChanges()");try{const t=[];for(const n of(r=l.workspace.workspaceFolders)!=null?r:[])n.uri.scheme===B.scheme&&await this.hasChanges(n.uri)&&t.push(n.uri);return t.length>0?t:void 0}finally{e.stop()}}async acceptAll(r,e){const t=`ChangeStore.acceptAll(${r.toString()}, ${e==null?void 0:e.staged})`;ie.log(t);const n=[];await this.lock.synchronizeWrite(x(r),async()=>{const i=await this.getWorkingOperations(r),o=[];let s=[];const u=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!i.some(c=>c.staged));for(const c of i){if(u&&!c.staged){s.push(c);continue}c.fileType===l.FileType.File&&await this.discardWorkingContent(r,c.uri);let f;if(c.type===z.Created&&c.fileType===l.FileType.Directory&&(i.some(g=>H(g.uri,c.uri))||(f={type:z.Deleted,rootUri:r,uri:c.uri})),n.push(f!=null?f:ai(c,r)),c.type===z.Created){let g=c.uri;for(;;){const{parent:T}=this.findParent(g,i,A=>A.type===z.Created);if(T){o.push(T),g=T.uri;continue}break}}}s.length>0&&o.length>0&&(s=s.filter(c=>o.includes(c)?(n.push(ai(c,r)),!1):!0)),await this.saveWorkingOperations(r,s)},t),n.length!==0&&this._onDidChange.fire(n)}async discard(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.discard(${r.toString()})`;ie.log(t);const n=[];await this.lock.synchronizeWrite(x(e),async()=>this.discardCore(e,r,n),t),n.length!==0&&this._onDidChange.fire(n)}async discardCore(r,e,t){ie.debug(`ChangeStore.discardCore(${e.toString()})`);let n=await this.getWorkingOperations(r);if(n.length===0)return;const i=P(e),o=n.findIndex(c=>P(c.uri)===i);if(o===-1)return;const[s]=n.splice(o,1);let u;switch(s.type){case z.Created:u=z.Deleted;break;case z.Deleted:u=z.Created;break;default:u=s.type;break}if(t.push({type:u,rootUri:r,uri:e}),s.type===z.Created){let c=s.uri;for(;;){const{parent:f,parentIndex:g}=this.findNewParentWithOnlyChild(c,n);if(f){n.splice(g,1),t.push({type:z.Deleted,rootUri:r,uri:f.uri}),c=f.uri;continue}break}}else if(s.type===z.Deleted){let c=s.uri;const f=this.findDeletedParents(c,n);let g=[...n];f.forEach(({parent:T,parentIndex:A})=>{g[A]=void 0,t.push({type:z.Created,rootUri:r,uri:T.uri})}),n=g.filter(T=>T!==void 0)}await this.saveWorkingOperations(r,n),s.fileType===l.FileType.File&&await this.discardWorkingContent(r,e)}async discardAll(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).discardAll(r,e);const n=`ChangeStore.discardAll(${r.toString()}, ${e==null?void 0:e.staged})`;ie.log(n);const i=[];await this.lock.synchronizeWrite(x(r),async()=>{const o=await this.getWorkingOperations(r),s=[];let u=[];const c=(e==null?void 0:e.staged)&&!(e.staged==="auto"&&!o.some(f=>f.staged));for(const f of o){if(c&&!f.staged){u.push(f);continue}f.fileType===l.FileType.File&&await this.discardWorkingContent(r,f.uri);let g;switch(f.type){case z.Created:g=z.Deleted;break;case z.Deleted:g=z.Created;break;default:g=f.type;break}if(i.push({type:g,rootUri:r,uri:f.uri}),f.type===z.Created){let T=f.uri;for(;;){const{parent:A}=this.findNewParentWithOnlyChild(T,o);if(A){s.push(A),T=A.uri;continue}break}}}u.length>0&&s.length>0&&(u=u.filter(f=>s.includes(f)?(i.push({type:z.Deleted,rootUri:r,uri:f.uri}),!1):!0)),await this.saveWorkingOperations(r,u)},n),i.length!==0&&this._onDidChange.fire(i)}async stage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.stage(${r.toString()})`;ie.log(t);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.stageCore(e,r,i,n,o)},t),n.length!==0&&this._onDidChange.fire(n)}async stageAll(r){const e=`ChangeStore.stageAll(${r.toString()})`;ie.log(e);const t=[];await this.lock.synchronizeWrite(x(r),async()=>{const n=(await this.getWorkingOperations(r)).filter(i=>!i.staged);if(n.length!==0)for(const i of n){const{index:o}=await this.getWorkingOperation(i.uri,r);if(!await this.stageCore(r,i.uri,i,t,o))return}},e),t.length!==0&&this._onDidChange.fire(t)}async stageCore(r,e,t,n,i){if(t.conflicts){if(!t.conflicts.status.includes(z.Deleted)){const s=l.l10n.t("Yes");if(await l.window.showWarningMessage(l.l10n.t("Are you sure you want to stage {0} with merge conflicts?",Y(e)),{modal:!0},s)!==s)return!1}const[,o]=t.conflicts.status;switch(o){case z.Changed:switch(t.type){case z.Created:return!1;case z.Changed:return await this.spliceOperation(e,i,{...t,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0;case z.Deleted:const s=l.l10n.t("Keep Their Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by us and modified by them.

What would you like to do?`,Y(e)),{modal:!0},s,u);return c===s?(await this.discardCore(r,e,n),!0):c===u?(await this.spliceOperation(e,i,{...t,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):!1}case z.Created:switch(t.type){case z.Changed:case z.Deleted:return!1;case z.Created:return await this.spliceOperation(e,i,{...t,type:z.Changed,conflicts:void 0,size:t.size,hash:t.hash,originalHash:t.originalHash,staged:!0,timestamp:Date.now()},n),!0}case z.Deleted:switch(t.type){case z.Created:case z.Changed:{const s=l.l10n.t("Keep Our Version"),u=l.l10n.t("Delete File"),c=await l.window.showInformationMessage(l.l10n.t(`File '{0}' was deleted by them and modified by us.

What would you like to do?`,Y(e)),{modal:!0},s,u);return c===s?(await this.spliceOperation(e,i,{...t,type:z.Created,originalHash:void 0,conflicts:void 0,staged:!0,timestamp:Date.now()},n),!0):c===u?(await this.discardCore(r,e,n),!0):!1}case z.Deleted:return await this.discardCore(r,e,n),!0}}}return await this.spliceOperation(e,i,{...t,staged:!0,conflicts:void 0,timestamp:Date.now()},n),!0}async unstage(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=`ChangeStore.unstage(${r.toString()})`;ie.log(t);const n=[];await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);i!==void 0&&await this.spliceOperation(r,o,{...i,staged:!1,timestamp:Date.now()},n)},t),n.length!==0&&this._onDidChange.fire(n)}async unstageAll(r){const e=`ChangeStore.unstageAll(${r.toString()})`;ie.log(e);const t=[];await this.lock.synchronizeWrite(x(r),async()=>{const n=(await this.getWorkingOperations(r)).map(i=>({...i,staged:!1,timestamp:Date.now()}));n.length!==0&&(await this.saveWorkingOperations(r,n),t.push(...n.map(i=>ai(i,r))))},e),t.length!==0&&this._onDidChange.fire(t)}async hasChanges(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).hasChanges(r);const t=x(r),n=this.cache.get(t);return n!==void 0?n.length!==0:this.lock.synchronizeRead(t,async()=>(await this.getWorkingOperations(r)).length!==0,`ChangeStore.hasChanges(${r.toString()})`)}maybeHasChanges(r,e){const t=this.getUriScope(r);if(t)return this.getScopedChangeStore(t).maybeHasChanges(r,e);const n=x(r),i=this.cache.get(n);if(i===void 0)return;if(i.length===0)return!1;if(e===void 0)return!0;const o=P(e);return i.some(s=>P(s.uri)===o)}async hasMergeConflicts(r){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.conflicts!==void 0),`ChangeStore.hasMergeConflicts(${r.toString()})`)}async hasStagedChanges(r){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).some(e=>e.staged&&e.conflicts===void 0),`ChangeStore.hasStagedChanges(${r.toString()})`)}async hasWorkingChanges(r){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).some(e=>!e.staged&&e.conflicts===void 0),`ChangeStore.hasWorkingChanges(${r.toString()})`)}async getChange(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).getChange(r);const t=this.providerService.getVirtualRootUri(r);if(t!==void 0)return this.lock.synchronizeRead(x(t),async()=>{const{operation:n}=await this.getWorkingOperation(r,t);return n},`ChangeStore.getChange(${r.toString()})`)}async getChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getChanges(r,e):this.lock.synchronizeRead(x(r),async()=>{let n=await this.getWorkingOperations(r);if((e==null?void 0:e.excludeConflicts)||(e==null?void 0:e.predicate)){const{excludeConflicts:i,predicate:o}=e;n=n.filter(s=>{var u;return(!i||s.conflicts===void 0)&&((u=o==null?void 0:o(s))!=null?u:!0)})}return n},`ChangeStore.getChanges(${r.toString()})`)}async getGroupedChanges(r,e){const t=this.getUriScope(r);return t?this.getScopedChangeStore(t).getGroupedChanges(r,e):this.lock.synchronizeRead(x(r),async()=>{var n,i;const o=await this.getWorkingOperations(r),s={conflicts:[],staged:[],working:[]};for(const u of o)!((i=(n=e==null?void 0:e.predicate)==null?void 0:n.call(e,u))!=null?i:!0)||(u.conflicts?s.conflicts.push(u):u.staged?s.staged.push(u):s.working.push(u));return s},`ChangeStore.getChangesByType(${r.toString()})`)}async getContent(r){const e=this.providerService.getVirtualRootUri(r);if(e===void 0)throw new Error(`Unable to find content for ${r.toString()}; Repository not found`);const t=x(e),n=this.cache.get(t);if((n==null?void 0:n.length)===0)throw new Error(`Unable to find content for ${r.toString()}`);return this.lock.synchronizeRead(t,async()=>{const i=fn.decode(await this.getWorkingContent(e,r));if(i!==void 0)return i;throw new Error(`Unable to find content for ${r.toString()}`)},`ChangeStore.getContent(${r.toString()}}`)}async getMergeConflicts(r,e){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.conflicts!==void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getMergeConflicts(${r.toString()})`)}async getStagedChanges(r,e){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getStagedChanges(${r.toString()})`)}async getWorkingChanges(r,e){return this.lock.synchronizeRead(x(r),async()=>(await this.getWorkingOperations(r)).filter(n=>{var i,o;return!n.staged&&n.conflicts===void 0&&((o=(i=e==null?void 0:e.predicate)==null?void 0:i.call(e,n))!=null?o:!0)}),`ChangeStore.getWorkingChanges(${r.toString()})`)}async applyChangeset(r,e,t,n){var i;let o;xi(t)?o=t:n=n!=null?n:t,ie.log(`ChangeStore.applyChangeset${r.toString()}`,e.workspaceId,e.uri,o==null?void 0:o.uri,n==null?void 0:n.save);const s=this.getScopedChangeStore(e.workspaceId),u=(i=e.patch)!=null?i:await s.createPatch(e.uri,o==null?void 0:o.uri);await this.applyPatchCore(r,u,{...n,getIncomingContent:async c=>{const f=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,c),e.workspaceId);return fn.decode(await l.workspace.fs.readFile(f))},merge:async(c,f,g)=>{try{const T=B.getProviderUri(c),A=fn.decode(await l.workspace.fs.readFile(T)),$=this.getScopedUri(this.providerService.createRelativeVirtualUri(e.uri,f),e.workspaceId),se=fn.decode(await l.workspace.fs.readFile($)),le=await this.providerService.getMetadata($);return{...Jr(g,A,se,le.HEAD.sha),baseUri:T,incomingUri:$}}catch(T){throw new Error(`Unable to apply patch to ${f}: ${String(T)}`)}}})}async applyPatch(r,e,t){if(ie.log(`ChangeStore.applyPatch(${r.toString()})`,t==null?void 0:t.save),!e.startsWith("diff --"))throw new Error("Invalid patch");return this.applyPatchCore(r,e,t)}async applyPatchCore(r,e,t={}){const n=`ChangeStore.applyPatchCore(${r.toString()})`;ie.debug(n,t==null?void 0:t.save);const i=new l.WorkspaceEdit,o=[],s=new Map;async function u(A){var $;const se=x(A),le=l.workspace.textDocuments.find(xe=>x(xe.uri)===se);return($=le==null?void 0:le.getText())!=null?$:fn.decode(await l.workspace.fs.readFile(A))}a(u,"getContent");async function c(A){try{const $=await l.workspace.fs.stat(A);return Boolean($)}catch{return!1}}a(c,"exists");async function f(A,$,se){let le=yr("",se,{fuzzFactor:0});if(le===!1){if(!t.getIncomingContent)throw new Error(`Unable to apply patch to ${$}`);le=await t.getIncomingContent($)}i.createFile(A,{overwrite:!0}),i.replace(A,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),le)}a(f,"applyCreate");async function g(A,$,se,le){const xe=await u(A);let Ae=yr(xe,se,{fuzzFactor:1});if(Ae===!1){if(t.merge===void 0)throw new Error(`Unable to apply patch to ${$}; Resulted in conflicts`);const Oe={title:l.l10n.t("Merge")},nt={title:l.l10n.t("Skip File"),isCloseAffordance:!0};if(await l.window.showWarningMessage(l.l10n.t(`Unable to apply changes to '{0}'.

Do you want to retry by merging the files?`,$),{modal:!0},Oe,nt)!==Oe)return;const ut=await t.merge(A,$,xe);Ae=ut.mergedContent,ut.conflicts&&s.set(x(A),{type:le,baseUri:ut.baseUri,incomingUri:ut.incomingUri})}i.replace(A,new l.Range(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),Ae)}a(g,"applyModification");const T=(t==null?void 0:t.reverse)?br(e,{}):W(e,{});for(const A of T)if(A.oldFileName==="/dev/null"){if(!A.newFileName)continue;const $=A.newFileName.startsWith("b/")?A.newFileName.substr(2):A.newFileName,se=this.providerService.createRelativeVirtualUri(r,$);o.push(x(se)),!await c(se)?await f(se,$,A):await g(se,$,A,z.Created)}else if(A.newFileName==="/dev/null"){if(!A.oldFileName)continue;const $=A.oldFileName.startsWith("a/")?A.oldFileName.substr(2):A.oldFileName,se=this.providerService.createRelativeVirtualUri(r,$);await c(se)&&i.deleteFile(se)}else if(A.oldFileName===A.newFileName){if(!A.newFileName)continue;const $=this.providerService.createRelativeVirtualUri(r,A.newFileName);o.push(x($)),!await c($)?await f($,A.newFileName,A):await g($,A.newFileName,A,z.Changed)}else throw new Error(`Unable to apply patch to ${A.oldFileName}; Renames aren't currently supported`);if(await l.workspace.applyEdit(i),t.save&&o.length)for(const A of o){const $=l.workspace.textDocuments.find(se=>x(se.uri)===A);await($==null?void 0:$.save())}s.size&&setTimeout(async()=>{const A=[];await this.lock.synchronizeWrite(x(r),async()=>{const $=await this.getWorkingOperations(r);if($.length===0)return;let se=-1;for(const le of $){se++;const xe=s.get(x(le.uri));xe!==void 0&&await this.spliceOperation(le.uri,se,{...le,conflicts:{baseUri:xe.baseUri,incomingUri:xe.incomingUri,status:[le.type,xe.type]},timestamp:Date.now()},A)}},n),A.length!==0&&this._onDidChange.fire(A)},0)}async createChangeset(r){ie.log(`ChangeStore.createChangeset${r.toString()})`);const e=await this.createPatch(r);return e?{workspaceId:this.workspaceId,uri:r,patch:e}:void 0}async createPatch(r,e,t){if(ie.log(`ChangeStore.createPatch${r.toString()})`,e),e===void 0){let o=await this.getWorkingOperations(r);if((t==null?void 0:t.staged)&&(o=o.filter(u=>u.staged)),o.length===0)return"";const s=[];for(const u of o){const c=await this.createPatchCore(r,u);s.push(c)}return s.join("")}const{operation:n}=await this.getWorkingOperation(e,r);if(n===void 0)throw new Error(`Unable to create patch for ${e.toString()}`);return(t==null?void 0:t.staged)&&n.staged?"":await this.createPatchCore(r,n)}async createPatchCore(r,e){if(e.fileType!==l.FileType.File)return"";const t=this.providerService.getRelativeFilePath(r,e.uri),n=`diff --git a/${t} b/${t}`;if(e.type===z.Created){let c=await this.getContent(e.uri);return Kt(t,"",c,"add")}if(e.type===z.Deleted){let c=fn.decode(await l.workspace.fs.readFile(B.getProviderUri(e.uri)));return Kt(t,c,"","delete")}const i=await this.getContent(e.uri),o=fn.decode(await l.workspace.fs.readFile(B.getProviderUri(e.uri))),s=tr(t,o,i),u=s.indexOf(fi);return`${n}
${s.substr(u+fi.length)}`}async keep(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=`ChangeStore.keep(${r.toString()})`;ie.log(n,e);const i=[];await this.lock.synchronizeWrite(x(t),async()=>{const{operation:o,index:s}=await this.getWorkingOperation(r,t);if(o===void 0)return;if(e===void 0&&o.conflicts){const[,c]=o.conflicts.status;switch(c){case z.Changed:switch(o.type){case z.Changed:case z.Created:case z.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break;case z.Created:switch(o.type){case z.Changed:case z.Deleted:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break;case z.Created:await this.spliceOperation(r,s,{...o,type:z.Changed,size:o.size,hash:o.hash,originalHash:o.originalHash,conflicts:void 0,timestamp:Date.now()},i);break}break;case z.Deleted:switch(o.type){case z.Deleted:await this.discardCore(t,r,i);break;case z.Changed:await this.spliceOperation(r,s,{...o,type:z.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);break;case z.Created:await this.spliceOperation(r,s,{...o,conflicts:void 0,timestamp:Date.now()},i);break}break}return}if(e===void 0)return;switch(e.type){case z.Changed:switch(o.type){case z.Deleted:await this.spliceOperation(r,s,{...o,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case z.Created:break;case z.Changed:break}break;case z.Created:switch(o.type){case z.Changed:case z.Deleted:return;case z.Created:break}break;case z.Deleted:switch(o.type){case z.Deleted:return this.discardCore(t,r,i);case z.Changed:await this.spliceOperation(r,s,{...o,type:z.Created,originalHash:void 0,conflicts:void 0,timestamp:Date.now()},i);return;case z.Created:return}}const u=e!==void 0?await l.workspace.fs.readFile(e.providerUri):void 0;await this.spliceOperation(r,s,{...o,type:z.Changed,originalHash:u!==void 0?await cr(u):o.originalHash,conflicts:void 0,timestamp:Date.now()},i)},n),i.length!==0&&this._onDidChange.fire(i)}async merge(r,e,t){const n=this.providerService.getVirtualWorkspaceUri(r);if(n===void 0)return;const i=`ChangeStore.merge(${r.toString()})`;ie.log(i,e,t);const o=[];await this.lock.synchronizeWrite(x(n),async()=>{const{operation:s,index:u}=await this.getWorkingOperation(r,n);if(s===void 0)return;switch(e.type){case z.Changed:switch(s.type){case z.Deleted:await this.spliceOperation(r,u,{...s,type:z.Deleted,size:void 0,hash:void 0,originalHash:void 0,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case z.Created:break;case z.Changed:break}break;case z.Created:switch(s.type){case z.Deleted:case z.Changed:return;case z.Created:const $=await l.workspace.fs.readFile(e.providerUri);await this.spliceOperation(r,u,{...s,originalHash:$!==void 0?await cr($):s.originalHash,conflicts:{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]},type:z.Changed,timestamp:Date.now()},o);break}break;case z.Deleted:switch(s.type){case z.Deleted:return this.discardCore(n,r,o);case z.Changed:await this.spliceOperation(r,u,{...s,type:z.Created,originalHash:void 0,conflicts:{baseUri:void 0,incomingUri:e.providerUri,status:[s.type,e.type]},timestamp:Date.now()},o);return;case z.Created:return}}const c=await this.providerService.getMetadata(e.providerUri),f=await this.getWorkingContent(n,r),g=s.type===z.Created?new Uint8Array(0):await l.workspace.fs.readFile(t.providerUri),T=await l.workspace.fs.readFile(e.providerUri),A=Jr(fn.decode(f),fn.decode(g),fn.decode(T),c.HEAD.sha);await this.writeFileCore(n,r,o,bi.encode(A.mergedContent),T!=null?T:new Uint8Array(0),A.conflicts?{baseUri:t.providerUri,incomingUri:e.providerUri,status:[s.type,e.type]}:void 0)},i),o.length!==0&&this._onDidChange.fire(o)}async resolveDiffCommand(r,e,t,n){let i;const o=this.providerService.getVirtualRootUri(r);return o!==void 0&&({operation:i}=await this.getWorkingOperation(r,o)),(i==null?void 0:i.type)===z.Deleted?this.resolveOpenCommand(e):Ne.getAny("git.openDiffOnClick",void 0,!0)?((i==null?void 0:i.type)===z.Created&&(e=e.with({query:"~"})),{command:"vscode.diff",title:"Open Changes",arguments:[e,r,t,n]}):this.resolveOpenCommand(r)}resolveOpenCommand(r,e){return{command:"vscode.open",title:"Open File",arguments:[r,e]}}getScopedUri(r,e){const t=typeof e=="string"?e:e.workspaceId;return t===this.workspaceId?r:r.with({fragment:t})}getUriScope(r){return r.fragment||void 0}getScopedChangeStore(r){const e=typeof r=="string"?r:r.workspaceId;ie.log(`ChangeStore.getScopedChangeStore(${e})`);let t=this.scopedStores.get(e);return t===void 0&&(t=e===this.workspaceId?new Bn.ScopedChangeStore(this,e,this.workspaceId):new Bn.ScopedChangeStore(new Bn(this.providerService,this.storageService.with(e),this.fileStorageService.with(e),this.telemetryService,this.workspaceId,e),e,this.workspaceId),this.scopedStores.set(e,t)),t}async stat(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).stat(r);const t=this.providerService.getVirtualRootUri(r);if(t===void 0)return;const n=x(t),i=this.cache.get(n);if((i==null?void 0:i.length)!==0)return this.lock.synchronizeRead(n,async()=>{var o;const{operation:s}=await this.getWorkingOperation(r,t);if(s!==void 0){if(s.type===z.Deleted)throw l.FileSystemError.FileNotFound(`The ${s.fileType===l.FileType.Directory?"folder":"file"} has been deleted.`);return{type:s.fileType,size:(o=s.size)!=null?o:0,ctime:0,mtime:s.timestamp}}},`ChangeStore.stat(${r.toString()}`)}async readFile(r){const e=this.getUriScope(r);if(e)return this.getScopedChangeStore(e).readFile(r);const t=new Z(`ChangeStore.readFile(${r.toString()})`);try{const n=this.providerService.getVirtualRootUri(r);if(n===void 0)return;const i=x(n),o=this.cache.get(i);return(o==null?void 0:o.length)===0?void 0:await this.lock.synchronizeRead(i,()=>{const s=this.cache.get(i);if((s==null?void 0:s.length)===0){t.log({message:": Not found; no operations"});return}return this.getWorkingContent(n,r)},t.context)}finally{t.stop()}}async createDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Z(`ChangeStore.createDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e),s=await this.providerService.getMetadata(r);let u;i===void 0?u={type:z.Created,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:"",originalHash:void 0}:i.type===z.Deleted?u={...i,type:z.Changed,revision:s.HEAD.sha,timestamp:Date.now(),size:0,hash:""}:u={...i,timestamp:Date.now()},await this.spliceOperation(r,o,u,n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async deleteDirectory(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Z(`ChangeStore.deleteDirectory(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===z.Created)return this.discardCore(e,r,n);const s=await this.providerService.getMetadata(r);await this.spliceOperation(r,o,{type:z.Deleted,uri:r,fileType:l.FileType.Directory,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}async updateDirectoryEntries(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return e;const n=new Z(`ChangeStore.updateDirectoryEntries(${r.toString()})`,{},e.length);try{const i=x(t),o=this.cache.get(i);return(o==null?void 0:o.length)===0?e:await this.lock.synchronizeRead(i,async()=>{const{path:s}=L(t,r),u=await this.getWorkingOperations(t);for(const c of u)switch(c.type){case z.Changed:break;case z.Created:{if(H(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri);e.push([f,c.fileType])}break}case z.Deleted:{if(H(c.uri,s)){const f=this.providerService.getRelativeFilePath(r,c.uri),g=e.findIndex(([T])=>T===f);g!==-1&&e.splice(g,1)}break}}return e},n.context)}finally{n.stop()}}async writeFile(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=new Z(`ChangeStore.writeFile(${r.toString()})`,{},e.length,n);try{const s=[];if(await this.lock.synchronizeWrite(x(i),async()=>this.writeFileCore(i,r,s,e,t,n),o.context),s.length===0)return;this._onDidChange.fire(s)}finally{o.stop()}}async writeFileCore(r,e,t,n,i,o){const s=new Z(`ChangeStore.writeFileCore(${e.toString()})`,{},n.length,o);try{const[{operation:u,index:c},f,g]=await Promise.all([this.getWorkingOperation(e,r),cr(n),cr(i)]);if(f===g&&(!u||(u==null?void 0:u.type)===z.Changed))return this.discardCore(r,e,t);if(f===(u==null?void 0:u.hash)&&g===(u==null?void 0:u.originalHash))return;const[{HEAD:T}]=await Promise.all([this.providerService.getMetadata(e),this.saveWorkingContent(r,e,n)]);await this.spliceOperation(e,c,u===void 0?{type:z.Changed,uri:e,fileType:l.FileType.File,revision:T.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:g,conflicts:o,staged:!1}:{...u,revision:T.sha,timestamp:Date.now(),size:n.byteLength,hash:f,originalHash:g,conflicts:o,staged:!1},t)}finally{s.stop()}}async createFile(r,e){const t=this.providerService.getVirtualWorkspaceUri(r);if(t===void 0)return;const n=new Z(`ChangeStore.createFile(${r.toString()})`,{},e.length);try{const i=[];if(await this.lock.synchronizeWrite(x(t),async()=>{const[{operation:o,index:s},u,c]=await Promise.all([this.getWorkingOperation(r,t),cr(e),this.providerService.getMetadata(r),this.saveWorkingContent(t,r,e)]);await this.spliceOperation(r,s,o===void 0?{type:z.Created,uri:r,fileType:l.FileType.File,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u,originalHash:u}:o.type===z.Deleted?{...o,type:z.Changed,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u}:{...o,type:z.Created,revision:c.HEAD.sha,timestamp:Date.now(),size:e.byteLength,hash:u},i)},n.context),i.length===0)return;this._onDidChange.fire(i)}finally{n.stop()}}async deleteFile(r){const e=this.providerService.getVirtualWorkspaceUri(r);if(e===void 0)return;const t=new Z(`ChangeStore.deleteFile(${r.toString()})`);try{const n=[];if(await this.lock.synchronizeWrite(x(e),async()=>{const{operation:i,index:o}=await this.getWorkingOperation(r,e);if((i==null?void 0:i.type)===z.Created)return this.discardCore(e,r,n);const[s]=await Promise.all([this.providerService.getMetadata(r),this.discardWorkingContent(e,r)]);await this.spliceOperation(r,o,{type:z.Deleted,uri:r,fileType:l.FileType.File,revision:s.HEAD.sha,timestamp:Date.now(),size:void 0,hash:void 0,originalHash:void 0},n)},t.context),n.length===0)return;this._onDidChange.fire(n)}finally{t.stop()}}findParent(r,e,t){const n=fe(r),{operation:i,index:o}=this.findWorkingOperation(n,e);return i!==void 0&&t(i,e)?{parent:i,parentIndex:o}:{parent:void 0,parentIndex:-1}}findNewParentWithOnlyChild(r,e){const t=P(r);return this.findParent(r,e,(n,i)=>n.type===z.Created&&!i.some(o=>H(o.uri,n.uri)&&P(o.uri)!==t))}findDeletedParents(r,e){const t=[];for(let n=0;n<e.length;n+=1){const i=e[n];i.type===z.Deleted&&U(r,i.uri)&&t.push({parent:i,parentIndex:n})}return t}async getWorkingOperation(r,e){return this.findWorkingOperation(r,await this.getWorkingOperations(e))}findWorkingOperation(r,e){if(e.length===0)return{operation:void 0,index:-1};const t=P(r);let n=-1;const i=e.find((o,s)=>P(o.uri)!==t?!1:(n=s,!0));return i===void 0?{operation:void 0,index:-1}:{operation:i,index:n}}async getWorkingOperations(r){const e=x(r);let t=this.cache.get(e);return t===void 0&&(t=this.fromStorage(await this.storageService.get(this.getOperationsStorageKey(e))),this.cache.set(e,t)),t}async saveWorkingOperations(r,e){ie.debug(`ChangeStore.saveWorkingOperations(${r.toString()})`,e.length);const t=x(r);this.cache.set(t,e);try{await this.storageService.store(this.getOperationsStorageKey(t),this.toStorage(e))}catch(n){throw this.cache.delete(t),ie.error(n,`Failed to save repository changes for ${t}`),n}}getOperationsStorageKey(r){return`operations/${r}`}async getWorkingContent(r,e){try{return await this.fileStorageService.get(this.getFileStorageKey(r,e))}catch(t){throw ie.error(t),this.telemetryService.sendException(t),t}}async discardWorkingContent(r,e){ie.debug(`ChangeStore.discardWorkingContent(${e.toString()})`);try{return await this.fileStorageService.delete(this.getFileStorageKey(r,e))}catch(t){if(t instanceof l.FileSystemError&&t.code===ci)return;throw ie.error(t),this.telemetryService.sendException(t),t}}async saveWorkingContent(r,e,t){ie.debug(`ChangeStore.saveWorkingContent(${e.toString()})`,t.length);try{return await this.fileStorageService.store(this.getFileStorageKey(r,e),t)}catch(n){throw ie.error(n),this.telemetryService.sendException(n),n}}getFileStorageKey(r,e){return`changestore/${F(e)}`}async spliceOperation(r,e,t,n){const i=this.providerService.getVirtualWorkspaceUri(r);if(i===void 0)return;const o=await this.getWorkingOperations(i);e!==-1?o.splice(e,1,t):o.push(t),await this.saveWorkingOperations(i,o),n.push(ai(t,i,r))}fromStorage(r){if(!r)return[];try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&I(n)?typeof n=="string"?l.Uri.parse(n):l.Uri.from(n):n);return Array.isArray(e)?e:e.operations}catch(e){throw ie.error(e,"Failed to deserialize ChangeStore operations"),e}}toStorage(r){const e={schemaVersion:Bn.operationsStorageSchemaVersion,operations:r};return JSON.stringify(e)}},"_ChangeStore");let oi=Bn;oi.operationsStorageSchemaVersion=1,oi.ScopedChangeStore=class{constructor(r,e,t){this.changeStore=r,this.scope=e,this.workspaceId=t}createPatch(r,e,t){return this.changeStore.createPatch(this.stripUriScope(r),this.stripUriScope(e),t)}discardAll(r,e){return this.changeStore.discardAll(this.stripUriScope(r),e)}getChange(r){return this.changeStore.getChange(this.stripUriScope(r))}getChanges(r,e){return this.changeStore.getChanges(this.stripUriScope(r),e)}async getGroupedChanges(r,e){return this.changeStore.getGroupedChanges(this.stripUriScope(r),e)}hasChanges(r){return this.changeStore.hasChanges(this.stripUriScope(r))}maybeHasChanges(r,e){return this.changeStore.maybeHasChanges(this.stripUriScope(r),this.stripUriScope(e))}async stat(r){const t=this.changeStore.getUriScope(r)!==this.workspaceId,n=await this.changeStore.stat(this.stripUriScope(r));return n!==void 0&&t&&(n.permissions=l.FilePermission.Readonly),n}readFile(r){return this.changeStore.readFile(this.stripUriScope(r))}resolveDiffCommand(r,e,t,n){return this.changeStore.resolveDiffCommand(this.changeStore.getScopedUri(r,this.scope),this.changeStore.getScopedUri(e,this.scope),t,n)}stripUriScope(r){return r===void 0||!r.fragment?r:r.with({fragment:""})}},yi([Bt()],oi.prototype,"getWorkingOperations",1);function Mi(r){switch(r){case OperationType.Changed:return l10n.t("Modified");case OperationType.Created:return l10n.t("Added");case OperationType.Deleted:return l10n.t("Deleted")}}a(Mi,"getStatusText");function ki(r){const[e,t]=r;switch(e){case OperationType.Changed:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Modified by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Created:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Added by Both");case OperationType.Deleted:return l10n.t("Deleted by Incoming")}case OperationType.Deleted:switch(t){case OperationType.Changed:case OperationType.Created:return l10n.t("Deleted by Current");case OperationType.Deleted:return l10n.t("Deleted by Both")}}}a(ki,"getConflictStatusText");const Qn=a(class{constructor(r){this.storageService=r,this._onDidChange=new l.EventEmitter,this.cache=new Map}get onDidChange(){return this._onDidChange.event}async delete(r){const e=x(r),t=this.cache.has(e);this.cache.delete(e);try{await this.storageService.delete(this.getStorageKey(e))}catch(n){throw ie.error(n,`Failed to delete repository metadata for ${e}`),n}!t||setTimeout(()=>this._onDidChange.fire({uri:r}),0)}async get(r){this.assertMatchingScheme(r);const e=x(r),t=this.cache.get(e);if(t!==void 0)return t;let n;try{n=this.fromStorage(await this.storageService.get(this.getStorageKey(e)))}catch(i){throw ie.error(i,`Failed to get repository metadata for ${e}`),i}return n?this.cache.set(e,{revision:n}):this.cache.delete(e),{revision:n}}async set(r,e,t,n){this.assertMatchingScheme(r);const i=(await this.get(r)).revision!==e?"revision":void 0,o=x(r);if(t!==void 0&&!this.validate(t))throw new Error(`Metadata validation failed for ${r.toString()}`);const s={revision:e,cachedMetadata:t};this.cache.set(o,s);try{await this.storageService.store(this.getStorageKey(o),this.toStorage(e))}catch(u){throw this.cache.delete(o),ie.error(u,`Failed to save repository metadata for ${o}`),u}(n==null?void 0:n.silent)||setTimeout(()=>this._onDidChange.fire({uri:r,reason:i}),0)}refresh(){this.cache.clear()}validate(r){var e,t,n,i,o,s,u,c;return typeof r.version=="number"&&r.version>=Qn.schemaVersion&&typeof r.timestamp=="number"&&typeof((e=r.provider)==null?void 0:e.id)=="string"&&typeof r.provider.name=="string"&&typeof r.name=="string"&&r.repo&&typeof r.accessLevel=="number"&&typeof((t=r.HEAD)==null?void 0:t.type)=="number"&&typeof((n=r.HEAD)==null?void 0:n.name)=="string"&&typeof((i=r.HEAD)==null?void 0:i.sha)=="string"&&(typeof((o=r.HEAD.detached)==null?void 0:o.name)=="string"&&typeof((s=r.HEAD.detached)==null?void 0:s.type)=="number"||typeof((u=r.HEAD.branch)==null?void 0:u.name)=="string")&&typeof((c=r.defaultBranch)==null?void 0:c.name)=="string"&&typeof r.defaultBranch.sha=="string"}assertMatchingScheme(r){if(r.scheme!==B.scheme)throw new Error(`Uri scheme '${r.scheme}' must match configured scheme '${B.scheme}'; uri=${r.toString()}`)}getStorageKey(r){return`metadata/${r}`}fromStorage(r){if(!r)return;const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&I(n)?l.Uri.from(n):n);return e==null?void 0:e.revision}toStorage(r){const e={schemaVersion:Qn.storageSchemaVersion,revision:r};return JSON.stringify(e)}},"_MetadataStore");let jn=Qn;jn.schemaVersion=rt,jn.storageSchemaVersion=1;class hn{constructor(e,t){this.memento=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new Z(`MementoStorage.get(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await Promise.resolve(this.memento.get(t))}finally{n.stop()}}async getKeys(e){const t=this.getScoped(e),n=new Z(`MementoStorage.getKeys(${e}): scopedPrefix=${t}`,{logLevel:l.LogLevel.Debug});try{let i=this.getKeysCore(e);if(this.scope!==void 0){const o=this.scope.length+1;i=i.map(s=>s.substr(o))}return await Promise.resolve(i)}finally{n.stop()}}getKeysCore(e){let t=this.memento.keys();return e&&(t=t.filter(n=>n.startsWith(e))),t}async store(e,t){const n=this.getScoped(e),i=new Z(`MementoStorage.store(${e}): scopedKey=${n}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await this.memento.update(t,n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new Z(`MementoStorage.delete(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,t,void 0)}finally{n.stop()}}async deleteKeys(e){const t=this.getScoped(e),n=new Z(`MementoStorage.deleteKeys(${e}): scopedPrefix=${t}`,{logLevel:l.LogLevel.Debug});try{const i=[],o=this.scope!==void 0?this.scope.length+1:0,s=this.getKeysCore(t);for(const u of s){const c=o!==0?u.substr(o):u;ie.debug(`MementoStorage.deleteKeys(${e}): Deleting key=${c}, scopedKey=${u}`);try{await this.storeCore(c,u,void 0)}catch(f){ie.debug(`MementoStorage.deleteKeys(${e}): Failed to delete key=${c}, scopedKey=${u}`),i.push(c)}}if(i.length)throw new Error(`Failed to delete keys: ${i.join(", ")}`)}finally{n.stop()}}with(e){return new hn(this.memento,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e!=null?e:""}`}}a(hn,"MementoStorageService");class hi{constructor(e,t){this.storageUri=e,this.scope=t,this._onDidChange=new l.EventEmitter}get onDidChange(){return this._onDidChange.event}async get(e){const t=this.getScoped(e),n=new Z(`ExtFileStorageService.get(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await l.workspace.fs.readFile(l.Uri.joinPath(this.storageUri,t))}catch(i){return}finally{n.stop()}}async store(e,t){const n=this.getScoped(e),i=new Z(`ExtFileStorageService.store(${e}): scopedKey=${n}`,{logLevel:l.LogLevel.Debug});try{return await this.storeCore(e,n,t)}finally{i.stop()}}async storeCore(e,t,n){await l.workspace.fs.writeFile(l.Uri.joinPath(this.storageUri,t),n),this._onDidChange.fire({key:e})}async delete(e){const t=this.getScoped(e),n=new Z(`ExtFileStorageService.delete(${e}): scopedKey=${t}`,{logLevel:l.LogLevel.Debug});try{return await l.workspace.fs.delete(l.Uri.joinPath(this.storageUri,t))}finally{n.stop()}}with(e){return new hi(this.storageUri,e)}getScoped(e){return`${this.scope!==void 0?`${this.scope}/`:""}${e}`}}a(hi,"ExtFileStorageService");const Te=a(async(r,e,t)=>{const n=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,850)),i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,5229)),o=new n.AppInsightsCore,s=new i.PostChannel,u={instrumentationKey:r,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(t){u.extensionConfig={};const g={alwaysUseXhrOverride:!0,httpXHROverride:t};u.extensionConfig[s.identifier]=g}const f=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(u,[]),o.addTelemetryInitializer(g=>{var T,A;!f||(g.ext=(T=g.ext)!=null?T:{},g.ext.utc=(A=g.ext.utc)!=null?A:{},g.ext.utc.flags=8462029)}),o},"getAICore"),at=a(async(r,e,t)=>{const n=await Te(r,e,t);return{logEvent:(o,s)=>{try{n==null||n.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(u){throw new Error(`Failed to log event to app insights!
`+u.message)}},flush:async()=>{try{n==null||n.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}},"oneDataSystemClientFactory");var ct;(function(r){r[r.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",r[r.INSTANTIATING=1]="INSTANTIATING",r[r.INSTANTIATED=2]="INSTANTIATED"})(ct||(ct={}));class wt{constructor(e,t){this._instantiationStatus=ct.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}sendEventData(e,t){if(!this._telemetryClient){this._instantiationStatus!==ct.INSTANTIATED&&this._eventQueue.push({eventName:e,data:t});return}this._telemetryClient.logEvent(e,t)}sendErrorData(e,t){if(!this._telemetryClient){this._instantiationStatus!==ct.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:t});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:t})=>this.sendEventData(e,t)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:t})=>this.sendErrorData(e,t)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===ct.NOT_INSTANTIATED&&(this._instantiationStatus=ct.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=ct.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=ct.INSTANTIATED}))}}a(wt,"BaseTelemetrySender");class Pt{constructor(e,t,n){this.telemetrySender=e,this.vscodeAPI=t,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logUsage(e,{properties:t,measurements:n})}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1)}sendDangerousTelemetryEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,t,n,!0)}internalSendTelemetryErrorEvent(e,t,n,i){i?this.telemetrySender.sendEventData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!1)}sendDangerousTelemetryErrorEvent(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,t,n,!0)}internalSendTelemetryException(e,t,n,i){i?this.telemetrySender.sendErrorData(e,{properties:t,measurements:n}):this.telemetryLogger.logError(e,{properties:t,measurements:n})}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!1)}sendDangerousTelemetryException(e,t,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,t,n,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}}a(Pt,"BaseTelemetryReporter");class Ft{static applyReplacements(e,t){for(const n of Object.keys(e))for(const i of t)i.lookup.test(n)&&(i.replacementString!==void 0?e[n]=i.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return Ft._instance||(Ft._instance=new Ft),Ft._instance}}a(Ft,"TelemetryUtil");const ur=a(async(r,e)=>{let t;try{const i=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,3268));t=new i.ApplicationInsights({instrumentationKey:r,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0})}catch(i){return Promise.reject(i)}return{logEvent:(i,o)=>{const s={...o==null?void 0:o.properties,...o==null?void 0:o.measurements};(e==null?void 0:e.length)&&Ft.applyReplacements(s,e),t==null||t.track({name:i,data:s})},flush:async()=>{t==null||t.flush()}}},"webAppInsightsClientFactory");function De(r){if(r.userAgentData){const e=r.userAgentData.brands[r.userAgentData.brands.length-1];return`${r.userAgentData.platform} - ${e==null?void 0:e.brand} v${e==null?void 0:e.version}}`}else return r.appVersion}a(De,"getBrowserRelease");class Xe extends Pt{constructor(e,t){let n=a(s=>ur(s,t),"clientFactory");Ft.shouldUseOneDataSystemSDK(e)&&(n=a(s=>at(s,l),"clientFactory"));const i={release:De(navigator),platform:"web",architecture:"web"},o=new wt(e,n);if(e&&e.indexOf("AIF")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,l,{additionalCommonProperties:Ft.getAdditionalCommonProperties(i)})}}a(Xe,"TelemetryReporter");const Ze="Type of classified event does not match event properties",mt=a(class{constructor(r){this.context=r,this.sharedProperties={},mt._instance=this,this.reporter=new Xe(mt.ingestionKey)}static get instance(){return this._instance}dispose(){this.reporter.dispose()}publicLog2(r,e){e!==Ze&&this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e})}sendEvent(r,e,t){this.reporter.sendTelemetryEvent(r,{...this.sharedProperties,...e},t)}sendErrorEvent(r,e,t){this.reporter.sendTelemetryErrorEvent(r,{...this.sharedProperties,...e},t)}sendException(r,e,t){this.reporter.sendTelemetryException(r,{...this.sharedProperties,...e},t)}setSharedProperty(r,e){this.sharedProperties[r]=e}reportWorkbenchLoadResult(r){const e="_codespaces.webeditor.connectWorkspace";l.env.appHost==="github.dev"&&(ie.debug(`Executing ${e}`),r={...r,errorDetail:r.errorDetail instanceof Error?r.errorDetail.name:void 0},l.commands.executeCommand(e,r).then(t=>{},t=>{ie.debug(`Failed to execute ${e}`,t)}))}},"_TelemetryService");let Ht=mt;Ht.ingestionKey="0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255";function er(r,e){const t=l.l10n.t("Report Issue"),n=l.l10n.t("Reload");l.window.showErrorMessage(l.l10n.t("The {0} extension failed to activate.",r.extension.packageJSON.displayName),{modal:!0,detail:l.l10n.t("Please try reloading the window, or report an issue.")},n,t).then(i=>{i===t?l.commands.executeCommand("workbench.action.openIssueReporter",{extensionId:r.extension.id,issueTitle:"Extension activation failed",issueBody:e instanceof Error?e.toString():void 0}):i===n&&l.commands.executeCommand("workbench.action.reloadWindow")})}a(er,"handleExtensionActivationError");let Er;var xr;(function(r){function e(t){const n=Ci(t);return Er=l.env.uiKind===l.UIKind.Web,ie.warn(`Running on the ${Er?"web":"desktop"}${t.extensionRuntime!==l.ExtensionRuntime.Node?" in a webworker":""}; workspaceId=${n}; storageUri=${t.globalStorageUri.toString(!0)}`),n}a(e,"configure"),r.configure=e})(xr||(xr={}));const Gr=/\/workspaceStorage\/(?<id>[^/]+)/i;function Ci(r){var e;if(r.storageUri===void 0)return"";const t=Gr.exec(r.storageUri.path);let n;if((e=t==null?void 0:t.groups)==null?void 0:e.id)n=t.groups.id;else{n=r.storageUri.path;const i=Pr(r.globalStorageUri.path,n),o=`/${r.extension.id}`;n.endsWith(o)?n=n.slice(i,-o.length):n=n.substr(i)}return/-[0-9]$/.test(n)?n.slice(0,-2):n}a(Ci,"getWorkspaceId");function Xi(r,e){return r.reduce((n,i)=>{const o=e(i),s=n.get(o);return s===void 0?n.set(o,[i]):s.push(i),n},new Map)}a(Xi,"groupBy");function Yi(r){let e=0;for(const t of r){if(t===0)return!0;if(e++,e>8e3)break}return!1}a(Yi,"isBinary");function an(r,e,t=n=>n){return[...r.reduce((i,o)=>{const s=e(o),u=i.get(s);if(u===void 0)i.set(s,o);else{const c=t(u,o);c!==void 0&&i.set(s,c)}return i},new Map).values()]}a(an,"uniqueBy");const di=a(class{constructor(r,e,t,n,i){this.providerService=r,this.storageService=e,this.changeStore=t,this.workspaceId=n,this.context=i,this._onDidChange=new l.EventEmitter,this.cache=new Map,this.lock=new dr("WorkspaceRepositories"),this.disposable=l.Disposable.from(this.providerService.onDidChangeRepositories(this.onRepositoriesChanged,this),this.providerService.onDidChangeRepository(this.onRepositoryChanged,this),this.changeStore.onDidChange(this.onChangeStoreChanged,this),Ne.onDidChange(this.onConfigurationChanged,this))}get onDidChange(){return this._onDidChange.event}dispose(){this.disposable.dispose()}async exportDebugInfo(){const r=await l.workspace.openTextDocument({language:"json",content:`Remote Repositories

${this.toStorage(await this.getCore())}`});return void l.window.showTextDocument(r)}onConfigurationChanged(r){if(!Ne.changed(r,"experimental.syncRecentList"))return;const e=Ne.get("experimental.syncRecentList")===!0?[di.storageKey]:[];this.context.globalState.setKeysForSync(e)}onChangeStoreChanged(r){const e=an(r.map(t=>t.rootUri),t=>x(t)).map(t=>this.providerService.getRepository(t)).filter(t=>Boolean(t));this.addOrUpdate(e)}onRepositoriesChanged(r){this.addOrUpdate(r.added)}onRepositoryChanged(r){this.addOrUpdate([r.repository])}async get(r){let e=await this.lock.synchronizeRead(async()=>{let t=this.cache.get("workspaceRepositories");return t===void 0&&(t=[...(await this.getCore()).values()].sort((n,i)=>i.timestamp-n.timestamp),this.cache.set("workspaceRepositories",t)),t},"WorkspaceRepositories.get");if(r){const t=x(r);e=e.filter(n=>x(n.canonicalUri)===t)}return e}async getCore(){return this.fromStorage(await this.storageService.get(di.storageKey))}async getRecents(r=10){return(await this.get()).slice(0,r)}async getRemoteWorkspaceSourceProvider(r){const e=await this.getRecents();if(e.length!==0)return e.filter(t=>t.provider.id===r)}refresh(){this.cache.clear()}async remove(r){await this.lock.synchronizeWrite(async()=>{const e=await this.getCore(),t=`${r.workspaceId}/${x(r.uri)}`,n=e.get(t);if(n===void 0)return;const i=this.changeStore.getScopedChangeStore(n),o=await i.getChanges(n.uri);if(o.length!==0){const s={title:l.l10n.t("Yes")},u={title:l.l10n.t("No"),isCloseAffordance:!0};if(await l.window.showWarningMessage(o.length===1?l.l10n.t(`This repository contains 1 file with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`):l.l10n.t(`This repository contains {0} files with uncommitted changes.

Removing it will cause those changes to be FOREVER LOST.
This is IRREVERSIBLE!

Are you sure you still want to remove it?`,o.length),{modal:!0},s,u)!==s)return;await i.discardAll(n.uri)}this.cache.clear(),e.delete(t);try{await this.storageService.store(di.storageKey,this.toStorage(e))}catch(s){throw ie.error(s,"Failed to save workspace repositories"),s}},"WorkspaceRepositories.remove"),this._onDidChange.fire()}async addOrUpdate(r){await this.lock.synchronizeWrite(async()=>{this.cache.clear();const e=await this.getCore();for(const t of r){const[{HEAD:n,pullRequest:i},o]=await Promise.all([t.getMetadata(),t.getIndexMetadata()]),s=await this.changeStore.getChanges(t.uri);e.set(`${this.workspaceId}/${x(t.uri)}`,{workspaceId:this.workspaceId,uri:t.uri,canonicalUri:t.canonicalUri,name:t.name,provider:t.provider,ref:{type:n.type,name:n.name},idx:(o==null?void 0:o.type)&&re.hasIndex(o.type)?{type:o.type}:void 0,pullRequest:i?{id:i.id}:void 0,changes:ga(s),timestamp:Date.now()})}try{await this.storageService.store(di.storageKey,this.toStorage(e))}catch(t){throw ie.error(t,"Failed to save workspace repositories"),t}},"WorkspaceRepositories.addOrUpdate"),this._onDidChange.fire()}fromStorage(r){if(!r)return new Map;try{const e=JSON.parse(r,(t,n)=>(t==="uri"||t.endsWith("Uri"))&&I(n)?l.Uri.from(n):n);return new Map(e.workspaceRepositories)}catch(e){return ie.error(e,"Failed to deserialize workspace repositories"),new Map}}toStorage(r){const e={schemaVersion:di.storageSchemaVersion,workspaceRepositories:[...r]};return JSON.stringify(e)}},"_WorkspaceRepositories");let Ui=di;Ui.storageKey="workspaceRepositories",Ui.storageSchemaVersion=1;function da(r){return r!==void 0&&(r.added!==0||r.changed!==0||r.deleted!==0)}a(da,"hasChanges");function Bs(r){return da(r.changes)}a(Bs,"hasUncommittedChanges");function ga(r){let e=0,t=0,n=0;for(const i of r)switch(i.type){case z.Created:e++;break;case z.Changed:t++;break;case z.Deleted:n++;break}return e||t||n?{added:e,changed:t,deleted:n,timestamp:Date.now()}:void 0}a(ga,"toChangesSummary");function oo(r,e,{compact:t=!0,preamble:n,separator:i=", ",short:o=!1,single:s=!1}={}){if(!da(e))return r===HeadType.Branch||r===HeadType.RemoteBranch?l10n.t("Everything up to date"):l10n.t("No uncommitted changes");const{added:u,changed:c,deleted:f}=e;if(s){const T=u+c+f;return T===1?l10n.t("{0} change",T):l10n.t("{0} changes",T)}let g=`${n!=null?n:""}`;return(u||!t)&&(g+=o?`+${u}`:u===1?l10n.t("{0} file added",u):l10n.t("{0} files added",u),(c||f||!t)&&(g+=i)),(c||!t)&&(g+=o?`~${c}`:c===1?l10n.t("{0} file changed",c):l10n.t("{0} files changed",c),(f||!t)&&(g+=i)),(f||!t)&&(g+=o?`-${f}`:f===1?l10n.t("{0} file deleted",f):l10n.t("{0} files deleted",f)),g}a(oo,"formatChangesSummary");var ba=__webpack_require__(6470);const ea=globalThis.fetch;async function Ba(r,e,t){const n=new AbortController;t.onCancellationRequested(()=>n.abort());try{return await globalThis.fetch(r,{...e,signal:n.signal})}catch(i){throw t.isCancellationRequested?new l.CancellationError:i}}a(Ba,"fetchWithCancellation");async function pa(r,e,t,n,i){if(t===0)throw new l.CancellationError;const o=new l.CancellationTokenSource;n.onCancellationRequested(()=>o.cancel());try{const s=await Ba(r,e,o.token);if(s.body){const u=[];let c=0;const f=s.body.getReader();let g=3;for(;;){let{done:T,value:A}=await f.read();if(T){const se=u.reduce((Ae,Oe)=>Ae+Oe.length,0),le=new Uint8Array(se);let xe=0;for(const Ae of u)le.set(Ae,xe),xe+=Ae.length;return le}A&&(u.push(A),c+=A.length);const $=Math.floor(c/(1024*1024));if(g<$){g=$;const se={message:$+" MB"};i.report(se)}if(t!==void 0&&c>t)throw f.cancel(),o.cancel(),new Error("LIMIT_HIT")}}}catch(s){throw n.isCancellationRequested?new l.CancellationError:s}throw new l.CancellationError}a(pa,"fetchUInt8ArrayWithMaxSizeAndCancellation");var va=__webpack_require__(4155);function ta(){return typeof navigator=="object"&&"userAgent"in navigator?navigator.userAgent:typeof va=="object"&&"version"in va?`Node.js/${va.version.substr(1)} (${va.platform}; ${va.arch})`:"<environment undetectable>"}a(ta,"getUserAgent");var on=__webpack_require__(5186);/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function In(r){return Object.prototype.toString.call(r)==="[object Object]"}a(In,"isObject");function $a(r){var e,t;return In(r)===!1?!1:(e=r.constructor,e===void 0?!0:(t=e.prototype,!(In(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)))}a($a,"isPlainObject");function Cn(r){return r?Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=r[t],e),{}):{}}a(Cn,"lowercaseKeys");function so(r,e){const t=Object.assign({},r);return Object.keys(e).forEach(n=>{$a(e[n])?n in r?t[n]=so(r[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}a(so,"mergeDeep");function Ii(r){for(const e in r)r[e]===void 0&&delete r[e];return r}a(Ii,"removeUndefinedProperties");function Fi(r,e,t){if(typeof e=="string"){let[i,o]=e.split(" ");t=Object.assign(o?{method:i,url:o}:{url:i},t)}else t=Object.assign({},e);t.headers=Cn(t.headers),Ii(t),Ii(t.headers);const n=so(r||{},t);return r&&r.mediaType.previews.length&&(n.mediaType.previews=r.mediaType.previews.filter(i=>!n.mediaType.previews.includes(i)).concat(n.mediaType.previews)),n.mediaType.previews=n.mediaType.previews.map(i=>i.replace(/-preview/,"")),n}a(Fi,"dist_web_merge");function qi(r,e){const t=/\?/.test(r)?"&":"?",n=Object.keys(e);return n.length===0?r:r+t+n.map(i=>i==="q"?"q="+e.q.split("+").map(encodeURIComponent).join("+"):`${i}=${encodeURIComponent(e[i])}`).join("&")}a(qi,"addQueryParameters");const Vi=/\{[^}]+\}/g;function Qo(r){return r.replace(/^\W+|\W+$/g,"").split(/,/)}a(Qo,"removeNonChars");function Jo(r){const e=r.match(Vi);return e?e.map(Qo).reduce((t,n)=>t.concat(n),[]):[]}a(Jo,"extractUrlVariableNames");function Ha(r,e){return Object.keys(r).filter(t=>!e.includes(t)).reduce((t,n)=>(t[n]=r[n],t),{})}a(Ha,"omit");function uo(r){return r.split(/(%[0-9A-Fa-f]{2})/g).map(function(e){return/%[0-9A-Fa-f]/.test(e)||(e=encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")),e}).join("")}a(uo,"encodeReserved");function ra(r){return encodeURIComponent(r).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}a(ra,"encodeUnreserved");function ma(r,e,t){return e=r==="+"||r==="#"?uo(e):ra(e),t?ra(t)+"="+e:e}a(ma,"encodeValue");function na(r){return r!=null}a(na,"isDefined");function Wa(r){return r===";"||r==="&"||r==="?"}a(Wa,"isKeyOperator");function lo(r,e,t,n){var i=r[t],o=[];if(na(i)&&i!=="")if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")i=i.toString(),n&&n!=="*"&&(i=i.substring(0,parseInt(n,10))),o.push(ma(e,i,Wa(e)?t:""));else if(n==="*")Array.isArray(i)?i.filter(na).forEach(function(s){o.push(ma(e,s,Wa(e)?t:""))}):Object.keys(i).forEach(function(s){na(i[s])&&o.push(ma(e,i[s],s))});else{const s=[];Array.isArray(i)?i.filter(na).forEach(function(u){s.push(ma(e,u))}):Object.keys(i).forEach(function(u){na(i[u])&&(s.push(ra(u)),s.push(ma(e,i[u].toString())))}),Wa(e)?o.push(ra(t)+"="+s.join(",")):s.length!==0&&o.push(s.join(","))}else e===";"?na(i)&&o.push(ra(t)):i===""&&(e==="&"||e==="?")?o.push(ra(t)+"="):i===""&&o.push("");return o}a(lo,"getValues");function Zo(r){return{expand:co.bind(null,r)}}a(Zo,"parseUrl");function co(r,e){var t=["+","#",".","/",";","?","&"];return r.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(n,i,o){if(i){let u="";const c=[];if(t.indexOf(i.charAt(0))!==-1&&(u=i.charAt(0),i=i.substr(1)),i.split(/,/g).forEach(function(f){var g=/([^:\*]*)(?::(\d+)|(\*))?/.exec(f);c.push(lo(e,u,g[1],g[2]||g[3]))}),u&&u!=="+"){var s=",";return u==="?"?s="&":u!=="#"&&(s=u),(c.length!==0?u:"")+c.join(s)}else return c.join(",")}else return uo(o)})}a(co,"expand");function fo(r){let e=r.method.toUpperCase(),t=(r.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),n=Object.assign({},r.headers),i,o=Ha(r,["method","baseUrl","url","headers","request","mediaType"]);const s=Jo(t);t=Zo(t).expand(o),/^http/.test(t)||(t=r.baseUrl+t);const u=Object.keys(r).filter(g=>s.includes(g)).concat("baseUrl"),c=Ha(o,u);if(!/application\/octet-stream/i.test(n.accept)&&(r.mediaType.format&&(n.accept=n.accept.split(/,/).map(g=>g.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${r.mediaType.format}`)).join(",")),r.mediaType.previews.length)){const g=n.accept.match(/[\w-]+(?=-preview)/g)||[];n.accept=g.concat(r.mediaType.previews).map(T=>{const A=r.mediaType.format?`.${r.mediaType.format}`:"+json";return`application/vnd.github.${T}-preview${A}`}).join(",")}return["GET","HEAD"].includes(e)?t=qi(t,c):"data"in c?i=c.data:Object.keys(c).length?i=c:n["content-length"]=0,!n["content-type"]&&typeof i!="undefined"&&(n["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(e)&&typeof i=="undefined"&&(i=""),Object.assign({method:e,url:t,headers:n},typeof i!="undefined"?{body:i}:null,r.request?{request:r.request}:null)}a(fo,"parse");function Xo(r,e,t){return fo(Fi(r,e,t))}a(Xo,"endpointWithDefaults");function ho(r,e){const t=Fi(r,e),n=Xo.bind(null,t);return Object.assign(n,{DEFAULTS:t,defaults:ho.bind(null,t),merge:Fi.bind(null,t),parse:fo})}a(ho,"withDefaults");const es=`octokit-endpoint.js/6.0.12 ${ta()}`,ts=ho(null,{method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":es},mediaType:{format:"",previews:[]}});var Pi=__webpack_require__(3300),rs=__webpack_require__.n(Pi);class ia extends Error{constructor(e){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="Deprecation"}}a(ia,"Deprecation");var go=__webpack_require__(447),po=__webpack_require__.n(go);const vo=po()(r=>console.warn(r)),ns=po()(r=>console.warn(r));class Ti extends Error{constructor(e,t,n){super(e);Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="HttpError",this.status=t;let i;"headers"in n&&typeof n.headers!="undefined"&&(i=n.headers),"response"in n&&(this.response=n.response,i=n.response.headers);const o=Object.assign({},n.request);n.request.headers.authorization&&(o.headers=Object.assign({},n.request.headers,{authorization:n.request.headers.authorization.replace(/ .*$/," [REDACTED]")})),o.url=o.url.replace(/\bclient_secret=\w+/g,"client_secret=[REDACTED]").replace(/\baccess_token=\w+/g,"access_token=[REDACTED]"),this.request=o,Object.defineProperty(this,"code",{get(){return vo(new ia("[@octokit/request-error] `error.code` is deprecated, use `error.status`.")),t}}),Object.defineProperty(this,"headers",{get(){return ns(new ia("[@octokit/request-error] `error.headers` is deprecated, use `error.response.headers`.")),i||{}}})}}a(Ti,"RequestError");const mo="5.6.3";function Ws(r){return r.arrayBuffer()}a(Ws,"getBufferResponse");function za(r){const e=r.request&&r.request.log?r.request.log:console;($a(r.body)||Array.isArray(r.body))&&(r.body=JSON.stringify(r.body));let t={},n,i;return(r.request&&r.request.fetch||rs())(r.url,Object.assign({method:r.method,body:r.body,headers:r.headers,redirect:r.redirect},r.request)).then(async s=>{i=s.url,n=s.status;for(const u of s.headers)t[u[0]]=u[1];if("deprecation"in t){const u=t.link&&t.link.match(/<([^>]+)>; rel="deprecation"/),c=u&&u.pop();e.warn(`[@octokit/request] "${r.method} ${r.url}" is deprecated. It is scheduled to be removed on ${t.sunset}${c?`. See ${c}`:""}`)}if(!(n===204||n===205)){if(r.method==="HEAD"){if(n<400)return;throw new Ti(s.statusText,n,{response:{url:i,status:n,headers:t,data:void 0},request:r})}if(n===304)throw new Ti("Not modified",n,{response:{url:i,status:n,headers:t,data:await ya(s)},request:r});if(n>=400){const u=await ya(s);throw new Ti(ja(u),n,{response:{url:i,status:n,headers:t,data:u},request:r})}return ya(s)}}).then(s=>({status:n,url:i,headers:t,data:s})).catch(s=>{throw s instanceof Ti?s:new Ti(s.message,500,{request:r})})}a(za,"fetchWrapper");async function ya(r){const e=r.headers.get("content-type");return/application\/json/.test(e)?r.json():!e||/^text\/|charset=utf-8$/.test(e)?r.text():Ws(r)}a(ya,"getResponseData");function ja(r){return typeof r=="string"?r:"message"in r?Array.isArray(r.errors)?`${r.message}: ${r.errors.map(JSON.stringify).join(", ")}`:r.message:`Unknown error: ${JSON.stringify(r)}`}a(ja,"toErrorMessage");function aa(r,e){const t=r.defaults(e);return Object.assign(a(function(i,o){const s=t.merge(i,o);if(!s.request||!s.request.hook)return za(t.parse(s));const u=a((c,f)=>za(t.parse(t.merge(c,f))),"request");return Object.assign(u,{endpoint:t,defaults:aa.bind(null,t)}),s.request.hook(u,s)},"newApi"),{endpoint:t,defaults:aa.bind(null,t)})}a(aa,"dist_web_withDefaults");const xa=aa(ts,{headers:{"user-agent":`octokit-request.js/${mo} ${ta()}`}}),is="4.8.0";function as(r){return`Request failed due to following response errors:
`+r.errors.map(e=>` - ${e.message}`).join(`
`)}a(as,"_buildMessageForResponseErrors");class O extends Error{constructor(e,t,n){super(as(n));this.request=e,this.headers=t,this.response=n,this.name="GraphqlResponseError",this.errors=n.errors,this.data=n.data,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}a(O,"GraphqlResponseError");const C=["method","baseUrl","url","headers","request","query","mediaType"],M=["query","method","url"],G=/\/api\/v3\/?$/;function me(r,e,t){if(t){if(typeof e=="string"&&"query"in t)return Promise.reject(new Error('[@octokit/graphql] "query" cannot be used as variable name'));for(const s in t)if(!!M.includes(s))return Promise.reject(new Error(`[@octokit/graphql] "${s}" cannot be used as variable name`))}const n=typeof e=="string"?Object.assign({query:e},t):e,i=Object.keys(n).reduce((s,u)=>C.includes(u)?(s[u]=n[u],s):(s.variables||(s.variables={}),s.variables[u]=n[u],s),{}),o=n.baseUrl||r.endpoint.DEFAULTS.baseUrl;return G.test(o)&&(i.url=o.replace(G,"/api/graphql")),r(i).then(s=>{if(s.data.errors){const u={};for(const c of Object.keys(s.headers))u[c]=s.headers[c];throw new O(i,u,s.data)}return s.data.data})}a(me,"graphql");function Re(r,e){const t=r.defaults(e);return Object.assign(a((i,o)=>me(t,i,o),"newApi"),{defaults:Re.bind(null,t),endpoint:xa.endpoint})}a(Re,"graphql_dist_web_withDefaults");const qe=Re(xa,{headers:{"user-agent":`octokit-graphql.js/${is} ${ta()}`},method:"POST",url:"/graphql"});function tt(r){return Re(r,{method:"POST",url:"/graphql"})}a(tt,"withCustomRequest");const Dt=/^v1\./,bt=/^ghs_/,jt=/^ghu_/;async function fr(r){const e=r.split(/\./).length===3,t=Dt.test(r)||bt.test(r),n=jt.test(r);return{type:"token",token:r,tokenType:e?"app":t?"installation":n?"user-to-server":"oauth"}}a(fr,"auth");function qr(r){return r.split(/\./).length===3?`bearer ${r}`:`token ${r}`}a(qr,"withAuthorizationPrefix");async function hr(r,e,t,n){const i=e.endpoint.merge(t,n);return i.headers.authorization=qr(r),e(i)}a(hr,"hook");const Fr=a(function(e){if(!e)throw new Error("[@octokit/auth-token] No token passed to createTokenAuth");if(typeof e!="string")throw new Error("[@octokit/auth-token] Token passed to createTokenAuth is not a string");return e=e.replace(/^(token|bearer) +/i,""),Object.assign(fr.bind(null,e),{hook:hr.bind(null,e)})},"createTokenAuth"),Tn="3.5.1";class Ye{constructor(e={}){const t=new on.Collection,n={baseUrl:xa.endpoint.DEFAULTS.baseUrl,headers:{},request:Object.assign({},e.request,{hook:t.bind(null,"request")}),mediaType:{previews:[],format:""}};if(n.headers["user-agent"]=[e.userAgent,`octokit-core.js/${Tn} ${ta()}`].filter(Boolean).join(" "),e.baseUrl&&(n.baseUrl=e.baseUrl),e.previews&&(n.mediaType.previews=e.previews),e.timeZone&&(n.headers["time-zone"]=e.timeZone),this.request=xa.defaults(n),this.graphql=tt(this.request).defaults(n),this.log=Object.assign({debug:()=>{},info:()=>{},warn:console.warn.bind(console),error:console.error.bind(console)},e.log),this.hook=t,e.authStrategy){const{authStrategy:o,...s}=e,u=o(Object.assign({request:this.request,log:this.log,octokit:this,octokitOptions:s},e.auth));t.wrap("request",u.hook),this.auth=u}else if(!e.auth)this.auth=async()=>({type:"unauthenticated"});else{const o=Fr(e.auth);t.wrap("request",o.hook),this.auth=o}this.constructor.plugins.forEach(o=>{Object.assign(this,o(this,e))})}static defaults(e){return a(class extends this{constructor(...n){const i=n[0]||{};if(typeof e=="function"){super(e(i));return}super(Object.assign({},e,i,i.userAgent&&e.userAgent?{userAgent:`${i.userAgent} ${e.userAgent}`}:null))}},"OctokitWithDefaults")}static plugin(...e){var t;const n=this.plugins;return t=a(class extends this{},"_a"),t.plugins=n.concat(e.filter(o=>!n.includes(o))),t}}a(Ye,"Octokit"),Ye.VERSION=Tn,Ye.plugins=[];var sn;(function(r){r[r.Force=0]="Force",r[r.ForceWithLease=1]="ForceWithLease"})(sn||(sn={}));var Ir;(function(r){r[r.Head=0]="Head",r[r.RemoteHead=1]="RemoteHead",r[r.Tag=2]="Tag"})(Ir||(Ir={}));var dn;(function(r){r[r.INDEX_MODIFIED=0]="INDEX_MODIFIED",r[r.INDEX_ADDED=1]="INDEX_ADDED",r[r.INDEX_DELETED=2]="INDEX_DELETED",r[r.INDEX_RENAMED=3]="INDEX_RENAMED",r[r.INDEX_COPIED=4]="INDEX_COPIED",r[r.MODIFIED=5]="MODIFIED",r[r.DELETED=6]="DELETED",r[r.UNTRACKED=7]="UNTRACKED",r[r.IGNORED=8]="IGNORED",r[r.INTENT_TO_ADD=9]="INTENT_TO_ADD",r[r.ADDED_BY_US=10]="ADDED_BY_US",r[r.ADDED_BY_THEM=11]="ADDED_BY_THEM",r[r.DELETED_BY_US=12]="DELETED_BY_US",r[r.DELETED_BY_THEM=13]="DELETED_BY_THEM",r[r.BOTH_ADDED=14]="BOTH_ADDED",r[r.BOTH_DELETED=15]="BOTH_DELETED",r[r.BOTH_MODIFIED=16]="BOTH_MODIFIED"})(dn||(dn={}));var Dn;(function(r){r.BadConfigFile="BadConfigFile",r.AuthenticationFailed="AuthenticationFailed",r.NoUserNameConfigured="NoUserNameConfigured",r.NoUserEmailConfigured="NoUserEmailConfigured",r.NoRemoteRepositorySpecified="NoRemoteRepositorySpecified",r.NotAGitRepository="NotAGitRepository",r.NotAtRepositoryRoot="NotAtRepositoryRoot",r.Conflict="Conflict",r.StashConflict="StashConflict",r.UnmergedChanges="UnmergedChanges",r.PushRejected="PushRejected",r.RemoteConnectionError="RemoteConnectionError",r.DirtyWorkTree="DirtyWorkTree",r.CantOpenResource="CantOpenResource",r.GitNotFound="GitNotFound",r.CantCreatePipe="CantCreatePipe",r.PermissionDenied="PermissionDenied",r.CantAccessRemote="CantAccessRemote",r.RepositoryNotFound="RepositoryNotFound",r.RepositoryIsLocked="RepositoryIsLocked",r.BranchNotFullyMerged="BranchNotFullyMerged",r.NoRemoteReference="NoRemoteReference",r.InvalidBranchName="InvalidBranchName",r.BranchAlreadyExists="BranchAlreadyExists",r.NoLocalChanges="NoLocalChanges",r.NoStashFound="NoStashFound",r.LocalChangesOverwritten="LocalChangesOverwritten",r.NoUpstreamBranch="NoUpstreamBranch",r.IsInSubmodule="IsInSubmodule",r.WrongCase="WrongCase",r.CantLockRef="CantLockRef",r.CantRebaseMultipleBranches="CantRebaseMultipleBranches",r.PatchDoesNotApply="PatchDoesNotApply",r.NoPathFound="NoPathFound",r.UnknownPath="UnknownPath"})(Dn||(Dn={}));var Qi=__webpack_require__(919),_a=__webpack_require__.n(Qi);class oa{constructor(e){this.rules=[],this.parse(e)}getAttributesFor(e){var t;const n=this.rulesForPath(typeof e=="string"?e:e.path),i={};for(const o of n){const s=(t=o.attrs)!=null?t:{};for(const u of Object.keys(s))i[u]=s[u]}return i}rulesForPath(e){const t=[];for(;/^(\.\/|\.\\)/.test(e);)e=e.substr(2);/^[\/\\]/.test(e)||(e=`/${e}`);for(const n of this.rules){if(!n.pattern)continue;const i=n.pattern[0]==="/"?`${n.pattern}`:`**/${n.pattern}`;_a().isMatch(e,i)&&t.push(n)}return t}parse(e,t=!1,n=!1){const i=e.split(/\r\n|\r|\n/g);for(const o of i){const s=this.parseRule(o,t,n);s&&this.rules.push(s)}}parseRule(e,t=!1,n=!1){if(e=e.trim(),!e)return n?{comment:void 0,pattern:void 0,attrs:void 0}:void 0;if(e[0]==="#")return t?{comment:e.substr(1),pattern:void 0,attrs:void 0}:void 0;e[0]==="\\"&&e[1]==="#"&&(e=e.substr(1));let i,o;if(e[0]==='"'){const s=/^"(?:[^"\\]|\\.)*"/.exec(e);if(s){try{i=JSON.parse(s[0])}catch(u){i=i.replace(/\\(.)/g,"\\1")}o=e.substr(s[0].length+1).trim()}else i=s==null?void 0:s[0],o=void 0}else{const s=/\s+/g.exec(e);i=s?e.substr(0,s.index):e,o=s?e.substr(s.index+s[0].length):void 0}return{pattern:i,attrs:o?this.parseAttributes(o):{},comment:void 0}}parseAttributes(e){const t={};for(const n of e.split(/\s+/g)){if(n==="=")continue;let i=n,o;if(n.startsWith("-"))i=n.substr(1),o=!1;else if(n.includes("=")){const s=n.indexOf("=");i=n.substr(0,s),o=n.substr(s+1)}else o=!0;t[i]=o,i==="binary"&&o?t.diff=!1:i==="crlf"&&o===!0?t.text=!0:i==="crlf"&&o===!1?t.text=!1:i==="crlf"&&o==="input"&&(t.eol="lf")}return t}}a(oa,"GitAttributes");function*Ca(r,e){for(const t of r)yield*e(t)}a(Ca,"flatMap");function*zs(r,e){for(const t of r)e(t)&&(yield t)}a(zs,"filter");function*Ta(r,e){for(const t of r){const n=e(t);n!=null&&(yield n)}}a(Ta,"filterMap");function yo(r,e){for(const t of r)if(e(t))return t}a(yo,"find");function _o(r,e){let t="";const n=r[Symbol.iterator]();let i=n.next();if(i.done)return t;for(;;){const o=i.value.toString();if(i=n.next(),i.done){t+=o;break}t+=o,t+=e}return t}a(_o,"join");function*Da(r,e){for(const t of r)yield e(t)}a(Da,"map");function js(r,e){for(const t of r)if(e(t))return!0;return!1}a(js,"some");function*Ka(...r){for(const e of r)for(const t of e)yield t}a(Ka,"union");function*wo(r){const e=new Set;for(const t of r)e.has(t)||(e.add(t),yield t)}a(wo,"unique");class Aa{constructor(e,t){this.path=e,this.relativePath=t}}a(Aa,"TrieNode");class Ra{constructor(){this.root=new Aa("","")}get(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return;n=o}return n.path===e?n.data:void 0}getChildren(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;if(e)for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return[];n=o}return n.children===void 0?[]:[...n.children.values()].map(i=>[i.relativePath,i.data])}getDescendants(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;const i=[];if(e)for(const o of e.split("/")){const s=(t=n.children)==null?void 0:t.get(o);if(s===void 0)return i;n=s}if(n.children!==void 0){let o=a(function(s,u,c){for(const f of s.values()){const g=`${u?`${u}/`:""}${f.relativePath}`;f.data&&c.push([g,f.data]),f.children!==void 0&&o(f.children,g,c)}},"getDescendantsCore");o(n.children,"",i)}return i}has(e){var t;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let n=this.root;for(const i of e.split("/")){const o=(t=n.children)==null?void 0:t.get(i);if(o===void 0)return!1;n=o}return n.path===e}set(e,t){var n;e.startsWith("/")?e=e.slice(1,e.endsWith("/")?-1:void 0):e.endsWith("/")&&(e=e.slice(0,-1));let i=this.root,o="";for(const s of e.split("/")){let u=(n=i.children)==null?void 0:n.get(s);o=`${o?`${o}/`:""}${s}`,u===void 0&&(i.children===void 0&&(i.children=new Map),u=new Aa(o,s),i.children.set(s,u)),i=u}i.data=t}}a(Ra,"Trie");var Eo=__webpack_require__(5431),Ia=__webpack_require__.n(Eo);class Ga{constructor(e,t,n,i,o){if(this.rootUri=e,this.sha=t,this.timestamp=n,this.provider=i,this.trie=new Ra,this._hasEntireTree=!1,this._isContentCached=!1,i===void 0)return;const s=[i];i.onDidTriggerContentCaching!==void 0&&i.tryCachingContent!==void 0&&s.push(i.onDidTriggerContentCaching(u=>{(!u||x(u.rootUri)===x(this.rootUri)&&u.sha===this.sha)&&!this.loading&&this.hasEntireTree&&!this.isContentCached&&i.tryCachingContent(this.trie.get.bind(this.trie)).then(c=>this._isContentCached=c,()=>this._isContentCached=!0)})),this._loading=this.load(o==null?void 0:o.path,o==null?void 0:o.recursive).then(u=>(this._hasEntireTree=(u==null?void 0:u.success)?u.recursive:!1,this._hasEntireTree&&setTimeout(()=>{var c;return void((c=i.tryCachingContent)==null?void 0:c.call(i,this.trie.get.bind(this.trie)).then(f=>this._isContentCached=f,()=>this._isContentCached=!0))},0),this._loading=void 0,this.preloading=void 0,this.treeSha=(u==null?void 0:u.success)?u.sha:void 0,this.treeSha)),(o==null?void 0:o.preload)&&(this.preloading=new Map([["",this.load("")],[".vscode",this.load(".vscode")]])),this.disposable=l.Disposable.from(...s)}get hasEntireTree(){return this._hasEntireTree}get isContentCached(){return this._isContentCached}get loading(){return this._loading!==void 0}get permissions(){var e;return(e=this.provider)==null?void 0:e.permissions}dispose(){var e;(e=this.disposable)==null||e.dispose()}async get(e){var t;if(e==="")return{mode:"040000",sha:this.treeSha,stat:{type:l.FileType.Directory,size:0,ctime:0,mtime:(t=this.timestamp)!=null?t:Date.now(),permissions:await this.permissions},getContent:void 0};let n=this.trie.get(e);return n!==void 0||(await this.ensureLoaded(e),n=this.trie.get(e)),n}async getChildren(e,t){await this.ensureLoaded(e,!0);const n=(t==null?void 0:t.recursive)?this.trie.getDescendants(e):this.trie.getChildren(e);return(t==null?void 0:t.filter)===void 0?n:n.filter(([,i])=>i.stat.type===t.filter)}async getTreeSha(){return await this.waitUntilLoaded(),this.treeSha}async waitUntilLoaded(){this._loading!==void 0&&await this._loading}async ensureLoaded(e,t=!1){if(this._loading!==void 0){let i;if(this.preloading!==void 0)if(t)i=this.preloading.get(e);else{const o=yo(this.preloading,([s])=>e.startsWith(s)&&e.lastIndexOf("/")===(s?s.length:-1));i=o==null?void 0:o[1]}await(i!=null?i:this._loading)}if(this.hasEntireTree||e==="")return;let n=this.trie.get(e);if(n)return t&&(n==null?void 0:n.loadChildren)?n.loadChildren():void 0;if(await this.ensureLoaded(e.substr(0,e.lastIndexOf("/")),!0),n=this.trie.get(e),t&&(n==null?void 0:n.loadChildren))return n.loadChildren()}async load(e,t=!1){var n;if(((n=this.provider)==null?void 0:n.getTree)===void 0)return;const i=new Z(`FileTree.load(${this.sha}:${e})`);let o;try{i.logStep("Tree query");const s=await this.provider.getTree(e,t);if(s.truncated){ie.warn(`Loading file tree for path=${e} was truncated`),i.logStep("Fixing directories",{message:`: Tree=${s.sha};`,suffix:" \u2022 Fixing directories..."});for(const[c,f]of this.trie.getDescendants(""))f.stat.type===l.FileType.Directory&&(f.loadChildren=Ia()(()=>this.load(c).then(()=>f.loadChildren=void 0)));return o=` \u2022 Tree=${s.sha} \u2022 Truncated`,{sha:s.sha,recursive:!1,success:!0}}let u;this.permissions!==void 0&&(i.logStep("Permissions query",{message:`: Tree=${s.sha};`,suffix:" \u2022 Waiting for permissions..."}),u=await this.permissions),i.logStep("Filling trie",{suffix:" \u2022 Filling trie..."});for(let{path:c,item:f}of s.tree)if(c!==void 0){switch(c=e?`${e}/${c}`:c,f.stat.permissions=u,f.stat.type){case l.FileType.File:f.getContent=Ia()(()=>this.provider.getContent(f,c));break;case l.FileType.Directory:t||(f.loadChildren=Ia()(()=>this.load(c).then(()=>f.loadChildren=void 0)));break}this.trie.set(c,f)}return o=` \u2022 Tree=${s.sha}`,{sha:s.sha,recursive:t,success:!0}}catch(s){return o=`\u2022 Loading for path=${e} failed; ${String(s)}`,{error:s,success:!1}}finally{i.stop(o?{suffix:o}:void 0)}}}a(Ga,"FileTree");const os=new TextDecoder,ss=new TextEncoder;function Ya(r){const e=os.decode(r).trim().split(`
`);if(e.length!==3)return{oid:void 0,size:void 0,version:void 0};const t={};for(const u of e){const[c,f]=u.split(" ");t[c]=f}if(!("oid"in t)||!("version"in t)||!("size"in t))return{oid:void 0,size:void 0,version:void 0};let{oid:n,size:i,version:o}=t;const s="sha256:";return n.startsWith(s)&&(n=n.substring(s.length)),{oid:n,size:Number(i),version:o}}a(Ya,"parseLfsFile");function Ue(r,e){const t=r.getAttributesFor(e);return(t==null?void 0:t.filter)==="lfs"}a(Ue,"isLfsTrackedFile");function At(r,e,t="https://git-lfs.github.com/spec/v1"){return _n(ss.encode(`version ${t}
oid sha256:${r}
size ${e.toString()}
`))}a(At,"createLfsPointerFile");async function Ot(r){const e=await qt(r),t=r.byteLength;return{oid:e,size:t}}a(Ot,"getLfsOperation");var or=__webpack_require__(7769);const Cr="github-pr-owner-number";function Br(r){return`branch.${r}.${Cr}`}a(Br,"getMetadataKeyForBranch");const Mr=new TextDecoder;class Pn{constructor(e,t,n,i,o,s){this.providerService=e,this.rootUri=t,this.sourceControl=n,this.metadata=i,this.changeStore=o,this.github=s,this._onDidChangeSelection=new l.EventEmitter,this._onDidChangeState=new l.EventEmitter,this._objects=new Map,this.disposable=l.Disposable.from(this.sourceControl.onDidChangeSelection(()=>this._onDidChangeSelection.fire()),this.providerService.onDidRefresh(u=>{const c=x(this.rootUri);!u.some(f=>x(f)===c)||this.updateState(this.metadata)}),this.providerService.onDidChangeRepository(async({repository:u})=>{x(this.rootUri)===x(u.uri)&&this.updateState(await u.getMetadata())}),this.changeStore.onDidChange(()=>this.updateState(this.metadata)),this._onDidChangeSelection,this._onDidChangeState),this._inputBox={get value(){return n.inputBox.value},set value(u){n.inputBox.value=u}},this._ui={get selected(){return n.selected},onDidChange:this._onDidChangeSelection.event},this.remote={name:"origin",fetchUrl:`${this.github.getRemoteUri({repo:i.repo}).toString()}.git`,isReadOnly:i.accessLevel<ee.Write},this.remotes=[this.remote],this._state={HEAD:this.getHEADFromMetadata(i),mergeChanges:[],indexChanges:[],workingTreeChanges:[],onDidChange:this._onDidChangeState.event,rebaseCommit:void 0,refs:[],remotes:this.remotes,submodules:[]},this.updateState(i)}dispose(){this.disposable.dispose()}get inputBox(){return this._inputBox}get state(){return this._state}get ui(){return this._ui}getHEADFromMetadata(e){switch(e.HEAD.type){case V.Branch:return{type:Ir.Head,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:this.remote.name}};case V.RemoteBranch:{const t=e.HEAD.branch.remote.repo.owner,n=e.HEAD.branch.remote.accessLevel<ee.Write,i=this.remotes.findIndex(s=>s.name===t),o=`${this.github.getRemoteUri({repo:e.HEAD.branch.remote.repo}).toString()}.git`;return this.remotes.splice(i===-1?this.remotes.length:i,i===-1?0:1,{name:t,fetchUrl:o,pushUrl:n?void 0:o,isReadOnly:n}),{type:Ir.RemoteHead,commit:e.HEAD.sha,name:e.HEAD.branch.name,upstream:{name:e.HEAD.branch.name,remote:e.HEAD.branch.remote.repo.owner}}}case V.Tag:return{type:Ir.Tag,name:e.HEAD.detached.name,commit:e.HEAD.sha};case V.Commit:return{type:Ir.Head,commit:e.HEAD.sha}}}async updateState(e){this.metadata=e;const t=await this.changeStore.getGroupedChanges(this.rootUri,{predicate:u=>u.fileType===l.FileType.File}),n=t.conflicts.map(u=>({uri:u.uri,status:Jn(u.type),originalUri:u.uri,renameUri:u.uri})),i=t.staged.map(u=>({uri:u.uri,status:Jn(u.type),originalUri:u.uri,renameUri:u.uri})),o=t.working.map(u=>({uri:u.uri,status:Jn(u.type),originalUri:u.uri,renameUri:u.uri})),s=Ne.get("staging.enabled");this._state={...this._state,HEAD:this.getHEADFromMetadata(e),mergeChanges:n,indexChanges:s?i:[],workingTreeChanges:s?o:[...i,...o]},this._onDidChangeState.fire()}getConfigs(){return Promise.resolve([])}getConfig(e){return this.metadata.HEAD.branch&&this.metadata.pullRequest&&e===Br(this.metadata.HEAD.branch.name)?Promise.resolve(`${this.metadata.repo.owner}#${this.metadata.repo.name}#${this.metadata.pullRequest.id}`):Promise.resolve("")}setConfig(e,t){return Promise.resolve("")}getGlobalConfig(e){throw new Error("Method not implemented.")}async getObjectDetails(e,t){const n=new Z(`IGit.getObjectDetails(${e}, ${t})`);try{return await this.github.getObjectDetails(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async detectObjectType(e){var t;const n=new Z(`IGit.detectObjectType(${e})`);try{const i=await this.github.getBlobContent(this.metadata.repo,e);if(!Yi(i))return{mimetype:"text/plain"};const s=await(0,or.fromBuffer)(i);return{mimetype:(t=s==null?void 0:s.mime)!=null?t:"application/octet-stream"}}finally{n.stop()}}async buffer(e,t){const n=new Z(`IGit.buffer(${e}, ${t})`);try{return await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t))}finally{n.stop()}}async show(e,t){const n=new Z(`IGit.show(${e}, ${t})`);try{const i=await this.github.getFileContent(this.rootUri,e,this.pathToRelativePath(t));return Mr.decode(i)}finally{n.stop()}}async getCommit(e){const t=new Z(`IGit.getCommit(${e})`);try{const n=await this.github.getCommit(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find commit for ref "${e}"`);return n}finally{t.stop()}}clean(e){return this._objects.clear(),Promise.resolve()}async apply(e,t){const n=new Z(`IGit.apply(reverse=${t})`);try{return await this.changeStore.applyPatch(this.rootUri,e,t?{reverse:!0}:void 0)}finally{n.stop()}}async diff(e){const t=new Z(`IGit.diff(${e})`);try{return await this.changeStore.createPatch(this.rootUri,void 0,e?{staged:!0}:void 0)}finally{t.stop()}}diffWithHEAD(e){return e?this.diffBetween("","HEAD",e):this.diffBetween("","HEAD")}diffWith(e,t){return t?this.diffBetween("",e,t):this.diffBetween("",e)}diffIndexWithHEAD(e){return e?this.diffBetween("~","HEAD",e):this.diffBetween("~","HEAD")}diffIndexWith(e,t){return t?this.diffBetween("~",e,t):this.diffBetween("~",e)}async diffBetween(e,t,n){if(!n)throw new Error("Method not implemented.");const i=new Z(`IGit.diffBetween(${e}, ${t}, ${n})`);try{const o=[];for(const c of[e,t])try{o.push(await this.getContent(c,n))}catch(f){o.push(void 0)}const[s,u]=o;if(s===void 0&&u!==void 0)return Kt(n,"",u,"add");if(s!==void 0&&u===void 0)return Kt(n,s,"","delete");if(s!==void 0&&u!==void 0)return Kt(n,s,u,"modify");throw l.FileSystemError.FileNotFound()}finally{i.stop()}}async diffBlobs(e,t){const n=new Z(`IGit.diffBlobs(${e}, ${t})`);try{const i=await this.getBlobContent(e),o=await this.getBlobContent(t),s=tr("untitled",i,o);return Promise.resolve(s)}finally{n.stop()}}async getBlobContent(e){const t=new Z(`IGit.getBlobContent(${e})`);try{const n=this._objects.get(e);if(n)return this._objects.delete(e),n;const{repo:i}=this.providerService.getVirtualUriMetadata(this.rootUri),o=await this.github.getBlobContent(i,e);return Mr.decode(o)}finally{t.stop()}}async getContent(e,t){const n=new Z(`IGit.getContent(${e}, ${t})`);try{const i=this.pathToRelativeUri(t);if(e===""||e==="~"){const o=await this.changeStore.getChange(i);if(o!==void 0&&(e===""||o.staged))return this.changeStore.getContent(i);e="HEAD"}return await this.show(e==="HEAD"?this.metadata.HEAD.sha:e,t)}finally{n.stop()}}async hashObject(e){const t=new Z("IGit.hashObject");try{const n=w(await cr(e));return this._objects.set(n,e),n}finally{t.stop()}}async createBranch(e,t,n){const i=new Z(`IGit.createBranch(${e}, ${t}, ${n})`);try{n||(n=this.metadata.HEAD.sha);const o=await this.github.createBranch(this.rootUri,e,n);t&&await this.checkout(o)}finally{i.stop()}}deleteBranch(e,t){throw new Error("Method not implemented.")}async getBranch(e){const t=new Z(`IGit.getBranch(${e})`);try{const n=await this.github.getBranch(this.rootUri,e);if(n===void 0)throw new Error(`Unable to find branch named "${e}"`);return{type:n.type,name:n.name,commit:n.commit,remote:this.remote.name,upstream:{name:n.name,remote:this.remote.name}}}finally{t.stop()}}async getBranches(e){var t,n;const i=(n=(t=e.contains)!=null?t:e.pattern)!=null?n:"",o=new Z(`IGit.getBranches(${i})`);try{const{branches:s}=await this.github.getBranches(this.rootUri,{query:i,limit:e.count});if(s.length===0)throw new Error(`Unable to find branches for "${i}"`);return s.map(u=>({type:u.type,name:u.name,commit:u.commit}))}finally{o.stop()}}setBranchUpstream(e,t){throw new Error("Method not implemented.")}getMergeBase(e,t){throw new Error("Method not implemented.")}async status(){}async checkout(e){const t=new Z(`IGit.checkout(${e})`);try{if(await this.github.repositoryObjectExists(this.rootUri,e)){const i=await this.github.switchTo(this.rootUri,e,{openInNewWindow:!1});throw i!==void 0&&await this.providerService.openWorkspace(i),new Error("User aborted")}const n=/pr\/(?<remote>.+)\/(?<num>\d+)/.exec(e);if(n==null?void 0:n.groups){const{num:i}=n.groups,{provider:o,repo:s}=this.providerService.getVirtualUriMetadata(this.rootUri),u=this.providerService.getRemoteUri(o.id,{repo:s,pullRequest:{id:i}});if(u!==void 0){const c=await this.providerService.createWorkspaceForRemoteUrl(u.toString());c!==void 0&&await this.providerService.openWorkspace(c)}}throw new Error("User aborted")}finally{t.stop()}}addRemote(e,t){var n;let i;const o=this.remotes.findIndex(s=>s.name===e);return o!==-1&&([i]=this.remotes.splice(o,1)),this.remotes.push({name:e,fetchUrl:t,isReadOnly:(n=i==null?void 0:i.isReadOnly)!=null?n:!1}),Promise.resolve()}removeRemote(e){const t=this.remotes.findIndex(n=>n.name===e);return t!==-1&&this.remotes.splice(t,1),Promise.resolve()}renameRemote(e,t){const n=this.remotes.findIndex(o=>o.name===e);if(n===-1)return Promise.resolve();const[i]=this.remotes.splice(n,1);return this.remotes.push({...i,name:t}),Promise.resolve()}async fetch(e,t,n){const i=new Z("IGit.fetch");try{return this.github.fetch(this.rootUri)}finally{i.stop()}}async pull(e){const t=new Z("IGit.pull");try{return this.github.sync(this.rootUri,this.changeStore,{conflictResolution:ue.Merge})}finally{t.stop()}}push(e,t,n){return Promise.resolve()}blame(e){throw new Error("Method not implemented.")}async log(e){var t;const n=(e==null?void 0:e.path)?this.pathToRelativePath(e.path):void 0,i=await this.github.getCommits(this.rootUri,{ref:this.metadata.HEAD.sha,path:n,limit:e==null?void 0:e.maxEntries});return(t=i==null?void 0:i.commits)!=null?t:[]}async commit(e,t){const n=new Z("IGit.commit");try{if((t==null?void 0:t.amend)!==void 0||(t==null?void 0:t.empty)!==void 0||(t==null?void 0:t.signCommit)!==void 0||(t==null?void 0:t.signoff)!==void 0)throw new Error("The specified commit options are not yet supported.");const i=(await this.providerService.getCommitOperations(this.rootUri,{staged:(t==null?void 0:t.all)===!1})).filter(o=>o.fileType===l.FileType.File);if(!i.length){l.window.showInformationMessage(l.l10n.t("There are no changes to commit."));return}await this.github.createAndPushCommit(this.rootUri,e,i,void 0,t),await this.changeStore.acceptAll(this.rootUri)}finally{n.stop()}}pathToRelativePath(e){return this.providerService.getRelativeFilePath(this.rootUri,this.pathToRelativeUri(e))}pathToRelativeUri(e){return L(this.rootUri,Hn(e))}}a(Pn,"GitHubRepository");const gi=/^\/?([a-zA-Z])(?::\/)(.*)$/,$n=/\\/g;function Hn(r){r=l.Uri.file(r).fsPath.replace($n,"/");const e=gi.exec(r);return e!==null&&([,,r]=e),r.startsWith("/")?r:`/${r}`}a(Hn,"normalizePath");function Jn(r){switch(r){case z.Changed:return dn.MODIFIED;case z.Created:return dn.INTENT_TO_ADD;case z.Deleted:return dn.DELETED}}a(Jn,"opTypeToStatus");class An extends Error{constructor(e,t,n){super(e.message);this.original=e,this.name=t,this.id=n;var i;(i=Error.captureStackTrace)==null||i.call(Error,this,An)}}a(An,"PullRequestNotFoundError");class Oi extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,Oi)}}a(Oi,"RepositoryForbiddenError");class qa extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,qa)}}a(qa,"RepositoryNotFoundError");class So extends Error{constructor(e,t){super(e.message);this.original=e,this.name=t;var n;(n=Error.captureStackTrace)==null||n.call(Error,this,So)}}a(So,"RepositoryEmptyError");function Zu(r){if(!r)return"";let e=`L${r.start.line+1}`;return r.start.line!==r.end.line&&(e+=`-L${r.end.line+1}`),e}a(Zu,"rangeString");function Xu(r,e){if(r===void 0)return"";if(!e)return`C${r+1}`;let t=`C${r+1}:L${e.start.line+1}`;return e.start.line!==e.end.line&&(t+=`-L${e.end.line+1}`),t}a(Xu,"notebookCellRangeString");function Ks(r){var e;if(r.resourceUri.scheme==="vscode-notebook-cell"){const t=l.window.visibleNotebookEditors.find(o=>o.notebook.uri.fsPath===r.resourceUri.fsPath),n=t==null?void 0:t.notebook.getCells().find(o=>{var s;return o.document.uri.fragment===((s=r.resourceUri)==null?void 0:s.fragment)}),i=(e=n==null?void 0:n.index)!=null?e:t==null?void 0:t.selection.start;return Xu(i,r.selection)}return Zu(r.selection)}a(Ks,"getRangeSegment");var el=Object.defineProperty,tl=Object.getOwnPropertyDescriptor,Bi=a((r,e,t,n)=>{for(var i=n>1?void 0:n?tl(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&el(e,t,i),i},"messages_decorateClass");class Di{constructor(){this.hasShownStatus404Message=!1}showGitHubStatus500Message(){return l.window.showErrorMessage(l.l10n.t("GitHub failed to respond and might be experiencing issues. Visit the [GitHub status page](https://githubstatus.com) for more information."),l.l10n.t("OK")),Promise.resolve()}async showStatus401Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate");await l.window.showErrorMessage(l.l10n.t("The provided credentials are either invalid or expired. Would you like to reauthenticate?"),t)===t&&e()}async showStatus404Message(e,t,n){if(this.hasShownStatus404Message)return!0;this.hasShownStatus404Message=!0;const i=l.l10n.t("Load Latest"),o=await l.window.showErrorMessage(l.l10n.t("Could not open repository '{0}'.",e),{modal:!0,detail:l.l10n.t(`The last opened commit ({0}) no longer exists on the remote.

Do you want to load the latest repository contents from the remote instead? Your uncommitted changes for commit {0} will be preserved and should be reviewed before committing.`,b(t))},i);return n(o),o!==void 0}async showStatus403Message(e){if(!e)return void l.window.showErrorMessage(l.l10n.t("The provided credentials do not have the required access."),l.l10n.t("OK"));const t=l.l10n.t("Reauthenticate"),n=l.l10n.t("The provided credentials do not have the required access. Would you like to reauthenticate to grant additional access?");await l.window.showErrorMessage(n,t)===t&&e()}async showRepositoryEmptyMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Repository '{0}' is empty and cannot be opened. Would you like to open another repository?",e),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestNotFoundMessage(e,t){const n=l.l10n.t("Open Pull Request");await l.window.showErrorMessage(l.l10n.t("Unable to find pull request {1} on repository '{0}'. Would you like to open another pull request?",e,t),n)===n&&l.commands.executeCommand("remoteHub.openRepository")}async showPullRequestHeadNotFoundMessage(e,t){if(Yu(io.DoNotAlertForMissingPullRequestSourceBranch))return;const n=l.l10n.t("OK"),i=l.l10n.t("Don't Show Again");await l.window.showInformationMessage(l.l10n.t("You are viewing the merge commit for pull request {1} on repository {0} because the source branch was deleted.",e,t),n,i)===i&&qu(io.DoNotAlertForMissingPullRequestSourceBranch,!0)}async showRepositoryForbiddenMessage(e,t){const n=l.l10n.t("Open Repository"),i=l.l10n.t("Reauthenticate"),o=await l.window.showErrorMessage(l.l10n.t("We require additional permissions to access repository '{0}'. Would you like to reauthenticate or open another repository?",e),{modal:!0},n,i);o===n?l.commands.executeCommand("remoteHub.openRepository"):o===i&&t()}async showRepositoryNotFoundMessage(e,t,n){const i=l.l10n.t("Open Default Branch"),o=l.l10n.t("Open Repository"),s=t?[i,o]:[o],u=await l.window.showErrorMessage(t?l.l10n.t("Unable to find ref '{1}' in repository '{0}'. Would you like to open the default branch instead?",e,t):l.l10n.t("Unable to find repository '{0}'. Would you like to open another repository?",e),{modal:!0},...s);u===o?l.commands.executeCommand("remoteHub.openRepository"):u===i&&(n==null||n())}async showUnableToOpenRepositoryMessage(e){const t=l.l10n.t("Open Repository");await l.window.showErrorMessage(l.l10n.t("Unable to open repository. {0}. Would you like to open another repository?",String(e)),{modal:!0},t)===t&&l.commands.executeCommand("remoteHub.openRepository")}}a(Di,"Messages"),Bi([Bt(()=>"")],Di.prototype,"showGitHubStatus500Message",1),Bi([Bt(()=>"")],Di.prototype,"showStatus401Message",1),Bi([Bt(()=>"")],Di.prototype,"showStatus404Message",1),Bi([Bt(()=>"")],Di.prototype,"showStatus403Message",1),Bi([Bt()],Di.prototype,"showRepositoryEmptyMessage",1),Bi([Bt()],Di.prototype,"showPullRequestNotFoundMessage",1),Bi([Bt()],Di.prototype,"showPullRequestHeadNotFoundMessage",1),Bi([Bt()],Di.prototype,"showRepositoryForbiddenMessage",1),Bi([Bt()],Di.prototype,"showRepositoryNotFoundMessage",1),Bi([Bt()],Di.prototype,"showUnableToOpenRepositoryMessage",1);const Zn=new Di;var us=__webpack_require__(4155),rl=Object.defineProperty,nl=Object.getOwnPropertyDescriptor,Gs=a((r,e,t,n)=>{for(var i=n>1?void 0:n?nl(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&rl(e,t,i),i},"provider_decorateClass");const il=new TextDecoder;var sa;(function(r){r.repositoryRegex=/^(?:https?:\/\/)?github\.(?:com|dev)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,r.sshRepositoryRegex=/^git@github\.com:(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i})(sa||(sa={}));const Ys=/(?<remoteOwner>[^/:]+)\/?(?<remoteRepo>[^/:]+)?:(?<remoteRef>.*)/,al=["repo","workflow"],bo=["repo","workflow","user:email","read:user"],xo=1,ls=Object.freeze({id:"github",name:"GitHub"});function wa(r){const{scheme:e,metadata:t}=B.decodeAuthority(r,s=>{if(s.v!==void 0)return s;if(typeof s.pr=="string")return{v:xo,ref:{type:ve.PullRequest,id:s.pr},idx:s.idx};if(typeof s.ref=="string")return{v:xo,ref:{type:ve.Tree,id:s.ref},idx:s.idx}}),[,n,i,...o]=ba.posix.normalize(r.path.startsWith("/")?r.path:`/${r.path}`).split("/");return{scheme:e,provider:ls,name:`${n}/${i}`,repo:{owner:n,name:i},path:o.join("/")||"",ref:t==null?void 0:t.ref,idx:t==null?void 0:t.idx}}a(wa,"getGitHubMetadata");function ol(r,e){const{repo:t}=e!=null?e:wa(r);return r.with({path:`/${t.owner}/${t.name}`,query:"",fragment:""})}a(ol,"getGitHubRootUri");function cs(r,e,t){const{repo:{owner:n,name:i}}=r instanceof l.Uri?wa(r):r;return l.Uri.parse(`github://${B.encodeAuthority("github",{v:xo,ref:{type:ve.Commit,id:e}})}/${n}/${i}/${t}`)}a(cs,"getGitHubRevisionUri");class qs{constructor(e){if(this.scopes=e,this.id="github",this.account={id:"vscode-remotehub-test",label:"RemoteHub Test"},!us.env.GITHUB_REMOTEHUB_TEST_PAT)throw new Error("Unable to initialize authentication for integration tests. Please set `process.env.GITHUB_REMOTEHUB_TEST_PAT`.");this.accessToken=us.env.GITHUB_REMOTEHUB_TEST_PAT}}a(qs,"TestAuthenticationSession");const Vs="_remotehub.getTarballProxyEndpoints",sl="_workbench.getTarballProxyEndpoints";class Va{constructor(e,t){this.providerService=e,this.tarPit=t,this.fileTreeCache=new Map,this.fileTreesToCache=new Set,this.gitAttributes=new Map,this.disposable=l.Disposable.from(e.onDidChangeRepository(n=>{n.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([n.repository.uri])}),e.onDidRefresh(n=>this.onRefreshOrRepositoryChanged(n))),Er&&(this.tarballProxyEndpoint=this.getTarballProxyEndpoint()),us.env.GITHUB_REMOTEHUB_TEST_PAT&&(this._session=new qs(al))}get scheme(){return"github"}get repositories(){return[...this.providerService.getRepositories(ls.id)]}getTarballProxyEndpoint(){return l.commands.getCommands().then(async e=>{const t=e.includes(Vs)?Vs:sl,n=await l.commands.executeCommand(t);return n==null?void 0:n["github.com"]})}dispose(){this.disposable.dispose()}onRefreshOrRepositoryChanged(e){e=e.filter(t=>B.getProviderId(t)===this.scheme),e.length!==0&&(this.fileTreeCache.forEach(t=>t.dispose()),this.fileTreeCache.clear())}async ensureAuthenticated(e=!1,t="github"){const n=new Z("GitHub.ensureAuthenticated");try{if(this._session===void 0){async function i(){try{return e?await l.authentication.getSession(t,bo,{forceNewSession:e}):await l.authentication.getSession(t,bo,{createIfNone:!0})}catch(s){if(s instanceof Error&&s.message==="User did not consent to login.")throw new Error(l.l10n.t("Please sign into GitHub to access this repository's contents."));ie.error(s);try{const u=await l.authentication.getSession(t,bo,{createIfNone:!1});if(u!==void 0)return u}catch{}return new Promise(u=>{async function c(){const g=await l.authentication.getSession(t,bo,{createIfNone:!0});g!==void 0&&u(g)}a(c,"getSession");const f=l.authentication.onDidChangeSessions(async g=>{g.provider.id===t&&(f.dispose(),await c())})})}}a(i,"waitUntilAuthenticated"),this._session=await i();const o=l.authentication.onDidChangeSessions(s=>{if(this._session===void 0){o.dispose();return}s.provider.id===t&&(this.clearAuthenticationSession(),o.dispose())})}return this._session}finally{n.stop()}}async getAuthentication(e){const t=await this.ensureAuthenticated();return{provider:ls,session:t,getRichNavigationHeaders:()=>({"X-Git-GitHub":`Bearer ${t.accessToken}`})}}clearAuthenticationSession(){this._session=void 0,this._octokit=void 0,this._octokitDefaults=void 0}async reauthenticate(){this.clearAuthenticationSession(),await this.ensureAuthenticated(!0)}async octokit(e){if(this._octokitDefaults===void 0){const n=await this.ensureAuthenticated();if(Er){async function i(o,s){if(s.headers!==void 0){const{"user-agent":u,...c}=s.headers;u&&(s.headers=c)}return ea(o,s)}a(i,"fetchCore"),this._octokitDefaults=Ye.defaults({auth:`token ${n.accessToken}`,request:{fetch:i}})}else this._octokitDefaults=Ye.defaults({auth:`token ${n.accessToken}`})}const t=new this._octokitDefaults(e);return(l.env.logLevel===l.LogLevel.Debug||ie.isDebugging)&&t.hook.wrap("request",async(n,i)=>{var o;const s=new Z(`[GITHUB] ${i.method} ${i.url}`,{log:!1});try{return await n(i)}finally{let u;try{if(typeof i.query=="string"){const c=/(^[^({\n]+)/.exec(i.query);u=` ${(o=c==null?void 0:c[1].trim())!=null?o:i.query}`}}catch{}s.stop({message:u})}}),t}async graphql(e,t,n=!0){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.graphql(e,t)}catch(i){throw n||this.handleRequestErrors(i),ie.error(i),i}}async request(e,t){this._octokit===void 0&&(this._octokit=await this.octokit());try{return await this._octokit.request(e,t)}catch(n){throw this.handleRequestErrors(n),ie.error(n),n}}handleRequestErrors(e){var t,n;if(e instanceof Ti)switch(e.status){case 500:return e.response&&Zn.showGitHubStatus500Message(),!0;case 401:return Zn.showStatus401Message(()=>void this.reauthenticate()),!0;case 403:return Zn.showStatus403Message(()=>void this.reauthenticate()),!0}else if(e instanceof O){if(((n=(t=e.errors)==null?void 0:t[0])==null?void 0:n.type)==="FORBIDDEN")return Zn.showStatus403Message(()=>void this.reauthenticate()),!0;if(e.headers.status==="500")return Zn.showGitHubStatus500Message(),!0}return!1}createIGitRepository(e,t,n,i){return new Pn(this.providerService,e,t,n,i,this)}async validateMetadataRevision(e,t,n){try{switch(n.type){case V.Branch:case V.RemoteBranch:await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:e,repo:t,tree_sha:n.sha}),ie.debug(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) SUCCEEDED`);break;default:return}}catch(i){if(ie.error(`GitHub.validateMetadataRevision(${e}, ${t}, ${n.sha}) FAILED with error`,i.toString()),i instanceof Ti&&i.status===404&&i.message==="Not Found"&&!await Zn.showStatus404Message(`${e}/${t}`,n.sha,s=>{if(s!==void 0)switch(n.type){case V.Branch:case V.RemoteBranch:n.sha=n.branch.sha}}))throw i}}async createMetadata(e,t){var n,i,o,s,u,c;const f=new Z(`GitHub.createMetadata(${e.toString()}, ${t})`);let g;try{let{provider:T,name:A,repo:{owner:$,name:se},ref:le}=wa(e);ie.log(`Parsed metadata for ${e.toString()}: name ${A}, owner ${$}, name ${se}, ref ${le==null?void 0:le.id}`),(!le||le.type===ve.Commit&&/HEAD/i.test(le.id))&&(le={type:ve.Commit,id:"HEAD"});const xe=this.providerService.isInWorkspace(e),Ae=await this.getRepositoryInfo($,se,xe,le.type===ve.PullRequest?{pr:Number(le.id)}:{ref:le.id});if(Ae===void 0)throw g=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let Oe;if(t)Oe=t;else if(le.type===ve.Commit&&le.id!=="HEAD"||le.type===ve.Tree&&Ae.ref===void 0)Oe=le.id;else if(Oe=(i=(n=Ae.ref)==null?void 0:n.sha)!=null?i:Ae.defaultBranch.sha,Oe===void 0)throw g=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let nt;if(((o=Ae.ref)==null?void 0:o.prefix)==="refs/heads/")nt={type:V.Branch,name:Ae.ref.name,sha:Oe,branch:{name:Ae.ref.name,sha:Ae.ref.sha}};else if(((s=Ae.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Ae.ref.remote)throw g=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);nt={type:V.RemoteBranch,name:`${Ae.ref.remote.repo.owner}${Ae.ref.remote.repo.name!==se?`/${Ae.ref.remote.repo.name}`:""}:${Ae.ref.name}`,sha:Oe,branch:{name:Ae.ref.name,sha:Ae.ref.sha,remote:Ae.ref.remote}}}else if(((u=Ae.ref)==null?void 0:u.prefix)==="refs/tags/")nt={type:V.Tag,name:Ae.ref.name,sha:Ae.ref.sha,detached:{type:V.Tag,name:Ae.ref.name}};else if(D(Oe))nt={type:V.Commit,name:b(Oe),sha:Oe,detached:{type:V.Commit,name:b(Oe)}};else throw g=" \u2022 Aborted; Unable to get HEAD info",Zn.showRepositoryNotFoundMessage(`${$}/${se}`,le.id,()=>{const yt=this.getRemoteUri({repo:{owner:$,name:se}});l.commands.executeCommand("remoteHub.openRepository",yt.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision($,se,nt);let $e,ut;if(Ne.get("experimental.prefetch")&&xe&&($e=Oe,f.log({suffix:` \u2022 Prefetching tree for ${$e}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(yt=>ut=yt),repo:{owner:$,name:se},HEAD:{sha:$e},timestamp:Date.now()}})),$e!==void 0&&$e!==nt.sha){const yt=this.asFileTreeKey(e,$e),Ve=this.fileTreeCache.get(yt);Ve&&!D($e)&&nt.sha===((c=nt.branch)==null?void 0:c.sha)?(f.log({suffix:` \u2022 Updating prefetched tree for ${$e}, since HEAD was resolved; HEAD=${nt.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,nt.sha),Ve),this.fileTreeCache.delete(yt)):(f.log({suffix:` \u2022 Removing prefetched tree for ${$e}, since the HEAD changed; HEAD=${nt.sha}`}),this.fileTreeCache.delete(yt),Ve==null||Ve.dispose())}const Ct={version:jn.schemaVersion,timestamp:Date.now(),provider:T,name:A,repo:Ae.repo,cloneUrl:Ae.cloneUrl,accessLevel:Ae.accessLevel,HEAD:nt,defaultBranch:Ae.defaultBranch,pullRequest:Ae.pullRequest};return g=` \u2022 HEAD=${nt.sha}`,ut==null||ut(Ct),Ct}finally{f.stop(g?{suffix:g}:void 0)}}getMetadata(e){return this.providerService.getMetadata(e)}getRemoteWorkspaceSourceProviders(){return[{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Repository from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Repository from {0}","github.com"),placeholder:l.l10n.t("Choose a repository, or type an organization or repo name to search"),provideSources:async(e,t,n,i)=>{let o;const s=[];n&&this.canOpenRemoteUrl(n)!==void 0&&({owner:o,repo:n}=this.getOwnerAndRepo(n)),n=n!=null?n:"";const u=n==null?void 0:n.indexOf("/");u!==-1&&(o=n.substring(0,u),n=n.substr(u+1));const{results:c,hasSAMLProtectedResults:f}=await this.searchRepositoriesQuery(n,{...i,owner:o});if(f){const g={label:`$(lock) ${l.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};s.push(g)}return s.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("repositories")},...c.map(g=>({providerId:"github",name:g.repoWithOwner,icon:"$(repo)",description:`${g.fork?`$(repo-forked) ${g.fork}`:""}${g.stars>0?`${g.fork?" \u2022 ":""}$(star-full) ${g.stars}`:""}`,detail:g.description,url:g.url}))),s}},{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Pull Request from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Pull Request from {0}","github.com"),placeholder:l.l10n.t("Choose a pull request"),provideSources:async(e,t,n,i)=>{n=n!=null?n:"";let o;const s=n==null?void 0:n.indexOf("/");s!==-1&&(o=n.substring(0,s),n=n.substr(s+1));const{results:u,hasSAMLProtectedResults:c}=await this.searchPullRequestsQuery(n,{user:o}),f=[];if(c){const g={label:`$(lock) ${l.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};f.push(g)}return f.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("pull requests")},...u.map(g=>({providerId:"github",name:g.title,icon:"$(git-pull-request)",description:g.reasons.length!==0?g.reasons.sort().join(", "):void 0,detail:`${g.repoWithOwner} #${g.number}`,url:g.url}))),f}}]}canOpenRemoteUrl(e){var t;const n=(t=sa.repositoryRegex.exec(e))!=null?t:sa.sshRepositoryRegex.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:u}=n.groups;return s?J.PullRequest:o?J.Commit:u?J.Branch:i?J.File:J.Repository}getOwnerAndRepo(e){var t;const n=(t=sa.repositoryRegex.exec(e))!=null?t:sa.sshRepositoryRegex.exec(e);if((n==null?void 0:n.groups)===void 0)return{owner:void 0,repo:void 0};const{owner:i,repo:o}=n.groups;return{owner:i,repo:o}}getHttpsCloneUri(e){const t=e.toString(),{owner:n,repo:i}=this.getOwnerAndRepo(t);if(n&&i)return this.getRemoteUri({repo:{owner:n,name:i}})}async createWorkspaceForRemoteUrl(e,t=We.CurrentWindow,n=!0){var i;const o=(i=sa.repositoryRegex.exec(e))!=null?i:sa.sshRepositoryRegex.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{owner:s,repo:u,blob:c,commit:f,pull:g,tree:T,fragment:A}=o.groups;u=u.endsWith(".git")?u.slice(0,u.length-4):u;let $,se;if(n){const Ae=await this.validateOwnerAndRepoAndSplitRefFromPath(s,u,T!=null?T:c);if(Ae===void 0)return;({owner:s,repo:u,ref:se,path:$}=Ae)}if(T||c){if($&&A&&c){const Ae=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec(A);if(Ae==null?void 0:Ae.groups){const{start:Oe,end:nt}=Ae.groups;$+=`:${Oe}${nt!==void 0?`-${nt}`:""}`}}}else f?se={type:ve.Commit,id:f}:g&&(se={type:ve.PullRequest,id:g});const le=this.providerService.createVirtualUri("github",{repo:{owner:s,name:u},ref:se}),{name:xe}=wa(B.getVirtualUri(this.getProviderRootUri(le)));return{name:xe,uri:le,location:t,filesToOpen:$?[$]:void 0}}createVirtualUri(e,{repo:t,ref:n,idx:i},o){const s=n!==void 0||i!==void 0?{v:xo}:void 0;return s&&(n&&(s.ref={...n,type:n.type===ve.Branch||n.type===ve.Tag?ve.Tree:n.type}),i&&(s.idx=i)),e.with({authority:B.encodeAuthority("github",s),path:`/${t.owner}/${t.name}${(o==null?void 0:o.startsWith("/"))?o:o?`/${o}`:""}`})}getRemoteUri(e){const t=`https://github.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"",o=e.item?Ks(e.item):"",s=o?`#${o}`:"";return e.pullRequest?l.Uri.parse(`${t}/pull/${e.pullRequest.id}`):e.branch?l.Uri.parse(`${t}/${n}/${e.branch}${i}${s}`):e.tag?l.Uri.parse(`${t}/${n}/${e.tag}${i}${s}`):e.sha?l.Uri.parse(`${t}/${n}/${e.sha}${i}${s}`):l.Uri.parse(t)}getProviderRootUri(e){return e=B.getProviderUri(e),ol(e)}getRelativeFilePath(e,t){let{path:n}=wa(e);const{path:i}=wa(L(e,t));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:t,name:n,repo:i,ref:o}=wa(e);return{provider:t,name:n,repo:i,ref:o}}async getModeRefType(e,t){const{HEAD:n,pullRequest:i}=await(t!=null?t:this.getMetadata(e));switch(n.type){case V.Branch:return i!==void 0?pe.PullRequestBranch:pe.Branch;case V.RemoteBranch:return i!==void 0?pe.PullRequestRemoteBranch:pe.RemoteBranch;case V.Tag:return pe.Tag;case V.Commit:return pe.Commit}}async getGitAttributes(e){const t=e.toString(),n=this.gitAttributes.get(t);if(n)return n;const i=this.providerService.createRelativeUri(e,".gitattributes"),o=this.getFileContent(i).then(s=>new oa(il.decode(s))).catch(s=>{if(s instanceof l.FileSystemError&&s.code===l.FileSystemError.FileNotFound().code)return new oa("");throw s});return this.gitAttributes.set(t,o),o}async createBranch(e,t,n,i){try{const{repo:{owner:o,name:s}}=i!=null?i:await this.getMetadata(e);return t.startsWith("refs/heads/")||(t=`refs/heads/${t}`),(await this.request("POST /repos/{owner}/{repo}/git/refs",{owner:o,repo:s,ref:t,sha:n})).data.ref.substr(11)}catch(o){throw o instanceof Ti&&o.status===422?o.message==="Reference already exists"?Ke.InvalidBranchNameError(t.substring(11),!0):Ke.InvalidBranchNameError(t.substring(11),!1):(ie.error(o),o)}}async createAndPushCommit(e,t,n,i,o,s){var u;const c=new Z(`GitHub.createAndPushCommit(${e.toString()}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);if(n=n.filter(g=>g.fileType===l.FileType.File),n.length===0&&!(o==null?void 0:o.empty))throw c.stop({message:"Aborted; No changes to commit"}),Ke.NothingToCommitError("No changes to commit");let f;try{const g=await this.getMetadata(e);let T;if(i!==void 0)T=i;else{if(g.HEAD.detached&&!g.HEAD.branch)throw Ke.DetachedHEADError("Unable to commit; no current branch");T=g.HEAD.branch.name}let A;if(s)A=`${s.repo.owner}/${s.repo.name}`;else if(g.HEAD.type===V.RemoteBranch&&g.HEAD.branch.remote.accessLevel>=ee.Write){const{owner:$e,name:ut}=g.HEAD.branch.remote.repo;A=`${$e}/${ut}`}else A=`${g.repo.owner}/${g.repo.name}`;const $=[],se=[],le=[],xe=await this.getGitAttributes(e);for(const $e of n)switch($e.type){case z.Created:case z.Changed:{try{const ut=await $e.content;if(Ne.get("lfs.write.enabled")&&Ue(xe,$e.path)){const Ct=await Ot(ut);le.push({...Ct,path:$e.path,binaryContent:ut})}else $.push({path:$e.path,contents:_n(ut)})}catch(ut){throw ie.error(ut),Ke.CommitFailedError()}break}case z.Deleted:se.push({path:$e.path});break}if(le.length){const $e=await this.uploadLfsFiles(e,le);$.push(...$e)}const Ae={branch:{branchName:T,repositoryNameWithOwner:A},message:{headline:t},fileChanges:{additions:$,deletions:se},expectedHeadOid:g.HEAD.sha},Oe=`mutation CreateCommitOnBranch ($commitInput: CreateCommitOnBranchInput!) {
	createCommitOnBranch(input: $commitInput) {
		commit {
			oid
		}
		ref {
			name
		}
	}
}`,nt=await this.graphql(Oe,{commitInput:Ae});if(f=nt==null?void 0:nt.createCommitOnBranch.commit.oid,!f)throw Ke.CommitFailedError();return i===void 0&&!g.HEAD.detached&&f!==void 0&&await this.fastForwardTo(e,f,g),f}catch(g){if(g instanceof O){const T=(u=g.errors)==null?void 0:u[0];if((T==null?void 0:T.type)==="STALE_DATA"&&T.message.includes("Pull and try again"))throw Ke.MergeConflictError(g);if((T==null?void 0:T.type)==="BRANCH_PROTECTION_RULE_VIOLATION"&&T.message.includes("protected branch"))throw Ke.CommitToProtectedBranchError(T.message);if((T==null?void 0:T.type)==="FORBIDDEN"&&T.message.includes("does not have the correct permissions to execute `CreateCommitOnBranch`"))throw Ke.CommitToArchivedRepositoryError(T.message)}throw ie.error(g),g}finally{c.stop(f?{message:`: Created and pushed commit ${f}`}:void 0)}}async createPullRequest(e,t,n,i,o,s){var u,c,f;const g=new Z(`GitHub.createPullRequest(${e.toString()}, ${t}${s?`, fork=${s.repo.owner}/${s.repo.name}`:""})`);try{const{repo:{owner:T,name:A},HEAD:{branch:$},defaultBranch:se}=await this.getMetadata(e),le=await this.request("POST /repos/{owner}/{repo}/pulls",{owner:T,repo:A,base:`refs/heads/${(u=$==null?void 0:$.name)!=null?u:se.name}`,head:s?`${s.repo.owner}:${t}`:t,title:n,body:i,draft:(c=o==null?void 0:o.draft)!=null?c:!1,maintainer_can_modify:(f=o==null?void 0:o.canMaintainerModify)!=null?f:!0});return{id:le.data.number.toString(),uri:l.Uri.parse(le.data.html_url)}}catch(T){throw ie.error(T),T}finally{g.stop()}}async fetch(e,t){const{fetched:n,metadata:i}=await this.fetchCore(e,!1,t);n&&await this.providerService.updateMetadata(e,i)}async fetchCore(e,t,n){var i,o,s,u,c,f,g,T,A;const{force:$,to:se}={...n,force:t||(n==null?void 0:n.force)},le=new Z(`GitHub.fetch(${e.toString()}, force=${$}, to=${se})`);let xe;try{const Ae=await this.getMetadata(e);if(Ae.HEAD.detached)return xe=" \u2022 Skipped; detached HEAD",{fetched:!1,metadata:Ae};const Oe=await this.getBranchTips(e);if(!Oe)throw xe=" \u2022 Unable to fetch branch tips",Ke.SyncOrFetchError(t);if(!$&&!se&&((i=Oe.defaultBranch)==null?void 0:i.sha)!==void 0&&Oe.defaultBranch.sha===Ae.defaultBranch.sha&&((o=Oe.branch)==null?void 0:o.sha)!==void 0&&Oe.branch.sha===Ae.HEAD.branch.sha&&(Ae.HEAD.sha===Ae.HEAD.branch.sha||Ae.state!==void 0))return xe=" \u2022 No changes detected",{fetched:!1,metadata:Ae};let nt;if(((s=Oe.defaultBranch)==null?void 0:s.sha)!==void 0&&Oe.defaultBranch.sha!==Ae.defaultBranch.sha&&(nt={defaultBranch:{...Ae.defaultBranch,sha:Oe.defaultBranch.sha}}),((u=Oe.branch)==null?void 0:u.sha)===void 0){if(xe=" \u2022 Unable to find branch tip",$)throw Ke.SyncOrFetchError(t);return nt!==void 0?{fetched:!0,metadata:{...Ae,...nt}}:{fetched:!1,metadata:Ae}}if(Oe.branch.sha!==Ae.HEAD.branch.sha&&(nt={...nt,HEAD:{...Ae.HEAD,branch:{...Ae.HEAD.branch,sha:Oe.branch.sha},detached:void 0}}),Oe.branch.sha===((c=n==null?void 0:n.to)!=null?c:Ae.HEAD.sha))return xe=" \u2022 Up to date",Ae.state!==void 0||nt!==void 0?{fetched:!0,metadata:{...Ae,...nt,state:void 0}}:{fetched:!1,metadata:Ae};le.logStep("Fetching upstream changes");try{const $e=await this.getAheadBehindState(e,Ae,{base:(f=n==null?void 0:n.to)!=null?f:Ae.HEAD.sha,head:(A=(T=(g=nt==null?void 0:nt.HEAD)==null?void 0:g.branch)==null?void 0:T.sha)!=null?A:Ae.HEAD.branch.sha});return xe=` \u2022 Changes detected; ${$e==null?void 0:$e.behind} commits behind`,{fetched:!0,metadata:{...Ae,...nt,state:$e?{ahead:$e.ahead,behind:$e.behind,incomingChanges:$e.incomingChanges}:void 0}}}catch($e){if(xe=` \u2022 Failed fetching upstream changes; ${String($e)}`,$)throw Ke.SyncOrFetchError(t);return nt!==void 0?{fetched:!0,metadata:{...Ae,...nt}}:{fetched:!1,metadata:Ae}}}finally{le.stop(xe?{suffix:xe}:void 0)}}async fork(e){try{const{repo:{owner:t,name:n}}=await this.getMetadata(e),i=await this.request("POST /repos/{owner}/{repo}/forks",{owner:t,repo:n});let o;for(;;){try{if(o=await this.getRepositoryInfo(i.data.owner.login,i.data.name,!1),o!==void 0)break}catch{}await new Promise(s=>setTimeout(s,250))}return{name:`${i.data.owner.login}/${i.data.name}`,repo:{owner:i.data.owner.login,name:i.data.name},url:i.data.url}}catch(t){throw ie.error(t),t}}async getBranch(e,t){try{const{repo:{owner:n,name:i}}=await this.getMetadata(e),o=`query getBranch(
				$owner: String!
				$repo: String!
				$qualifiedName: String!
			) {
				repository(owner: $owner, name: $repo) {
					ref(qualifiedName: $qualifiedName) {
						name
						target {
							oid
							commitUrl
						}
						refUpdateRule {
							viewerCanPush
							requiredApprovingReviewCount
						}
					}
				}
			}`,s=await this.graphql(o,{owner:n,repo:i,qualifiedName:t.startsWith("refs/heads/")?t:`refs/heads/${t}`});return(s==null?void 0:s.repository)?{type:Ir.Head,name:s.repository.ref.name,commit:s.repository.ref.target.oid,commitUrl:s.repository.ref.target.commitUrl,locked:s.repository.ref.refUpdateRule?!s.repository.ref.refUpdateRule.viewerCanPush||s.repository.ref.refUpdateRule.requiredApprovingReviewCount>0:void 0}:void 0}catch(n){return}}async getBranches(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getBranches(
	$owner: String!
	$repo: String!
	$branchQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $branchQuery, refPrefix: "refs/heads/", first: $limit, after: $cursor) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				refUpdateRule {
					viewerCanPush
					requiredApprovingReviewCount
				}
				target {
					oid
					commitUrl
					... on Commit {
						committedDate
					  }
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,branchQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{branches:[]};const g=(o=f.repository)==null?void 0:o.refs;if(g===void 0)return{branches:[]};const T=g.nodes.map(A=>({type:Ir.Head,name:A.name,commit:A.target.oid,commitUrl:A.target.commitUrl,committedDate:new Date(A.target.committedDate),locked:A.refUpdateRule?!A.refUpdateRule.viewerCanPush||A.refUpdateRule.requiredApprovingReviewCount>0:void 0}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},branches:T}}catch(s){return{branches:[]}}}async getCommit(e,t){var n;try{const{HEAD:i,repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getCommit(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
) {
	repository(name: $repo owner: $owner) {
		object(oid: $ref) {
			...on Commit {
				oid
				message
				parents(first: 100) {
					nodes {
						oid
					}
				}
				author {
					date
					email
					name
				}
				committer {
					date
				}
			}
		}
	}
}`;t.toUpperCase()==="HEAD"&&(t=i.sha);const c=await this.graphql(u,{owner:o,repo:s,ref:t});if(c===void 0)return;const f=(n=c.repository)==null?void 0:n.object;return f===void 0?void 0:{hash:f.oid,message:f.message,parents:f.parents.nodes.map(g=>g.oid),authorDate:new Date(f.author.date),authorEmail:f.author.email,authorName:f.author.name,commitDate:new Date(f.committer.date)}}catch(i){return}}async getCommits(e,t){var n,i,o;try{const{HEAD:s,repo:{owner:u,name:c}}=await this.getMetadata(e),f=`query getCommits(
	$owner: String!
	$repo: String!
	$ref: GitObjectID!
	$path: String
	$cursor: String
	$limit: Int = 100
) {
	repository(name: $repo, owner: $owner) {
		object(oid: $ref) {
			... on Commit {
				history(first: $limit, path: $path, after: $cursor) {
					pageInfo {
						endCursor
						hasNextPage
					}
					nodes {
						... on Commit {
							...commit
						}
					}
				}
			}
		}
	}
}

fragment commit on Commit {
	oid
	message
	parents(first: 100) {
		nodes {
			oid
		}
	}
	author {
		date
		email
		name
	}
	committer {
		date
	}
}
`;let g=t==null?void 0:t.ref;(g==null?void 0:g.toUpperCase())==="HEAD"&&(g=s.sha);const T=await this.graphql(f,{owner:u,repo:c,ref:g,cursor:t==null?void 0:t.cursor,path:t==null?void 0:t.path,limit:Math.min(100,(n=t==null?void 0:t.limit)!=null?n:100)});if(T===void 0)return;const A=(o=(i=T.repository)==null?void 0:i.object)==null?void 0:o.history;if(A===void 0)return;const $=A.nodes.map(se=>({hash:se.oid,message:se.message,parents:se.parents.nodes.map(le=>le.oid),authorDate:new Date(se.author.date),authorEmail:se.author.email,authorName:se.author.name,commitDate:new Date(se.committer.date)}));return{paging:{cursor:A.pageInfo.endCursor,more:A.pageInfo.hasNextPage},commits:$}}catch(s){return}}async getBlobContent(e,t){try{const n=await this.request("GET /repos/{owner}/{repo}/git/blobs/{file_sha}",{owner:e.owner,repo:e.name,file_sha:t});return Zt(n.data.content)}catch(n){throw l.env.logLevel===l.LogLevel.Debug&&ie.error(n),n}}async getFileContent(e,t,n){try{let i;const o=this.getProviderRootUri(e);if(t&&n&&!this.hasFileTree(e,t)){n.startsWith("/")&&(n=n.slice(1));let s=(0,ba.dirname)(n);(s==="."||s==="/")&&(s=""),i=await(await this.getFileTree(o,t,{path:s,recursive:!1})).get(n)}else{const[s,{path:u}]=await Promise.all([this.getFileTree(e,t),n?{path:void 0}:this.providerService.getMetadata(e)]);i=await s.get(n!=null?n:u)}if((i==null?void 0:i.sha)===void 0)throw l.FileSystemError.FileNotFound(e);return await i.getContent()}catch(i){throw l.env.logLevel===l.LogLevel.Debug&&ie.error(i),i}}getBatchApiUrl(e){return`${this.getRemoteUri({repo:this.getVirtualUriMetadata(e).repo}).toString()}.git/info/lfs/objects/batch`}async uploadLfsFiles(e,t){var n,i,o,s;const u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken,f=[],g=await ea(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"upload",objects:t.map(T=>({oid:T.oid,size:T.size}))})});if(g.ok){const T=await g.json();if(T.objects.length!==t.length)throw Ke.CommitFailedError();for(let A=0;A<t.length;A++){const $=T.objects[A],se=t[A];if((i=(n=$.actions)==null?void 0:n.upload)==null?void 0:i.href){const{href:le,header:xe}=$.actions.upload;if((await ea(le,{method:"PUT",body:se.binaryContent,headers:{"Content-Type":"application/octet-stream",...xe}})).ok&&((s=(o=$.actions)==null?void 0:o.verify)==null?void 0:s.href)&&!(await ea($.actions.verify.href,{method:"POST",headers:$.actions.verify.header})).ok)throw Ke.CommitFailedError()}f.push({path:se.path,contents:At(se.oid,se.size)})}}return f}async getLfsContent(e,t){var n,i;const{oid:o,size:s}=Ya(t),u=this.getBatchApiUrl(e),c=(await this.ensureAuthenticated()).accessToken;try{const f=await ea(u,{method:"POST",headers:{"Content-Type":"application/vnd.git-lfs+json",Accept:"application/vnd.git-lfs+json",Authorization:`Bearer ${c}`},body:JSON.stringify({transfers:["basic"],operation:"download",objects:[{oid:o,size:Number(s)}]})});if(f.ok){const T=(i=(n=(await f.json()).objects[0].actions)==null?void 0:n.download)==null?void 0:i.href;if(T)return l.window.withProgress({location:l.ProgressLocation.Window},(A,$)=>pa(T,{method:"GET"},void 0,$,A))}return t}catch(f){return ie.error(f),t}}async getFileList(e,t,n){const i=new Z(`GitHub.getFileList(${e.toString()}${n?`, ${n}`:""})`);try{const{repo:{owner:o,name:s},HEAD:{sha:u}}=await this.getMetadata(e),c=await this.request("GET /repos/{owner}/{repo}/git/tree-file-list/{treeish}",{owner:o,repo:s,treeish:`${n!=null?n:u}${t?`:${t}`:""}`});return c.status!==200?[]:c.data}catch(o){return ie.error(o),[]}finally{i.stop()}}hasFileTree(e,t){return t?this.fileTreeCache.has(this.asFileTreeKey(e,t)):this.getMetadata(e).then(n=>this.fileTreeCache.has(this.asFileTreeKey(e,n.HEAD.sha)))}async getFileTree(e,t,n){var i,o,s,u;const c=this.providerService.isInWorkspace(e);let f=c,g,T,A;if(f||!t){const xe=(o=(i=n==null?void 0:n.prefetched)==null?void 0:i.metadata)!=null?o:this.getMetadata(e);g=c?this.getFileTreePermissions(e,xe):void 0;let Ae;({repo:T,HEAD:{sha:Ae},timestamp:A}=(s=n==null?void 0:n.prefetched)!=null?s:await xe),t||(t=Ae)}else({repo:T}=(u=n==null?void 0:n.prefetched)!=null?u:this.providerService.getVirtualUriMetadata(e)),A=Date.now();const $=this.asFileTreeKey(e,t);this.fileTreesToCache.has($)&&(f=!0),this.fileTreesToCache.add($);const se=this.getProviderRootUri(e),le=new Z(`GitHub.getFileTree(${$}): ${e.toString()}`,{log:!1,logLevel:l.LogLevel.Debug});try{let xe=a(function(){var Oe;const nt=new Z(`GitHub.createFileTree(${$})`);let $e,ut;f&&c&&($e=new l.EventEmitter,ut=l.Disposable.from(this.tarPit.onDidChangeIndexingEnablement(()=>$e.fire()),this.tarPit.onDidDownloadTar(yt=>$e.fire({rootUri:this.getProviderRootUri(yt.rootUri),sha:yt.sha}))));const Ct={dispose:()=>ut==null?void 0:ut.dispose(),permissions:g,getContent:async(yt,Ve)=>{const Gt=new Z("getFileContents"),gt=Ne.get("experimental.fs.useTars");if(gt==="always"||gt==="ifAvailable"){const sr=await this.tarPit.getInMemoryTar(se,t);if(sr){const Or=sr.entryMap.get(Ve);if(Or)return Gt.stop({message:`Retrieved ${Ve} from in-memory tar with rootUri=${se.toString()}, ref=${t==null?void 0:t.toString()}`}),Or.dataAsBytes}}let pr=!1;return new Promise((sr,Or)=>{this.getBlobContent(T,yt.sha).then(mr=>{pr||(Gt.stop({message:`Retrieved ${Ve} from web`}),pr=!0,sr(mr))},mr=>Or(mr)),gt!=="never"&&this.tarPit.getCachedTar(se,t).then(mr=>mr===void 0&&gt==="always"&&!pr?this.tarPit.getTar(se,!1,t):mr).then(mr=>{var nn;const Hr=(nn=mr==null?void 0:mr.entryMap.get(Ve))==null?void 0:nn.dataAsBytes;Hr&&!pr&&(Gt.stop({message:`Retrieved ${Ve} from tar`}),pr=!0,sr(Hr))},mr=>{})})},getTree:async(yt,Ve)=>{const Gt=await this.request("GET /repos/{owner}/{repo}/git/trees/{tree_sha}",{owner:T.owner,repo:T.name,recursive:Ve?"1":void 0,tree_sha:`${t}${yt?`:${yt}`:""}`});return Gt.data.truncated?{sha:Gt.data.sha,truncated:!0}:{sha:Gt.data.sha,truncated:!1,tree:Da(Gt.data.tree,gt=>{var pr;return{path:gt.path,item:{mode:gt.mode,sha:gt.sha,stat:{type:ll(gt.type),size:(pr=gt.size)!=null?pr:0,ctime:0,mtime:A,permissions:void 0}}}})}},onDidTriggerContentCaching:$e==null?void 0:$e.event,tryCachingContent:f&&c?async yt=>{const Ve=Ne.get("experimental.fs.useTars");if(Ve!=="always"&&Ve!=="ifAvailable")return!1;const Gt=new Z(`FileTree.loadAllContent(${t})`);let gt;try{let pr;if(Ve==="ifAvailable"){if(Gt.logStep("Tar cache query"),pr=await this.tarPit.getCachedTar(se,t),pr===void 0)return gt=" \u2022 No cached Tar",!1}else Gt.logStep("Tar query"),pr=await this.tarPit.getTar(se,!1,t);Gt.logStep("Updating content",{suffix:" \u2022 Updating content..."});for(const sr of pr.entries){const Or=yt(sr.header.fullFileName);if(Or===void 0)continue;const mr=sr.dataAsBytes;Or.getContent=()=>mr}return!0}catch(pr){return gt=` \u2022 Failed ${String(pr)}`,!1}finally{Gt.stop(gt?{suffix:gt}:void 0)}}:void 0};try{return new Ga(se,t,A,Ct,{path:n==null?void 0:n.path,recursive:(Oe=n==null?void 0:n.recursive)!=null?Oe:f,preload:f||(n==null?void 0:n.recursive)})}catch(yt){return ie.error(yt),new Ga(se,t,A,void 0)}finally{nt.stop()}},"createFileTree"),Ae=this.fileTreeCache.get($);return Ae!==void 0||(Ae=xe.call(this),f&&this.fileTreeCache.set($,Ae)),Ae}finally{le.stop()}}async getFileTreePermissions(e,t){if(this.providerService.getModeConfig(e,await this.getModeRefType(e,t)).display===X.Edit)return;const i=await this.providerService.getIndexMetadata(e);return te.isActive(i)?l.FilePermission.Readonly:void 0}async getFork(e){var t,n,i;try{const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getFork(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		forks(affiliations: OWNER, first: 1) {
			nodes {
				owner {
					login
				}
				name
				url
			}
		}
	}
}`,c=await this.graphql(u,{owner:o,repo:s});if(c===void 0)return;const[f]=(i=(n=(t=c.repository)==null?void 0:t.forks)==null?void 0:n.nodes)!=null?i:[];return f===void 0?void 0:{name:`${f.owner.login}/${f.name}`,repo:{owner:f.owner.login,name:f.name},url:f.url}}catch(o){return}}async getIncomingChanges(e){var t,n;return(n=(t=(await this.getMetadata(e)).state)==null?void 0:t.incomingChanges)!=null?n:[]}async compareCommits(e,t){const n=await this.getMetadata(e),i=await this.getAheadBehindState(e,n,{base:t.base,head:t.compare});return i==null?void 0:i.incomingChanges}async getAheadBehindState(e,t,n){var i,o,s,u,c;const{base:f,head:g}={base:t.HEAD.sha,head:(i=t.HEAD.branch)==null?void 0:i.sha,...n},T=new Z(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${g})`);let A,$;try{if(!g){A=` \u2022 Skipped; Unsupported HEAD type (${t.HEAD.type})`;return}const se=await this.request("GET /repos/{owner}/{repo}/compare/{base}...{head}",{owner:t.repo.owner,repo:t.repo.name,base:f,head:g}),le=[];for(const xe of(o=se.data.files)!=null?o:[])switch(xe.status){case"added":case"copied":le.push({uri:l.Uri.joinPath(e,xe.filename),type:z.Created});break;case"removed":le.push({uri:l.Uri.joinPath(e,xe.filename),type:z.Deleted});break;case"modified":le.push({uri:l.Uri.joinPath(e,xe.filename),type:z.Changed});break;case"renamed":le.push({uri:l.Uri.joinPath(e,xe.filename),type:z.Created}),le.push({uri:l.Uri.joinPath(e,xe.previous_filename),type:z.Deleted});break;default:ie.warn(`GitHub.getAheadBehindState(${e.toString()}, base=${f}, head=${g}): Unknown file status encountered '${xe.status}'`);break}return $={ahead:(s=se.data.behind_by)!=null?s:0,behind:(u=se.data.ahead_by)!=null?u:0,incomingChanges:le},$}catch(se){throw A=` \u2022 Failed; ${String(se)}`,ie.error(se),se}finally{T.stop({suffix:A!=null?A:` \u2022 ${(c=$==null?void 0:$.behind)!=null?c:0} commits behind`})}}async getObjectDetails(e,t,n){var i;try{const o=await this.getFileTree(e,t);n?n=this.providerService.getRelativeFilePath(e,this.providerService.createRelativeUri(e,n)):{path:n}=await this.providerService.getMetadata(e);const s=await o.get(n);if((s==null?void 0:s.mode)===void 0||(s==null?void 0:s.sha)===void 0)throw new Error(`Cannot get details of ${n} in ${t}`);return{mode:s.mode,object:s.sha,size:(i=s.stat.size)!=null?i:0}}catch(o){throw ie.error(o),o}}async getPullRequest(e,t){const{repo:{owner:n,name:i}}=await this.getMetadata(e);return this.getPullRequestCore(n,i,t)}async getPullRequestCore(e,t,n){var i,o,s,u,c,f,g;try{const T=`query getPullRequest(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(name: $repo, owner: $owner) {
		pullRequest(number: $pr) {
			author {
				login
				avatarUrl
				url
			}
			permalink
			number
			title
			state
			updatedAt
			closedAt
			mergedAt
			repository {
				name
				owner {
					login
				}
			}
			baseRef {
				name
			}
			baseRefName
			baseRefOid
			baseRepository {
				name
				owner {
					login
				}
			}
			headRef {
				name
			}
			headRefName
			headRefOid
			headRepository {
				name
				owner {
					login
				}
			}
			headRepositoryOwner {
				login
			}
		}
	}
}`,A=await this.graphql(T,{owner:e,repo:t,number:Number(n)}),$=(i=A==null?void 0:A.repository)==null?void 0:i.pullRequest;return $?{author:{name:$.author.login,avatarUrl:$.author.avatarUrl,url:$.author.url},closedAt:$.closedAt?new Date($.closedAt):void 0,mergedAt:$.mergedAt?new Date($.mergedAt):void 0,id:$.number.toString(),repo:{name:$.repository.name,owner:$.repository.owner.login},state:fs($.state),title:$.title,updatedAt:new Date($.updatedAt),url:$.permalink,refs:{base:{owner:$.baseRepository.owner.login,repo:$.baseRepository.name,branch:$.baseRefName,sha:$.baseRefOid,exists:$.baseRef!=null},head:{owner:(c=(u=(o=$.headRepository)==null?void 0:o.owner.login)!=null?u:(s=$.headRepositoryOwner)==null?void 0:s.login)!=null?c:"<unknown>",repo:(g=(f=$.headRepository)==null?void 0:f.name)!=null?g:$.baseRepository.name,branch:$.headRefName,sha:$.headRefOid,exists:$.headRef!=null}}}:void 0}catch(T){ie.error(T);return}}async getPullRequestForBranch(e,t,n){var i,o,s,u,c;try{const{repo:{owner:f,name:g}}=await this.getMetadata(e),T=`query getPullRequestForBranch(
	$owner: String!
	$repo: String!
	$branch: String!
	$maxCount: Int!
	$states: [PullRequestState!]
) {
	repository(name: $repo, owner: $owner) {
		refs(query: $branch, refPrefix: "refs/heads/", first: 1) {
			nodes {
				associatedPullRequests(first: $maxCount, orderBy: {field: UPDATED_AT, direction: DESC}, states: $states) {
					nodes {
						author {
							login
							avatarUrl
							url
						}
						permalink
						number
						title
						state
						updatedAt
						closedAt
						mergedAt
						repository {
							isFork
							name
							owner {
								login
							}
						}
					}
				}
			}
		}
	}
}`,A=await this.graphql(T,{owner:f,repo:g,branch:t,maxCount:(i=n==null?void 0:n.maxCount)!=null?i:1,states:ul(n==null?void 0:n.include)}),$=(c=(u=(s=(o=A==null?void 0:A.repository)==null?void 0:o.refs.nodes[0])==null?void 0:s.associatedPullRequests)==null?void 0:u.nodes)==null?void 0:c.filter(le=>!le.repository.isFork||le.repository.owner.login===f);if($==null||$.length===0)return;$.length>1&&$.sort((le,xe)=>(le.repository.owner.login===f?-1:1)-(xe.repository.owner.login===f?-1:1)||(le.state==="OPEN"?-1:1)-(xe.state==="OPEN"?-1:1)||new Date(xe.updatedAt).getTime()-new Date(le.updatedAt).getTime());const[se]=$;return{author:{name:se.author.login,avatarUrl:se.author.avatarUrl,url:se.author.url},closedAt:se.closedAt?new Date(se.closedAt):void 0,mergedAt:se.mergedAt?new Date(se.mergedAt):void 0,id:se.number.toString(),repo:{name:se.repository.name,owner:se.repository.owner.login},state:fs(se.state),title:se.title,updatedAt:new Date(se.updatedAt),url:se.permalink}}catch(f){ie.error(f);return}}async getTags(e,t){var n,i,o;try{const{repo:{owner:s,name:u}}=await this.getMetadata(e),c=`query getTags(
	$owner: String!
	$repo: String!
	$tagQuery: String!
	$cursor: String
	$limit: Int = 100
) {
	repository(owner: $owner, name: $repo) {
		refs(query: $tagQuery, refPrefix: "refs/tags/", first: $limit, after: $cursor, orderBy: { field: TAG_COMMIT_DATE, direction: DESC }) {
			pageInfo {
				endCursor
				hasNextPage
			}
			nodes {
				name
				target {
					oid
				}
			}
		}
	}
}`,f=await this.graphql(c,{owner:s,repo:u,tagQuery:(n=t==null?void 0:t.query)!=null?n:"",cursor:t==null?void 0:t.cursor,limit:Math.min(100,(i=t==null?void 0:t.limit)!=null?i:100)});if(f===void 0)return{tags:[]};const g=(o=f.repository)==null?void 0:o.refs;if(g===void 0)return{tags:[]};const T=g.nodes.map(A=>({type:Ir.Tag,name:A.name,commit:A.target.oid,commitUrl:A.target.commitUrl}));return{paging:{cursor:g.pageInfo.endCursor,more:g.pageInfo.hasNextPage},tags:T}}catch(s){return{tags:[]}}}async loadWorkspaceContents(e){try{return await this.tarPit.getTar(e,!1,void 0),!0}catch(t){return ie.error(t),!1}}async getTarGz(e,t,n){const{repo:{owner:i,name:o}}=await this.getMetadata(e),s=await this.ensureAuthenticated(),u=Ne.get("indexing.verboseDownloadNotification");return l.window.withProgress({location:u?l.ProgressLocation.Notification:l.ProgressLocation.Window,cancellable:!0,title:l.l10n.t("Downloading repository index")},async(c,f)=>{try{if(Er){let A;try{const xe=await this.tarballProxyEndpoint;xe!==void 0&&(A=xe.replace("{owner}",i).replace("{repo}",o).replace("{sha}",t))}catch{}if(!A)throw new Error("Workbench embedder must set `_tarballProxyEndpoints` in workbench construction options to enable GitHub fulltext search.");const se=await(await Ba(A,{headers:{"x-proxy-authorization":`Bearer ${s.accessToken}`},credentials:"include"},f)).text();return await pa(se,{},n,f,c)}const g=`https://api.github.com/repos/${i}/${o}/tarball/${t}`;return await pa(g,{headers:{Authorization:`Bearer ${s.accessToken}`}},n,f,c)}catch(g){throw ie.error(g),g}})}async queryRepositoryObject(e,t,n,i){var o,s;try{const{repo:{owner:u,name:c},HEAD:{sha:f},path:g}=await this.providerService.getMetadata(e),T=`query ${t}(
	$owner: String!
	$repo: String!
	$expression: String
) {
	repository(owner: $owner, name: $repo) {
		object(expression: $expression) {
			${n}
		}
	}
}`,A=await this.graphql(T,{owner:u,repo:c,expression:i!=null?i:`${f}:${g}`});return(s=(o=A==null?void 0:A.repository)==null?void 0:o.object)!=null?s:void 0}catch(u){ie.error(u);return}}async repositoryObjectExists(e,t){return await this.queryRepositoryObject(e,"exists","			__typename",t)!==void 0}async searchPullRequestsQuery(e,t){var n;function i(o){function s(u,c){return{number:u.number,title:u.title,repoWithOwner:u.repository.nameWithOwner,reasons:c?[c]:[],url:u.url}}return a(s,"toResult"),an([...o.assigned.nodes.filter(u=>u!==null).map(u=>s(u,"assigned")),...o.reviewRequested.nodes.filter(u=>u!==null).map(u=>s(u,"review requested")),...o.mentioned.nodes.filter(u=>u!==null).map(u=>s(u,"mentioned")),...o.authored.nodes.filter(u=>u!==null).map(u=>s(u,"authored")),...Ca(o.viewer.repositories.nodes,u=>u.pullRequests.nodes.filter(c=>c!==null).map(c=>s(c)))],u=>u.url,(u,c)=>(c.reasons.length!==0&&u.reasons.push(...c.reasons),u))}a(i,"processQueryResults");try{const o=`query searchPullRequests(
	$authored: String!
	$assigned: String!
	$reviewRequested: String!
	$mentioned: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: STARGAZERS, direction: DESC }) {
			nodes {
				pullRequests(first: 100, states: OPEN, orderBy: { field: UPDATED_AT, direction: DESC }) {
					nodes {
						number
						title
						url
						repository {
							nameWithOwner
						}
					}
				}
			}
		}
	}
	authored: search(first: 100, query: $authored, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	assigned: search(first: 100, query: $assigned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	reviewRequested: search(first: 100, query: $reviewRequested, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
	mentioned: search(first: 100, query: $mentioned, type: ISSUE) {
		nodes {
			...on PullRequest {
				number
				title
				url
				repository {
					nameWithOwner
				}
			}
		}
	}
}`;e=e.trim(),(t==null?void 0:t.user)&&(e+=` user:${t.user}`);const s=await this.graphql(o,{authored:(e?`${e} is:pr is:open archived:false author:@me`:"is:pr is:open archived:false author:@me").trim(),assigned:(e?`${e} is:pr is:open archived:false assignee:@me`:"is:pr is:open archived:false assignee:@me").trim(),reviewRequested:(e?`${e} is:pr is:open archived:false review-requested:@me`:"is:pr is:open archived:false review-requested:@me").trim(),mentioned:(e?`${e} is:pr is:open archived:false mentions:@me`:"is:pr is:open archived:false mentions:@me").trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof O?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchRepositoriesQuery(e,t){var n;function i(o){var s,u,c;const f=an((t==null?void 0:t.user)?[...o.search.nodes,...o.viewer.repositories.nodes]:[...o.viewer.repositories.nodes,...o.search.nodes],T=>T==null?void 0:T.url),g=[];for(const T of f)T!==null&&g.push({repoWithOwner:T.nameWithOwner,owner:T.nameWithOwner.split("/")[0],repo:T.nameWithOwner.split("/")[1],description:(s=T.description)!=null?s:void 0,url:T.url,fork:(c=(u=T.parent)==null?void 0:u.nameWithOwner)!=null?c:void 0,stars:T.stargazerCount});return g}a(i,"processQueryResults");try{const o=`query searchRepositories(
	$search: String!
) {
	viewer {
		repositories(first: 100, orderBy: { field: UPDATED_AT, direction: DESC }) {
			nodes {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
	search(first: 100, query: $search, type: REPOSITORY) {
		nodes {
			...on Repository {
				nameWithOwner
				description
				url
				parent {
					nameWithOwner
				}
				stargazerCount
			}
		}
	}
}`;(t==null?void 0:t.user)&&(e+=` user:${t.user}`),(t==null?void 0:t.owner)&&(e+=` owner:${t.owner}`),(t==null?void 0:t.sort)&&(e+=` sort:${t.sort}`),e+=" fork:true";const s=await this.graphql(o,{search:e.trim()},!0);return s===void 0?{results:[],hasSAMLProtectedResults:!1}:{results:i(s),hasSAMLProtectedResults:!1}}catch(o){return o instanceof O?{results:i(o.data),hasSAMLProtectedResults:((n=o.errors)==null?void 0:n.find(s=>s.type==="FORBIDDEN"))!==void 0}:(this.handleRequestErrors(o),{results:[],hasSAMLProtectedResults:!1})}}async searchCodeQuery(e,t,n){var i,o,s;const{repo:{owner:u,name:c},HEAD:f,defaultBranch:g}=await this.getMetadata(t),T=[];((i=f.branch)==null?void 0:i.name)!==g.name&&T.push(l.l10n.t("Unable to search {0} without index, falling back to {1}.",(s=(o=f.branch)==null?void 0:o.name)!=null?s:f.detached.name,g.name));try{const $=await(await this.octokit({request:{headers:{authorization:`Bearer ${(await this.ensureAuthenticated()).accessToken}`,accept:"application/vnd.github.v3.text-match+json"}}})).request("GET /search/code",{q:`${e} repo:${u}/${c}`}),se=new l.Range(0,0,0,0),le=[];let xe=0,Ae;for(const Oe of $.data.items)for(const nt of Oe.text_matches){if(xe++,n.maxResults!==void 0&&xe>n.maxResults)return{matches:le,limitHit:!0};Ae={path:Oe.path,ranges:[],preview:nt.fragment,matches:[]};for(const $e of nt.matches){let ut=0,Ct=0,yt=0;for(let Ve=0;Ve<$e.indices[1];Ve++)Ve===$e.indices[0]&&(Ct=yt),nt.fragment[Ve]===`
`?(ut++,yt=0):yt++;Ae.ranges.push(se),Ae.matches.push(new l.Range(ut,Ct,ut,yt))}le.push(Ae)}return{matches:le,limitHit:!1,warnings:T}}catch(A){return{matches:[],limitHit:!0}}}async switchTo(e,t,n){const{name:i,repo:o,HEAD:{branch:s}}=await this.getMetadata(e);let u;if(!(t!==void 0&&(typeof t=="string"?(t==null?void 0:t.startsWith("refs/heads/"))?(u={type:ve.Tree,id:t.substr(11)},t=t.substr(11)):(t==null?void 0:t.startsWith("refs/tags/"))?u={type:ve.Tree,id:t.substr(10)}:u={type:ve.Tree,id:t}:u={...t,type:t.type===ve.Branch||t.type===ve.Tag?ve.Tree:t.type},(s==null?void 0:s.name)===u.id)))return{name:i,uri:this.providerService.createVirtualUri(e,{repo:o,ref:u}),location:(n==null?void 0:n.openInNewWindow)?We.NewWindow:We.CurrentWindow}}async sync(e,t,n){var i,o,s,u,c,f;const g=new Z(`GitHub.sync(${e.toString()}, resolution=${n.conflictResolution}, to=${n.to})`);let T;try{const{metadata:A}=await this.fetchCore(e,!0,{to:n.to});if(A.HEAD.detached){T=" \u2022 Skipped; detached HEAD";return}if(((o=(i=A==null?void 0:A.state)==null?void 0:i.behind)!=null?o:0)>0&&await t.hasChanges(e)){g.logStep("Fetching upstream changes");const $=[],se=(u=(s=A.state)==null?void 0:s.incomingChanges)!=null?u:[];if(se.length>0){const le=await t.getChanges(e);for(const xe of le){const Ae=this.providerService.getRelativeFilePath(e,xe.uri),Oe=se.find(nt=>this.providerService.getRelativeFilePath(e,nt.uri)===Ae);Oe!==void 0&&$.push({path:Ae,current:xe,incomingType:Oe.type})}}if($.length>0)switch(n.conflictResolution){case ue.KeepCurrent:g.logStep("Syncing (keep) upstream changes",{message:`: ${$.length} conflicts; \u2022`,suffix:" \u2022 Syncing (keep) upstream changes..."});for(const le of $)await t.keep(le.current.uri,{type:le.incomingType,providerUri:cs(A,A.HEAD.branch.sha,le.path)});break;case ue.DiscardCurrent:g.logStep("Syncing (discard) upstream changes",{message:`: ${$.length} conflicts; \u2022`,suffix:" \u2022 Syncing (discard) upstream changes..."});for(const le of $)await t.discard(le.current.uri);break;case ue.Merge:g.logStep("Syncing (merge) upstream changes",{message:`: ${$.length} conflicts; \u2022`,suffix:" \u2022 Syncing (merge) upstream changes..."});for(const le of $)await t.merge(le.current.uri,{type:le.incomingType,providerUri:cs(A,A.HEAD.branch.sha,le.path)},{providerUri:cs(A,A.HEAD.sha,le.path)});break;case ue.Abort:default:throw g.logStep("Syncing (abort) upstream changes",{message:`: ${$.length} conflicts; \u2022`,suffix:" \u2022 Syncing (abort) upstream changes..."}),await this.providerService.updateMetadata(e,A),Ke.SyncConflictsError()}}T=` \u2022 to=${(c=n.to)!=null?c:A.HEAD.branch.sha}`,await this.fastForwardTo(e,(f=n.to)!=null?f:A.HEAD.branch.sha,A)}finally{g.stop(T?{suffix:T}:void 0)}}async fastForwardTo(e,t,n){if(n.HEAD.detached)throw Ke.DetachedHEADError("Unable to fast-forward; no current branch");if(n.HEAD.sha===t&&n.state===void 0)return;const i=this.asFileTreeKey(e,n.HEAD.sha),o=this.fileTreeCache.get(i);this.fileTreeCache.delete(i),o==null||o.dispose(),ie.log(`Fast forward to ${t}; rootUri=${e.toString()}`),await this.providerService.updateMetadata(e,{...n,HEAD:{...n.HEAD,detached:void 0,sha:t},state:t!==n.HEAD.branch.sha?n.state:void 0,timestamp:Date.now()}),t!==n.HEAD.branch.sha&&n.state===void 0&&await this.fetchCore(e,!1,{to:t})}async getBranchTips(e,t){try{const{repo:{owner:n,name:i},HEAD:o}=await this.getMetadata(e);t===void 0&&(o.type===V.RemoteBranch?t=`${o.branch.remote.repo.owner}/${o.branch.remote.repo.name}:refs/heads/${o.branch.name}`:t=o.branch?`refs/heads/${o.branch.name}`:"");const s=Ys.exec(t);if(s==null?void 0:s.groups)return this.getRemoteBranchTips(n,i,t);const u=`query getBranchTips(
	$owner: String!
	$repo: String!
	$ref: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
		ref(qualifiedName: $ref) {
			target {
				oid
			}
		}
	}
}`,c=await this.graphql(u,{owner:n,repo:i,ref:t});if((c==null?void 0:c.repository)==null)return;const{defaultBranchRef:f,ref:g}=c.repository;return!f&&!g?void 0:{defaultBranch:f?{sha:f.target.oid}:void 0,branch:g?{sha:g.target.oid}:void 0}}catch(n){return}}async getRemoteBranchTips(e,t,n){try{const i=Ys.exec(n);if((i==null?void 0:i.groups)==null)return;let{remoteOwner:o,remoteRepo:s,remoteRef:u}=i.groups;s||(s=t);const c=`query getRemoteBranchTips(
	$owner: String!
	$repo: String!
	$remoteOwner: String!
	$remoteRepo: String!
	$remoteRef: String!
) {
	repository(owner: $owner, name: $repo) {
		defaultBranchRef {
			target {
				oid
			}
		}
	}
	remote: repository(owner: $remoteOwner, name: $remoteRepo) {
		ref(qualifiedName: $remoteRef) {
			target {
				oid
			}
		}
	}
}`,f=await this.graphql(c,{owner:e,repo:t,remoteOwner:o,remoteRepo:s,remoteRef:u});if((f==null?void 0:f.repository)==null||(f==null?void 0:f.remote)==null)return;const{repository:{defaultBranchRef:g},remote:{ref:T}}=f;return!g&&!T?void 0:{defaultBranch:g?{sha:g.target.oid}:void 0,branch:T?{sha:T.target.oid}:void 0}}catch(i){return}}async getRepositoryInfo(e,t,n,i){var o,s,u,c,f,g,T,A,$,se,le,xe,Ae,Oe,nt,$e;try{const ut=`number
title
state
maintainerCanModify
baseRef { name }
baseRefName
baseRefOid
baseRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
headRef { name }
headRefName
headRefOid
headRepository {
	name
	owner { login }
	defaultBranchRef {
		name
		target { oid }
	}
	viewerPermission
}
mergeCommit { oid }
`,Ct=`query getRepository(
	$owner: String!
	$repo: String!
	$ref: String = ""
	$has_pr: Boolean!
	$pr: Int = 0
) {
	viewer { login }
	repository(owner: $owner, name: $repo) {
		name
		owner { login }
		defaultBranchRef {
			name
			target { oid }
		}
		ref(qualifiedName: $ref) {
			name
			prefix
			target {
				... on Tag {
                    target {
                        ... on Commit {
                            oid
                        }
                    }
                }
				... on Tree {
					oid
				}
				... on Blob {
					oid
				}
                ... on Commit {
                    oid
                }
			}
		}
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
		url
		sshUrl
		viewerPermission
		pullRequest(number: $pr) @include(if: $has_pr) {
			${ut}
		}
	}
}`;let yt,Ve;try{const sr=await this.graphql(Ct,{owner:e,repo:t,ref:(i==null?void 0:i.ref)!=="HEAD"?i==null?void 0:i.ref:void 0,has_pr:Boolean(i==null?void 0:i.pr),pr:(o=i==null?void 0:i.pr)!=null?o:0});if((sr==null?void 0:sr.repository)==null)return;({repository:Ve,viewer:{login:yt}}=sr)}catch(sr){if((i==null?void 0:i.pr)&&sr instanceof O&&((u=(s=sr.errors)==null?void 0:s[0])==null?void 0:u.type)==="NOT_FOUND"&&((c=sr.errors[0])==null?void 0:c.message.includes("Could not resolve to a PullRequest"))){({repository:Ve,viewer:{login:yt}}=sr.data);try{const Or=await this.graphql(`query getPullRequestFromParentRepository(
	$owner: String!
	$repo: String!
	$pr: Int!
) {
	repository(owner: $owner, name: $repo) {
		parent {
			pullRequest(number: $pr) {
				${ut}
			}
		}
	}
}`,{owner:e,repo:t,pr:i==null?void 0:i.pr});if(((g=(f=Or==null?void 0:Or.repository)==null?void 0:f.parent)==null?void 0:g.pullRequest)==null)throw sr;Ve.pullRequest=Or.repository.parent.pullRequest}catch{throw sr}}else throw sr}const Gt=(T=Ve.defaultBranchRef)!=null?T:void 0;if((Gt==null?void 0:Gt.name)==null)return;const gt=Ve.pullRequest;let pr;if(Ve==null?void 0:Ve.ref)pr={prefix:Ve.ref.prefix,name:Ve.ref.name,sha:"oid"in Ve.ref.target?Ve.ref.target.oid:Ve.ref.target.target.oid};else if(gt==null?void 0:gt.headRefName){let sr=hs(gt.headRepository.viewerPermission);sr<ee.Write&&gt.maintainerCanModify&&hs(Ve.viewerPermission)>=ee.Write&&(sr=ee.WriteToPullRequest),pr=gt.headRepository.owner.login===e?{prefix:"refs/heads/",name:gt==null?void 0:gt.headRefName,sha:($=(A=gt.mergeCommit)==null?void 0:A.oid)!=null?$:gt==null?void 0:gt.headRefOid}:{prefix:"refs/remotes/",name:gt==null?void 0:gt.headRefName,sha:(le=(se=gt.mergeCommit)==null?void 0:se.oid)!=null?le:gt==null?void 0:gt.headRefOid,remote:{name:`${gt.headRepository.owner.login}/${gt.headRepository.name}`,accessLevel:sr,repo:{owner:gt.headRepository.owner.login,name:gt.headRepository.name}}}}else(gt==null?void 0:gt.baseRef)?(pr={prefix:"refs/heads/",name:gt==null?void 0:gt.baseRef.name,sha:(Ae=(xe=gt.mergeCommit)==null?void 0:xe.oid)!=null?Ae:gt==null?void 0:gt.baseRefOid},n&&(ie.log("Did not find a headRef for PR, falling back to baseRef",gt.baseRef),Zn.showPullRequestHeadNotFoundMessage(`${e}/${t}`,`#${i==null?void 0:i.pr}`))):(i==null?void 0:i.ref)==="HEAD"&&(pr={prefix:"refs/heads/",name:Gt.name,sha:Gt.target.oid});return{user:yt,repo:{owner:Ve.owner.login,name:Ve.name},accessLevel:hs(Ve.viewerPermission),ref:pr,defaultBranch:{name:Gt.name,sha:Gt.target.oid},cloneUrl:{http:Ve.url,ssh:Ve.sshUrl},pullRequest:gt?{id:gt.number.toString(),state:fs(gt.state),title:gt.title}:void 0}}catch(ut){if(ut instanceof O)switch((nt=(Oe=ut.errors)==null?void 0:Oe[0])==null?void 0:nt.type){case"NOT_FOUND":{if((i==null?void 0:i.pr)&&(($e=ut.errors[0])==null?void 0:$e.message.includes("Could not resolve to a PullRequest"))){const yt=new An(ut,`${e}/${t}`,`#${i==null?void 0:i.pr}`);throw n&&Zn.showPullRequestNotFoundMessage(yt.name,yt.id),yt}const Ct=new qa(ut,`${e}/${t}`);throw n?Ke.InvalidRepositoryError():Ct}case"FORBIDDEN":{const Ct=new Oi(ut,`${e}/${t}`);throw n&&Zn.showRepositoryForbiddenMessage(Ct.name,()=>this.reauthenticate()),Ct}}ie.error(ut,`Failed to get repository info for '${e}/${t}'`),!this.handleRequestErrors(ut)&&n&&Zn.showUnableToOpenRepositoryMessage(ut);return}}async getSubmodules(e){var t,n,i;const{repo:{owner:o,name:s}}=await this.getMetadata(e),u=`query getRepository(
	$owner: String!
	$repo: String!
) {
	repository(owner: $owner, name: $repo) {
		submodules(first: 100) {
			nodes {
				branch
				gitUrl
				path
                subprojectCommitOid 
			}
		}
	}
}`;try{const c=await this.graphql(u,{owner:o,repo:s});if((c==null?void 0:c.repository)==null)return[];const f=[];for(const g of(n=(t=c.repository.submodules)==null?void 0:t.nodes)!=null?n:[]){const T=(i=await this.createWorkspaceForRemoteUrl(g.gitUrl,void 0,!1))==null?void 0:i.uri;T&&f.push([g.path,T])}return f}catch(c){return[]}}async validateOwnerAndRepoAndSplitRefFromPath(e,t,n){try{const i=await this.request(`GET /repos/{owner}/{repo}/git/extract-ref/${n!=null?n:"HEAD"}`,{owner:e,repo:t});return[e,t]=i.data.name_with_owner.split("/"),n?{owner:e,repo:t,ref:{type:ve.Tree,id:i.data.ref},path:i.data.path}:{owner:e,repo:t}}catch(i){if(i instanceof Ti)switch(i.status){case 401:throw Ke.InvalidCredentialsError(i,()=>void this.reauthenticate());case 403:throw Zn.showRepositoryForbiddenMessage(`${e}/${t}`,()=>this.reauthenticate()),new Oi(i,`${e}/${t}`);case 404:throw i.message.includes("No ref found")&&n?Zn.showRepositoryNotFoundMessage(`${e}/${t}`,n,()=>{const o=this.getRemoteUri({repo:{owner:e,name:t}});l.commands.executeCommand("remoteHub.openRepository",o.toString())}):Zn.showRepositoryNotFoundMessage(`${e}/${t}`),new qa(i,`${e}/${t}`);case 409:throw Zn.showRepositoryEmptyMessage(`${e}/${t}`),new So(i,`${e}/${t}`)}return}}asFileTreeKey(e,t){return`${P(this.getProviderRootUri(e))}:${t}`}}a(Va,"GitHubRepositoryProvider"),Gs([Bt()],Va.prototype,"ensureAuthenticated",1),Gs([Bt()],Va.prototype,"octokit",1);function fs(r){switch(r){case"OPEN":return ye.Open;case"CLOSED":return ye.Closed;case"MERGED":return ye.Merged}}a(fs,"toPullRequestState");function ul(r){if(r!==void 0)return r.map(e=>{switch(e){case ye.Open:return"OPEN";case ye.Closed:return"CLOSED";case ye.Merged:return"MERGED"}})}a(ul,"fromPullRequestStates");var Ea;(function(r){r.ADMIN="ADMIN",r.MAINTAIN="MAINTAIN",r.WRITE="WRITE",r.TRIAGE="TRIAGE",r.READ="READ",r.NONE="NONE"})(Ea||(Ea={}));function hs(r){switch(r){case Ea.ADMIN:return ee.Admin;case Ea.MAINTAIN:return ee.Maintain;case Ea.WRITE:return ee.Write;case Ea.TRIAGE:return ee.Triage;case Ea.READ:return ee.Read;default:return ee.None}}a(hs,"permissionToAccessLevel");function ll(r){switch(r&&(r=r.toLocaleLowerCase()),r){case"blob":return l.FileType.File;case"tree":case"commit":return l.FileType.Directory;default:return l.FileType.Unknown}}a(ll,"typenameToFileType");var Ji;(function(r){r.repositoryRegex=/^(?:https?:\/\/)?(?<subdomain>[^/]+)\.ghe\.(?:com)\/(?<owner>[^/]+)\/(?<repo>[^/?#]+)(?:|\.git|\/tree\/(?<tree>[^?#]+)|\/blob\/(?<blob>[^?#]+)|\/commit\/(?<commit>[0-9a-f]{40})|\/pull\/(?<pull>[0-9]+))?(?<extra>[^?#]*)(?:\?(?<query>[^#]*))?(?:#(?<fragment>.*))?$/i,r.sshRepositoryRegex=/^[^@]+@(?<subdomain>\.ghe\.com):(?<owner>[^/]+)\/(?<repo>[^/]+?)(\.git)?$/i})(Ji||(Ji={}));const cl=Object.freeze({id:"github-enterprise",name:"GitHub Enterprise"}),ds=1;function Qa(r){var e;const{scheme:t,metadata:n}=B.decodeAuthority(r,u=>{var c,f;if(u.v!==void 0)return u;if(typeof u.pr=="string")return{v:ds,ref:{type:ve.PullRequest,id:u.pr},idx:u.idx,subdomain:(c=u.subdomain)!=null?c:""};if(typeof u.ref=="string")return{v:ds,ref:{type:ve.Tree,id:u.ref},idx:u.idx,subdomain:(f=u.subdomain)!=null?f:""}}),[,i,o,...s]=ba.posix.normalize(r.path.startsWith("/")?r.path:`/${r.path}`).split("/");return{scheme:t,provider:cl,name:`${i}/${o}`,repo:{owner:i,name:o,subdomain:(e=n==null?void 0:n.subdomain)!=null?e:""},path:s.join("/")||"",ref:n==null?void 0:n.ref}}a(Qa,"getGitHubEnterpriseMetadata");class Qs extends Va{get scheme(){return"github-enterprise"}async octokit(e){const t=this._proximaEndpoint();if(!t)throw new Error;return super.octokit({...e,baseUrl:`https://api.${t}`})}async ensureAuthenticated(e){return super.ensureAuthenticated(e,"github-enterprise")}_proximaEndpoint(){const e=l.workspace.getConfiguration("github-enterprise").get("uri","");if(!!e)try{const{authority:t}=l.Uri.parse(e);if(t.endsWith("ghe.com"))return t}catch{}}getRemoteWorkspaceSourceProviders(){const e=this._proximaEndpoint();return e?[{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Repository from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Repository from {0}",e),placeholder:l.l10n.t("Choose a repository, or type an organization or repo name to search"),provideSources:async(t,n,i,o)=>{i=i!=null?i:"";let s;const u=i==null?void 0:i.indexOf("/");u!==-1&&(s=i.substring(0,u),i=i.substr(u+1));const{results:c,hasSAMLProtectedResults:f}=await this.searchRepositoriesQuery(i,{...o,user:s}),g=[];if(f){const T={label:`$(lock) ${l.l10n.t("Single sign-on to see repositories in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};g.push(T)}return g.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("repositories")},...c.map(T=>({providerId:"github",name:T.repoWithOwner,icon:"$(repo)",description:`${T.fork?`$(repo-forked) ${T.fork}`:""}${T.stars>0?`${T.fork?" \u2022 ":""}$(star-full) ${T.stars}`:""}`,detail:T.description,url:T.url}))),g}},{name:"GitHub",icon:"$(github)",label:l.l10n.t("Open Pull Request from {0}","GitHub"),qualifiedLabel:l.l10n.t("Open Pull Request from {0}",e),placeholder:l.l10n.t("Choose a pull request"),provideSources:async(t,n,i,o)=>{i=i!=null?i:"";let s;const u=i==null?void 0:i.indexOf("/");u!==-1&&(s=i.substring(0,u),i=i.substr(u+1));const{results:c,hasSAMLProtectedResults:f}=await this.searchPullRequestsQuery(i,{user:s}),g=[];if(f){const T={label:`$(lock) ${l.l10n.t("Single sign-on to see pull requests in organizations protected by SAML enforcement")}`,showMore:async()=>this.reauthenticate()};g.push(T)}return g.push({kind:l.QuickPickItemKind.Separator,label:l.l10n.t("pull requests")},...c.map(T=>({providerId:"github",name:T.title,icon:"$(git-pull-request)",description:T.reasons.length!==0?T.reasons.sort().join(", "):void 0,detail:`${T.repoWithOwner} #${T.number}`,url:T.url}))),g}}]:[]}canOpenRemoteUrl(e){var t;const n=(t=Ji.repositoryRegex.exec(e))!=null?t:Ji.sshRepositoryRegex.exec(e);if((n==null?void 0:n.groups)===void 0)return;const{blob:i,commit:o,pull:s,tree:u}=n.groups;return s?J.PullRequest:o?J.Commit:u?J.Branch:i?J.File:J.Repository}getHttpsCloneUri(e){let t,n,i;const o=e.toString(),s=Ji.repositoryRegex.exec(o);(s==null?void 0:s.groups)&&({owner:t,repo:n,subdomain:i}=s.groups);const u=Ji.sshRepositoryRegex.exec(o);if((u==null?void 0:u.groups)&&({owner:t,repo:n,subdomain:i}=u.groups),t&&n&&i)return this.getRemoteUri({repo:{owner:t,name:n,subdomain:i}})}async createWorkspaceForRemoteUrl(e,t=We.CurrentWindow,n=!0){var i;const o=(i=Ji.repositoryRegex.exec(e))!=null?i:Ji.sshRepositoryRegex.exec(e);if((o==null?void 0:o.groups)===void 0)return;let{subdomain:s,owner:u,repo:c,blob:f,commit:g,pull:T,tree:A,fragment:$}=o.groups;c=c.endsWith(".git")?c.slice(0,c.length-4):c;let se,le;if(n){const Oe=await this.validateOwnerAndRepoAndSplitRefFromPath(u,c,A!=null?A:f);if(Oe===void 0)return;({owner:u,repo:c,ref:le,path:se}=Oe)}if(A||f){if(se&&$&&f){const Oe=/L(?<start>\d+)(?:-L(?<end>\d+))?/.exec($);if(Oe==null?void 0:Oe.groups){const{start:nt,end:$e}=Oe.groups;se+=`:${nt}${$e!==void 0?`-${$e}`:""}`}}}else g?le={type:ve.Commit,id:g}:T&&(le={type:ve.PullRequest,id:T});const xe=this.providerService.createVirtualUri("github-enterprise",{repo:{subdomain:s,owner:u,name:c},ref:le}),{name:Ae}=Qa(B.getVirtualUri(this.getProviderRootUri(xe)));return{name:Ae,uri:xe,location:t,filesToOpen:se?[se]:void 0}}createVirtualUri(e,{repo:t,ref:n},i){const o=n!==void 0||t.subdomain!==void 0?{v:ds,subdomain:t.subdomain}:void 0;return o&&n&&(o.ref={...n,type:n.type===ve.Branch||n.type===ve.Tag?ve.Tree:n.type}),e.with({authority:B.encodeAuthority("github-enterprise",o),path:`/${t.owner}/${t.name}${(i==null?void 0:i.startsWith("/"))?i:i?`/${i}`:""}`})}getRemoteUri(e){const t=`https://${e.repo.subdomain}.ghe.com/${e.repo.owner}/${e.repo.name}`,n=e.path?"blob":"tree",i=e.path?`/${e.path}`:"",o=e.item?Ks(e.item):"",s=o?`#${o}`:"";return e.pullRequest?l.Uri.parse(`${t}/pull/${e.pullRequest.id}`):e.branch?l.Uri.parse(`${t}/${n}/${e.branch}${i}${s}`):e.tag?l.Uri.parse(`${t}/${n}/${e.tag}${i}${s}`):e.sha?l.Uri.parse(`${t}/${n}/${e.sha}${i}${s}`):l.Uri.parse(t)}getRelativeFilePath(e,t){let{path:n}=Qa(e);const{path:i}=Qa(L(e,t));return n.length!==0&&i!==n&&i.startsWith(n)?(n=n.endsWith("/")?n:`${n}/`,i.slice(n.length)):i}getVirtualUriMetadata(e){const{provider:t,name:n,repo:i,ref:o}=Qa(e);return{provider:t,name:n,repo:i,ref:o}}async getTarGz(e,t,n){const{repo:{owner:i,name:o,subdomain:s}}=await this.getMetadata(e),u=await this.ensureAuthenticated(),c=Ne.get("indexing.verboseDownloadNotification");return l.window.withProgress({location:c?l.ProgressLocation.Notification:l.ProgressLocation.Window,cancellable:!0,title:l.l10n.t("Downloading repository index")},async(f,g)=>{try{const T=`https://api.${s}.ghe.com/repos/${i}/${o}/tarball/${t}`;return await pa(T,{headers:{Authorization:`Bearer ${u.accessToken}`}},n,g,f)}catch(T){throw ie.error(T),T}})}async createMetadata(e,t){var n,i,o,s,u,c;const f=new Z(`GitHub.createMetadata(${e.toString()}, ${t})`);let g;try{let{provider:T,name:A,repo:{owner:$,name:se,subdomain:le},ref:xe}=Qa(e);(!xe||xe.type===ve.Commit&&/HEAD/i.test(xe.id))&&(xe={type:ve.Commit,id:"HEAD"});const Ae=this.providerService.isInWorkspace(e),Oe=await this.getRepositoryInfo($,se,Ae,xe.type===ve.PullRequest?{pr:Number(xe.id)}:{ref:xe.id});if(Oe===void 0)throw g=" \u2022 Aborted; Unable to get repository info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository info`);let nt;if(t)nt=t;else if(xe.type===ve.Commit&&xe.id!=="HEAD"||xe.type===ve.Tree&&Oe.ref===void 0)nt=xe.id;else if(nt=(i=(n=Oe.ref)==null?void 0:n.sha)!=null?i:Oe.defaultBranch.sha,nt===void 0)throw g=" \u2022 Aborted; Unable to get repository revision",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get repository revision`);let $e;if(((o=Oe.ref)==null?void 0:o.prefix)==="refs/heads/")$e={type:V.Branch,name:Oe.ref.name,sha:nt,branch:{name:Oe.ref.name,sha:Oe.ref.sha}};else if(((s=Oe.ref)==null?void 0:s.prefix)==="refs/remotes/"){if(!Oe.ref.remote)throw g=" \u2022 Aborted; Unable to get remote info",new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get remote info`);const Ve=Ji.repositoryRegex.exec(Oe.cloneUrl.http);(Ve==null?void 0:Ve.groups)&&(le=Ve.groups.subdomain),$e={type:V.RemoteBranch,name:`${Oe.ref.remote.repo.owner}${Oe.ref.remote.repo.name!==se?`/${Oe.ref.remote.repo.name}`:""}:${Oe.ref.name}`,sha:nt,branch:{name:Oe.ref.name,sha:Oe.ref.sha,remote:{...Oe.ref.remote,repo:{...Oe.ref.remote.repo,subdomain:le}}}}}else if(((u=Oe.ref)==null?void 0:u.prefix)==="refs/tags/")$e={type:V.Tag,name:Oe.ref.name,sha:Oe.ref.sha,detached:{type:V.Tag,name:Oe.ref.name}};else if(D(nt))$e={type:V.Commit,name:b(nt),sha:nt,detached:{type:V.Commit,name:b(nt)}};else throw g=" \u2022 Aborted; Unable to get HEAD info",Zn.showRepositoryNotFoundMessage(`${$}/${se}`,xe.id,()=>{const Ve=this.getRemoteUri({repo:{owner:$,name:se,subdomain:le}});l.commands.executeCommand("remoteHub.openRepository",Ve.toString())}),new Error(`Cannot get metadata for Uri(${e.toString()}); Unable to get HEAD info`);await this.validateMetadataRevision($,se,$e);let ut,Ct;if(Ne.get("experimental.prefetch")&&Ae&&(ut=nt,f.log({suffix:` \u2022 Prefetching tree for ${ut}...`}),this.getFileTree(e,void 0,{recursive:!0,prefetched:{metadata:new Promise(Ve=>Ct=Ve),repo:{owner:$,name:se,subdomain:le},HEAD:{sha:ut},timestamp:Date.now()}})),ut!==void 0&&ut!==$e.sha){const Ve=this.asFileTreeKey(e,ut),Gt=this.fileTreeCache.get(Ve);Gt&&!D(ut)&&$e.sha===((c=$e.branch)==null?void 0:c.sha)?(f.log({suffix:` \u2022 Updating prefetched tree for ${ut}, since HEAD was resolved; HEAD=${$e.sha}`}),this.fileTreeCache.set(this.asFileTreeKey(e,$e.sha),Gt),this.fileTreeCache.delete(Ve)):(f.log({suffix:` \u2022 Removing prefetched tree for ${ut}, since the HEAD changed; HEAD=${$e.sha}`}),this.fileTreeCache.delete(Ve),Gt==null||Gt.dispose())}const yt={version:jn.schemaVersion,timestamp:Date.now(),provider:T,name:A,repo:{...Oe.repo,subdomain:le},cloneUrl:Oe.cloneUrl,accessLevel:Oe.accessLevel,HEAD:$e,defaultBranch:Oe.defaultBranch,pullRequest:Oe.pullRequest};return g=` \u2022 HEAD=${$e.sha}`,Ct==null||Ct(yt),yt}finally{f.stop(g?{suffix:g}:void 0)}}}a(Qs,"GitHubEnterpriseRepositoryProvider");var gs=__webpack_require__(7360),Js,Xn;(function(r){r.None=0,r.First=1,r.AsOld=r.First,r.Last=2,r.AsNew=r.Last})(Xn||(Xn={}));class Zs{constructor(){this[Js]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var e;return(e=this._head)==null?void 0:e.value}get last(){var e;return(e=this._tail)==null?void 0:e.value}has(e){return this._map.has(e)}get(e,t=Xn.None){const n=this._map.get(e);if(!!n)return t!==Xn.None&&this.touch(n,t),n.value}set(e,t,n=Xn.None){let i=this._map.get(e);if(i)i.value=t,n!==Xn.None&&this.touch(i,n);else{switch(i={key:e,value:t,next:void 0,previous:void 0},n){case Xn.None:this.addItemLast(i);break;case Xn.First:this.addItemFirst(i);break;case Xn.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return Boolean(this.remove(e))}remove(e){const t=this._map.get(e);if(!!t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let i=this._head;for(;i;){if(t?e.bind(t)(i.value,i.key,this):e(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.key,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:t.value,done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const i={value:[t.key,t.value],done:!1};return t=t.next,i}return{value:void 0,done:!0}}};return n}[(Js=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==Xn.First&&t!==Xn.Last)){if(t===Xn.First){if(e===this._head)return;const n=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===Xn.Last){if(e===this._tail)return;const n=e.next,i=e.previous;e===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((t,n)=>{e.push([n,t])}),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}a(Zs,"LinkedMap");class Xs extends Zs{constructor(e,t=1){super();this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=Xn.AsNew){return super.get(e,t)}peek(e){return super.get(e,Xn.None)}set(e,t){return super.set(e,t,Xn.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}a(Xs,"LRUCache");function ps(r,e,t){if(!(e==null?void 0:e.length)&&!(t==null?void 0:t.length))return new Set(r);let n;if(e==null?void 0:e.length){const i=new Set([...e,...e.map(s=>`${s}/**`)]),o=_a()(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}if(t==null?void 0:t.length){const i=new Set([...t,...t.map(o=>`${o}/**`)]);if(n===void 0){const o=_a().not(r,[...i],{dot:!0,nocase:!0});n=new Set(o)}else _a()(r,[...i],{dot:!0,nocase:!0}).forEach(n.delete,n)}return n}a(ps,"globFilter");function fl(r,e={}){if(!r)return au;if(typeof r=="string"||xl(r)){const t=ms(r,e);if(t===$i)return au;const n=a(function(i,o){return!!t(i,o)},"resultPattern");return t.allBasenames&&(n.allBasenames=t.allBasenames),t.allPaths&&(n.allPaths=t.allPaths),n}return Tl(r,e)}a(fl,"globs_parse");function hl(r,e,t=(n,i)=>n===i){if(r===e)return!0;if(!r||!e||r.length!==e.length)return!1;for(let n=0,i=r.length;n<i;n++)if(!t(r[n],e[n]))return!1;return!0}a(hl,"equals");function vs(r){return!!r&&typeof r.then=="function"}a(vs,"isThenable");function nc(){return Object.create(null)}a(nc,"getEmptyExpression");const Co="**",eu="/",To="[/\\\\]",Do="[^/\\\\]",ic=/\//g;function tu(r,e){switch(r){case 0:return"";case 1:return`${Do}*?`;default:return`(?:${To}|${Do}+${To}${e?`|${To}${Do}+`:""})*?`}}a(tu,"starsToRegExp");function ru(r,e){if(!r)return[];const t=[];let n=!1,i=!1,o="";for(const s of r){switch(s){case e:if(!n&&!i){t.push(o),o="";continue}break;case"{":n=!0;break;case"}":n=!1;break;case"[":i=!0;break;case"]":i=!1;break}o+=s}return o&&t.push(o),t}a(ru,"splitGlobAware");function nu(r){if(!r)return"";let e="";const t=ru(r,eu);if(t.every(n=>n===Co))e=".*";else{let n=!1;t.forEach((i,o)=>{if(i===Co){if(n)return;e+=tu(2,o===t.length-1)}else{let s=!1,u="",c=!1,f="";for(const g of i){if(g!=="}"&&s){u+=g;continue}if(c&&(g!=="]"||!f)){let T;g==="-"?T=g:(g==="^"||g==="!")&&!f?T="^":g===eu?T="":T=escapeRegExpCharacters(g),f+=T;continue}switch(g){case"{":s=!0;continue;case"[":c=!0;continue;case"}":{e+=`(?:${ru(u,",").map($=>nu($)).join("|")})`,s=!1,u="";break}case"]":{e+="["+f+"]",c=!1,f="";break}case"?":e+=Do;continue;case"*":e+=tu(1);continue;default:e+=escapeRegExpCharacters(g)}}o<t.length-1&&(t[o+1]!==Co||o+2<t.length)&&(e+=To)}n=i===Co})}return e}a(nu,"parseRegExp");const dl=/^\*\*\/\*\.[\w\.-]+$/,gl=/^\*\*\/([\w\.-]+)\/?$/,pl=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,vl=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,ml=/^\*\*((\/[\w\.-]+)+)\/?$/,yl=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,iu=new Xs(1e4),au=a(function(){return!1},"FALSE"),$i=a(function(){return null},"NULL");function ms(r,e){if(!r)return $i;let t;typeof r!="string"?t=r.pattern:t=r,t=t.trim();const n=`${t}_${!!e.trimForExclusions}`;let i=iu.get(n);if(i)return ou(i,r);let o;return dl.test(t)?i=wl(t.substr(4),t):(o=gl.exec(ys(t,e)))?i=El(o[1],t):(e.trimForExclusions?vl:pl).test(t)?i=Sl(t,e):(o=ml.exec(ys(t,e)))?i=su(o[1].substr(1),t,!0):(o=yl.exec(ys(t,e)))?i=su(o[1],t,!1):i=bl(t),iu.set(n,i),ou(i,r)}a(ms,"parsePattern");function _l(r,e){if(!r||!e)return r;const t=e.length;if(t===0||r.length===0)return r;let n=0;for(;r.indexOf(e,n)===n;)n=n+t;return r.substring(n)}a(_l,"ltrim");function ou(r,e){if(typeof e=="string")return r;const t=a(function(n,i){return isDescendent(n,e.base)?r(_l(n.substr(e.base.length),"/"),i):null},"wrappedPattern");return t.allBasenames=r.allBasenames,t.allPaths=r.allPaths,t.basenames=r.basenames,t.patterns=r.patterns,t}a(ou,"wrapRelativePattern");function ys(r,e){return e.trimForExclusions&&r.endsWith("/**")?r.substr(0,r.length-2):r}a(ys,"trimForExclusions");function wl(r,e){return function(t,n){return typeof t=="string"&&t.endsWith(r)?e:null}}a(wl,"trivia1");function El(r,e){const t=`/${r}`,n=`\\${r}`,i=a(function(s,u){return typeof s!="string"?null:u?u===r?e:null:s===r||s.endsWith(t)||s.endsWith(n)?e:null},"parsedPattern"),o=[r];return i.basenames=o,i.patterns=[e],i.allBasenames=o,i}a(El,"trivia2");function Sl(r,e){const t=uu(r.slice(1,-1).split(",").map(u=>ms(u,e)).filter(u=>u!==$i),r),n=t.length;if(!n)return $i;if(n===1)return t[0];const i=a(function(u,c){for(let f=0,g=t.length;f<g;f++)if(t[f](u,c))return r;return null},"parsedPattern"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(Sl,"trivia3");function su(r,e,t){const n="/"+r;let i;return t?i=a(function(o,s){return typeof o=="string"&&o.endsWith(n)?e:null},"parsedPattern"):i=a(function(o,s){return null},"parsedPattern"),i.allPaths=[(t?"*/":"./")+r],i}a(su,"trivia4and5");function bl(r){try{const e=new RegExp(`^${nu(r)}$`);return function(t){return e.lastIndex=0,typeof t=="string"&&e.test(t)?r:null}}catch(e){return $i}}a(bl,"toRegExp");function ac(r,e,t){return!r||typeof e!="string"?!1:fl(r)(e,void 0,t)}a(ac,"match");function xl(r){const e=r;return e?typeof e.base=="string"&&typeof e.pattern=="string":!1}a(xl,"isRelativePattern");function oc(r){return r.allBasenames||[]}a(oc,"getBasenameTerms");function sc(r){return r.allPaths||[]}a(sc,"getPathTerms");function Cl(r){let e=-1,t=0,n=-1,i=!0,o=0;for(let s=r.length-1;s>=0;--s){const u=r.charCodeAt(s);if(u===47){if(!i){t=s+1;break}continue}n===-1&&(i=!1,n=s+1),u===46?e===-1?e=s:o!==1&&(o=1):e!==-1&&(o=-1)}return e===-1||n===-1||o===0||o===1&&e===n-1&&e===t+1?"":r.slice(e,n)}a(Cl,"extname");function Tl(r,e){const t=uu(Object.getOwnPropertyNames(r).map(u=>Dl(u,r[u],e)).filter(u=>u!==$i)),n=t.length;if(!n)return $i;if(!t.some(u=>!!u.requiresSiblings)){if(n===1)return t[0];const u=a(function(g,T){let A;for(let $=0,se=t.length;$<se;$++){const le=t[$](g,T);if(typeof le=="string")return le;vs(le)&&(A||(A=[]),A.push(le))}return A?(async()=>{for(const $ of A){const se=await $;if(typeof se=="string")return se}return null})():null},"resultExpression2"),c=t.find(g=>!!g.allBasenames);c&&(u.allBasenames=c.allBasenames);const f=t.reduce((g,T)=>T.allPaths?g.concat(T.allPaths):g,[]);return f.length&&(u.allPaths=f),u}const i=a(function(u,c,f){let g,T;for(let A=0,$=t.length;A<$;A++){const se=t[A];se.requiresSiblings&&f&&(c||(c=basename(u)),g||(g=c.substr(0,c.length-Cl(u).length)));const le=se(u,c,g,f);if(typeof le=="string")return le;vs(le)&&(T||(T=[]),T.push(le))}return T?(async()=>{for(const A of T){const $=await A;if(typeof $=="string")return $}return null})():null},"resultExpression"),o=t.find(u=>!!u.allBasenames);o&&(i.allBasenames=o.allBasenames);const s=t.reduce((u,c)=>c.allPaths?u.concat(c.allPaths):u,[]);return s.length&&(i.allPaths=s),i}a(Tl,"parsedExpression");function Dl(r,e,t){if(e===!1)return $i;const n=ms(r,t);if(n===$i)return $i;if(typeof e=="boolean")return n;if(e){const i=e.when;if(typeof i=="string"){const o=a((s,u,c,f)=>{if(!f||!n(s,u))return null;const g=i.replace("$(basename)",()=>c),T=f(g);return vs(T)?T.then(A=>A?r:null):T?r:null},"result");return o.requiresSiblings=!0,o}}return n}a(Dl,"parseExpressionPattern");function uu(r,e){const t=r.filter(u=>!!u.basenames);if(t.length<2)return r;const n=t.reduce((u,c)=>{const f=c.basenames;return f?u.concat(f):u},[]);let i;if(e){i=[];for(let u=0,c=n.length;u<c;u++)i.push(e)}else i=t.reduce((u,c)=>{const f=c.patterns;return f?u.concat(f):u},[]);const o=a(function(u,c){if(typeof u!="string")return null;if(!c){let g;for(g=u.length;g>0;g--){const T=u.charCodeAt(g-1);if(T===47||T===92)break}c=u.substr(g)}const f=n.indexOf(c);return f!==-1?i[f]:null},"aggregate");o.basenames=n,o.patterns=i,o.allBasenames=n;const s=r.filter(u=>!u.basenames);return s.push(o),s}a(uu,"aggregateBasenameMatches");function uc(r,e){return hl(r,e,(t,n)=>typeof t=="string"&&typeof n=="string"?t===n:typeof t!="string"&&typeof n!="string"?t.base===n.base&&t.pattern===n.pattern:!1)}a(uc,"patternsEquals");const Al="";function Rl(...r){if(r.length===1){const e=r[0];return e===void 0?Al:typeof e=="string"?e:typeof e=="number"||typeof e=="boolean"||e instanceof Error?String(e):e instanceof l.Uri?e.toString():JSON.stringify(e)}return JSON.stringify(r)}a(Rl,"serialize_defaultResolver");function _s(r){return(e,t,n)=>{let i;if(typeof n.value=="function"?i=n.value:typeof n.get=="function"&&(i=n.get),i===void 0)throw new Error("Not supported");const o=`$serialize$${t}`;n.value=function(...s){const u=s.length===0?o:`${o}$${(r!=null?r:Rl)(...s)}`;Object.prototype.hasOwnProperty.call(this,u)||Object.defineProperty(this,u,{configurable:!1,enumerable:!1,writable:!0,value:void 0});let c=this[u];const f=a(()=>i.apply(this,s),"run");return c===void 0?c=f():c=c.then(f,f),this[u]=c,c}}}a(_s,"serialize");function Il(r,e,t={}){if(!r)throw new Error("Cannot create regex from empty string");e||(r=ii(r)),t.wholeWord&&(/\B/.test(r.charAt(0))||(r=`\\b${r}`),/\B/.test(r.charAt(r.length-1))||(r=`${r}\\b`));let n="gmu";return t.matchCase||(n+="i"),new RegExp(r,n)}a(Il,"createRegExp");let lu,cu,ws;const Fl=a((r,e,t,n)=>{const i=`${e.join("--")};;;;${t.join("--")}`,o=r.map(u=>u.path).join("::");if(lu===o&&i==cu&&ws)return ws;const s=ps((n?r.filter(u=>u.size<n):r).map(u=>u.path),e,t);return lu=o,cu=i,ws=s,s},"generateIncludeSet"),Pl=a((r,e,t,n)=>{var i;const o=[];let s;if(typeof r=="string")s=r;else{const g=r;if(g[0]==255&&g[1]==254)s=new TextDecoder("utf-16le").decode(g);else if(g[0]==254&&g[1]==255)s=new TextDecoder("utf-16be").decode(g);else if(s=new TextDecoder("utf8").decode(g),s.slice(0,1e3).includes("\uFFFD")&&g.includes(0))return[]}const u=[];let c=null,f=n.remainingResultQuota;for(;(f===void 0||f>=0)&&(c=t.exec(s));)u.push({matchStartIndex:c.index,matchedText:c[0]}),f!==void 0&&f--;if(u.length){const g=new Set,T=new Set,A=[],$=a(Oe=>s.slice(A[Oe].start,A[Oe].end),"readLine");let se=0,le=null;const xe=/\r?\n/g;for(;le=xe.exec(s);)A.push({start:se,end:le.index}),se=le.index+le[0].length;se<s.length&&A.push({start:se,end:s.length});let Ae=0;for(const{matchStartIndex:Oe,matchedText:nt}of u){if(f!==void 0&&f<0)break;for(;Boolean(A[Ae+1])&&Oe>A[Ae].end;)Ae++;let $e=Ae;for(;Boolean(A[$e+1])&&Oe+nt.length>A[$e].end;)$e++;if(n.beforeContext)for(let gt=Math.max(0,Ae-n.beforeContext);gt<Ae;gt++)g.add(gt);let ut="",Ct=0;for(let gt=Ae;gt<=$e;gt++){let pr=$(gt);((i=n.previewOptions)==null?void 0:i.charsPerLine)&&pr.length>n.previewOptions.charsPerLine&&(Ct=Math.max(Oe-A[Ae].start-20,0),pr=pr.substr(Ct,n.previewOptions.charsPerLine)),ut+=`${pr}
`,T.add(gt)}const yt=new l.Range(Ae,Oe-A[Ae].start,$e,Oe+nt.length-A[$e].start),Ve=new l.Range(0,Oe-A[Ae].start-Ct,$e-Ae,Oe+nt.length-A[$e].start-($e===Ae?Ct:0)),Gt={uri:l.Uri.file(e),ranges:yt,preview:{text:ut,matches:Ve}};if(o.push(Gt),n.afterContext)for(let gt=$e+1;gt<=Math.min($e+n.afterContext,A.length-1);gt++)g.add(gt)}for(const Oe of g)T.has(Oe)||o.push({uri:l.Uri.file(e),text:$(Oe),lineNumber:Oe+1})}return o},"getFileResults");var fu={},Ol=a(function(r,e,t,n,i){var o=new Worker(fu[e]||(fu[e]=URL.createObjectURL(new Blob([r+';addEventListener("error",function(e){e=e.error;postMessage({$e$:[e.message,e.code,e.stack]})})'],{type:"text/javascript"}))));return o.onmessage=function(s){var u=s.data,c=u.$e$;if(c){var f=new Error(c[0]);f.code=c[1],f.stack=c[2],i(f,null)}else i(null,u)},o.postMessage(t,n),o},"wk"),Xr=Uint8Array,ei=Uint16Array,Fa=Uint32Array,Pa=new Xr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Oa=new Xr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ja=new Xr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hu=a(function(r,e){for(var t=new ei(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new Fa(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)i[o]=o-t[n]<<5|n;return[t,i]},"freb"),du=hu(Pa,2),Es=du[0],Ao=du[1];Es[28]=258,Ao[258]=28;for(var gu=hu(Oa,0),pu=gu[0],Ss=gu[1],Za=new ei(32768),gn=0;gn<32768;++gn){var ua=(gn&43690)>>>1|(gn&21845)<<1;ua=(ua&52428)>>>2|(ua&13107)<<2,ua=(ua&61680)>>>4|(ua&3855)<<4,Za[gn]=((ua&65280)>>>8|(ua&255)<<8)>>>1}for(var Hi=a(function(r,e,t){for(var n=r.length,i=0,o=new ei(e);i<n;++i)r[i]&&++o[r[i]-1];var s=new ei(e);for(i=0;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var u;if(t){u=new ei(1<<e);var c=15-e;for(i=0;i<n;++i)if(r[i])for(var f=i<<4|r[i],g=e-r[i],T=s[r[i]-1]++<<g,A=T|(1<<g)-1;T<=A;++T)u[Za[T]>>>c]=f}else for(u=new ei(n),i=0;i<n;++i)r[i]&&(u[i]=Za[s[r[i]-1]++]>>>15-r[i]);return u},"hMap"),la=new Xr(288),gn=0;gn<144;++gn)la[gn]=8;for(var gn=144;gn<256;++gn)la[gn]=9;for(var gn=256;gn<280;++gn)la[gn]=7;for(var gn=280;gn<288;++gn)la[gn]=8;for(var Xa=new Xr(32),gn=0;gn<32;++gn)Xa[gn]=5;var vu=null,mu=Hi(la,9,1),yu=null,_u=Hi(Xa,5,1),Ro=a(function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},"browser_max"),Ai=a(function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},"bits"),Io=a(function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},"bits16"),eo=a(function(r){return(r+7)/8|0},"shft"),ca=a(function(r,e,t){(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var n=new(r.BYTES_PER_ELEMENT==2?ei:r.BYTES_PER_ELEMENT==4?Fa:Xr)(t-e);return n.set(r.subarray(e,t)),n},"slc"),lc={UnexpectedEOF:0,InvalidBlockType:1,InvalidLengthLiteral:2,InvalidDistance:3,StreamFinished:4,NoStreamHandler:5,InvalidHeader:6,NoCallback:7,InvalidUTF8:8,ExtraFieldTooLong:9,InvalidDate:10,FilenameTooLong:11,StreamFinishing:12,InvalidZipData:13,UnknownCompressionMethod:14},wu=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],$r=a(function(r,e,t){var n=new Error(e||wu[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,$r),!t)throw n;return n},"err"),Fo=a(function(r,e,t){var n=r.length;if(!n||t&&t.f&&!t.l)return e||new Xr(0);var i=!e||t,o=!t||t.i;t||(t={}),e||(e=new Xr(n*3));var s=a(function(Vo){var ao=e.length;if(Vo>ao){var Ua=new Xr(Math.max(ao*2,Vo));Ua.set(e),e=Ua}},"cbuf"),u=t.f||0,c=t.p||0,f=t.b||0,g=t.l,T=t.d,A=t.m,$=t.n,se=n*8;do{if(!g){u=Ai(r,c,1);var le=Ai(r,c+1,3);if(c+=3,le)if(le==1)g=mu,T=_u,A=9,$=5;else if(le==2){var nt=Ai(r,c,31)+257,$e=Ai(r,c+10,15)+4,ut=nt+Ai(r,c+5,31)+1;c+=14;for(var Ct=new Xr(ut),yt=new Xr(19),Ve=0;Ve<$e;++Ve)yt[Ja[Ve]]=Ai(r,c+Ve*3,7);c+=$e*3;for(var Gt=Ro(yt),gt=(1<<Gt)-1,pr=Hi(yt,Gt,1),Ve=0;Ve<ut;){var sr=pr[Ai(r,c,gt)];c+=sr&15;var xe=sr>>>4;if(xe<16)Ct[Ve++]=xe;else{var Or=0,mr=0;for(xe==16?(mr=3+Ai(r,c,3),c+=2,Or=Ct[Ve-1]):xe==17?(mr=3+Ai(r,c,7),c+=3):xe==18&&(mr=11+Ai(r,c,127),c+=7);mr--;)Ct[Ve++]=Or}}var nn=Ct.subarray(0,nt),Hr=Ct.subarray(nt);A=Ro(nn),$=Ro(Hr),g=Hi(nn,A,1),T=Hi(Hr,$,1)}else $r(1);else{var xe=eo(c)+4,Ae=r[xe-4]|r[xe-3]<<8,Oe=xe+Ae;if(Oe>n){o&&$r(0);break}i&&s(f+Ae),e.set(r.subarray(xe,Oe),f),t.b=f+=Ae,t.p=c=Oe*8,t.f=u;continue}if(c>se){o&&$r(0);break}}i&&s(f+131072);for(var en=(1<<A)-1,Rn=(1<<$)-1,Gn=c;;Gn=c){var Or=g[Io(r,c)&en],_i=Or>>>4;if(c+=Or&15,c>se){o&&$r(0);break}if(Or||$r(2),_i<256)e[f++]=_i;else if(_i==256){Gn=c,g=null;break}else{var pi=_i-254;if(_i>264){var Ve=_i-257,Li=Pa[Ve];pi=Ai(r,c,(1<<Li)-1)+Es[Ve],c+=Li}var zi=T[Io(r,c)&Rn],vi=zi>>>4;zi||$r(3),c+=zi&15;var Hr=pu[vi];if(vi>3){var Li=Oa[vi];Hr+=Io(r,c)&(1<<Li)-1,c+=Li}if(c>se){o&&$r(0);break}i&&s(f+131072);for(var ri=f+pi;f<ri;f+=4)e[f]=e[f-Hr],e[f+1]=e[f+1-Hr],e[f+2]=e[f+2-Hr],e[f+3]=e[f+3-Hr];f=ri}}t.l=g,t.p=Gn,t.b=f,t.f=u,g&&(u=1,t.m=A,t.d=T,t.n=$)}while(!u);return f==e.length?e:ca(e,0,f)},"inflt"),Wi=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8},"wbits"),Na=a(function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>>8,r[n+2]|=t>>>16},"wbits16"),Po=a(function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,o=t.slice();if(!i)return[Lo,0];if(i==1){var s=new Xr(t[0].s+1);return s[t[0].s]=1,[s,1]}t.sort(function(ut,Ct){return ut.f-Ct.f}),t.push({s:-1,f:25001});var u=t[0],c=t[1],f=0,g=1,T=2;for(t[0]={s:-1,f:u.f+c.f,l:u,r:c};g!=i-1;)u=t[t[f].f<t[T].f?f++:T++],c=t[f!=g&&t[f].f<t[T].f?f++:T++],t[g++]={s:-1,f:u.f+c.f,l:u,r:c};for(var A=o[0].s,n=1;n<i;++n)o[n].s>A&&(A=o[n].s);var $=new ei(A+1),se=Oo(t[g-1],$,0);if(se>e){var n=0,le=0,xe=se-e,Ae=1<<xe;for(o.sort(function(Ct,yt){return $[yt.s]-$[Ct.s]||Ct.f-yt.f});n<i;++n){var Oe=o[n].s;if($[Oe]>e)le+=Ae-(1<<se-$[Oe]),$[Oe]=e;else break}for(le>>>=xe;le>0;){var nt=o[n].s;$[nt]<e?le-=1<<e-$[nt]++-1:++n}for(;n>=0&&le;--n){var $e=o[n].s;$[$e]==e&&(--$[$e],++le)}se=e}return[new Xr($),se]},"hTree"),Oo=a(function(r,e,t){return r.s==-1?Math.max(Oo(r.l,e,t+1),Oo(r.r,e,t+1)):e[r.s]=t},"ln"),bs=a(function(r){for(var e=r.length;e&&!r[--e];);for(var t=new ei(++e),n=0,i=r[0],o=1,s=a(function(c){t[n++]=c},"w"),u=1;u<=e;++u)if(r[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=r[u]}return[t.subarray(0,n),e]},"lc"),La=a(function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},"clen"),No=a(function(r,e,t){var n=t.length,i=eo(e+2);r[i]=n&255,r[i+1]=n>>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var o=0;o<n;++o)r[i+o+4]=t[o];return(i+4+n)*8},"wfblk"),xs=a(function(r,e,t,n,i,o,s,u,c,f,g){Wi(e,g++,t),++i[256];for(var T=Po(i,15),A=T[0],$=T[1],se=Po(o,15),le=se[0],xe=se[1],Ae=bs(A),Oe=Ae[0],nt=Ae[1],$e=bs(le),ut=$e[0],Ct=$e[1],yt=new ei(19),Ve=0;Ve<Oe.length;++Ve)yt[Oe[Ve]&31]++;for(var Ve=0;Ve<ut.length;++Ve)yt[ut[Ve]&31]++;for(var Gt=Po(yt,7),gt=Gt[0],pr=Gt[1],sr=19;sr>4&&!gt[Ja[sr-1]];--sr);var Or=f+5<<3,mr=La(i,la)+La(o,Xa)+s,nn=La(i,A)+La(o,le)+s+14+3*sr+La(yt,gt)+(2*yt[16]+3*yt[17]+7*yt[18]);if(Or<=mr&&Or<=nn)return No(e,g,r.subarray(c,c+f));var Hr,en,Rn,Gn;if(Wi(e,g,1+(nn<mr)),g+=2,nn<mr){Hr=Hi(A,$,0),en=A,Rn=Hi(le,xe,0),Gn=le;var _i=Hi(gt,pr,0);Wi(e,g,nt-257),Wi(e,g+5,Ct-1),Wi(e,g+10,sr-4),g+=14;for(var Ve=0;Ve<sr;++Ve)Wi(e,g+3*Ve,gt[Ja[Ve]]);g+=3*sr;for(var pi=[Oe,ut],Li=0;Li<2;++Li)for(var zi=pi[Li],Ve=0;Ve<zi.length;++Ve){var vi=zi[Ve]&31;Wi(e,g,_i[vi]),g+=gt[vi],vi>15&&(Wi(e,g,zi[Ve]>>>5&127),g+=zi[Ve]>>>12)}}else Hr=vu,en=la,Rn=yu,Gn=Xa;for(var Ve=0;Ve<u;++Ve)if(n[Ve]>255){var vi=n[Ve]>>>18&31;Na(e,g,Hr[vi+257]),g+=en[vi+257],vi>7&&(Wi(e,g,n[Ve]>>>23&31),g+=Pa[vi]);var ri=n[Ve]&31;Na(e,g,Rn[ri]),g+=Gn[ri],ri>3&&(Na(e,g,n[Ve]>>>5&8191),g+=Oa[ri])}else Na(e,g,Hr[n[Ve]]),g+=en[n[Ve]];return Na(e,g,Hr[256]),g+en[256]},"wblk"),Eu=new Fa([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Lo=new Xr(0),Su=a(function(r,e,t,n,i,o){var s=r.length,u=new Xr(n+s+5*(1+Math.ceil(s/7e3))+i),c=u.subarray(n,u.length-i),f=0;if(!e||s<8)for(var g=0;g<=s;g+=65535){var T=g+65535;T>=s&&(c[f>>3]=o),f=No(c,f+1,r.subarray(g,T))}else{for(var A=Eu[e-1],$=A>>>13,se=A&8191,le=(1<<t)-1,xe=new ei(32768),Ae=new ei(le+1),Oe=Math.ceil(t/3),nt=2*Oe,$e=a(function(Us){return(r[Us]^r[Us+1]<<Oe^r[Us+2]<<nt)&le},"hsh"),ut=new Fa(25e3),Ct=new ei(288),yt=new ei(32),Ve=0,Gt=0,g=0,gt=0,pr=0,sr=0;g<s;++g){var Or=$e(g),mr=g&32767,nn=Ae[Or];if(xe[mr]=nn,Ae[Or]=mr,pr<=g){var Hr=s-g;if((Ve>7e3||gt>24576)&&Hr>423){f=xs(r,c,0,ut,Ct,yt,Gt,gt,sr,g-sr,f),gt=Ve=Gt=0,sr=g;for(var en=0;en<286;++en)Ct[en]=0;for(var en=0;en<30;++en)yt[en]=0}var Rn=2,Gn=0,_i=se,pi=mr-nn&32767;if(Hr>2&&Or==$e(g-pi))for(var Li=Math.min($,Hr)-1,zi=Math.min(32767,g),vi=Math.min(258,Hr);pi<=zi&&--_i&&mr!=nn;){if(r[g+Rn]==r[g+Rn-pi]){for(var ri=0;ri<vi&&r[g+ri]==r[g+ri-pi];++ri);if(ri>Rn){if(Rn=ri,Gn=pi,ri>Li)break;for(var Vo=Math.min(pi,ri-2),ao=0,en=0;en<Vo;++en){var Ua=g-pi+en+32768&32767,tc=xe[Ua],Vu=Ua-tc+32768&32767;Vu>ao&&(ao=Vu,nn=Ua)}}}mr=nn,nn=xe[mr],pi+=mr-nn+32768&32767}if(Gn){ut[gt++]=268435456|Ao[Rn]<<18|Ss[Gn];var Qu=Ao[Rn]&31,Ju=Ss[Gn]&31;Gt+=Pa[Qu]+Oa[Ju],++Ct[257+Qu],++yt[Ju],pr=g+Rn,++Ve}else ut[gt++]=r[g],++Ct[r[g]]}}f=xs(r,c,o,ut,Ct,yt,Gt,gt,sr,g-sr,f),!o&&f&7&&(f=No(c,f+1,Lo))}return ca(u,0,n+eo(f)+i)},"dflt"),bu=null,Mo=a(function(){var r=-1;return{p:function(e){for(var t=r,n=0;n<e.length;++n)t=bu[t&255^e[n]]^t>>>8;r=t},d:function(){return~r}}},"crc"),xu=a(function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,o=t.length|0,s=0;s!=o;){for(var u=Math.min(s+2655,o);s<u;++s)i+=n+=t[s];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|r>>>8<<16|(e&255)<<8|e>>>8}}},"adler"),ko=a(function(r,e,t,n,i){return Su(r,e.level==null?6:e.level,e.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):12+e.mem,t,n,!i)},"dopt"),Uo=a(function(r,e){var t={};for(var n in r)t[n]=r[n];for(var n in e)t[n]=e[n];return t},"mrg"),Cu=a(function(r,e,t){for(var n=r(),i=r.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<n.length;++s){var u=n[s],c=o[s];if(typeof u=="function"){e+=";"+c+"=";var f=u.toString();if(u.prototype)if(f.indexOf("[native code]")!=-1){var g=f.indexOf(" ",8)+1;e+=f.slice(g,f.indexOf("(",g))}else{e+=f;for(var T in u.prototype)e+=";"+c+".prototype."+T+"="+u.prototype[T].toString()}else e+=f}else t[c]=u}return[e,t]},"wcln"),Bo=null,Nl=a(function(r){var e=[];for(var t in r)r[t].buffer&&e.push((r[t]=new r[t].constructor(r[t])).buffer);return e},"cbfs"),Tu=a(function(r,e,t,n){var i;if(!Bo[t]){for(var o="",s={},u=r.length-1,c=0;c<u;++c)i=Cu(r[c],o,s),o=i[0],s=i[1];Bo[t]=Cu(r[u],o,s)}var f=Uo({},Bo[t][1]);return Ol(Bo[t][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",t,f,Nl(f),n)},"wrkr"),Cs=a(function(){return[Xr,ei,Fa,Pa,Oa,Ja,Es,pu,mu,_u,Za,wu,Hi,Ro,Ai,Io,eo,ca,$r,Fo,to,fa,Ds]},"bInflt"),Ts=a(function(){return[Xr,ei,Fa,Pa,Oa,Ja,Ao,Ss,vu,la,yu,Xa,Za,Eu,Lo,Hi,Wi,Na,Po,Oo,bs,La,No,xs,eo,ca,Su,ko,$o,fa]},"bDflt"),Ll=a(function(){return[Du,Iu,wn,Mo,bu]},"gze"),Ml=a(function(){return[Au,Ru]},"guze"),kl=a(function(){return[Fu,wn,xu]},"zle"),Ul=a(function(){return[Pu]},"zule"),fa=a(function(r){return postMessage(r,[r.buffer])},"pbf"),Ds=a(function(r){return r&&r.size&&new Xr(r.size)},"gu8"),Ma=a(function(r,e,t,n,i,o){var s=Tu(t,n,i,function(u,c){s.terminate(),o(u,c)});return s.postMessage([r,e],e.consume?[r.buffer]:[]),function(){s.terminate()}},"cbify"),cc=a(function(r){return r.ondata=function(e,t){return postMessage([e,t],[e.buffer])},function(e){return r.push(e.data[0],e.data[1])}},"astrm"),fc=a(function(r,e,t,n,i){var o,s=Tu(r,n,i,function(u,c){u?(s.terminate(),e.ondata.call(e,u)):(c[1]&&s.terminate(),e.ondata.call(e,u,c[0],c[1]))});s.postMessage(t),e.push=function(u,c){e.ondata||$r(5),o&&e.ondata($r(4,0,1),null,!!c),s.postMessage([u,o=c],[u.buffer])},e.terminate=function(){s.terminate()}},"astrmify"),Ni=a(function(r,e){return r[e]|r[e+1]<<8},"b2"),Kn=a(function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},"b4"),As=a(function(r,e){return Kn(r,e)+Kn(r,e+4)*4294967296},"b8"),wn=a(function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},"wbytes"),Du=a(function(r,e){var t=e.filename;if(r[0]=31,r[1]=139,r[2]=8,r[8]=e.level<2?4:e.level==9?2:0,r[9]=3,e.mtime!=0&&wn(r,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),t){r[3]=8;for(var n=0;n<=t.length;++n)r[n+10]=t.charCodeAt(n)}},"gzh"),Au=a(function(r){(r[0]!=31||r[1]!=139||r[2]!=8)&&$r(6,"invalid gzip data");var e=r[3],t=10;e&4&&(t+=r[10]|(r[11]<<8)+2);for(var n=(e>>3&1)+(e>>4&1);n>0;n-=!r[t++]);return t+(e&2)},"gzs"),Ru=a(function(r){var e=r.length;return(r[e-4]|r[e-3]<<8|r[e-2]<<16|r[e-1]<<24)>>>0},"gzl"),Iu=a(function(r){return 10+(r.filename&&r.filename.length+1||0)},"gzhl"),Fu=a(function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;r[0]=120,r[1]=n<<6|(n?32-2*n:1)},"zlh"),Pu=a(function(r){((r[0]&15)!=8||r[0]>>>4>7||(r[0]<<8|r[1])%31)&&$r(6,"invalid zlib data"),r[1]&32&&$r(6,"invalid zlib data: preset dictionaries not supported")},"zlv");function hc(r,e){return!e&&typeof r=="function"&&(e=r,r={}),this.ondata=e,r}a(hc,"AsyncCmpStrm");var dc=null,gc=null;function Bl(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Ts],function(n){return fa($o(n.data[0],n.data[1]))},0,t)}a(Bl,"deflate");function $o(r,e){return ko(r,e||{},0,0)}a($o,"deflateSync");var pc=null,vc=null;function Ou(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Cs],function(n){return fa(to(n.data[0],Ds(n.data[1])))},1,t)}a(Ou,"inflate");function to(r,e){return Fo(r,e)}a(to,"inflateSync");var mc=null,yc=null;function _c(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Ts,Ll,function(){return[Nu]}],function(n){return fa(Nu(n.data[0],n.data[1]))},2,t)}a(_c,"gzip");function Nu(r,e){e||(e={});var t=Mo(),n=r.length;t.p(r);var i=ko(r,e,Iu(e),8),o=i.length;return Du(i,e),wn(i,o-8,t.d()),wn(i,o-4,n),i}a(Nu,"gzipSync");var wc=null,Ec=null;function $l(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Cs,Ml,function(){return[Ho]}],function(n){return fa(Ho(n.data[0]))},3,t)}a($l,"gunzip");function Ho(r,e){return Fo(r.subarray(Au(r),-8),e||new Xr(Ru(r)))}a(Ho,"gunzipSync");var Sc=null,bc=null;function xc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Ts,kl,function(){return[Lu]}],function(n){return fa(Lu(n.data[0],n.data[1]))},4,t)}a(xc,"zlib");function Lu(r,e){e||(e={});var t=xu();t.p(r);var n=ko(r,e,2,4);return Fu(n,e),wn(n,n.length-4,t.d()),n}a(Lu,"zlibSync");var Cc=null,Tc=null;function Hl(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),Ma(r,e,[Cs,Ul,function(){return[Rs]}],function(n){return fa(Rs(n.data[0],Ds(n.data[1])))},5,t)}a(Hl,"unzlib");function Rs(r,e){return Fo((Pu(r),r.subarray(2,-4)),e)}a(Rs,"unzlibSync");var Dc=null,Ac=null;function Rc(r,e,t){return t||(t=e,e={}),typeof t!="function"&&$r(7),r[0]==31&&r[1]==139&&r[2]==8?$l(r,e,t):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?Ou(r,e,t):Hl(r,e,t)}a(Rc,"decompress");function Ic(r,e){return r[0]==31&&r[1]==139&&r[2]==8?Ho(r,e):(r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31?to(r,e):Rs(r,e)}a(Ic,"decompressSync");var Is=a(function(r,e,t,n){for(var i in r){var o=r[i],s=e+i,u=n;Array.isArray(o)&&(u=Uo(n,o[1]),o=o[0]),o instanceof Xr?t[s]=[o,u]:(t[s+="/"]=[new Xr(0),u],Is(o,s,t,n))}},"fltn"),Mu=typeof TextEncoder!="undefined"&&new TextEncoder,Fs=typeof TextDecoder!="undefined"&&new TextDecoder,Wl=0;try{Fs.decode(Lo,{stream:!0}),Wl=1}catch(r){}var zl=a(function(r){for(var e="",t=0;;){var n=r[t++],i=(n>127)+(n>223)+(n>239);if(t+i>r.length)return[e,ca(r,t-1)];i?i==3?(n=((n&15)<<18|(r[t++]&63)<<12|(r[t++]&63)<<6|r[t++]&63)-65536,e+=String.fromCharCode(55296|n>>10,56320|n&1023)):i&1?e+=String.fromCharCode((n&31)<<6|r[t++]&63):e+=String.fromCharCode((n&15)<<12|(r[t++]&63)<<6|r[t++]&63):e+=String.fromCharCode(n)}},"dutf8"),Fc=null,Pc=null;function Wo(r,e){if(e){for(var t=new Xr(r.length),n=0;n<r.length;++n)t[n]=r.charCodeAt(n);return t}if(Mu)return Mu.encode(r);for(var i=r.length,o=new Xr(r.length+(r.length>>1)),s=0,u=a(function(g){o[s++]=g},"w"),n=0;n<i;++n){if(s+5>o.length){var c=new Xr(s+8+(i-n<<1));c.set(o),o=c}var f=r.charCodeAt(n);f<128||e?u(f):f<2048?(u(192|f>>6),u(128|f&63)):f>55295&&f<57344?(f=65536+(f&1023<<10)|r.charCodeAt(++n)&1023,u(240|f>>18),u(128|f>>12&63),u(128|f>>6&63),u(128|f&63)):(u(224|f>>12),u(128|f>>6&63),u(128|f&63))}return ca(o,0,s)}a(Wo,"strToU8");function jl(r,e){if(e){for(var t="",n=0;n<r.length;n+=16384)t+=String.fromCharCode.apply(null,r.subarray(n,n+16384));return t}else{if(Fs)return Fs.decode(r);var i=zl(r),o=i[0],s=i[1];return s.length&&$r(8),o}}a(jl,"strFromU8");var Oc=a(function(r){return r==1?3:r<6?2:r==9?1:0},"dbf"),ku=a(function(r,e){return e+30+Ni(r,e+26)+Ni(r,e+28)},"slzh"),Uu=a(function(r,e,t){var n=Ni(r,e+28),i=jl(r.subarray(e+46,e+46+n),!(Ni(r,e+8)&2048)),o=e+46+n,s=Kn(r,e+20),u=t&&s==4294967295?Kl(r,o):[s,Kn(r,e+24),Kn(r,e+42)],c=u[0],f=u[1],g=u[2];return[Ni(r,e+10),c,f,i,o+Ni(r,e+30)+Ni(r,e+32),g]},"zh"),Kl=a(function(r,e){for(;Ni(r,e)!=1;e+=4+Ni(r,e+2));return[As(r,e+12),As(r,e+4),As(r,e+20)]},"z64e"),ro=a(function(r){var e=0;if(r)for(var t in r){var n=r[t].length;n>65535&&$r(9),e+=n+4}return e},"exfl"),zo=a(function(r,e,t,n,i,o,s,u){var c=n.length,f=t.extra,g=u&&u.length,T=ro(f);wn(r,e,s!=null?33639248:67324752),e+=4,s!=null&&(r[e++]=20,r[e++]=t.os),r[e]=20,e+=2,r[e++]=t.flag<<1|(o<0&&8),r[e++]=i&&8,r[e++]=t.compression&255,r[e++]=t.compression>>8;var A=new Date(t.mtime==null?Date.now():t.mtime),$=A.getFullYear()-1980;if(($<0||$>119)&&$r(10),wn(r,e,$<<25|A.getMonth()+1<<21|A.getDate()<<16|A.getHours()<<11|A.getMinutes()<<5|A.getSeconds()>>>1),e+=4,o!=-1&&(wn(r,e,t.crc),wn(r,e+4,o<0?-o-2:o),wn(r,e+8,t.size)),wn(r,e+12,c),wn(r,e+14,T),e+=16,s!=null&&(wn(r,e,g),wn(r,e+6,t.attrs),wn(r,e+10,s),e+=14),r.set(n,e),e+=c,T)for(var se in f){var le=f[se],xe=le.length;wn(r,e,+se),wn(r,e+2,xe),r.set(le,e+4),e+=4+xe}return g&&(r.set(u,e),e+=g),e},"wzh"),Bu=a(function(r,e,t,n,i){wn(r,e,101010256),wn(r,e+8,t),wn(r,e+10,t),wn(r,e+12,n),wn(r,e+16,i)},"wzf"),Nc=null,Lc=null,Mc=null,kc=null;function Uc(r,e,t){t||(t=e,e={}),typeof t!="function"&&$r(7);var n={};Is(r,"",n,e);var i=Object.keys(n),o=i.length,s=0,u=0,c=o,f=new Array(o),g=[],T=a(function(){for(var xe=0;xe<g.length;++xe)g[xe]()},"tAll"),A=a(function(xe,Ae){jo(function(){t(xe,Ae)})},"cbd");jo(function(){A=t});var $=a(function(){var xe=new Xr(u+22),Ae=s,Oe=u-s;u=0;for(var nt=0;nt<c;++nt){var $e=f[nt];try{var ut=$e.c.length;zo(xe,u,$e,$e.f,$e.u,ut);var Ct=30+$e.f.length+ro($e.extra),yt=u+Ct;xe.set($e.c,yt),zo(xe,s,$e,$e.f,$e.u,ut,u,$e.m),s+=16+Ct+($e.m?$e.m.length:0),u=yt+ut}catch(Ve){return A(Ve,null)}}Bu(xe,s,f.length,Oe,Ae),A(null,xe)},"cbf");o||$();for(var se=a(function(xe){var Ae=i[xe],Oe=n[Ae],nt=Oe[0],$e=Oe[1],ut=Mo(),Ct=nt.length;ut.p(nt);var yt=Wo(Ae),Ve=yt.length,Gt=$e.comment,gt=Gt&&Wo(Gt),pr=gt&&gt.length,sr=ro($e.extra),Or=$e.level==0?0:8,mr=a(function(nn,Hr){if(nn)T(),A(nn,null);else{var en=Hr.length;f[xe]=Uo($e,{size:Ct,crc:ut.d(),c:Hr,f:yt,m:gt,u:Ve!=Ae.length||gt&&Gt.length!=pr,compression:Or}),s+=30+Ve+sr+en,u+=76+2*(Ve+sr)+(pr||0)+en,--o||$()}},"cbl");if(Ve>65535&&mr($r(11,0,1),null),!Or)mr(null,nt);else if(Ct<16e4)try{mr(null,$o(nt,$e))}catch(nn){mr(nn,null)}else g.push(Bl(nt,$e,mr))},"_loop_1"),le=0;le<c;++le)se(le);return T}a(Uc,"zip");function Bc(r,e){e||(e={});var t={},n=[];Is(r,"",t,e);var i=0,o=0;for(var s in t){var u=t[s],c=u[0],f=u[1],g=f.level==0?0:8,T=Wo(s),A=T.length,$=f.comment,se=$&&Wo($),le=se&&se.length,xe=ro(f.extra);A>65535&&$r(11);var Ae=g?$o(c,f):c,Oe=Ae.length,nt=Mo();nt.p(c),n.push(Uo(f,{size:c.length,crc:nt.d(),c:Ae,f:T,m:se,u:A!=s.length||se&&$.length!=le,o:i,compression:g})),i+=30+A+xe+Oe,o+=76+2*(A+xe)+(le||0)+Oe}for(var $e=new Xr(o+22),ut=i,Ct=o-i,yt=0;yt<n.length;++yt){var T=n[yt];zo($e,T.o,T,T.f,T.u,T.c.length);var Ve=30+T.f.length+ro(T.extra);$e.set(T.c,T.o+Ve),zo($e,i,T,T.f,T.u,T.c.length,T.o,T.m),i+=16+Ve+(T.m?T.m.length:0)}return Bu($e,i,n.length,Ct,ut),$e}a(Bc,"zipSync");var $c=null,Hc=null,Wc=null,zc=null,jo=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(r){r()};function jc(r,e,t){t||(t=e,e={}),typeof t!="function"&&$r(7);var n=[],i=a(function(){for(var xe=0;xe<n.length;++xe)n[xe]()},"tAll"),o={},s=a(function(xe,Ae){jo(function(){t(xe,Ae)})},"cbd");jo(function(){s=t});for(var u=r.length-22;Kn(r,u)!=101010256;--u)if(!u||r.length-u>65558)return s($r(13,0,1),null),i;var c=Ni(r,u+8);if(c){var f=c,g=Kn(r,u+16),T=g==4294967295||f==65535;if(T){var A=Kn(r,u-12);T=Kn(r,A)==101075792,T&&(f=c=Kn(r,A+32),g=Kn(r,A+48))}for(var $=e&&e.filter,se=a(function(xe){var Ae=Uu(r,g,T),Oe=Ae[0],nt=Ae[1],$e=Ae[2],ut=Ae[3],Ct=Ae[4],yt=Ae[5],Ve=ku(r,yt);g=Ct;var Gt=a(function(pr,sr){pr?(i(),s(pr,null)):(sr&&(o[ut]=sr),--c||s(null,o))},"cbl");if(!$||$({name:ut,size:nt,originalSize:$e,compression:Oe}))if(!Oe)Gt(null,ca(r,Ve,Ve+nt));else if(Oe==8){var gt=r.subarray(Ve,Ve+nt);if(nt<32e4)try{Gt(null,to(gt,new Xr($e)))}catch(pr){Gt(pr,null)}else n.push(Ou(gt,{size:$e},Gt))}else Gt($r(14,"unknown compression type "+Oe,1),null);else Gt(null,null)},"_loop_3"),le=0;le<f;++le)se(le)}else s(null,{});return i}a(jc,"unzip");function Kc(r,e){for(var t={},n=r.length-22;Kn(r,n)!=101010256;--n)(!n||r.length-n>65558)&&$r(13);var i=Ni(r,n+8);if(!i)return{};var o=Kn(r,n+16),s=o==4294967295||i==65535;if(s){var u=Kn(r,n-12);s=Kn(r,u)==101075792,s&&(i=Kn(r,u+32),o=Kn(r,u+48))}for(var c=e&&e.filter,f=0;f<i;++f){var g=Uu(r,o,s),T=g[0],A=g[1],$=g[2],se=g[3],le=g[4],xe=g[5],Ae=ku(r,xe);o=le,(!c||c({name:se,size:A,originalSize:$,compression:T}))&&(T?T==8?t[se]=to(r.subarray(Ae,Ae+A),new Xr($)):$r(14,"unknown compression type "+T):t[se]=ca(r,Ae,Ae+A))}return t}a(Kc,"unzipSync");var no;(function(r){r.HasVirtualFolders="remoteHub:hasVirtualFolders",r.VirtualFolderProviders="remoteHub:virtualFolderProviders",r.HasRecentRepositories="remoteHub:hasRecentRepositories",r.ActiveResourceHasChanges="remoteHub:activeResourceHasChanges",r.OpenDiffOnClick="remoteHub:openDiffOnClick",r.HasSearchIndexes="gitHub:hasSearchIndexes",r.EnabledSomeSearchIndexes="gitHub:enabledSomeSearchIndexes",r.EnabledAllSearchIndexes="gitHub:enabledAllSearchIndexes",r.HasPullRequestExtension="gitHub:hasPullRequestExtension"})(no||(no={}));const $u=new Map;function Gc(r){return r==="isWeb"?isWeb:r==="remoteName"?env.remoteName:r==="virtualWorkspace"?VirtualProviderUtils.isVirtualWorkspace():r.startsWith("config.")?configuration.getAny(r.substring(7)):$u.get(r)}a(Gc,"getContext");function Yc(r){return r==="isWeb"||r==="remoteName"||r==="virtualWorkspace"||r.startsWith("config.")||r.startsWith("remoteHub:")||r.startsWith("continueOn:")}a(Yc,"isSupportedContextKey");async function Ps(r,e){$u.set(r,e),!r.startsWith("continueOn:")&&await l.commands.executeCommand("setContext",r,e)}a(Ps,"setContext");class Os{constructor(e){this.bytes=e,this.byteIndexCurrent=0}hasMoreBytes(){return this.byteIndexCurrent<this.bytes.length}readBytes(e){const t=this.byteIndexCurrent;return this.byteIndexCurrent+=e,this.bytes.slice(t,this.byteIndexCurrent)}readByte(){const e=this.bytes[this.byteIndexCurrent];return this.byteIndexCurrent++,e}readString(e){const t=[],n=this.byteIndexCurrent+e;let i=this.byteIndexCurrent;for(;i<n;){const o=this.bytes[i++];if(o===0)break;let s=0,u=0;if((o&128)==0)s=o,u=0;else if((o&224)==192)s=o&31,u=1;else if((o&240)==224)s=o&15,u=2;else if((o&248)==240)s=o&7,u=3;else throw Error(`Invalid unicode, unknown multibyte encoding header ${o.toString(2)} at offset ${i}`);for(;u>0;){const c=this.bytes[i++];if((c&192)!=128)throw Error(`Invalid unicode, unexpected multibyte encoding trailer ${c.toString(2)} at offset ${i}`);s=s<<6|c&63,u--}t.push(String.fromCodePoint(s))}return this.byteIndexCurrent=n,t.join("")}}a(Os,"ByteStream");class ti{constructor(e,t){this.value=e,this.id=`_${this.value}`,this.name=t}static Instances(){return ti._instances==null&&(ti._instances=new Hu),ti._instances}}a(ti,"TarFileTypeFlag");class Hu{constructor(){this.Normal=new ti("0","Normal"),this.HardLink=new ti("1","Hard Link"),this.SymbolicLink=new ti("2","Symbolic Link"),this.CharacterSpecial=new ti("3","Character Special"),this.BlockSpecial=new ti("4","Block Special"),this.Directory=new ti("5","Directory"),this.FIFO=new ti("6","FIFO"),this.ContiguousFile=new ti("7","Contiguous File"),this.LongFilePath=new ti("L","././@LongLink"),this._All=[this.Normal,this.HardLink,this.SymbolicLink,this.CharacterSpecial,this.BlockSpecial,this.Directory,this.FIFO,this.ContiguousFile,this.LongFilePath];for(let e=0;e<this._All.length;e++){const t=this._All[e];this._All[t.id]=t}}}a(Hu,"TarFileTypeFlag_Instances");class Ko{constructor(e,t,n,i,o,s,u,c,f,g,T,A,$,se,le,xe){this.fileName=e,this.fileMode=t,this.userIDOfOwner=n,this.userIDOfGroup=i,this.fileSizeInBytes=o,this.timeModifiedInUnixFormat=s,this.checksum=u,this.typeFlag=c,this.nameOfLinkedFile=f,this.uStarIndicator=g,this.uStarVersion=T,this.userNameOfOwner=A,this.groupNameOfOwner=$,this.deviceNumberMajor=se,this.deviceNumberMinor=le,this.filenamePrefix=xe,this.fullFileName=xe.length?xe.endsWith("/")?xe+e:`${xe}/${e}`:e}static fromBytes(e){const t=new Os(e),n=t.readString(100).trim(),i=t.readString(8),o=t.readString(8),s=t.readString(8),u=t.readString(12),c=t.readBytes(12),f=t.readString(8),g=t.readString(1),T=t.readString(100),A=t.readString(6),$=t.readString(2),se=t.readString(32),le=t.readString(32),xe=t.readString(8),Ae=t.readString(8),Oe=t.readString(155),nt=t.readBytes(12),$e=parseInt(u.trim(),8),ut=parseInt(f,8),Ct=ti.Instances()._All,yt=`_${g}`,Ve=Ct[yt];return new Ko(n,i,o,s,$e,c,ut,Ve,T,A,$,se,le,xe,Ae,Oe)}}a(Ko,"TarFileEntryHeader");const Wu=512;class Go{constructor(e,t){this.header=e,this.dataAsBytes=t}static fromBytes(e,t){const n=Wu,i=Ko.fromBytes(e),o=i.fileSizeInBytes,u=Math.ceil(o/n)*n,c=t.readBytes(u).slice(0,o);return new Go(i,c)}}a(Go,"TarFileEntry");class Yo{constructor(e){var t;this.entries=e,this.consolidateLongPathEntries();for(const n of this.entries)((t=n.header.typeFlag)==null?void 0:t.name)==="Normal"&&(n.header.fullFileName=n.header.fullFileName.replace(/^[^/]+\/?/,""));this.entryMap=new Map;for(const n of this.entries)this.entryMap.set(n.header.fullFileName,n)}static async fromBytes(e){const t=new Os(e),n=[],i=Wu;let o=0,s=0;for(;t.hasMoreBytes()==!0;){++o%1e3==0&&await new Promise(f=>setTimeout(f,10));const u=t.readBytes(i);let c=!0;for(let f=0;f<u.length;f++)if(u[f]!=0){c=!1;break}if(c==!0){if(s++,s==2)break}else{s=0;const f=Go.fromBytes(u,t);n.push(f)}}return new Yo(n)}consolidateLongPathEntries(){var e;const t=ti.Instances().LongFilePath.name,n=this.entries;for(let i=0;i<n.length;i++){const o=n[i];if(((e=o.header.typeFlag)==null?void 0:e.name)==t){const s=n[i+1];s.header.fileName=o.dataAsBytes.reduce((u,c)=>u+=String.fromCharCode(c),""),s.header.fileName=s.header.fileName.replace(/\0/g,""),n.splice(i,1),i--}}}}a(Yo,"TarFile");const Gl=a(r=>Yo.fromBytes(r),"readTar"),qo=new TextDecoder,Ns=new TextEncoder;class zu{constructor(e,t=0){this.retainFor=t;try{this.weakRef=new WeakRef(e)}catch{}this.retain(e)}retain(e){this.retainTimeout&&clearTimeout(this.retainTimeout),this.strongRef=e,this.retainTimeout=setTimeout(()=>{this.strongRef=void 0,this.retainTimeout=void 0},this.retainFor)}deref(){var e,t;const n=(t=this.strongRef)!=null?t:(e=this.weakRef)==null?void 0:e.deref();return n&&this.retain(n),n}}a(zu,"TimedRetainingRef");class ju{constructor(e,t){this.root=e,this.providerService=t,this._onDidChangeIndexingEnablement=new l.EventEmitter,this._onDidDownloadTar=new l.EventEmitter,this.ongoingDiskRequests=new Map,this.ongoingNetworkRequests=new Map,this.indexingDisabled=!1,this.usageFile=l.Uri.joinPath(this.root,"usageHistory.json"),this.indexingAllowanceFile=l.Uri.joinPath(this.root,"indexAllowances.json"),this._disposable=l.Disposable.from(...this.registerCommands()),this.updateContext()}get onDidChangeIndexingEnablement(){return this._onDidChangeIndexingEnablement.event}get onDidDownloadTar(){return this._onDidDownloadTar.event}async updateContext(){await Ps(no.HasSearchIndexes,(await this.listTars()).length>0);const e=this.providerService.repositories.map(i=>i.name),t=await this.getIndexingEnabledRepos(),n=t.has("*")||e.every(i=>t.has(i));await Ps(no.EnabledSomeSearchIndexes,t.size>0),await Ps(no.EnabledAllSearchIndexes,n)}dispose(){this._disposable.dispose()}registerCommands(){return[l.commands.registerCommand("remoteHub.configureIndexingAllowedRepos",async()=>{await this.configureIndexingAllowedRepos()}),l.commands.registerCommand("remoteHub.disableIndexingForSession",()=>(this.temporarilyDisableIndexing(),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.enableIndexing",async()=>(await this.markIndexingEnablementForRepos(!0),{triggerSearch:!0})),l.commands.registerCommand("remoteHub.deleteLocalRepositoryData",async()=>{const e=a(i=>{const o=[{power:9,name:"GB"},{power:6,name:"MB"},{power:3,name:"kB"},{power:0,name:"B"}];for(const s of o)if(i>10**s.power)return`${Math.round(i/10**s.power)} ${s.name}`;return"Unknown size"},"humanReadableSize"),t=await this.listTars();if(t.length===0){await l.window.showInformationMessage("No Repository Indexes Found");return}const n=l.window.createQuickPick();n.canSelectMany=!0,n.items=t.map(({name:i,size:o,path:s})=>({label:i,path:s,description:o?e(o):void 0})),n.show(),n.onDidAccept(async()=>{n.hide();for(const{label:i,path:o}of n.selectedItems){const s=l.workspace.fs.delete(o),u=l.window.setStatusBarMessage(`$(loading) Deleting ${i}`,s);await s,u.dispose()}this.updateContext()}),n.onDidHide(()=>n.dispose())}),l.commands.registerCommand("remoteHub.deleteAllLocalRepositoryData",()=>l.window.withProgress({location:l.ProgressLocation.Notification,title:"Deleting Repository Indexes..."},async()=>{this.lastReadKey=void 0,this.lastReadValue=void 0;try{await Promise.all([l.workspace.fs.delete(this.root,{recursive:!0})])}catch(e){ie.error(e)}finally{this.updateContext()}}))]}getTarFromMemory(e){var t;if(ie.debug(`TarPit.getTarFromMemory(key=${e})`),e===this.lastReadKey){const n=(t=this.lastReadValue)==null?void 0:t.deref();if(n)return n;ie.log("Weakref deallocated.")}}async getTarFromDisk(e){try{const t=await l.workspace.fs.readFile(e);return!t||!t.length?void 0:t}catch(t){(!(t instanceof l.FileSystemError)||t.code!==l.FileSystemError.FileNotFound.name)&&(l.window.showWarningMessage(l.l10n.t("Unexpected error reading index from disk, attempting to reload from network")),ie.error(t,"Unexpected error reading tarball from disk"));return}}async getTarFromNetwork(e,t,n){try{const i=await this.isIndexingEnabledForRepo(e);try{if(i){const o=await this.providerService.getTarGz(e,t);if(o)return o}else if(i===void 0){const o=Ne.get("indexing.maxIndexSize");if(o===null)throw new l.CancellationError;if(o){const s=await this.providerService.getTarGz(e,t,o*1024*1024);if(s)return s}}}catch(o){if(o instanceof l.CancellationError)throw await this.markIndexingEnablementForRepos(!1),o;if(o instanceof Error&&o.message==="LIMIT_HIT")await this.markIndexingEnablementForRepos(!1);else throw o}if(!n){const o={id:"configure",title:l.l10n.t("Configure Limit")},s={id:"continue",title:l.l10n.t("Continue"),isCloseAffordance:!0};l.window.showInformationMessage(l.l10n.t("Repository exceeds download size limit! Continuing with partial text services."),o,s).then(async u=>{u===o&&await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing")})}if(n){const o={id:"no",title:l.l10n.t("Use Partial Services"),isCloseAffordance:!0},s={id:"configure",title:l.l10n.t("Configure")},u={id:"repo",title:l.l10n.t("Download Full Contents")},c=Ne.get("indexing.maxIndexSize"),f=c!==null?`${c.toString()}\xA0MB`:"null";switch(await l.window.showWarningMessage(l.l10n.t("This repository exceeds the download size limit ({0}).",f),{modal:!0,detail:l.l10n.t("Continue using a partial version of text services like workspace search and global references, or ignore the limit and download this repository's full contents.",f)},o,u,s)){case u:{await this.markIndexingEnablementForRepos(!0);try{const T=await this.providerService.getTarGz(e,t);if(T)return T}catch(T){T instanceof l.CancellationError&&await this.markIndexingEnablementForRepos(!1)}break}case s:await l.commands.executeCommand("workbench.action.openSettings","remoteHub.indexing");break;case o:await this.markIndexingEnablementForRepos(!1)}}throw new l.CancellationError}finally{this.updateContext()}}async getTar(e,t,n){n===void 0&&({HEAD:{sha:n}}=await this.providerService.getMetadata(e));const i=this.getTarStorageUri(e,n),o=await this.getTarCacheKey(e,n);try{let s=this.ongoingNetworkRequests.get(o);return s===void 0&&(s=this.getTarCore(e,n,i,{blocking:t}),this.ongoingNetworkRequests.set(o,s),this.ongoingDiskRequests.set(o,s)),await s}finally{this.ongoingNetworkRequests.delete(o),this.ongoingDiskRequests.delete(o)}}async getInMemoryTar(e,t){return ie.debug(`TarPit.getInMemoryTar(rootUri=${e.toString()}, ref=${t==null?void 0:t.toString()})`),this.getTarFromMemory(await this.getTarCacheKey(e,t))}async getCachedTar(e,t){var n;const i=await this.getTarCacheKey(e,t),o=this.getTarStorageUri(e,t);try{let s=(n=this.ongoingDiskRequests.get(i))!=null?n:this.ongoingNetworkRequests.get(i);return s===void 0&&(s=this.getTarCore(e,t,o,{skipDownload:!0,blocking:!1}),this.ongoingDiskRequests.set(i,s)),await s}finally{this.ongoingDiskRequests.delete(i)}}async getTarCore(e,t,n,i){const o=this.providerService.getCanonicalUri(e),s=`${F(o,{excludeScheme:!0})}/${t}`,u=new Z(`TarPit.getTar(${s})`),c=await this.getTarCacheKey(e,t),f=Date.now();let g,T;try{if(u.logStep("Getting .tar from memory",{suffix:" \u2022 Getting .tar from memory..."}),T=this.getTarFromMemory(c),T)return g=" \u2022 Got .tar from memory",T;u.logStep("Getting .tar from disk",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from disk..."});let A=!1,$=await this.getTarFromDisk(n);if($==null?void 0:$.length)g=" \u2022 Got .tar from disk";else{if(i==null?void 0:i.skipDownload){g=" \u2022 Skipped download";return}if(await this.isIndexingEnabledForRepo(e)===!1)throw g=" \u2022 Downloading disabled",new l.CancellationError;u.logStep("Getting .tar from network",{message:": Not found \u2022",suffix:" \u2022 Getting .tar from network..."}),$=await this.getTarFromNetwork(e,t,i.blocking),A=!0,g=" \u2022 Got .tar from network",l.workspace.fs.writeFile(n,$).then(()=>ie.debug(`Sucessfully wrote tarball to disk in ${Date.now()-f}ms`),le=>ie.error(le,`Error writing tarball to disk in ${Date.now()-f}ms`))}if(!($==null?void 0:$.length))throw new Error("Internal Error: Invalid repository index. Try deleting repository data and running operation again: `GitHub Repositories: Delete Local Repository Data...`");u.logStep("Unzipping .tar",{suffix:" \u2022 Unzipping .tar..."});const se=Ho($);return T=await Gl(se),u.stop({message:"Finished getting tar"}),this.lastReadValue=new zu(T,10*(Date.now()-f)),this.lastReadKey=c,A&&setTimeout(()=>this._onDidDownloadTar.fire({rootUri:e,sha:t}),0),T}catch(A){throw g=` \u2022 Failed; ${String(A)}`,A}finally{T&&(this.markCacheEntryUsed(`${s}`).catch(A=>ie.log(`Error marking entry used: ${A}`)),this.cleanUpCache().catch(A=>ie.log(`Error cleaning cache: ${A}`))),u.stop(g?{suffix:g}:void 0)}}async getTarCacheKey(e,t){return t===void 0&&({HEAD:{sha:t}}=await this.providerService.getMetadata(e)),this.getTarStorageUri(e,t).toString()}getTarStorageUri(e,t){return l.Uri.joinPath(this.root,"tars",F(this.providerService.getCanonicalUri(e),{excludeScheme:!0}),t)}async readDir(e){try{return(await l.workspace.fs.readDirectory(e)).map(t=>l.Uri.joinPath(e,t[0]))}catch{return[]}}temporarilyDisableIndexing(){this.indexingDisabled=!0}async isIndexingEnabledForRepo(e){if(this.indexingDisabled)return!1;const t=await this.getIndexingEnabledRepos();if(t.has("*"))return!0;const{name:n}=this.providerService.getVirtualUriMetadata(e);if(!!n){if(t.has(n))return!0;if(t.has(`-${n}`))return!1}}async configureIndexingAllowedRepos(){const e=[...(await this.getIndexingEnabledRepos()).values()],t=await l.window.showQuickPick(e.map(n=>({picked:!0,label:n.startsWith("-")?`${l.l10n.t("Disallowed:")} ${n.slice(1)}`:`${l.l10n.t("Allowed:")} ${n}`})),{canPickMany:!0,title:l.l10n.t("Repository index allowance overrides")});t&&await this.writeIndexEnablementData(t.map(n=>n.label))}async getIndexingEnabledRepos(){let e;try{e=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(t){t instanceof l.FileSystemError&&t.code!==l.FileSystemError.FileNotFound().code&&ie.error(t,"Error reading index allowance data."),e=[]}return new Set(e)}async listTars(){const e=await this.readDir(l.Uri.joinPath(this.root,"tars")).catch(()=>[]),t=(await Promise.all(e.map(o=>this.readDir(o)))).flat(),n=(await Promise.all(t.map(o=>this.readDir(o)))).flat(),i=(await Promise.all(n.map(o=>this.readDir(o)))).flat();return Promise.all(i.map(async o=>({name:o.path.replace(/^.*\/tars\//,""),path:o,size:(await l.workspace.fs.stat(o)).size})))}async markIndexingEnablementForRepos(e){let t;try{t=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.indexingAllowanceFile)))}catch(o){o instanceof l.FileSystemError&&o.code!==l.FileSystemError.FileNotFound().code&&ie.error(o,"Error reading index allowance data."),t=[]}const n=e?this.providerService.repositories.map(o=>o.name):[],i=e?[]:this.providerService.repositories.map(o=>o.name);t=[...t,...n].filter(o=>o.startsWith("-")?!n.includes(o.slice(1)):!i.includes(o));for(const o of i)t.push(`-${o}`);this.indexingDisabled=!1,await this.writeIndexEnablementData(t)}async writeIndexEnablementData(e){await l.workspace.fs.writeFile(this.indexingAllowanceFile,Ns.encode(JSON.stringify(e))),await this.updateContext(),setTimeout(()=>this._onDidChangeIndexingEnablement.fire(),0)}async markCacheEntryUsed(e){let t;try{t=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.usageFile)))}catch(n){n instanceof l.FileSystemError&&n.code!==l.FileSystemError.FileNotFound().code&&ie.error(n,"Error reading usage data."),t={}}t[e]=Number(Date.now()),await l.workspace.fs.writeFile(this.usageFile,Ns.encode(JSON.stringify(t)))}async cleanUpCache(){var e,t;ie.log("Cleaning up search cache...");const n=await this.listTars();let i;try{i=JSON.parse(qo.decode(await l.workspace.fs.readFile(this.usageFile)))}catch($){$ instanceof l.FileSystemError&&$.code!==l.FileSystemError.FileNotFound().code&&ie.error($,"Error reading usage data. All existing indexes will be discarded."),i={}}const o=[];n.forEach($=>{var se;const le=/^([^/]*\/[^/]*)\//.exec($.name);if(!le)throw Error("Unexpected repo entry");const xe=le[1],Ae=(se=i[$.name])!=null?se:0;o.push({...$,lastUsed:Ae,repo:xe})}),o.sort(($,se)=>se.lastUsed-$.lastUsed);let s=0;const u=[],c=new Map,f=(e=Ne.get("indexing.cacheSizeLimit"))!=null?e:Ne.get("search.download.sizeLimit"),g=(t=Ne.get("indexing.cacheRepoLimit"))!=null?t:Ne.get("search.download.repoLimit"),T=(f!=null?f:100)*1024*1024,A=g!=null?g:4;o.forEach($=>{var se,le;($.lastUsed===0||s>T||((se=c.get($.repo))!=null?se:0)>A)&&u.push($),s+=$.size,c.set($.repo,((le=c.get($.repo))!=null?le:0)+1)}),await Promise.all(u.map(async $=>{try{await l.workspace.fs.delete($.path,{recursive:!0}),delete i[$.name],ie.log(`Deleted cache entry for ${$.name}`)}catch(se){ie.log(`Deleting cache entry for ${$.name} failed; ${String(se)}`)}})),await l.workspace.fs.writeFile(this.usageFile,Ns.encode(JSON.stringify(i))),await this.updateContext()}}a(ju,"TarPit");async function Yl(r,e,t,n,i,o,s){return Ls("provideTextSearchResults",async()=>{const u=Il(n.pattern,Boolean(n.isRegExp),{matchCase:n.isCaseSensitive,wholeWord:n.isWordMatch,multiline:n.isMultiline,global:!0});let c;try{c=await Ls("fetch tarball",()=>t.getTar(i.folder,!0,void 0))}catch(xe){if(xe instanceof l.CancellationError)throw xe;return{limitHit:!1,message:{type:l.TextSearchCompleteMessageType.Warning,trusted:!0,text:l.l10n.t("Repository index not available. [Retry with indexing disabled]({0}).","command:remoteHub.disableIndexingForSession")}}}if(s.isCancellationRequested)return{limitHit:!1};const{maxResults:f,maxFileSize:g,includes:T,excludes:A}=i,$=await ql(i.folder,r,c,e);if(s.isCancellationRequested)return{limitHit:!0};let se=f;const le=Fl($,T,A,g);return Ls("searchFiles",async()=>{var xe,Ae;let Oe=0;for(const nt of $){if(!le.has(nt.path))continue;const $e=Pl(nt.contents,nt.path,u,{beforeContext:(xe=i.beforeContext)!=null?xe:0,afterContext:(Ae=i.afterContext)!=null?Ae:0,previewOptions:i.previewOptions,remainingResultQuota:se});for(const ut of $e)o.report({...ut,uri:l.Uri.joinPath(i.folder,ut.uri.path)});if(se!==void 0&&(se-=$e.length,se<=0))return{limitHit:!0};if(Oe++,Oe%1e4==0&&(await new Promise(ut=>setTimeout(ut,0)),s.isCancellationRequested))return{limitHit:!1}}return{limitHit:!1}})})}a(Yl,"provideTextSearchResults");async function ql(r,e,t,n){const i=t.entries,o=e.getVirtualRootUri(r),s=await n.getChanges(o,{predicate:T=>T.fileType===l.FileType.File});if(s.length===0)return i.map(T=>({contents:T.dataAsBytes,path:T.header.fullFileName,size:T.dataAsBytes.byteLength}));const u=await Promise.all(Ta(s,T=>{if(T.type===z.Created)return n.getContent(T.uri).then(A=>({path:e.getRelativeFilePath(o,T.uri),size:A.length,contents:A}))})),c=await Promise.all(Ta(s,T=>{if(T.type===z.Changed)return n.getContent(T.uri).then(A=>({path:e.getRelativeFilePath(o,T.uri),size:A.length,contents:A}))})),f=new Set(Ka(Da(c,T=>T.path),Ta(s,T=>{if(T.type===z.Deleted)return e.getRelativeFilePath(o,T.uri)})));return[...Ta(i,T=>{if(!f.has(T.header.fullFileName))return{contents:T.dataAsBytes,path:T.header.fullFileName,size:T.dataAsBytes.byteLength}}),...u,...c]}a(ql,"listAllFiles");function qc(r,e){const t=Date.now(),n=e();return Logger.log(`${r} time: ${Date.now()-t}`),n}a(qc,"timeSync");async function Ls(r,e){const t=Date.now(),n=await e();return ie.log(`${r} time: ${Date.now()-t}`),n}a(Ls,"time");var Vl=Object.defineProperty,Ql=Object.getOwnPropertyDescriptor,Ms=a((r,e,t,n)=>{for(var i=n>1?void 0:n?Ql(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&Vl(e,t,i),i},"fs_decorateClass");const Jl=l.FileSystemError.FileNotFound().code,Zl=/(\/|\\)/g,Xl=/(\*|\.)/g,Ku=".vscode/.github-pull-request.rec";class ka{constructor(e,t,n,i,o){this.providerService=e,this.github=t,this.changeStore=n,this.tarPit=i,this.telemetryService=o,this._onDidChangeFile=new l.EventEmitter,this.fileSearchCache=new Map,this.pendingUriRequests=new Map,this.pendingUriRequestsEventDelay=10,this.implicitlyWatchedUris=new Map,this.watchedUris=new Map,this.disposable=l.Disposable.from(l.workspace.registerFileSystemProvider(this.scheme,this,{isCaseSensitive:!0,isReadonly:!0}),l.workspace.registerFileSearchProvider(this.scheme,this),l.workspace.registerTextSearchProvider(this.scheme,this),e.onDidChangeRepository(s=>{s.reason==="HEAD"&&this.onRefreshOrRepositoryChanged([s.repository.uri])}),e.onDidRefresh(s=>this.onRefreshOrRepositoryChanged(s)))}get onDidChangeFile(){return this._onDidChangeFile.event}get scheme(){return this.github.scheme}dispose(){var e;(e=this.disposable)==null||e.dispose()}onRefreshOrRepositoryChanged(e){if(e=e.filter(t=>B.getProviderId(t)===this.scheme).map(t=>B.getProviderUri(t)),e.length!==0){ie.log(`GitHubFS.onRefreshOrRepositoryChanged(${e.map(t=>t.toString()).join(", ")})`),this.fileSearchCache.clear();for(const[t,n]of[...this.pendingUriRequests])e.some(i=>U(n.uri,i))&&(this.pendingUriRequests.delete(t),n.outdated=!0);this.updateOpenOrWatchedUris(e)}}updateOpenOrWatchedUris(e){const t=B.getOpenUris(this.scheme,e);for(const[i,o]of[...this.watchedUris,...this.implicitlyWatchedUris])e.some(s=>U(o,s))&&(this.implicitlyWatchedUris.delete(i),t.set(i,o));ie.debug(`GitHubFS.updateOpenOrWatchedUris(${e.map(i=>i.toString()).join(", ")}): uris=${t.size}`);for(const i of e)t.set(x(i),i);const n=[...t.values()].map(i=>({type:l.FileChangeType.Changed,uri:i}));setTimeout(()=>{ie.debug(`GitHubFS.updateOpenOrWatchedUris: Firing events=${n.map(i=>i.uri.toString()).join(", ")}`),this._onDidChangeFile.fire(n)},0)}watch(e,t){const n=x(e);return this.watchedUris.set(n,e),{dispose:()=>{this.watchedUris.delete(n)}}}async stat(e){var t,n;const i=x(e);this.implicitlyWatchedUris.set(i,e);const o=this.github.getProviderRootUri(e),{hasRepoWithOwner:s}=Gu(e),u=this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e));if(u||s){const c=this.providerService.getRelativeFilePath(e),f={uri:e,outdated:!1};try{this.pendingUriRequests.set(`stat:${i}`,f);const g=await this.github.getFileTree(e),T=await g.get(c);if(T==null?void 0:T.stat){if(T.stat.type===l.FileType.File&&Ne.get("lfs.read.enabled")&&!e.path.endsWith(".gitattributes")&&Ue(await this.github.getGitAttributes(o),c)){const A=await this.github.getFileContent(e),$=Ya(A).size;T.stat.size=$!=null?$:T.stat.size}return T.stat.type===l.FileType.Directory&&!u&&(T.stat.permissions=l.FilePermission.Readonly),T.stat}if(this.implicitlyWatchedUris.delete(i),e.query==="~")return{type:l.FileType.File,size:0,ctime:0,mtime:(t=g.timestamp)!=null?t:Date.now(),permissions:l.FilePermission.Readonly};if(c===Ku){const{ref:A}=this.providerService.getVirtualUriMetadata(e);if((A==null?void 0:A.type)===ve.PullRequest)return{type:l.FileType.File,size:0,ctime:0,mtime:(n=g.timestamp)!=null?n:Date.now(),permissions:l.FilePermission.Readonly}}throw l.FileSystemError.FileNotFound(e)}finally{this.pendingUriRequests.delete(`stat:${i}`),(f==null?void 0:f.outdated)&&setTimeout(()=>{ie.log(`GitHubFS.stat(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}return{type:l.FileType.Directory,size:0,ctime:0,mtime:Date.now(),permissions:l.FilePermission.Readonly}}async readDirectory(e,t){var n;this.implicitlyWatchedUris.set(x(e),e);const{pathQuery:i,hasRepoWithOwner:o}=Gu(e);if(this.providerService.isInWorkspace(this.providerService.getVirtualRootUri(e))||o){let s;const u=this.providerService.getRelativeFilePath(e);let c;try{return s=await this.github.getFileTree(e),(await s.getChildren(u,t)).map(([g,{stat:{type:T}}])=>[g,T])}catch(f){throw c=f,u===""&&f instanceof Error&&this.telemetryService.publicLog2("fs.readRootDirectory.error",{errorName:f.name,errorMessage:f.message,errorStack:(n=f.stack)!=null?n:""}),f}finally{u===""&&(Z.stop("Time to root directory"),this.telemetryService.reportWorkbenchLoadResult({result:c===void 0?"Success":"Failure",errorMessage:(s==null?void 0:s.hasEntireTree)?"":"Unable to load entire tree",errorDetail:c}))}}else{const{results:s}=await this.github.searchRepositoriesQuery("",{user:i,owner:i});return(i.length>0?s.filter(c=>c.owner===i).map(c=>c.repo):[...new Set(s.map(c=>c.owner))]).map(c=>[c,l.FileType.Directory])}}createDirectory(e){throw l.FileSystemError.NoPermissions()}async readFile(e){const t=x(e);this.implicitlyWatchedUris.set(t,e);const n={uri:e,outdated:!1};try{this.pendingUriRequests.set(t,n);const i=await this.github.getFileContent(e);if(!Ne.get("lfs.read.enabled")||e.path.endsWith(".gitattributes"))return i;const o=this.github.getProviderRootUri(e),s=await this.github.getGitAttributes(o);return Ue(s,e.path)?this.github.getLfsContent(o,i):i}catch(i){if(this.implicitlyWatchedUris.delete(t),i instanceof l.FileSystemError&&i.code===Jl){if(e.query==="~")return new Uint8Array(0);if(this.providerService.getRelativeFilePath(e)===Ku){const{ref:s}=this.providerService.getVirtualUriMetadata(e);if((s==null?void 0:s.type)===ve.PullRequest)return new Uint8Array(0)}}throw i}finally{this.pendingUriRequests.delete(t),(n==null?void 0:n.outdated)&&setTimeout(()=>{ie.log(`GitHubFS.readFile(${e.toString()}): Repository changed; firing change event...`),this._onDidChangeFile.fire([{type:l.FileChangeType.Changed,uri:e}])},this.pendingUriRequestsEventDelay)}}writeFile(e,t,n){throw l.FileSystemError.NoPermissions()}delete(e,t){throw l.FileSystemError.NoPermissions()}rename(e,t,n){throw l.FileSystemError.NoPermissions()}copy(e,t,n){throw l.FileSystemError.NoPermissions()}async provideFileSearchResults(e,{folder:t,maxResults:n,includes:i,excludes:o},s){const u=`${x(t)}|${JSON.stringify({includes:i,excludes:o})}`;let c=this.fileSearchCache.get(u);if(c===void 0){const g=this.providerService.getRelativeFilePath(t);let T;await this.github.hasFileTree(t)&&(T=await this.github.getFileTree(t));let A;if(T===void 0||T.loading||!T.hasEntireTree?A=await this.github.getFileList(t,g):A=(await T.getChildren(g,{filter:l.FileType.File,recursive:!0})).map(([$])=>$),A.length===0||s.isCancellationRequested)return[];((i==null?void 0:i.length)||(o==null?void 0:o.length))&&(A=[...ps(A,i,o)]),c=A.map($=>gs.prepareSlow($)),this.fileSearchCache.set(u,c)}let f;return e.pattern===""?f=c.map(g=>l.Uri.joinPath(t,g.target)):(f=gs.go(e.pattern.replace(Zl,"/").replace(Xl,""),c,{allowTypo:!0,limit:n}).map(g=>l.Uri.joinPath(t,g.target)),gs.cleanup()),n!==void 0&&n!==0&&n<f.length&&(f=f.slice(0,n)),f}async provideTextSearchResults(e,t,n,i){const o=[];if(await this.tarPit.isIndexingEnabledForRepo(t.folder)!==!1)try{return await Yl(this.providerService,this.changeStore,this.tarPit,e,t,n,i)}catch(f){f instanceof l.CancellationError||o.push({text:l.l10n.t("Error searching index, falling back to GitHub search. Try [deleting this repo's data]({0}) or [deleting all local data]({1}) to rebuild the index.","command:remoteHub.deleteLocalRepositoryData","command:remoteHub.deleteAllLocalRepositoryData"),type:l.TextSearchCompleteMessageType.Warning})}e.isCaseSensitive||e.isRegExp||e.isWordMatch?o.push({text:l.l10n.t("Search flags are not supported by GitHub search. [Download full index]({0}) for full search features and exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Warning,trusted:!0}):o.push({text:l.l10n.t("Partial results shown. [Download full index]({0}) for exact text searches.","command:remoteHub.enableIndexing"),type:l.TextSearchCompleteMessageType.Information,trusted:!0});const s=await this.github.searchCodeQuery(e.pattern,t.folder,{maxResults:t.maxResults,context:{before:t.beforeContext,after:t.afterContext}});if(s.warnings&&s.warnings.forEach(f=>{o.push({text:f,trusted:!0,type:l.TextSearchCompleteMessageType.Warning})}),s===void 0)return{limitHit:!0,message:o};const u=new Set(ps(s.matches.map(f=>f.path),t.includes,t.excludes));let c;for(const f of s.matches)u.has(f.path)&&(c=l.Uri.joinPath(t.folder,f.path),n.report({uri:c,ranges:f.ranges,preview:{text:f.preview,matches:f.matches}}));return{limitHit:!1,message:o}}}a(ka,"GitHubFS"),Ms([_s()],ka.prototype,"stat",1),Ms([_s()],ka.prototype,"readDirectory",1),Ms([_s()],ka.prototype,"readFile",1);function Gu(r){let e=r.path;return e.startsWith("/")&&(e=e.slice(1)),e.endsWith("/")&&(e=e.slice(0,e.length-1)),{pathQuery:e,hasRepoWithOwner:e.includes("/")}}a(Gu,"getRepoWithOwnerFromUri");var io;(function(r){r.DoNotAlertForMissingPullRequestSourceBranch="gitHub.doNotAlertForMissingPullRequestSourceBranch"})(io||(io={}));let ks;function Yu(r){return ks.globalState.get(r)}a(Yu,"getState");async function qu(r,e){return ks.globalState.update(r,e)}a(qu,"updateState");function ec(r){return ks=r,{registerVirtualProviderService:function(e){et.configure("githubRepositories",r),ie.configure(r,"GitHub Repositories"),Z.start("Time to root directory",{log:!1});const t=xr.configure(r),n=new Ht(r);try{const i=new hn(r.globalState),o=i.with(t),s=new hi(r.globalStorageUri,t),u=new jn(o),c=new oi(e,o,s,n,t);c.getWorkspacesWithChanges();const f=new Ui(e,i,c,t,r),g=new ju(r.globalStorageUri,e),T=new Va(e,g),A=new ka(e,T,c,g,n);r.subscriptions.push(e.register("github","GitHub",T,A,i,c,u,f),T,A,new Je(T));const $=new Qs(e,g),se=new ka(e,$,c,g,n);r.subscriptions.push(e.register("github-enterprise","GitHub Enterprise",$,se,i,c,u,f),$,se,new Je($))}catch(i){throw ie.error(i),er(r,i),i}}}}a(ec,"activate")})(),module.exports=__webpack_exports__})();
